var RI=Object.defineProperty;var PI=(r,e,t)=>e in r?RI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>PI(r,typeof e!="symbol"?e+"":e,t);function AI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Sh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $m={exports:{}},Du={},Wm={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function NI(){if(oE)return je;oE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function I(W,ee,_e){this.props=W,this.context=ee,this.refs=C,this.updater=_e||E}I.prototype.isReactComponent={},I.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=I.prototype;function F(W,ee,_e){this.props=W,this.context=ee,this.refs=C,this.updater=_e||E}var j=F.prototype=new N;j.constructor=F,k(j,I.prototype),j.isPureReactComponent=!0;var H=Array.isArray,Q=Object.prototype.hasOwnProperty,ne={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function D(W,ee,_e){var Re,Oe={},Ve=null,Be=null;if(ee!=null)for(Re in ee.ref!==void 0&&(Be=ee.ref),ee.key!==void 0&&(Ve=""+ee.key),ee)Q.call(ee,Re)&&!A.hasOwnProperty(Re)&&(Oe[Re]=ee[Re]);var He=arguments.length-2;if(He===1)Oe.children=_e;else if(1<He){for(var Je=Array(He),ht=0;ht<He;ht++)Je[ht]=arguments[ht+2];Oe.children=Je}if(W&&W.defaultProps)for(Re in He=W.defaultProps,He)Oe[Re]===void 0&&(Oe[Re]=He[Re]);return{$$typeof:r,type:W,key:Ve,ref:Be,props:Oe,_owner:ne.current}}function P(W,ee){return{$$typeof:r,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function V(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(_e){return ee[_e]})}var B=/\/+/g;function M(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):ee.toString(36)}function Ee(W,ee,_e,Re,Oe){var Ve=typeof W;(Ve==="undefined"||Ve==="boolean")&&(W=null);var Be=!1;if(W===null)Be=!0;else switch(Ve){case"string":case"number":Be=!0;break;case"object":switch(W.$$typeof){case r:case e:Be=!0}}if(Be)return Be=W,Oe=Oe(Be),W=Re===""?"."+M(Be,0):Re,H(Oe)?(_e="",W!=null&&(_e=W.replace(B,"$&/")+"/"),Ee(Oe,ee,_e,"",function(ht){return ht})):Oe!=null&&(L(Oe)&&(Oe=P(Oe,_e+(!Oe.key||Be&&Be.key===Oe.key?"":(""+Oe.key).replace(B,"$&/")+"/")+W)),ee.push(Oe)),1;if(Be=0,Re=Re===""?".":Re+":",H(W))for(var He=0;He<W.length;He++){Ve=W[He];var Je=Re+M(Ve,He);Be+=Ee(Ve,ee,_e,Je,Oe)}else if(Je=_(W),typeof Je=="function")for(W=Je.call(W),He=0;!(Ve=W.next()).done;)Ve=Ve.value,Je=Re+M(Ve,He++),Be+=Ee(Ve,ee,_e,Je,Oe);else if(Ve==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Be}function xe(W,ee,_e){if(W==null)return W;var Re=[],Oe=0;return Ee(W,Re,"","",function(Ve){return ee.call(_e,Ve,Oe++)}),Re}function ce(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(_e){(W._status===0||W._status===-1)&&(W._status=1,W._result=_e)},function(_e){(W._status===0||W._status===-1)&&(W._status=2,W._result=_e)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var de={current:null},G={transition:null},fe={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:G,ReactCurrentOwner:ne};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:xe,forEach:function(W,ee,_e){xe(W,function(){ee.apply(this,arguments)},_e)},count:function(W){var ee=0;return xe(W,function(){ee++}),ee},toArray:function(W){return xe(W,function(ee){return ee})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},je.Component=I,je.Fragment=t,je.Profiler=i,je.PureComponent=F,je.StrictMode=n,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,je.act=le,je.cloneElement=function(W,ee,_e){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Re=k({},W.props),Oe=W.key,Ve=W.ref,Be=W._owner;if(ee!=null){if(ee.ref!==void 0&&(Ve=ee.ref,Be=ne.current),ee.key!==void 0&&(Oe=""+ee.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(Je in ee)Q.call(ee,Je)&&!A.hasOwnProperty(Je)&&(Re[Je]=ee[Je]===void 0&&He!==void 0?He[Je]:ee[Je])}var Je=arguments.length-2;if(Je===1)Re.children=_e;else if(1<Je){He=Array(Je);for(var ht=0;ht<Je;ht++)He[ht]=arguments[ht+2];Re.children=He}return{$$typeof:r,type:W.type,key:Oe,ref:Ve,props:Re,_owner:Be}},je.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},je.createElement=D,je.createFactory=function(W){var ee=D.bind(null,W);return ee.type=W,ee},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:c,render:W}},je.isValidElement=L,je.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:ce}},je.memo=function(W,ee){return{$$typeof:p,type:W,compare:ee===void 0?null:ee}},je.startTransition=function(W){var ee=G.transition;G.transition={};try{W()}finally{G.transition=ee}},je.unstable_act=le,je.useCallback=function(W,ee){return de.current.useCallback(W,ee)},je.useContext=function(W){return de.current.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W){return de.current.useDeferredValue(W)},je.useEffect=function(W,ee){return de.current.useEffect(W,ee)},je.useId=function(){return de.current.useId()},je.useImperativeHandle=function(W,ee,_e){return de.current.useImperativeHandle(W,ee,_e)},je.useInsertionEffect=function(W,ee){return de.current.useInsertionEffect(W,ee)},je.useLayoutEffect=function(W,ee){return de.current.useLayoutEffect(W,ee)},je.useMemo=function(W,ee){return de.current.useMemo(W,ee)},je.useReducer=function(W,ee,_e){return de.current.useReducer(W,ee,_e)},je.useRef=function(W){return de.current.useRef(W)},je.useState=function(W){return de.current.useState(W)},je.useSyncExternalStore=function(W,ee,_e){return de.current.useSyncExternalStore(W,ee,_e)},je.useTransition=function(){return de.current.useTransition()},je.version="18.3.1",je}var aE;function Ty(){return aE||(aE=1,Wm.exports=NI()),Wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function MI(){if(lE)return Du;lE=1;var r=Ty(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},_=null,E=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:E,props:y,_owner:i.current}}return Du.Fragment=t,Du.jsx=l,Du.jsxs=l,Du}var uE;function OI(){return uE||(uE=1,$m.exports=MI()),$m.exports}var S=OI(),x=Ty();const Z=Sh(x),LI=AI({__proto__:null,default:Z},[x]);var Gd={},Hm={exports:{}},Mn={},zm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function FI(){return cE||(cE=1,function(r){function e(G,fe){var le=G.length;G.push(fe);e:for(;0<le;){var W=le-1>>>1,ee=G[W];if(0<i(ee,fe))G[W]=fe,G[le]=ee,le=W;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var fe=G[0],le=G.pop();if(le!==fe){G[0]=le;e:for(var W=0,ee=G.length,_e=ee>>>1;W<_e;){var Re=2*(W+1)-1,Oe=G[Re],Ve=Re+1,Be=G[Ve];if(0>i(Oe,le))Ve<ee&&0>i(Be,Oe)?(G[W]=Be,G[Ve]=le,W=Ve):(G[W]=Oe,G[Re]=le,W=Re);else if(Ve<ee&&0>i(Be,le))G[W]=Be,G[Ve]=le,W=Ve;else break e}}return fe}function i(G,fe){var le=G.sortIndex-fe.sortIndex;return le!==0?le:G.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,_=3,E=!1,k=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var fe=t(p);fe!==null;){if(fe.callback===null)n(p);else if(fe.startTime<=G)n(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(p)}}function H(G){if(C=!1,j(G),!k)if(t(d)!==null)k=!0,ce(Q);else{var fe=t(p);fe!==null&&de(H,fe.startTime-G)}}function Q(G,fe){k=!1,C&&(C=!1,N(D),D=-1),E=!0;var le=_;try{for(j(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||G&&!V());){var W=y.callback;if(typeof W=="function"){y.callback=null,_=y.priorityLevel;var ee=W(y.expirationTime<=fe);fe=r.unstable_now(),typeof ee=="function"?y.callback=ee:y===t(d)&&n(d),j(fe)}else n(d);y=t(d)}if(y!==null)var _e=!0;else{var Re=t(p);Re!==null&&de(H,Re.startTime-fe),_e=!1}return _e}finally{y=null,_=le,E=!1}}var ne=!1,A=null,D=-1,P=5,L=-1;function V(){return!(r.unstable_now()-L<P)}function B(){if(A!==null){var G=r.unstable_now();L=G;var fe=!0;try{fe=A(!0,G)}finally{fe?M():(ne=!1,A=null)}}else ne=!1}var M;if(typeof F=="function")M=function(){F(B)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,xe=Ee.port2;Ee.port1.onmessage=B,M=function(){xe.postMessage(null)}}else M=function(){I(B,0)};function ce(G){A=G,ne||(ne=!0,M())}function de(G,fe){D=I(function(){G(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){k||E||(k=!0,ce(Q))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(G){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var le=_;_=fe;try{return G()}finally{_=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,fe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=_;_=G;try{return fe()}finally{_=le}},r.unstable_scheduleCallback=function(G,fe,le){var W=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,G={id:m++,callback:fe,priorityLevel:G,startTime:le,expirationTime:ee,sortIndex:-1},le>W?(G.sortIndex=le,e(p,G),t(d)===null&&G===t(p)&&(C?(N(D),D=-1):C=!0,de(H,le-W))):(G.sortIndex=ee,e(d,G),k||E||(k=!0,ce(Q))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var fe=_;return function(){var le=_;_=fe;try{return G.apply(this,arguments)}finally{_=le}}}}(qm)),qm}var dE;function VI(){return dE||(dE=1,zm.exports=FI()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function jI(){if(fE)return Mn;fE=1;var r=Ty(),e=VI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return d.call(y,s)?!0:d.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,u,h){if(a===null||typeof a>"u"||E(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(s,a,u,h,g,w,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=b}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new C(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,F);I[a]=new C(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,F);I[a]=new C(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,F);I[a]=new C(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,u,h){var g=I.hasOwnProperty(a)?I[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,u,g,h)&&(u=null),h||g===null?_(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),ne=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),G=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,W;function ee(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var _e=!1;function Re(s,a){if(!s||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var h=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){h=K}s.call(a.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),w=h.stack.split(`
`),b=g.length-1,O=w.length-1;1<=b&&0<=O&&g[b]!==w[O];)O--;for(;1<=b&&0<=O;b--,O--)if(g[b]!==w[O]){if(b!==1||O!==1)do if(b--,O--,0>O||g[b]!==w[O]){var U=`
`+g[b].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=b&&0<=O);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Oe(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case ne:return"Portal";case P:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return a=s.displayName||null,a!==null?a:Ve(s.type)||"Memo";case ce:a=s._payload,s=s._init;try{return Ve(s(a))}catch{}}return null}function Be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ht(s){var a=Je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){h=""+b,w.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function kn(s){s._valueTracker||(s._valueTracker=ht(s))}function jn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Je(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function xn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Cn(s,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function et(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ur(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function hr(s,a){Ur(s,a);var u=He(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ji(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ji(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function la(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ji(s,a,u){(a!=="number"||xn(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var pr=Array.isArray;function mr(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function eo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(pr(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function gi(s,a){var u=He(a.value),h=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function to(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function De(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?De(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Jn,jl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Jn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function es(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ro=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(s){ro.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),no[a]=no[s]})});function Ul(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||no.hasOwnProperty(s)&&no[s]?(""+a).trim():a+"px"}function Bl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Ul(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var $l=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(s,a){if(a){if($l[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Hl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function ua(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ca=null,Zn=null,Br=null;function da(s){if(s=pu(s)){if(typeof ca!="function")throw Error(t(280));var a=s.stateNode;a&&(a=dd(a),ca(s.stateNode,s.type,a))}}function $r(s){Zn?Br?Br.push(s):Br=[s]:Zn=s}function zl(){if(Zn){var s=Zn,a=Br;if(Br=Zn=null,da(s),a)for(s=0;s<a.length;s++)da(a[s])}}function so(s,a){return s(a)}function ql(){}var yi=!1;function Yl(s,a,u){if(yi)return s(a,u);yi=!0;try{return so(s,a,u)}finally{yi=!1,(Zn!==null||Br!==null)&&(ql(),zl())}}function It(s,a){var u=s.stateNode;if(u===null)return null;var h=dd(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var fa=!1;if(c)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){fa=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{fa=!1}function oo(s,a,u,h,g,w,b,O,U){var K=Array.prototype.slice.call(arguments,3);try{a.apply(u,K)}catch(se){this.onError(se)}}var ao=!1,ha=null,yr=!1,Kl=null,gp={onError:function(s){ao=!0,ha=s}};function pa(s,a,u,h,g,w,b,O,U){ao=!1,ha=null,oo.apply(gp,arguments)}function Lc(s,a,u,h,g,w,b,O,U){if(pa.apply(this,arguments),ao){if(ao){var K=ha;ao=!1,ha=null}else throw Error(t(198));yr||(yr=!0,Kl=K)}}function _r(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function lo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vr(s){if(_r(s)!==s)throw Error(t(188))}function Fc(s){var a=s.alternate;if(!a){if(a=_r(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return vr(g),s;if(w===h)return vr(g),a;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=w;else{for(var b=!1,O=g.child;O;){if(O===u){b=!0,u=g,h=w;break}if(O===h){b=!0,h=g,u=w;break}O=O.sibling}if(!b){for(O=w.child;O;){if(O===u){b=!0,u=w,h=g;break}if(O===h){b=!0,h=w,u=g;break}O=O.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Ql(s){return s=Fc(s),s!==null?ma(s):null}function ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ma(s);if(a!==null)return a;s=s.sibling}return null}var ga=e.unstable_scheduleCallback,Gl=e.unstable_cancelCallback,Vc=e.unstable_shouldYield,yp=e.unstable_requestPaint,ct=e.unstable_now,jc=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,ts=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,Uc=e.unstable_IdlePriority,co=null,Un=null;function Bc(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(co,s,void 0,(s.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Wc,Jl=Math.log,$c=Math.LN2;function Wc(s){return s>>>=0,s===0?32:31-(Jl(s)/$c|0)|0}var ya=64,_a=4194304;function ns(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fo(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,b=u&268435455;if(b!==0){var O=b&~g;O!==0?h=ns(O):(w&=b,w!==0&&(h=ns(w)))}else b=u&~g,b!==0?h=ns(b):w!==0&&(h=ns(w));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(h&4&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-gn(a),g=1<<u,h|=s[u],a&=~g;return h}function _p(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var b=31-gn(w),O=1<<b,U=g[b];U===-1?(!(O&u)||O&h)&&(g[b]=_p(O,a)):U<=a&&(s.expiredLanes|=O),w&=~O}}function Bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ho(){var s=ya;return ya<<=1,!(ya&4194240)&&(ya=64),s}function rs(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function is(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-gn(a),s[a]=u}function lt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-gn(u),w=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~w}}function ss(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-gn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var ze=0;function os(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Hc,va,zc,qc,Yc,Zl=!1,Wr=[],Gt=null,wr=null,Er=null,as=new Map,tr=new Map,Hr=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":as.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(a.pointerId)}}function bn(s,a,u,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},a!==null&&(a=pu(a),a!==null&&va(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function wp(s,a,u,h,g){switch(a){case"focusin":return Gt=bn(Gt,s,a,u,h,g),!0;case"dragenter":return wr=bn(wr,s,a,u,h,g),!0;case"mouseover":return Er=bn(Er,s,a,u,h,g),!0;case"pointerover":var w=g.pointerId;return as.set(w,bn(as.get(w)||null,s,a,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,tr.set(w,bn(tr.get(w)||null,s,a,u,h,g)),!0}return!1}function Qc(s){var a=_o(s.target);if(a!==null){var u=_r(a);if(u!==null){if(a=u.tag,a===13){if(a=lo(u),a!==null){s.blockedOn=a,Yc(s.priority,function(){zc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=wa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);io=h,u.target.dispatchEvent(h),io=null}else return a=pu(u),a!==null&&va(a),s.blockedOn=u,!1;a.shift()}return!0}function po(s,a,u){vi(s)&&u.delete(a)}function Gc(){Zl=!1,Gt!==null&&vi(Gt)&&(Gt=null),wr!==null&&vi(wr)&&(wr=null),Er!==null&&vi(Er)&&(Er=null),as.forEach(po),tr.forEach(po)}function Tr(s,a){s.blockedOn===a&&(s.blockedOn=null,Zl||(Zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gc)))}function Sr(s){function a(g){return Tr(g,s)}if(0<Wr.length){Tr(Wr[0],s);for(var u=1;u<Wr.length;u++){var h=Wr[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Gt!==null&&Tr(Gt,s),wr!==null&&Tr(wr,s),Er!==null&&Tr(Er,s),as.forEach(a),tr.forEach(a),u=0;u<Hr.length;u++)h=Hr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Hr.length&&(u=Hr[0],u.blockedOn===null);)Qc(u),u.blockedOn===null&&Hr.shift()}var wi=H.ReactCurrentBatchConfig,ls=!0;function _t(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=1,eu(s,a,u,h)}finally{ze=g,wi.transition=w}}function Ep(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=4,eu(s,a,u,h)}finally{ze=g,wi.transition=w}}function eu(s,a,u,h){if(ls){var g=wa(s,a,u,h);if(g===null)Ap(s,a,h,mo,u),Kc(s,h);else if(wp(g,s,a,u,h))h.stopPropagation();else if(Kc(s,h),a&4&&-1<vp.indexOf(s)){for(;g!==null;){var w=pu(g);if(w!==null&&Hc(w),w=wa(s,a,u,h),w===null&&Ap(s,a,h,mo,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Ap(s,a,h,null,u)}}var mo=null;function wa(s,a,u,h){if(mo=null,s=ua(h),s=_o(s),s!==null)if(a=_r(s),a===null)s=null;else if(u=a.tag,u===13){if(s=lo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return mo=s,null}function tu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jc()){case uo:return 1;case ts:return 4;case er:case Xl:return 16;case Uc:return 536870912;default:return 16}default:return 16}}var $n=null,Ea=null,In=null;function nu(){if(In)return In;var s,a=Ea,u=a.length,h,g="value"in $n?$n.value:$n.textContent,w=g.length;for(s=0;s<u&&a[s]===g[s];s++);var b=u-s;for(h=1;h<=b&&a[u-h]===g[w-h];h++);return In=g.slice(s,1<h?1-h:void 0)}function Ta(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function ru(){return!1}function Xt(s){function a(u,h,g,w,b){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?zr:ru,this.isPropagationStopped=ru,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Xt(kr),qr=le({},kr,{view:0,detail:0}),Tp=Xt(qr),ka,Ei,us,go=le({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==us&&(us&&s.type==="mousemove"?(ka=s.screenX-us.screenX,Ei=s.screenY-us.screenY):Ei=ka=0,us=s),ka)},movementY:function(s){return"movementY"in s?s.movementY:Ei}}),xa=Xt(go),iu=le({},go,{dataTransfer:0}),Xc=Xt(iu),Ca=le({},qr,{relatedTarget:0}),ba=Xt(Ca),Jc=le({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=Xt(Jc),Zc=le({},kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ed=Xt(Zc),td=le({},kr,{data:0}),su=Xt(td),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=nd[s])?!!a[s]:!1}function Yr(){return rd}var f=le({},qr,{key:function(s){if(s.key){var a=Ia[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Xt(f),T=le({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Xt(T),z=le({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),X=Xt(z),ue=le({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=Xt(ue),Vt=le({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Xt(Vt),Wt=[9,13,27,32],Nt=c&&"CompositionEvent"in window,nr=null;c&&"documentMode"in document&&(nr=document.documentMode);var Wn=c&&"TextEvent"in window&&!nr,yo=c&&(!Nt||nr&&8<nr&&11>=nr),Da=" ",ev=!1;function tv(s,a){switch(s){case"keyup":return Wt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ra=!1;function Ib(s,a){switch(s){case"compositionend":return nv(a);case"keypress":return a.which!==32?null:(ev=!0,Da);case"textInput":return s=a.data,s===Da&&ev?null:s;default:return null}}function Db(s,a){if(Ra)return s==="compositionend"||!Nt&&tv(s,a)?(s=nu(),In=Ea=$n=null,Ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yo&&a.locale!=="ko"?null:a.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Rb[s.type]:a==="textarea"}function iv(s,a,u,h){$r(h),a=ld(a,"onChange"),0<a.length&&(u=new Sa("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var ou=null,au=null;function Pb(s){Tv(s,0)}function id(s){var a=Oa(s);if(jn(a))return s}function Ab(s,a){if(s==="change")return a}var sv=!1;if(c){var Sp;if(c){var kp="oninput"in document;if(!kp){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),kp=typeof ov.oninput=="function"}Sp=kp}else Sp=!1;sv=Sp&&(!document.documentMode||9<document.documentMode)}function av(){ou&&(ou.detachEvent("onpropertychange",lv),au=ou=null)}function lv(s){if(s.propertyName==="value"&&id(au)){var a=[];iv(a,au,s,ua(s)),Yl(Pb,a)}}function Nb(s,a,u){s==="focusin"?(av(),ou=a,au=u,ou.attachEvent("onpropertychange",lv)):s==="focusout"&&av()}function Mb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return id(au)}function Ob(s,a){if(s==="click")return id(a)}function Lb(s,a){if(s==="input"||s==="change")return id(a)}function Fb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var xr=typeof Object.is=="function"?Object.is:Fb;function lu(s,a){if(xr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(a,g)||!xr(s[g],a[g]))return!1}return!0}function uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cv(s,a){var u=uv(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=uv(u)}}function dv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function fv(){for(var s=window,a=xn();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=xn(s.document)}return a}function xp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Vb(s){var a=fv(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&dv(u.ownerDocument.documentElement,u)){if(h!==null&&xp(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=cv(u,w);var b=cv(u,h);g&&b&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(a),s.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jb=c&&"documentMode"in document&&11>=document.documentMode,Pa=null,Cp=null,uu=null,bp=!1;function hv(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bp||Pa==null||Pa!==xn(h)||(h=Pa,"selectionStart"in h&&xp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),uu&&lu(uu,h)||(uu=h,h=ld(Cp,"onSelect"),0<h.length&&(a=new Sa("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Pa)))}function sd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Aa={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Ip={},pv={};c&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function od(s){if(Ip[s])return Ip[s];if(!Aa[s])return s;var a=Aa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in pv)return Ip[s]=a[u];return s}var mv=od("animationend"),gv=od("animationiteration"),yv=od("animationstart"),_v=od("transitionend"),vv=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(s,a){vv.set(s,a),o(a,[s])}for(var Dp=0;Dp<wv.length;Dp++){var Rp=wv[Dp],Ub=Rp.toLowerCase(),Bb=Rp[0].toUpperCase()+Rp.slice(1);cs(Ub,"on"+Bb)}cs(mv,"onAnimationEnd"),cs(gv,"onAnimationIteration"),cs(yv,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(_v,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function Ev(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,Lc(h,a,void 0,s),s.currentTarget=null}function Tv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var b=h.length-1;0<=b;b--){var O=h[b],U=O.instance,K=O.currentTarget;if(O=O.listener,U!==w&&g.isPropagationStopped())break e;Ev(g,O,K),w=U}else for(b=0;b<h.length;b++){if(O=h[b],U=O.instance,K=O.currentTarget,O=O.listener,U!==w&&g.isPropagationStopped())break e;Ev(g,O,K),w=U}}}if(yr)throw s=Kl,yr=!1,Kl=null,s}function pt(s,a){var u=a[Vp];u===void 0&&(u=a[Vp]=new Set);var h=s+"__bubble";u.has(h)||(Sv(a,s,2,!1),u.add(h))}function Pp(s,a,u){var h=0;a&&(h|=4),Sv(u,s,h,a)}var ad="_reactListening"+Math.random().toString(36).slice(2);function du(s){if(!s[ad]){s[ad]=!0,n.forEach(function(u){u!=="selectionchange"&&($b.has(u)||Pp(u,!1,s),Pp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ad]||(a[ad]=!0,Pp("selectionchange",!1,a))}}function Sv(s,a,u,h){switch(tu(a)){case 1:var g=_t;break;case 4:g=Ep;break;default:g=eu}u=g.bind(null,a,u,s),g=void 0,!fa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Ap(s,a,u,h,g){var w=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(b===4)for(b=h.return;b!==null;){var U=b.tag;if((U===3||U===4)&&(U=b.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;b=b.return}for(;O!==null;){if(b=_o(O),b===null)return;if(U=b.tag,U===5||U===6){h=w=b;continue e}O=O.parentNode}}h=h.return}Yl(function(){var K=w,se=ua(u),oe=[];e:{var ie=vv.get(s);if(ie!==void 0){var pe=Sa,Te=s;switch(s){case"keypress":if(Ta(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":Te="focus",pe=ba;break;case"focusout":Te="blur",pe=ba;break;case"beforeblur":case"afterblur":pe=ba;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case mv:case gv:case yv:pe=Ti;break;case _v:pe=rt;break;case"scroll":pe=Tp;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=R}var Se=(a&4)!==0,Dt=!Se&&s==="scroll",q=Se?ie!==null?ie+"Capture":null:ie;Se=[];for(var $=K,Y;$!==null;){Y=$;var ae=Y.stateNode;if(Y.tag===5&&ae!==null&&(Y=ae,q!==null&&(ae=It($,q),ae!=null&&Se.push(fu($,ae,Y)))),Dt)break;$=$.return}0<Se.length&&(ie=new pe(ie,Te,null,u,se),oe.push({event:ie,listeners:Se}))}}if(!(a&7)){e:{if(ie=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ie&&u!==io&&(Te=u.relatedTarget||u.fromElement)&&(_o(Te)||Te[Si]))break e;if((pe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(Te=u.relatedTarget||u.toElement,pe=K,Te=Te?_o(Te):null,Te!==null&&(Dt=_r(Te),Te!==Dt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(pe=null,Te=K),pe!==Te)){if(Se=xa,ae="onMouseLeave",q="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Se=R,ae="onPointerLeave",q="onPointerEnter",$="pointer"),Dt=pe==null?ie:Oa(pe),Y=Te==null?ie:Oa(Te),ie=new Se(ae,$+"leave",pe,u,se),ie.target=Dt,ie.relatedTarget=Y,ae=null,_o(se)===K&&(Se=new Se(q,$+"enter",Te,u,se),Se.target=Y,Se.relatedTarget=Dt,ae=Se),Dt=ae,pe&&Te)t:{for(Se=pe,q=Te,$=0,Y=Se;Y;Y=Na(Y))$++;for(Y=0,ae=q;ae;ae=Na(ae))Y++;for(;0<$-Y;)Se=Na(Se),$--;for(;0<Y-$;)q=Na(q),Y--;for(;$--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=Na(Se),q=Na(q)}Se=null}else Se=null;pe!==null&&kv(oe,ie,pe,Se,!1),Te!==null&&Dt!==null&&kv(oe,Dt,Te,Se,!0)}}e:{if(ie=K?Oa(K):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var ke=Ab;else if(rv(ie))if(sv)ke=Lb;else{ke=Mb;var be=Nb}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=Ob);if(ke&&(ke=ke(s,K))){iv(oe,ke,u,se);break e}be&&be(s,ie,K),s==="focusout"&&(be=ie._wrapperState)&&be.controlled&&ie.type==="number"&&Ji(ie,"number",ie.value)}switch(be=K?Oa(K):window,s){case"focusin":(rv(be)||be.contentEditable==="true")&&(Pa=be,Cp=K,uu=null);break;case"focusout":uu=Cp=Pa=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,hv(oe,u,se);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":hv(oe,u,se)}var Ie;if(Nt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ra?tv(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(yo&&u.locale!=="ko"&&(Ra||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ra&&(Ie=nu()):($n=se,Ea="value"in $n?$n.value:$n.textContent,Ra=!0)),be=ld(K,Ae),0<be.length&&(Ae=new su(Ae,s,null,u,se),oe.push({event:Ae,listeners:be}),Ie?Ae.data=Ie:(Ie=nv(u),Ie!==null&&(Ae.data=Ie)))),(Ie=Wn?Ib(s,u):Db(s,u))&&(K=ld(K,"onBeforeInput"),0<K.length&&(se=new su("onBeforeInput","beforeinput",null,u,se),oe.push({event:se,listeners:K}),se.data=Ie))}Tv(oe,a)})}function fu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ld(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=It(s,u),w!=null&&h.unshift(fu(s,w,g)),w=It(s,a),w!=null&&h.push(fu(s,w,g))),s=s.return}return h}function Na(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kv(s,a,u,h,g){for(var w=a._reactName,b=[];u!==null&&u!==h;){var O=u,U=O.alternate,K=O.stateNode;if(U!==null&&U===h)break;O.tag===5&&K!==null&&(O=K,g?(U=It(u,w),U!=null&&b.unshift(fu(u,U,O))):g||(U=It(u,w),U!=null&&b.push(fu(u,U,O)))),u=u.return}b.length!==0&&s.push({event:a,listeners:b})}var Wb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function xv(s){return(typeof s=="string"?s:""+s).replace(Wb,`
`).replace(Hb,"")}function ud(s,a,u){if(a=xv(a),xv(s)!==a&&u)throw Error(t(425))}function cd(){}var Np=null,Mp=null;function Op(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(s){return Cv.resolve(null).then(s).catch(Yb)}:Lp;function Yb(s){setTimeout(function(){throw s})}function Fp(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),Sr(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Sr(a)}function ds(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Ma,hu="__reactProps$"+Ma,Si="__reactContainer$"+Ma,Vp="__reactEvents$"+Ma,Kb="__reactListeners$"+Ma,Qb="__reactHandles$"+Ma;function _o(s){var a=s[Kr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Si]||u[Kr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=bv(s);s!==null;){if(u=s[Kr])return u;s=bv(s)}return a}s=u,u=s.parentNode}return null}function pu(s){return s=s[Kr]||s[Si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function dd(s){return s[hu]||null}var jp=[],La=-1;function fs(s){return{current:s}}function mt(s){0>La||(s.current=jp[La],jp[La]=null,La--)}function dt(s,a){La++,jp[La]=s.current,s.current=a}var hs={},sn=fs(hs),Dn=fs(!1),vo=hs;function Fa(s,a){var u=s.type.contextTypes;if(!u)return hs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=a[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Rn(s){return s=s.childContextTypes,s!=null}function fd(){mt(Dn),mt(sn)}function Iv(s,a,u){if(sn.current!==hs)throw Error(t(168));dt(sn,a),dt(Dn,u)}function Dv(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Be(s)||"Unknown",g));return le({},u,h)}function hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||hs,vo=sn.current,dt(sn,s),dt(Dn,Dn.current),!0}function Rv(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Dv(s,a,vo),h.__reactInternalMemoizedMergedChildContext=s,mt(Dn),mt(sn),dt(sn,s)):mt(Dn),dt(Dn,u)}var ki=null,pd=!1,Up=!1;function Pv(s){ki===null?ki=[s]:ki.push(s)}function Gb(s){pd=!0,Pv(s)}function ps(){if(!Up&&ki!==null){Up=!0;var s=0,a=ze;try{var u=ki;for(ze=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}ki=null,pd=!1}catch(g){throw ki!==null&&(ki=ki.slice(s+1)),ga(uo,ps),g}finally{ze=a,Up=!1}}return null}var Va=[],ja=0,md=null,gd=0,rr=[],ir=0,wo=null,xi=1,Ci="";function Eo(s,a){Va[ja++]=gd,Va[ja++]=md,md=s,gd=a}function Av(s,a,u){rr[ir++]=xi,rr[ir++]=Ci,rr[ir++]=wo,wo=s;var h=xi;s=Ci;var g=32-gn(h)-1;h&=~(1<<g),u+=1;var w=32-gn(a)+g;if(30<w){var b=g-g%5;w=(h&(1<<b)-1).toString(32),h>>=b,g-=b,xi=1<<32-gn(a)+g|u<<g|h,Ci=w+s}else xi=1<<w|u<<g|h,Ci=s}function Bp(s){s.return!==null&&(Eo(s,1),Av(s,1,0))}function $p(s){for(;s===md;)md=Va[--ja],Va[ja]=null,gd=Va[--ja],Va[ja]=null;for(;s===wo;)wo=rr[--ir],rr[ir]=null,Ci=rr[--ir],rr[ir]=null,xi=rr[--ir],rr[ir]=null}var Hn=null,zn=null,vt=!1,Cr=null;function Nv(s,a){var u=lr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Mv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Hn=s,zn=ds(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Hn=s,zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=wo!==null?{id:xi,overflow:Ci}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=lr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Hn=s,zn=null,!0):!1;default:return!1}}function Wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hp(s){if(vt){var a=zn;if(a){var u=a;if(!Mv(s,a)){if(Wp(s))throw Error(t(418));a=ds(u.nextSibling);var h=Hn;a&&Mv(s,a)?Nv(h,u):(s.flags=s.flags&-4097|2,vt=!1,Hn=s)}}else{if(Wp(s))throw Error(t(418));s.flags=s.flags&-4097|2,vt=!1,Hn=s}}}function Ov(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Hn=s}function yd(s){if(s!==Hn)return!1;if(!vt)return Ov(s),vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Op(s.type,s.memoizedProps)),a&&(a=zn)){if(Wp(s))throw Lv(),Error(t(418));for(;a;)Nv(s,a),a=ds(a.nextSibling)}if(Ov(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){zn=ds(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}zn=null}}else zn=Hn?ds(s.stateNode.nextSibling):null;return!0}function Lv(){for(var s=zn;s;)s=ds(s.nextSibling)}function Ua(){zn=Hn=null,vt=!1}function zp(s){Cr===null?Cr=[s]:Cr.push(s)}var Xb=H.ReactCurrentBatchConfig;function mu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(b){var O=g.refs;b===null?delete O[w]:O[w]=b},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function _d(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Fv(s){var a=s._init;return a(s._payload)}function Vv(s){function a(q,$){if(s){var Y=q.deletions;Y===null?(q.deletions=[$],q.flags|=16):Y.push($)}}function u(q,$){if(!s)return null;for(;$!==null;)a(q,$),$=$.sibling;return null}function h(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function g(q,$){return q=Ts(q,$),q.index=0,q.sibling=null,q}function w(q,$,Y){return q.index=Y,s?(Y=q.alternate,Y!==null?(Y=Y.index,Y<$?(q.flags|=2,$):Y):(q.flags|=2,$)):(q.flags|=1048576,$)}function b(q){return s&&q.alternate===null&&(q.flags|=2),q}function O(q,$,Y,ae){return $===null||$.tag!==6?($=Lm(Y,q.mode,ae),$.return=q,$):($=g($,Y),$.return=q,$)}function U(q,$,Y,ae){var ke=Y.type;return ke===A?se(q,$,Y.props.children,ae,Y.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ce&&Fv(ke)===$.type)?(ae=g($,Y.props),ae.ref=mu(q,$,Y),ae.return=q,ae):(ae=$d(Y.type,Y.key,Y.props,null,q.mode,ae),ae.ref=mu(q,$,Y),ae.return=q,ae)}function K(q,$,Y,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Fm(Y,q.mode,ae),$.return=q,$):($=g($,Y.children||[]),$.return=q,$)}function se(q,$,Y,ae,ke){return $===null||$.tag!==7?($=Do(Y,q.mode,ae,ke),$.return=q,$):($=g($,Y),$.return=q,$)}function oe(q,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Lm(""+$,q.mode,Y),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return Y=$d($.type,$.key,$.props,null,q.mode,Y),Y.ref=mu(q,null,$),Y.return=q,Y;case ne:return $=Fm($,q.mode,Y),$.return=q,$;case ce:var ae=$._init;return oe(q,ae($._payload),Y)}if(pr($)||fe($))return $=Do($,q.mode,Y,null),$.return=q,$;_d(q,$)}return null}function ie(q,$,Y,ae){var ke=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return ke!==null?null:O(q,$,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return Y.key===ke?U(q,$,Y,ae):null;case ne:return Y.key===ke?K(q,$,Y,ae):null;case ce:return ke=Y._init,ie(q,$,ke(Y._payload),ae)}if(pr(Y)||fe(Y))return ke!==null?null:se(q,$,Y,ae,null);_d(q,Y)}return null}function pe(q,$,Y,ae,ke){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return q=q.get(Y)||null,O($,q,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Q:return q=q.get(ae.key===null?Y:ae.key)||null,U($,q,ae,ke);case ne:return q=q.get(ae.key===null?Y:ae.key)||null,K($,q,ae,ke);case ce:var be=ae._init;return pe(q,$,Y,be(ae._payload),ke)}if(pr(ae)||fe(ae))return q=q.get(Y)||null,se($,q,ae,ke,null);_d($,ae)}return null}function Te(q,$,Y,ae){for(var ke=null,be=null,Ie=$,Ae=$=0,qt=null;Ie!==null&&Ae<Y.length;Ae++){Ie.index>Ae?(qt=Ie,Ie=null):qt=Ie.sibling;var Ze=ie(q,Ie,Y[Ae],ae);if(Ze===null){Ie===null&&(Ie=qt);break}s&&Ie&&Ze.alternate===null&&a(q,Ie),$=w(Ze,$,Ae),be===null?ke=Ze:be.sibling=Ze,be=Ze,Ie=qt}if(Ae===Y.length)return u(q,Ie),vt&&Eo(q,Ae),ke;if(Ie===null){for(;Ae<Y.length;Ae++)Ie=oe(q,Y[Ae],ae),Ie!==null&&($=w(Ie,$,Ae),be===null?ke=Ie:be.sibling=Ie,be=Ie);return vt&&Eo(q,Ae),ke}for(Ie=h(q,Ie);Ae<Y.length;Ae++)qt=pe(Ie,q,Ae,Y[Ae],ae),qt!==null&&(s&&qt.alternate!==null&&Ie.delete(qt.key===null?Ae:qt.key),$=w(qt,$,Ae),be===null?ke=qt:be.sibling=qt,be=qt);return s&&Ie.forEach(function(Ss){return a(q,Ss)}),vt&&Eo(q,Ae),ke}function Se(q,$,Y,ae){var ke=fe(Y);if(typeof ke!="function")throw Error(t(150));if(Y=ke.call(Y),Y==null)throw Error(t(151));for(var be=ke=null,Ie=$,Ae=$=0,qt=null,Ze=Y.next();Ie!==null&&!Ze.done;Ae++,Ze=Y.next()){Ie.index>Ae?(qt=Ie,Ie=null):qt=Ie.sibling;var Ss=ie(q,Ie,Ze.value,ae);if(Ss===null){Ie===null&&(Ie=qt);break}s&&Ie&&Ss.alternate===null&&a(q,Ie),$=w(Ss,$,Ae),be===null?ke=Ss:be.sibling=Ss,be=Ss,Ie=qt}if(Ze.done)return u(q,Ie),vt&&Eo(q,Ae),ke;if(Ie===null){for(;!Ze.done;Ae++,Ze=Y.next())Ze=oe(q,Ze.value,ae),Ze!==null&&($=w(Ze,$,Ae),be===null?ke=Ze:be.sibling=Ze,be=Ze);return vt&&Eo(q,Ae),ke}for(Ie=h(q,Ie);!Ze.done;Ae++,Ze=Y.next())Ze=pe(Ie,q,Ae,Ze.value,ae),Ze!==null&&(s&&Ze.alternate!==null&&Ie.delete(Ze.key===null?Ae:Ze.key),$=w(Ze,$,Ae),be===null?ke=Ze:be.sibling=Ze,be=Ze);return s&&Ie.forEach(function(DI){return a(q,DI)}),vt&&Eo(q,Ae),ke}function Dt(q,$,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:e:{for(var ke=Y.key,be=$;be!==null;){if(be.key===ke){if(ke=Y.type,ke===A){if(be.tag===7){u(q,be.sibling),$=g(be,Y.props.children),$.return=q,q=$;break e}}else if(be.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ce&&Fv(ke)===be.type){u(q,be.sibling),$=g(be,Y.props),$.ref=mu(q,be,Y),$.return=q,q=$;break e}u(q,be);break}else a(q,be);be=be.sibling}Y.type===A?($=Do(Y.props.children,q.mode,ae,Y.key),$.return=q,q=$):(ae=$d(Y.type,Y.key,Y.props,null,q.mode,ae),ae.ref=mu(q,$,Y),ae.return=q,q=ae)}return b(q);case ne:e:{for(be=Y.key;$!==null;){if($.key===be)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){u(q,$.sibling),$=g($,Y.children||[]),$.return=q,q=$;break e}else{u(q,$);break}else a(q,$);$=$.sibling}$=Fm(Y,q.mode,ae),$.return=q,q=$}return b(q);case ce:return be=Y._init,Dt(q,$,be(Y._payload),ae)}if(pr(Y))return Te(q,$,Y,ae);if(fe(Y))return Se(q,$,Y,ae);_d(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,$!==null&&$.tag===6?(u(q,$.sibling),$=g($,Y),$.return=q,q=$):(u(q,$),$=Lm(Y,q.mode,ae),$.return=q,q=$),b(q)):u(q,$)}return Dt}var Ba=Vv(!0),jv=Vv(!1),vd=fs(null),wd=null,$a=null,qp=null;function Yp(){qp=$a=wd=null}function Kp(s){var a=vd.current;mt(vd),s._currentValue=a}function Qp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Wa(s,a){wd=s,qp=$a=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Pn=!0),s.firstContext=null)}function sr(s){var a=s._currentValue;if(qp!==s)if(s={context:s,memoizedValue:a,next:null},$a===null){if(wd===null)throw Error(t(308));$a=s,wd.dependencies={lanes:0,firstContext:s}}else $a=$a.next=s;return a}var To=null;function Gp(s){To===null?To=[s]:To.push(s)}function Uv(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,Gp(a)):(u.next=g.next,g.next=u),a.interleaved=u,bi(s,h)}function bi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ms=!1;function Xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ii(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function gs(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Ge&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,bi(s,u)}return g=h.interleaved,g===null?(a.next=a,Gp(h)):(a.next=g.next,g.next=a),h.interleaved=a,bi(s,u)}function Ed(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ss(s,u)}}function $v(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=b:w=w.next=b,u=u.next}while(u!==null);w===null?g=w=a:w=w.next=a}else g=w=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Td(s,a,u,h){var g=s.updateQueue;ms=!1;var w=g.firstBaseUpdate,b=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var U=O,K=U.next;U.next=null,b===null?w=K:b.next=K,b=U;var se=s.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==b&&(O===null?se.firstBaseUpdate=K:O.next=K,se.lastBaseUpdate=U))}if(w!==null){var oe=g.baseState;b=0,se=K=U=null,O=w;do{var ie=O.lane,pe=O.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Te=s,Se=O;switch(ie=a,pe=u,Se.tag){case 1:if(Te=Se.payload,typeof Te=="function"){oe=Te.call(pe,oe,ie);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Se.payload,ie=typeof Te=="function"?Te.call(pe,oe,ie):Te,ie==null)break e;oe=le({},oe,ie);break e;case 2:ms=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ie=g.effects,ie===null?g.effects=[O]:ie.push(O))}else pe={eventTime:pe,lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(K=se=pe,U=oe):se=se.next=pe,b|=ie;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);if(se===null&&(U=oe),g.baseState=U,g.firstBaseUpdate=K,g.lastBaseUpdate=se,a=g.shared.interleaved,a!==null){g=a;do b|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);xo|=b,s.lanes=b,s.memoizedState=oe}}function Wv(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var gu={},Qr=fs(gu),yu=fs(gu),_u=fs(gu);function So(s){if(s===gu)throw Error(t(174));return s}function Jp(s,a){switch(dt(_u,a),dt(yu,s),dt(Qr,gu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ut(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ut(a,s)}mt(Qr),dt(Qr,a)}function Ha(){mt(Qr),mt(yu),mt(_u)}function Hv(s){So(_u.current);var a=So(Qr.current),u=ut(a,s.type);a!==u&&(dt(yu,s),dt(Qr,u))}function Zp(s){yu.current===s&&(mt(Qr),mt(yu))}var Et=fs(0);function Sd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var em=[];function tm(){for(var s=0;s<em.length;s++)em[s]._workInProgressVersionPrimary=null;em.length=0}var kd=H.ReactCurrentDispatcher,nm=H.ReactCurrentBatchConfig,ko=0,Tt=null,jt=null,Ht=null,xd=!1,vu=!1,wu=0,Jb=0;function on(){throw Error(t(321))}function rm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!xr(s[u],a[u]))return!1;return!0}function im(s,a,u,h,g,w){if(ko=w,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kd.current=s===null||s.memoizedState===null?nI:rI,s=u(h,g),vu){w=0;do{if(vu=!1,wu=0,25<=w)throw Error(t(301));w+=1,Ht=jt=null,a.updateQueue=null,kd.current=iI,s=u(h,g)}while(vu)}if(kd.current=Id,a=jt!==null&&jt.next!==null,ko=0,Ht=jt=Tt=null,xd=!1,a)throw Error(t(300));return s}function sm(){var s=wu!==0;return wu=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function or(){if(jt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=Ht===null?Tt.memoizedState:Ht.next;if(a!==null)Ht=a,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Eu(s,a){return typeof a=="function"?a(s):a}function om(s){var a=or(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=jt,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var b=g.next;g.next=w.next,w.next=b}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var O=b=null,U=null,K=w;do{var se=K.lane;if((ko&se)===se)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(O=U=oe,b=h):U=U.next=oe,Tt.lanes|=se,xo|=se}K=K.next}while(K!==null&&K!==w);U===null?b=h:U.next=O,xr(h,a.memoizedState)||(Pn=!0),a.memoizedState=h,a.baseState=b,a.baseQueue=U,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do w=g.lane,Tt.lanes|=w,xo|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function am(s){var a=or(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,w=a.memoizedState;if(g!==null){u.pending=null;var b=g=g.next;do w=s(w,b.action),b=b.next;while(b!==g);xr(w,a.memoizedState)||(Pn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function zv(){}function qv(s,a){var u=Tt,h=or(),g=a(),w=!xr(h.memoizedState,g);if(w&&(h.memoizedState=g,Pn=!0),h=h.queue,lm(Qv.bind(null,u,h,s),[s]),h.getSnapshot!==a||w||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Tu(9,Kv.bind(null,u,h,g,a),void 0,null),zt===null)throw Error(t(349));ko&30||Yv(u,a,g)}return g}function Yv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Kv(s,a,u,h){a.value=u,a.getSnapshot=h,Gv(a)&&Xv(s)}function Qv(s,a,u){return u(function(){Gv(a)&&Xv(s)})}function Gv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!xr(s,u)}catch{return!0}}function Xv(s){var a=bi(s,1);a!==null&&Rr(a,s,1,-1)}function Jv(s){var a=Gr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:s},a.queue=s,s=s.dispatch=tI.bind(null,Tt,s),[a.memoizedState,s]}function Tu(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function Zv(){return or().memoizedState}function Cd(s,a,u,h){var g=Gr();Tt.flags|=s,g.memoizedState=Tu(1|a,u,void 0,h===void 0?null:h)}function bd(s,a,u,h){var g=or();h=h===void 0?null:h;var w=void 0;if(jt!==null){var b=jt.memoizedState;if(w=b.destroy,h!==null&&rm(h,b.deps)){g.memoizedState=Tu(a,u,w,h);return}}Tt.flags|=s,g.memoizedState=Tu(1|a,u,w,h)}function ew(s,a){return Cd(8390656,8,s,a)}function lm(s,a){return bd(2048,8,s,a)}function tw(s,a){return bd(4,2,s,a)}function nw(s,a){return bd(4,4,s,a)}function rw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function iw(s,a,u){return u=u!=null?u.concat([s]):null,bd(4,4,rw.bind(null,a,s),u)}function um(){}function sw(s,a){var u=or();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&rm(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function ow(s,a){var u=or();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&rm(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function aw(s,a,u){return ko&21?(xr(u,a)||(u=ho(),Tt.lanes|=u,xo|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=u)}function Zb(s,a){var u=ze;ze=u!==0&&4>u?u:4,s(!0);var h=nm.transition;nm.transition={};try{s(!1),a()}finally{ze=u,nm.transition=h}}function lw(){return or().memoizedState}function eI(s,a,u){var h=ws(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},uw(s))cw(a,u);else if(u=Uv(s,a,u,h),u!==null){var g=vn();Rr(u,s,h,g),dw(u,a,h)}}function tI(s,a,u){var h=ws(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(uw(s))cw(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var b=a.lastRenderedState,O=w(b,u);if(g.hasEagerState=!0,g.eagerState=O,xr(O,b)){var U=a.interleaved;U===null?(g.next=g,Gp(a)):(g.next=U.next,U.next=g),a.interleaved=g;return}}catch{}finally{}u=Uv(s,a,g,h),u!==null&&(g=vn(),Rr(u,s,h,g),dw(u,a,h))}}function uw(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function cw(s,a){vu=xd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function dw(s,a,u){if(u&4194240){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ss(s,u)}}var Id={readContext:sr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},nI={readContext:sr,useCallback:function(s,a){return Gr().memoizedState=[s,a===void 0?null:a],s},useContext:sr,useEffect:ew,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Cd(4194308,4,rw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Cd(4,2,s,a)},useMemo:function(s,a){var u=Gr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=Gr();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=eI.bind(null,Tt,s),[h.memoizedState,s]},useRef:function(s){var a=Gr();return s={current:s},a.memoizedState=s},useState:Jv,useDebugValue:um,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=Jv(!1),a=s[0];return s=Zb.bind(null,s[1]),Gr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=Tt,g=Gr();if(vt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),zt===null)throw Error(t(349));ko&30||Yv(h,a,u)}g.memoizedState=u;var w={value:u,getSnapshot:a};return g.queue=w,ew(Qv.bind(null,h,w,s),[s]),h.flags|=2048,Tu(9,Kv.bind(null,h,w,u,a),void 0,null),u},useId:function(){var s=Gr(),a=zt.identifierPrefix;if(vt){var u=Ci,h=xi;u=(h&~(1<<32-gn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=wu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Jb++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},rI={readContext:sr,useCallback:sw,useContext:sr,useEffect:lm,useImperativeHandle:iw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:ow,useReducer:om,useRef:Zv,useState:function(){return om(Eu)},useDebugValue:um,useDeferredValue:function(s){var a=or();return aw(a,jt.memoizedState,s)},useTransition:function(){var s=om(Eu)[0],a=or().memoizedState;return[s,a]},useMutableSource:zv,useSyncExternalStore:qv,useId:lw,unstable_isNewReconciler:!1},iI={readContext:sr,useCallback:sw,useContext:sr,useEffect:lm,useImperativeHandle:iw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:ow,useReducer:am,useRef:Zv,useState:function(){return am(Eu)},useDebugValue:um,useDeferredValue:function(s){var a=or();return jt===null?a.memoizedState=s:aw(a,jt.memoizedState,s)},useTransition:function(){var s=am(Eu)[0],a=or().memoizedState;return[s,a]},useMutableSource:zv,useSyncExternalStore:qv,useId:lw,unstable_isNewReconciler:!1};function br(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function cm(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:le({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Dd={isMounted:function(s){return(s=s._reactInternals)?_r(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=vn(),g=ws(s),w=Ii(h,g);w.payload=a,u!=null&&(w.callback=u),a=gs(s,w,g),a!==null&&(Rr(a,s,g,h),Ed(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=vn(),g=ws(s),w=Ii(h,g);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=gs(s,w,g),a!==null&&(Rr(a,s,g,h),Ed(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=vn(),h=ws(s),g=Ii(u,h);g.tag=2,a!=null&&(g.callback=a),a=gs(s,g,h),a!==null&&(Rr(a,s,h,u),Ed(a,s,h))}};function fw(s,a,u,h,g,w,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,b):a.prototype&&a.prototype.isPureReactComponent?!lu(u,h)||!lu(g,w):!0}function hw(s,a,u){var h=!1,g=hs,w=a.contextType;return typeof w=="object"&&w!==null?w=sr(w):(g=Rn(a)?vo:sn.current,h=a.contextTypes,w=(h=h!=null)?Fa(s,g):hs),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dd,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function pw(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&Dd.enqueueReplaceState(a,a.state,null)}function dm(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Xp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=sr(w):(w=Rn(a)?vo:sn.current,g.context=Fa(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(cm(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Dd.enqueueReplaceState(g,g.state,null),Td(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function za(s,a){try{var u="",h=a;do u+=Oe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function fm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function hm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var sI=typeof WeakMap=="function"?WeakMap:Map;function mw(s,a,u){u=Ii(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){Ld||(Ld=!0,Im=h),hm(s,a)},u}function gw(s,a,u){u=Ii(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){hm(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){hm(s,a),typeof h!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),u}function yw(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new sI;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=vI.bind(null,s,a,u),a.then(s,s))}function _w(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function vw(s,a,u,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ii(-1,1),a.tag=2,gs(u,a,1))),u.lanes|=1),s)}var oI=H.ReactCurrentOwner,Pn=!1;function _n(s,a,u,h){a.child=s===null?jv(a,null,u,h):Ba(a,s.child,u,h)}function ww(s,a,u,h,g){u=u.render;var w=a.ref;return Wa(a,g),h=im(s,a,u,h,w,g),u=sm(),s!==null&&!Pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&u&&Bp(a),a.flags|=1,_n(s,a,h,g),a.child)}function Ew(s,a,u,h,g){if(s===null){var w=u.type;return typeof w=="function"&&!Om(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,Tw(s,a,w,h,g)):(s=$d(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var b=w.memoizedProps;if(u=u.compare,u=u!==null?u:lu,u(b,h)&&s.ref===a.ref)return Di(s,a,g)}return a.flags|=1,s=Ts(w,h),s.ref=a.ref,s.return=a,a.child=s}function Tw(s,a,u,h,g){if(s!==null){var w=s.memoizedProps;if(lu(w,h)&&s.ref===a.ref)if(Pn=!1,a.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Pn=!0);else return a.lanes=s.lanes,Di(s,a,g)}return pm(s,a,u,h,g)}function Sw(s,a,u){var h=a.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Ya,qn),qn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,dt(Ya,qn),qn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,dt(Ya,qn),qn|=h}else w!==null?(h=w.baseLanes|u,a.memoizedState=null):h=u,dt(Ya,qn),qn|=h;return _n(s,a,g,u),a.child}function kw(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function pm(s,a,u,h,g){var w=Rn(u)?vo:sn.current;return w=Fa(a,w),Wa(a,g),u=im(s,a,u,h,w,g),h=sm(),s!==null&&!Pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&h&&Bp(a),a.flags|=1,_n(s,a,u,g),a.child)}function xw(s,a,u,h,g){if(Rn(u)){var w=!0;hd(a)}else w=!1;if(Wa(a,g),a.stateNode===null)Pd(s,a),hw(a,u,h),dm(a,u,h,g),h=!0;else if(s===null){var b=a.stateNode,O=a.memoizedProps;b.props=O;var U=b.context,K=u.contextType;typeof K=="object"&&K!==null?K=sr(K):(K=Rn(u)?vo:sn.current,K=Fa(a,K));var se=u.getDerivedStateFromProps,oe=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function";oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==h||U!==K)&&pw(a,b,h,K),ms=!1;var ie=a.memoizedState;b.state=ie,Td(a,h,b,g),U=a.memoizedState,O!==h||ie!==U||Dn.current||ms?(typeof se=="function"&&(cm(a,u,se,h),U=a.memoizedState),(O=ms||fw(a,u,O,h,ie,U,K))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=U),b.props=h,b.state=U,b.context=K,h=O):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,Bv(s,a),O=a.memoizedProps,K=a.type===a.elementType?O:br(a.type,O),b.props=K,oe=a.pendingProps,ie=b.context,U=u.contextType,typeof U=="object"&&U!==null?U=sr(U):(U=Rn(u)?vo:sn.current,U=Fa(a,U));var pe=u.getDerivedStateFromProps;(se=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==oe||ie!==U)&&pw(a,b,h,U),ms=!1,ie=a.memoizedState,b.state=ie,Td(a,h,b,g);var Te=a.memoizedState;O!==oe||ie!==Te||Dn.current||ms?(typeof pe=="function"&&(cm(a,u,pe,h),Te=a.memoizedState),(K=ms||fw(a,u,K,h,ie,Te,U)||!1)?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Te,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Te,U)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Te),b.props=h,b.state=Te,b.context=U,h=K):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),h=!1)}return mm(s,a,u,h,w,g)}function mm(s,a,u,h,g,w){kw(s,a);var b=(a.flags&128)!==0;if(!h&&!b)return g&&Rv(a,u,!1),Di(s,a,w);h=a.stateNode,oI.current=a;var O=b&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&b?(a.child=Ba(a,s.child,null,w),a.child=Ba(a,null,O,w)):_n(s,a,O,w),a.memoizedState=h.state,g&&Rv(a,u,!0),a.child}function Cw(s){var a=s.stateNode;a.pendingContext?Iv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Iv(s,a.context,!1),Jp(s,a.containerInfo)}function bw(s,a,u,h,g){return Ua(),zp(g),a.flags|=256,_n(s,a,u,h),a.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(s){return{baseLanes:s,cachePool:null,transitions:null}}function Iw(s,a,u){var h=a.pendingProps,g=Et.current,w=!1,b=(a.flags&128)!==0,O;if((O=b)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),dt(Et,g&1),s===null)return Hp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(b=h.children,s=h.fallback,w?(h=a.mode,w=a.child,b={mode:"hidden",children:b},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Wd(b,h,0,null),s=Do(s,h,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=ym(u),a.memoizedState=gm,s):_m(a,b));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return aI(s,a,b,h,O,g,u);if(w){w=h.fallback,b=a.mode,g=s.child,O=g.sibling;var U={mode:"hidden",children:h.children};return!(b&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=U,a.deletions=null):(h=Ts(g,U),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=Ts(O,w):(w=Do(w,b,u,null),w.flags|=2),w.return=a,h.return=a,h.sibling=w,a.child=h,h=w,w=a.child,b=s.child.memoizedState,b=b===null?ym(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=s.childLanes&~u,a.memoizedState=gm,h}return w=s.child,s=w.sibling,h=Ts(w,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function _m(s,a){return a=Wd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Rd(s,a,u,h){return h!==null&&zp(h),Ba(a,s.child,null,u),s=_m(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function aI(s,a,u,h,g,w,b){if(u)return a.flags&256?(a.flags&=-257,h=fm(Error(t(422))),Rd(s,a,b,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=h.fallback,g=a.mode,h=Wd({mode:"visible",children:h.children},g,0,null),w=Do(w,g,b,null),w.flags|=2,h.return=a,w.return=a,h.sibling=w,a.child=h,a.mode&1&&Ba(a,s.child,null,b),a.child.memoizedState=ym(b),a.memoizedState=gm,w);if(!(a.mode&1))return Rd(s,a,b,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,w=Error(t(419)),h=fm(w,h,void 0),Rd(s,a,b,h)}if(O=(b&s.childLanes)!==0,Pn||O){if(h=zt,h!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|b)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,bi(s,g),Rr(h,s,g,-1))}return Mm(),h=fm(Error(t(421))),Rd(s,a,b,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=wI.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,zn=ds(g.nextSibling),Hn=a,vt=!0,Cr=null,s!==null&&(rr[ir++]=xi,rr[ir++]=Ci,rr[ir++]=wo,xi=s.id,Ci=s.overflow,wo=a),a=_m(a,h.children),a.flags|=4096,a)}function Dw(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Qp(s.return,a,u)}function vm(s,a,u,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function Rw(s,a,u){var h=a.pendingProps,g=h.revealOrder,w=h.tail;if(_n(s,a,h.children,u),h=Et.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dw(s,u,a);else if(s.tag===19)Dw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(dt(Et,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Sd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),vm(a,!1,g,u,w);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Sd(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}vm(a,!0,u,null,w);break;case"together":vm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pd(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Di(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),xo|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Ts(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ts(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function lI(s,a,u){switch(a.tag){case 3:Cw(a),Ua();break;case 5:Hv(a);break;case 1:Rn(a.type)&&hd(a);break;case 4:Jp(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;dt(vd,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(dt(Et,Et.current&1),a.flags|=128,null):u&a.child.childLanes?Iw(s,a,u):(dt(Et,Et.current&1),s=Di(s,a,u),s!==null?s.sibling:null);dt(Et,Et.current&1);break;case 19:if(h=(u&a.childLanes)!==0,s.flags&128){if(h)return Rw(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),dt(Et,Et.current),h)break;return null;case 22:case 23:return a.lanes=0,Sw(s,a,u)}return Di(s,a,u)}var Pw,wm,Aw,Nw;Pw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wm=function(){},Aw=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,So(Qr.current);var w=null;switch(u){case"input":g=Cn(s,g),h=Cn(s,h),w=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),w=[];break;case"textarea":g=eo(s,g),h=eo(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=cd)}Wl(u,h);var b;u=null;for(K in g)if(!h.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var O=g[K];for(b in O)O.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in h){var U=h[K];if(O=g!=null?g[K]:void 0,h.hasOwnProperty(K)&&U!==O&&(U!=null||O!=null))if(K==="style")if(O){for(b in O)!O.hasOwnProperty(b)||U&&U.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in U)U.hasOwnProperty(b)&&O[b]!==U[b]&&(u||(u={}),u[b]=U[b])}else u||(w||(w=[]),w.push(K,u)),u=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,O=O?O.__html:void 0,U!=null&&O!==U&&(w=w||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&pt("scroll",s),w||O===U||(w=[])):(w=w||[]).push(K,U))}u&&(w=w||[]).push("style",u);var K=w;(a.updateQueue=K)&&(a.flags|=4)}},Nw=function(s,a,u,h){u!==h&&(a.flags|=4)};function Su(s,a){if(!vt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function uI(s,a,u){var h=a.pendingProps;switch($p(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Rn(a.type)&&fd(),an(a),null;case 3:return h=a.stateNode,Ha(),mt(Dn),mt(sn),tm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(yd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Cr!==null&&(Pm(Cr),Cr=null))),wm(s,a),an(a),null;case 5:Zp(a);var g=So(_u.current);if(u=a.type,s!==null&&a.stateNode!=null)Aw(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return an(a),null}if(s=So(Qr.current),yd(a)){h=a.stateNode,u=a.type;var w=a.memoizedProps;switch(h[Kr]=a,h[hu]=w,s=(a.mode&1)!==0,u){case"dialog":pt("cancel",h),pt("close",h);break;case"iframe":case"object":case"embed":pt("load",h);break;case"video":case"audio":for(g=0;g<cu.length;g++)pt(cu[g],h);break;case"source":pt("error",h);break;case"img":case"image":case"link":pt("error",h),pt("load",h);break;case"details":pt("toggle",h);break;case"input":et(h,w),pt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},pt("invalid",h);break;case"textarea":Zi(h,w),pt("invalid",h)}Wl(u,w),g=null;for(var b in w)if(w.hasOwnProperty(b)){var O=w[b];b==="children"?typeof O=="string"?h.textContent!==O&&(w.suppressHydrationWarning!==!0&&ud(h.textContent,O,s),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&ud(h.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(b)&&O!=null&&b==="onScroll"&&pt("scroll",h)}switch(u){case"input":kn(h),la(h,w,!0);break;case"textarea":kn(h),to(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=cd)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=De(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=b.createElement(u,{is:h.is}):(s=b.createElement(u),u==="select"&&(b=s,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):s=b.createElementNS(s,u),s[Kr]=a,s[hu]=h,Pw(s,a,!1,!1),a.stateNode=s;e:{switch(b=Hl(u,h),u){case"dialog":pt("cancel",s),pt("close",s),g=h;break;case"iframe":case"object":case"embed":pt("load",s),g=h;break;case"video":case"audio":for(g=0;g<cu.length;g++)pt(cu[g],s);g=h;break;case"source":pt("error",s),g=h;break;case"img":case"image":case"link":pt("error",s),pt("load",s),g=h;break;case"details":pt("toggle",s),g=h;break;case"input":et(s,h),g=Cn(s,h),pt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),pt("invalid",s);break;case"textarea":Zi(s,h),g=eo(s,h),pt("invalid",s);break;default:g=h}Wl(u,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var U=O[w];w==="style"?Bl(s,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&jl(s,U)):w==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&es(s,U):typeof U=="number"&&es(s,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?U!=null&&w==="onScroll"&&pt("scroll",s):U!=null&&j(s,w,U,b))}switch(u){case"input":kn(s),la(s,h,!1);break;case"textarea":kn(s),to(s);break;case"option":h.value!=null&&s.setAttribute("value",""+He(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?mr(s,!!h.multiple,w,!1):h.defaultValue!=null&&mr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=cd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)Nw(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=So(_u.current),So(Qr.current),yd(a)){if(h=a.stateNode,u=a.memoizedProps,h[Kr]=a,(w=h.nodeValue!==u)&&(s=Hn,s!==null))switch(s.tag){case 3:ud(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ud(h.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Kr]=a,a.stateNode=h}return an(a),null;case 13:if(mt(Et),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(vt&&zn!==null&&a.mode&1&&!(a.flags&128))Lv(),Ua(),a.flags|=98560,w=!1;else if(w=yd(a),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Kr]=a}else Ua(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;an(a),w=!1}else Cr!==null&&(Pm(Cr),Cr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(s===null||Et.current&1?Ut===0&&(Ut=3):Mm())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Ha(),wm(s,a),s===null&&du(a.stateNode.containerInfo),an(a),null;case 10:return Kp(a.type._context),an(a),null;case 17:return Rn(a.type)&&fd(),an(a),null;case 19:if(mt(Et),w=a.memoizedState,w===null)return an(a),null;if(h=(a.flags&128)!==0,b=w.rendering,b===null)if(h)Su(w,!1);else{if(Ut!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(b=Sd(s),b!==null){for(a.flags|=128,Su(w,!1),h=b.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)w=u,s=h,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,s=b.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return dt(Et,Et.current&1|2),a.child}s=s.sibling}w.tail!==null&&ct()>Ka&&(a.flags|=128,h=!0,Su(w,!1),a.lanes=4194304)}else{if(!h)if(s=Sd(b),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Su(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!vt)return an(a),null}else 2*ct()-w.renderingStartTime>Ka&&u!==1073741824&&(a.flags|=128,h=!0,Su(w,!1),a.lanes=4194304);w.isBackwards?(b.sibling=a.child,a.child=b):(u=w.last,u!==null?u.sibling=b:a.child=b,w.last=b)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ct(),a.sibling=null,u=Et.current,dt(Et,h?u&1|2:u&1),a):(an(a),null);case 22:case 23:return Nm(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?qn&1073741824&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function cI(s,a){switch($p(a),a.tag){case 1:return Rn(a.type)&&fd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ha(),mt(Dn),mt(sn),tm(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Zp(a),null;case 13:if(mt(Et),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ua()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return mt(Et),null;case 4:return Ha(),null;case 10:return Kp(a.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Ad=!1,ln=!1,dI=typeof WeakSet=="function"?WeakSet:Set,ve=null;function qa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){xt(s,a,h)}else u.current=null}function Em(s,a,u){try{u()}catch(h){xt(s,a,h)}}var Mw=!1;function fI(s,a){if(Np=ls,s=fv(),xp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var b=0,O=-1,U=-1,K=0,se=0,oe=s,ie=null;t:for(;;){for(var pe;oe!==u||g!==0&&oe.nodeType!==3||(O=b+g),oe!==w||h!==0&&oe.nodeType!==3||(U=b+h),oe.nodeType===3&&(b+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)ie=oe,oe=pe;for(;;){if(oe===s)break t;if(ie===u&&++K===g&&(O=b),ie===w&&++se===h&&(U=b),(pe=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=pe}u=O===-1||U===-1?null:{start:O,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mp={focusedElem:s,selectionRange:u},ls=!1,ve=a;ve!==null;)if(a=ve,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ve=s;else for(;ve!==null;){a=ve;try{var Te=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Se=Te.memoizedProps,Dt=Te.memoizedState,q=a.stateNode,$=q.getSnapshotBeforeUpdate(a.elementType===a.type?Se:br(a.type,Se),Dt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){xt(a,a.return,ae)}if(s=a.sibling,s!==null){s.return=a.return,ve=s;break}ve=a.return}return Te=Mw,Mw=!1,Te}function ku(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Em(a,u,w)}g=g.next}while(g!==h)}}function Nd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function Tm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Ow(s){var a=s.alternate;a!==null&&(s.alternate=null,Ow(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Kr],delete a[hu],delete a[Vp],delete a[Kb],delete a[Qb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Lw(s){return s.tag===5||s.tag===3||s.tag===4}function Fw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Lw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=cd));else if(h!==4&&(s=s.child,s!==null))for(Sm(s,a,u),s=s.sibling;s!==null;)Sm(s,a,u),s=s.sibling}function km(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(km(s,a,u),s=s.sibling;s!==null;)km(s,a,u),s=s.sibling}var Jt=null,Ir=!1;function ys(s,a,u){for(u=u.child;u!==null;)Vw(s,a,u),u=u.sibling}function Vw(s,a,u){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(co,u)}catch{}switch(u.tag){case 5:ln||qa(u,a);case 6:var h=Jt,g=Ir;Jt=null,ys(s,a,u),Jt=h,Ir=g,Jt!==null&&(Ir?(s=Jt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Jt.removeChild(u.stateNode));break;case 18:Jt!==null&&(Ir?(s=Jt,u=u.stateNode,s.nodeType===8?Fp(s.parentNode,u):s.nodeType===1&&Fp(s,u),Sr(s)):Fp(Jt,u.stateNode));break;case 4:h=Jt,g=Ir,Jt=u.stateNode.containerInfo,Ir=!0,ys(s,a,u),Jt=h,Ir=g;break;case 0:case 11:case 14:case 15:if(!ln&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,b=w.destroy;w=w.tag,b!==void 0&&(w&2||w&4)&&Em(u,a,b),g=g.next}while(g!==h)}ys(s,a,u);break;case 1:if(!ln&&(qa(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){xt(u,a,O)}ys(s,a,u);break;case 21:ys(s,a,u);break;case 22:u.mode&1?(ln=(h=ln)||u.memoizedState!==null,ys(s,a,u),ln=h):ys(s,a,u);break;default:ys(s,a,u)}}function jw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new dI),a.forEach(function(h){var g=EI.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Dr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=s,b=a,O=b;e:for(;O!==null;){switch(O.tag){case 5:Jt=O.stateNode,Ir=!1;break e;case 3:Jt=O.stateNode.containerInfo,Ir=!0;break e;case 4:Jt=O.stateNode.containerInfo,Ir=!0;break e}O=O.return}if(Jt===null)throw Error(t(160));Vw(w,b,g),Jt=null,Ir=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(K){xt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Uw(a,s),a=a.sibling}function Uw(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(a,s),Xr(s),h&4){try{ku(3,s,s.return),Nd(3,s)}catch(Se){xt(s,s.return,Se)}try{ku(5,s,s.return)}catch(Se){xt(s,s.return,Se)}}break;case 1:Dr(a,s),Xr(s),h&512&&u!==null&&qa(u,u.return);break;case 5:if(Dr(a,s),Xr(s),h&512&&u!==null&&qa(u,u.return),s.flags&32){var g=s.stateNode;try{es(g,"")}catch(Se){xt(s,s.return,Se)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,b=u!==null?u.memoizedProps:w,O=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&Ur(g,w),Hl(O,b);var K=Hl(O,w);for(b=0;b<U.length;b+=2){var se=U[b],oe=U[b+1];se==="style"?Bl(g,oe):se==="dangerouslySetInnerHTML"?jl(g,oe):se==="children"?es(g,oe):j(g,se,oe,K)}switch(O){case"input":hr(g,w);break;case"textarea":gi(g,w);break;case"select":var ie=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?mr(g,!!w.multiple,pe,!1):ie!==!!w.multiple&&(w.defaultValue!=null?mr(g,!!w.multiple,w.defaultValue,!0):mr(g,!!w.multiple,w.multiple?[]:"",!1))}g[hu]=w}catch(Se){xt(s,s.return,Se)}}break;case 6:if(Dr(a,s),Xr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Se){xt(s,s.return,Se)}}break;case 3:if(Dr(a,s),Xr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Sr(a.containerInfo)}catch(Se){xt(s,s.return,Se)}break;case 4:Dr(a,s),Xr(s);break;case 13:Dr(a,s),Xr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(bm=ct())),h&4&&jw(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(ln=(K=ln)||se,Dr(a,s),ln=K):Dr(a,s),Xr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!se&&s.mode&1)for(ve=s,se=s.child;se!==null;){for(oe=ve=se;ve!==null;){switch(ie=ve,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:ku(4,ie,ie.return);break;case 1:qa(ie,ie.return);var Te=ie.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ie,u=ie.return;try{a=h,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Se){xt(h,u,Se)}}break;case 5:qa(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Ww(oe);continue}}pe!==null?(pe.return=ie,ve=pe):Ww(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{g=oe.stateNode,K?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=oe.stateNode,U=oe.memoizedProps.style,b=U!=null&&U.hasOwnProperty("display")?U.display:null,O.style.display=Ul("display",b))}catch(Se){xt(s,s.return,Se)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(Se){xt(s,s.return,Se)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Dr(a,s),Xr(s),h&4&&jw(s);break;case 21:break;default:Dr(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Lw(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(es(g,""),h.flags&=-33);var w=Fw(s);km(s,w,g);break;case 3:case 4:var b=h.stateNode.containerInfo,O=Fw(s);Sm(s,O,b);break;default:throw Error(t(161))}}catch(U){xt(s,s.return,U)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hI(s,a,u){ve=s,Bw(s)}function Bw(s,a,u){for(var h=(s.mode&1)!==0;ve!==null;){var g=ve,w=g.child;if(g.tag===22&&h){var b=g.memoizedState!==null||Ad;if(!b){var O=g.alternate,U=O!==null&&O.memoizedState!==null||ln;O=Ad;var K=ln;if(Ad=b,(ln=U)&&!K)for(ve=g;ve!==null;)b=ve,U=b.child,b.tag===22&&b.memoizedState!==null?Hw(g):U!==null?(U.return=b,ve=U):Hw(g);for(;w!==null;)ve=w,Bw(w),w=w.sibling;ve=g,Ad=O,ln=K}$w(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ve=w):$w(s)}}function $w(s){for(;ve!==null;){var a=ve;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ln||Nd(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!ln)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:br(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Wv(a,w,h);break;case 3:var b=a.updateQueue;if(b!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Wv(a,b,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Sr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||a.flags&512&&Tm(a)}catch(ie){xt(a,a.return,ie)}}if(a===s){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function Ww(s){for(;ve!==null;){var a=ve;if(a===s){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function Hw(s){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Nd(4,a)}catch(U){xt(a,u,U)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(U){xt(a,g,U)}}var w=a.return;try{Tm(a)}catch(U){xt(a,w,U)}break;case 5:var b=a.return;try{Tm(a)}catch(U){xt(a,b,U)}}}catch(U){xt(a,a.return,U)}if(a===s){ve=null;break}var O=a.sibling;if(O!==null){O.return=a.return,ve=O;break}ve=a.return}}var pI=Math.ceil,Md=H.ReactCurrentDispatcher,xm=H.ReactCurrentOwner,ar=H.ReactCurrentBatchConfig,Ge=0,zt=null,Mt=null,Zt=0,qn=0,Ya=fs(0),Ut=0,xu=null,xo=0,Od=0,Cm=0,Cu=null,An=null,bm=0,Ka=1/0,Ri=null,Ld=!1,Im=null,_s=null,Fd=!1,vs=null,Vd=0,bu=0,Dm=null,jd=-1,Ud=0;function vn(){return Ge&6?ct():jd!==-1?jd:jd=ct()}function ws(s){return s.mode&1?Ge&2&&Zt!==0?Zt&-Zt:Xb.transition!==null?(Ud===0&&(Ud=ho()),Ud):(s=ze,s!==0||(s=window.event,s=s===void 0?16:tu(s.type)),s):1}function Rr(s,a,u,h){if(50<bu)throw bu=0,Dm=null,Error(t(185));is(s,u,h),(!(Ge&2)||s!==zt)&&(s===zt&&(!(Ge&2)&&(Od|=u),Ut===4&&Es(s,Zt)),Nn(s,h),u===1&&Ge===0&&!(a.mode&1)&&(Ka=ct()+500,pd&&ps()))}function Nn(s,a){var u=s.callbackNode;_i(s,a);var h=fo(s,s===zt?Zt:0);if(h===0)u!==null&&Gl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&Gl(u),a===1)s.tag===0?Gb(qw.bind(null,s)):Pv(qw.bind(null,s)),qb(function(){!(Ge&6)&&ps()}),u=null;else{switch(os(h)){case 1:u=uo;break;case 4:u=ts;break;case 16:u=er;break;case 536870912:u=Uc;break;default:u=er}u=eE(u,zw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function zw(s,a){if(jd=-1,Ud=0,Ge&6)throw Error(t(327));var u=s.callbackNode;if(Qa()&&s.callbackNode!==u)return null;var h=fo(s,s===zt?Zt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||a)a=Bd(s,h);else{a=h;var g=Ge;Ge|=2;var w=Kw();(zt!==s||Zt!==a)&&(Ri=null,Ka=ct()+500,bo(s,a));do try{yI();break}catch(O){Yw(s,O)}while(!0);Yp(),Md.current=w,Ge=g,Mt!==null?a=0:(zt=null,Zt=0,a=Ut)}if(a!==0){if(a===2&&(g=Bn(s),g!==0&&(h=g,a=Rm(s,g))),a===1)throw u=xu,bo(s,0),Es(s,h),Nn(s,ct()),u;if(a===6)Es(s,h);else{if(g=s.current.alternate,!(h&30)&&!mI(g)&&(a=Bd(s,h),a===2&&(w=Bn(s),w!==0&&(h=w,a=Rm(s,w))),a===1))throw u=xu,bo(s,0),Es(s,h),Nn(s,ct()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Io(s,An,Ri);break;case 3:if(Es(s,h),(h&130023424)===h&&(a=bm+500-ct(),10<a)){if(fo(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){vn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Lp(Io.bind(null,s,An,Ri),a);break}Io(s,An,Ri);break;case 4:if(Es(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var b=31-gn(h);w=1<<b,b=a[b],b>g&&(g=b),h&=~w}if(h=g,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*pI(h/1960))-h,10<h){s.timeoutHandle=Lp(Io.bind(null,s,An,Ri),h);break}Io(s,An,Ri);break;case 5:Io(s,An,Ri);break;default:throw Error(t(329))}}}return Nn(s,ct()),s.callbackNode===u?zw.bind(null,s):null}function Rm(s,a){var u=Cu;return s.current.memoizedState.isDehydrated&&(bo(s,a).flags|=256),s=Bd(s,a),s!==2&&(a=An,An=u,a!==null&&Pm(a)),s}function Pm(s){An===null?An=s:An.push.apply(An,s)}function mI(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!xr(w(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Es(s,a){for(a&=~Cm,a&=~Od,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-gn(a),h=1<<u;s[u]=-1,a&=~h}}function qw(s){if(Ge&6)throw Error(t(327));Qa();var a=fo(s,0);if(!(a&1))return Nn(s,ct()),null;var u=Bd(s,a);if(s.tag!==0&&u===2){var h=Bn(s);h!==0&&(a=h,u=Rm(s,h))}if(u===1)throw u=xu,bo(s,0),Es(s,a),Nn(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Io(s,An,Ri),Nn(s,ct()),null}function Am(s,a){var u=Ge;Ge|=1;try{return s(a)}finally{Ge=u,Ge===0&&(Ka=ct()+500,pd&&ps())}}function Co(s){vs!==null&&vs.tag===0&&!(Ge&6)&&Qa();var a=Ge;Ge|=1;var u=ar.transition,h=ze;try{if(ar.transition=null,ze=1,s)return s()}finally{ze=h,ar.transition=u,Ge=a,!(Ge&6)&&ps()}}function Nm(){qn=Ya.current,mt(Ya)}function bo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,zb(u)),Mt!==null)for(u=Mt.return;u!==null;){var h=u;switch($p(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&fd();break;case 3:Ha(),mt(Dn),mt(sn),tm();break;case 5:Zp(h);break;case 4:Ha();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:Kp(h.type._context);break;case 22:case 23:Nm()}u=u.return}if(zt=s,Mt=s=Ts(s.current,null),Zt=qn=a,Ut=0,xu=null,Cm=Od=xo=0,An=Cu=null,To!==null){for(a=0;a<To.length;a++)if(u=To[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var b=w.next;w.next=g,h.next=b}u.pending=h}To=null}return s}function Yw(s,a){do{var u=Mt;try{if(Yp(),kd.current=Id,xd){for(var h=Tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}xd=!1}if(ko=0,Ht=jt=Tt=null,vu=!1,wu=0,xm.current=null,u===null||u.return===null){Ut=1,xu=a,Mt=null;break}e:{var w=s,b=u.return,O=u,U=a;if(a=Zt,O.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,se=O,oe=se.tag;if(!(se.mode&1)&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=_w(b);if(pe!==null){pe.flags&=-257,vw(pe,b,O,w,a),pe.mode&1&&yw(w,K,a),a=pe,U=K;var Te=a.updateQueue;if(Te===null){var Se=new Set;Se.add(U),a.updateQueue=Se}else Te.add(U);break e}else{if(!(a&1)){yw(w,K,a),Mm();break e}U=Error(t(426))}}else if(vt&&O.mode&1){var Dt=_w(b);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),vw(Dt,b,O,w,a),zp(za(U,O));break e}}w=U=za(U,O),Ut!==4&&(Ut=2),Cu===null?Cu=[w]:Cu.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var q=mw(w,U,a);$v(w,q);break e;case 1:O=U;var $=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof $.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(_s===null||!_s.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var ae=gw(w,O,a);$v(w,ae);break e}}w=w.return}while(w!==null)}Gw(u)}catch(ke){a=ke,Mt===u&&u!==null&&(Mt=u=u.return);continue}break}while(!0)}function Kw(){var s=Md.current;return Md.current=Id,s===null?Id:s}function Mm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),zt===null||!(xo&268435455)&&!(Od&268435455)||Es(zt,Zt)}function Bd(s,a){var u=Ge;Ge|=2;var h=Kw();(zt!==s||Zt!==a)&&(Ri=null,bo(s,a));do try{gI();break}catch(g){Yw(s,g)}while(!0);if(Yp(),Ge=u,Md.current=h,Mt!==null)throw Error(t(261));return zt=null,Zt=0,Ut}function gI(){for(;Mt!==null;)Qw(Mt)}function yI(){for(;Mt!==null&&!Vc();)Qw(Mt)}function Qw(s){var a=Zw(s.alternate,s,qn);s.memoizedProps=s.pendingProps,a===null?Gw(s):Mt=a,xm.current=null}function Gw(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=cI(u,a),u!==null){u.flags&=32767,Mt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,Mt=null;return}}else if(u=uI(u,a,qn),u!==null){Mt=u;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);Ut===0&&(Ut=5)}function Io(s,a,u){var h=ze,g=ar.transition;try{ar.transition=null,ze=1,_I(s,a,u,h)}finally{ar.transition=g,ze=h}return null}function _I(s,a,u,h){do Qa();while(vs!==null);if(Ge&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(lt(s,w),s===zt&&(Mt=zt=null,Zt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Fd||(Fd=!0,eE(er,function(){return Qa(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=ar.transition,ar.transition=null;var b=ze;ze=1;var O=Ge;Ge|=4,xm.current=null,fI(s,u),Uw(u,s),Vb(Mp),ls=!!Np,Mp=Np=null,s.current=u,hI(u),yp(),Ge=O,ze=b,ar.transition=w}else s.current=u;if(Fd&&(Fd=!1,vs=s,Vd=g),w=s.pendingLanes,w===0&&(_s=null),Bc(u.stateNode),Nn(s,ct()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(Ld)throw Ld=!1,s=Im,Im=null,s;return Vd&1&&s.tag!==0&&Qa(),w=s.pendingLanes,w&1?s===Dm?bu++:(bu=0,Dm=s):bu=0,ps(),null}function Qa(){if(vs!==null){var s=os(Vd),a=ar.transition,u=ze;try{if(ar.transition=null,ze=16>s?16:s,vs===null)var h=!1;else{if(s=vs,vs=null,Vd=0,Ge&6)throw Error(t(331));var g=Ge;for(Ge|=4,ve=s.current;ve!==null;){var w=ve,b=w.child;if(ve.flags&16){var O=w.deletions;if(O!==null){for(var U=0;U<O.length;U++){var K=O[U];for(ve=K;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:ku(8,se,w)}var oe=se.child;if(oe!==null)oe.return=se,ve=oe;else for(;ve!==null;){se=ve;var ie=se.sibling,pe=se.return;if(Ow(se),se===K){ve=null;break}if(ie!==null){ie.return=pe,ve=ie;break}ve=pe}}}var Te=w.alternate;if(Te!==null){var Se=Te.child;if(Se!==null){Te.child=null;do{var Dt=Se.sibling;Se.sibling=null,Se=Dt}while(Se!==null)}}ve=w}}if(w.subtreeFlags&2064&&b!==null)b.return=w,ve=b;else e:for(;ve!==null;){if(w=ve,w.flags&2048)switch(w.tag){case 0:case 11:case 15:ku(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,ve=q;break e}ve=w.return}}var $=s.current;for(ve=$;ve!==null;){b=ve;var Y=b.child;if(b.subtreeFlags&2064&&Y!==null)Y.return=b,ve=Y;else e:for(b=$;ve!==null;){if(O=ve,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Nd(9,O)}}catch(ke){xt(O,O.return,ke)}if(O===b){ve=null;break e}var ae=O.sibling;if(ae!==null){ae.return=O.return,ve=ae;break e}ve=O.return}}if(Ge=g,ps(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(co,s)}catch{}h=!0}return h}finally{ze=u,ar.transition=a}}return!1}function Xw(s,a,u){a=za(u,a),a=mw(s,a,1),s=gs(s,a,1),a=vn(),s!==null&&(is(s,1,a),Nn(s,a))}function xt(s,a,u){if(s.tag===3)Xw(s,s,u);else for(;a!==null;){if(a.tag===3){Xw(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_s===null||!_s.has(h))){s=za(u,s),s=gw(a,s,1),a=gs(a,s,1),s=vn(),a!==null&&(is(a,1,s),Nn(a,s));break}}a=a.return}}function vI(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&u,zt===s&&(Zt&u)===u&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>ct()-bm?bo(s,0):Cm|=u),Nn(s,a)}function Jw(s,a){a===0&&(s.mode&1?(a=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):a=1);var u=vn();s=bi(s,a),s!==null&&(is(s,a,u),Nn(s,u))}function wI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Jw(s,u)}function EI(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),Jw(s,u)}var Zw;Zw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Dn.current)Pn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return Pn=!1,lI(s,a,u);Pn=!!(s.flags&131072)}else Pn=!1,vt&&a.flags&1048576&&Av(a,gd,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Pd(s,a),s=a.pendingProps;var g=Fa(a,sn.current);Wa(a,u),g=im(null,a,h,s,g,u);var w=sm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(h)?(w=!0,hd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Xp(a),g.updater=Dd,a.stateNode=g,g._reactInternals=a,dm(a,h,s,u),a=mm(null,a,h,!0,w,u)):(a.tag=0,vt&&w&&Bp(a),_n(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(Pd(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=SI(h),s=br(h,s),g){case 0:a=pm(null,a,h,s,u);break e;case 1:a=xw(null,a,h,s,u);break e;case 11:a=ww(null,a,h,s,u);break e;case 14:a=Ew(null,a,h,br(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),pm(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),xw(s,a,h,g,u);case 3:e:{if(Cw(a),s===null)throw Error(t(387));h=a.pendingProps,w=a.memoizedState,g=w.element,Bv(s,a),Td(a,h,null,u);var b=a.memoizedState;if(h=b.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=za(Error(t(423)),a),a=bw(s,a,h,u,g);break e}else if(h!==g){g=za(Error(t(424)),a),a=bw(s,a,h,u,g);break e}else for(zn=ds(a.stateNode.containerInfo.firstChild),Hn=a,vt=!0,Cr=null,u=jv(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ua(),h===g){a=Di(s,a,u);break e}_n(s,a,h,u)}a=a.child}return a;case 5:return Hv(a),s===null&&Hp(a),h=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,b=g.children,Op(h,g)?b=null:w!==null&&Op(h,w)&&(a.flags|=32),kw(s,a),_n(s,a,b,u),a.child;case 6:return s===null&&Hp(a),null;case 13:return Iw(s,a,u);case 4:return Jp(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ba(a,null,h,u):_n(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),ww(s,a,h,g,u);case 7:return _n(s,a,a.pendingProps,u),a.child;case 8:return _n(s,a,a.pendingProps.children,u),a.child;case 12:return _n(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,w=a.memoizedProps,b=g.value,dt(vd,h._currentValue),h._currentValue=b,w!==null)if(xr(w.value,b)){if(w.children===g.children&&!Dn.current){a=Di(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var O=w.dependencies;if(O!==null){b=w.child;for(var U=O.firstContext;U!==null;){if(U.context===h){if(w.tag===1){U=Ii(-1,u&-u),U.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?U.next=U:(U.next=se.next,se.next=U),K.pending=U}}w.lanes|=u,U=w.alternate,U!==null&&(U.lanes|=u),Qp(w.return,u,a),O.lanes|=u;break}U=U.next}}else if(w.tag===10)b=w.type===a.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(t(341));b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),Qp(b,u,a),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===a){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}_n(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Wa(a,u),g=sr(g),h=h(g),a.flags|=1,_n(s,a,h,u),a.child;case 14:return h=a.type,g=br(h,a.pendingProps),g=br(h.type,g),Ew(s,a,h,g,u);case 15:return Tw(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),Pd(s,a),a.tag=1,Rn(h)?(s=!0,hd(a)):s=!1,Wa(a,u),hw(a,h,g),dm(a,h,g,u),mm(null,a,h,!0,s,u);case 19:return Rw(s,a,u);case 22:return Sw(s,a,u)}throw Error(t(156,a.tag))};function eE(s,a){return ga(s,a)}function TI(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(s,a,u,h){return new TI(s,a,u,h)}function Om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function SI(s){if(typeof s=="function")return Om(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===xe)return 14}return 2}function Ts(s,a){var u=s.alternate;return u===null?(u=lr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function $d(s,a,u,h,g,w){var b=2;if(h=s,typeof s=="function")Om(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case A:return Do(u.children,g,w,a);case D:b=8,g|=8;break;case P:return s=lr(12,u,a,g|2),s.elementType=P,s.lanes=w,s;case M:return s=lr(13,u,a,g),s.elementType=M,s.lanes=w,s;case Ee:return s=lr(19,u,a,g),s.elementType=Ee,s.lanes=w,s;case de:return Wd(u,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:b=10;break e;case V:b=9;break e;case B:b=11;break e;case xe:b=14;break e;case ce:b=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=lr(b,u,a,g),a.elementType=s,a.type=h,a.lanes=w,a}function Do(s,a,u,h){return s=lr(7,s,h,a),s.lanes=u,s}function Wd(s,a,u,h){return s=lr(22,s,h,a),s.elementType=de,s.lanes=u,s.stateNode={isHidden:!1},s}function Lm(s,a,u){return s=lr(6,s,null,a),s.lanes=u,s}function Fm(s,a,u){return a=lr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function kI(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rs(0),this.expirationTimes=rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Vm(s,a,u,h,g,w,b,O,U){return s=new kI(s,a,u,O,U),a===1?(a=1,w===!0&&(a|=8)):a=0,w=lr(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(w),s}function xI(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function tE(s){if(!s)return hs;s=s._reactInternals;e:{if(_r(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Rn(u))return Dv(s,u,a)}return a}function nE(s,a,u,h,g,w,b,O,U){return s=Vm(u,h,!0,s,g,w,b,O,U),s.context=tE(null),u=s.current,h=vn(),g=ws(u),w=Ii(h,g),w.callback=a??null,gs(u,w,g),s.current.lanes=g,is(s,g,h),Nn(s,h),s}function Hd(s,a,u,h){var g=a.current,w=vn(),b=ws(g);return u=tE(u),a.context===null?a.context=u:a.pendingContext=u,a=Ii(w,b),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=gs(g,a,b),s!==null&&(Rr(s,g,b,w),Ed(s,g,b)),b}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function rE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function jm(s,a){rE(s,a),(s=s.alternate)&&rE(s,a)}var iE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Um(s){this._internalRoot=s}qd.prototype.render=Um.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Hd(s,a,null,null)},qd.prototype.unmount=Um.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Co(function(){Hd(null,s,null,null)}),a[Si]=null}};function qd(s){this._internalRoot=s}qd.prototype.unstable_scheduleHydration=function(s){if(s){var a=qc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Hr.length&&a!==0&&a<Hr[u].priority;u++);Hr.splice(u,0,s),u===0&&Qc(s)}};function Bm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function sE(){}function CI(s,a,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var K=zd(b);w.call(K)}}var b=nE(a,h,s,0,null,!1,!1,"",sE);return s._reactRootContainer=b,s[Si]=b.current,du(s.nodeType===8?s.parentNode:s),Co(),b}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var K=zd(U);O.call(K)}}var U=Vm(s,0,!1,null,null,!1,!1,"",sE);return s._reactRootContainer=U,s[Si]=U.current,du(s.nodeType===8?s.parentNode:s),Co(function(){Hd(a,U,u,h)}),U}function Kd(s,a,u,h,g){var w=u._reactRootContainer;if(w){var b=w;if(typeof g=="function"){var O=g;g=function(){var U=zd(b);O.call(U)}}Hd(a,b,s,g)}else b=CI(u,a,s,g,h);return zd(b)}Hc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ns(a.pendingLanes);u!==0&&(ss(a,u|1),Nn(a,ct()),!(Ge&6)&&(Ka=ct()+500,ps()))}break;case 13:Co(function(){var h=bi(s,1);if(h!==null){var g=vn();Rr(h,s,1,g)}}),jm(s,1)}},va=function(s){if(s.tag===13){var a=bi(s,134217728);if(a!==null){var u=vn();Rr(a,s,134217728,u)}jm(s,134217728)}},zc=function(s){if(s.tag===13){var a=ws(s),u=bi(s,a);if(u!==null){var h=vn();Rr(u,s,a,h)}jm(s,a)}},qc=function(){return ze},Yc=function(s,a){var u=ze;try{return ze=s,a()}finally{ze=u}},ca=function(s,a,u){switch(a){case"input":if(hr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=dd(h);if(!g)throw Error(t(90));jn(h),hr(h,g)}}}break;case"textarea":gi(s,u);break;case"select":a=u.value,a!=null&&mr(s,!!u.multiple,a,!1)}},so=Am,ql=Co;var bI={usingClientEntryPoint:!1,Events:[pu,Oa,dd,$r,zl,Am]},Iu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},II={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ql(s),s===null?null:s.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{co=Qd.inject(II),Un=Qd}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bI,Mn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(a))throw Error(t(200));return xI(s,a,null,u)},Mn.createRoot=function(s,a){if(!Bm(s))throw Error(t(299));var u=!1,h="",g=iE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Vm(s,1,!1,null,null,u,!1,h,g),s[Si]=a.current,du(s.nodeType===8?s.parentNode:s),new Um(a)},Mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ql(a),s=s===null?null:s.stateNode,s},Mn.flushSync=function(s){return Co(s)},Mn.hydrate=function(s,a,u){if(!Yd(a))throw Error(t(200));return Kd(null,s,a,!0,u)},Mn.hydrateRoot=function(s,a,u){if(!Bm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",b=iE;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),a=nE(a,null,s,1,u??null,g,!1,w,b),s[Si]=a.current,du(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new qd(a)},Mn.render=function(s,a,u){if(!Yd(a))throw Error(t(200));return Kd(null,s,a,!1,u)},Mn.unmountComponentAtNode=function(s){if(!Yd(s))throw Error(t(40));return s._reactRootContainer?(Co(function(){Kd(null,null,s,!1,function(){s._reactRootContainer=null,s[Si]=null})}),!0):!1},Mn.unstable_batchedUpdates=Am,Mn.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!Yd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Kd(s,a,u,!1,h)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var hE;function tk(){if(hE)return Hm.exports;hE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=jI(),Hm.exports}var pE;function UI(){if(pE)return Gd;pE=1;var r=tk();return Gd.createRoot=r.createRoot,Gd.hydrateRoot=r.hydrateRoot,Gd}var BI=UI(),Ru={},mE;function $I(){if(mE)return Ru;mE=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.parse=l,Ru.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const k=new o,C=_.length;if(C<2)return k;const I=(E==null?void 0:E.decode)||m;let N=0;do{const F=_.indexOf("=",N);if(F===-1)break;const j=_.indexOf(";",N),H=j===-1?C:j;if(F>H){N=_.lastIndexOf(";",F-1)+1;continue}const Q=c(_,N,F),ne=d(_,F,Q),A=_.slice(Q,ne);if(k[A]===void 0){let D=c(_,F+1,H),P=d(_,H,D);const L=I(_.slice(D,P));k[A]=L}N=H+1}while(N<C);return k}function c(_,E,k){do{const C=_.charCodeAt(E);if(C!==32&&C!==9)return E}while(++E<k);return k}function d(_,E,k){for(;E>k;){const C=_.charCodeAt(--E);if(C!==32&&C!==9)return E+1}return k}function p(_,E,k){const C=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=C(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let N=_+"="+I;if(!k)return N;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);N+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);N+="; Domain="+k.domain}if(k.path){if(!n.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);N+="; Path="+k.path}if(k.expires){if(!y(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);N+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(N+="; HttpOnly"),k.secure&&(N+="; Secure"),k.partitioned&&(N+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return N}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Ru}$I();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gE="popstate";function WI(r={}){function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return Rg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:ec(i)}return zI(e,t,null,r)}function wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substring(2,10)}function yE(r,e){return{usr:r.state,key:r.key,idx:e}}function Rg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:t,key:e&&e.key||n||HI()}}function ec({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Cl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function zI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let I=m(),N=I==null?null:I-p;p=I,d&&d({action:c,location:C.location,delta:N})}function _(I,N){c="PUSH";let F=Rg(C.location,I,N);p=m()+1;let j=yE(F,p),H=C.createHref(F);try{l.pushState(j,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(H)}o&&d&&d({action:c,location:C.location,delta:1})}function E(I,N){c="REPLACE";let F=Rg(C.location,I,N);p=m();let j=yE(F,p),H=C.createHref(F);l.replaceState(j,"",H),o&&d&&d({action:c,location:C.location,delta:0})}function k(I){let N=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof I=="string"?I:ec(I);return F=F.replace(/ $/,"%20"),wt(N,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,N)}let C={get action(){return c},get location(){return r(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(gE,y),d=I,()=>{i.removeEventListener(gE,y),d=null}},createHref(I){return e(i,I)},createURL:k,encodeLocation(I){let N=k(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:E,go(I){return l.go(I)}};return C}function nk(r,e,t="/"){return qI(r,e,t,!1)}function qI(r,e,t,n){let i=typeof e=="string"?Cl(e):e,o=Bs(i.pathname||"/",t);if(o==null)return null;let l=rk(r);YI(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=iD(o);c=nD(l[d],p,n)}return c}function rk(r,e=[],t=[],n=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=Oi([n,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rk(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:eD(p,o.index),routesMeta:m})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of ik(o.path))i(o,l,d)}),e}function ik(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=ik(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function YI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tD(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var KI=/^:[\w-]+$/,QI=3,GI=2,XI=1,JI=10,ZI=-2,_E=r=>r==="*";function eD(r,e){let t=r.split("/"),n=t.length;return t.some(_E)&&(n+=ZI),e&&(n+=GI),t.filter(i=>!_E(i)).reduce((i,o)=>i+(KI.test(o)?QI:o===""?XI:JI),n)}function tD(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function nD(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Oi([o,y.pathname]),pathnameBase:lD(Oi([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Oi([o,y.pathnameBase]))}return l}function Lf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=rD(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:y},_)=>{if(m==="*"){let k=c[_]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const E=c[_];return y&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:r}}function rD(r,e=!1,t=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function iD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function sD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Cl(r):r;return{pathname:t?t.startsWith("/")?t:oD(t,e):e,search:uD(n),hash:cD(i)}}function oD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ym(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sy(r){let e=aD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function ky(r,e,t,n=!1){let i;typeof r=="string"?i=Cl(r):(i={...r},wt(!i.pathname||!i.pathname.includes("?"),Ym("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Ym("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Ym("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=sD(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),lD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sk=["POST","PUT","PATCH","DELETE"];new Set(sk);var fD=["GET",...sk];new Set(fD);var bl=x.createContext(null);bl.displayName="DataRouter";var kh=x.createContext(null);kh.displayName="DataRouterState";var ok=x.createContext({isTransitioning:!1});ok.displayName="ViewTransition";var hD=x.createContext(new Map);hD.displayName="Fetchers";var pD=x.createContext(null);pD.displayName="Await";var Lr=x.createContext(null);Lr.displayName="Navigation";var mc=x.createContext(null);mc.displayName="Location";var Fr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var xy=x.createContext(null);xy.displayName="RouteError";function mD(r,{relative:e}={}){wt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=x.useContext(Lr),{hash:i,pathname:o,search:l}=yc(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),n.createHref({pathname:c,search:l,hash:i})}function Il(){return x.useContext(mc)!=null}function Qs(){return wt(Il(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(mc).location}var ak="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lk(r){x.useContext(Lr).static||x.useLayoutEffect(r)}function gc(){let{isDataRoute:r}=x.useContext(Fr);return r?ID():gD()}function gD(){wt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(bl),{basename:e,navigator:t}=x.useContext(Lr),{matches:n}=x.useContext(Fr),{pathname:i}=Qs(),o=JSON.stringify(Sy(n)),l=x.useRef(!1);return lk(()=>{l.current=!0}),x.useCallback((d,p={})=>{if(Ar(l.current,ak),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=ky(d,JSON.parse(o),i,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,r])}x.createContext(null);function Cy(){let{matches:r}=x.useContext(Fr),e=r[r.length-1];return e?e.params:{}}function yc(r,{relative:e}={}){let{matches:t}=x.useContext(Fr),{pathname:n}=Qs(),i=JSON.stringify(Sy(t));return x.useMemo(()=>ky(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function yD(r,e){return uk(r,e)}function uk(r,e,t,n){var N;wt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Lr),{matches:o}=x.useContext(Fr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let F=m&&m.path||"";ck(d,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Qs(),_;if(e){let F=typeof e=="string"?Cl(e):e;wt(p==="/"||((N=F.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),_=F}else _=y;let E=_.pathname||"/",k=E;if(p!=="/"){let F=p.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=nk(r,{pathname:k});Ar(m||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ar(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=TD(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:Oi([p,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Oi([p,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),o,t,n);return e&&I?x.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function _D(){let r=bD(),e=dD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,l)}var vD=x.createElement(_D,null),wD=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?x.createElement(Fr.Provider,{value:this.props.routeContext},x.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:r,match:e,children:t}){let n=x.useContext(bl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Fr.Provider,{value:r},t)}function TD(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:y}=t,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let y,_=!1,E=null,k=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||vD,l&&(c<0&&m===0?(ck("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,k=null):c===m&&(_=!0,k=p.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),I=()=>{let N;return y?N=E:_?N=k:p.route.Component?N=x.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,x.createElement(ED,{match:p,routeContext:{outlet:d,matches:C,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?x.createElement(wD,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function by(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SD(r){let e=x.useContext(bl);return wt(e,by(r)),e}function kD(r){let e=x.useContext(kh);return wt(e,by(r)),e}function xD(r){let e=x.useContext(Fr);return wt(e,by(r)),e}function Iy(r){let e=xD(r),t=e.matches[e.matches.length-1];return wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function CD(){return Iy("useRouteId")}function bD(){var n;let r=x.useContext(xy),e=kD("useRouteError"),t=Iy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function ID(){let{router:r}=SD("useNavigate"),e=Iy("useNavigate"),t=x.useRef(!1);return lk(()=>{t.current=!0}),x.useCallback(async(i,o={})=>{Ar(t.current,ak),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var vE={};function ck(r,e,t){!e&&!vE[r]&&(vE[r]=!0,Ar(!1,t))}x.memo(DD);function DD({routes:r,future:e,state:t}){return uk(r,void 0,t,e)}function wE({to:r,replace:e,state:t,relative:n}){wt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Lr);Ar(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Fr),{pathname:l}=Qs(),c=gc(),d=ky(r,Sy(o),l,n==="path"),p=JSON.stringify(d);return x.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:n})},[c,p,n,e,t]),null}function Yn(r){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RD({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){wt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Cl(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:_="default"}=t,E=x.useMemo(()=>{let k=Bs(d,l);return k==null?null:{location:{pathname:k,search:p,hash:m,state:y,key:_},navigationType:n}},[l,d,p,m,y,_,n]);return Ar(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(Lr.Provider,{value:c},x.createElement(mc.Provider,{children:e,value:E}))}function PD({children:r,location:e}){return yD(Pg(r),e)}function Pg(r,e=[]){let t=[];return x.Children.forEach(r,(n,i)=>{if(!x.isValidElement(n))return;let o=[...e,i];if(n.type===x.Fragment){t.push.apply(t,Pg(n.props.children,o));return}wt(n.type===Yn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Pg(n.props.children,o)),t.push(l)}),t}var pf="get",mf="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function AD(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function ND(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function MD(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function OD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LD(r,e){return r.button===0&&(!e||e==="_self")&&!OD(r)}var Xd=null;function FD(){if(Xd===null)try{new FormData(document.createElement("form"),0),Xd=!1}catch{Xd=!0}return Xd}var VD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(r){return r!=null&&!VD.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):r}function jD(r,e){let t,n,i,o,l;if(ND(r)){let c=r.getAttribute("action");n=c?Bs(c,e):null,t=r.getAttribute("method")||pf,i=Km(r.getAttribute("enctype"))||mf,o=new FormData(r)}else if(AD(r)||MD(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Bs(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||pf,i=Km(r.getAttribute("formenctype"))||Km(c.getAttribute("enctype"))||mf,o=new FormData(c,r),!FD()){let{name:p,type:m,value:y}=r;if(m==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,y)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pf,n=null,i=mf,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Dy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function UD(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $D(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await UD(o,t);return l.links?l.links():[]}return[]}));return qD(n.flat(1).filter(BD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function EE(r,e,t,n,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,c=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?e.filter((d,p)=>{var y;let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WD(r,e){return HD(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function HD(r){return[...new Set(r)]}function zD(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function qD(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(zD(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function YD(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KD(){let r=x.useContext(bl);return Dy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QD(){let r=x.useContext(kh);return Dy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ry=x.createContext(void 0);Ry.displayName="FrameworkContext";function dk(){let r=x.useContext(Ry);return Dy(r,"You must render this element inside a <HydratedRouter> element"),r}function GD(r,e){let t=x.useContext(Ry),[n,i]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,_=x.useRef(null);x.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let C=N=>{N.forEach(F=>{l(F.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[r]),x.useEffect(()=>{if(n){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[n]);let E=()=>{i(!0)},k=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,_,{}]:[o,_,{onFocus:Pu(c,E),onBlur:Pu(d,k),onMouseEnter:Pu(p,E),onMouseLeave:Pu(m,k),onTouchStart:Pu(y,E)}]:[!1,_,{}]}function Pu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function XD({page:r,...e}){let{router:t}=KD(),n=x.useMemo(()=>nk(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?x.createElement(ZD,{page:r,matches:n,...e}):null}function JD(r){let{manifest:e,routeModules:t}=dk(),[n,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return $D(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function ZD({page:r,matches:e,...t}){let n=Qs(),{manifest:i,routeModules:o}=dk(),{loaderData:l,matches:c}=QD(),d=x.useMemo(()=>EE(r,e,c,i,n,"data"),[r,e,c,i,n]),p=x.useMemo(()=>EE(r,e,c,i,n,"assets"),[r,e,c,i,n]),m=x.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,k=!1;if(e.forEach(I=>{var F;let N=i.routes[I.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===I.route.id)&&I.route.id in l&&((F=o[I.route.id])!=null&&F.shouldRevalidate)||N.hasClientLoader?k=!0:E.add(I.route.id))}),E.size===0)return[];let C=YD(r);return k&&E.size>0&&C.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[l,n,i,d,e,r,o]),y=x.useMemo(()=>WD(p,i),[p,i]),_=JD(p);return x.createElement(x.Fragment,null,m.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:k})=>x.createElement("link",{key:E,...k})))}function eR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fk&&(window.__reactRouterVersion="7.1.3")}catch{}function tR({basename:r,children:e,window:t}){let n=x.useRef();n.current==null&&(n.current=WI({window:t,v5Compat:!0}));let i=n.current,[o,l]=x.useState({action:i.action,location:i.location}),c=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>i.listen(c),[i,c]),x.createElement(RD,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=x.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:y,..._},E){let{basename:k}=x.useContext(Lr),C=typeof p=="string"&&hk.test(p),I,N=!1;if(typeof p=="string"&&C&&(I=p,fk))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=Bs(L.pathname,k);L.origin===P.origin&&V!=null?p=V+L.search+L.hash:N=!0}catch{Ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=mD(p,{relative:i}),[j,H,Q]=GD(n,_),ne=iR(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function A(P){e&&e(P),P.defaultPrevented||ne(P)}let D=x.createElement("a",{..._,...Q,href:I||F,onClick:N||o?e:A,ref:eR(E,H),target:d,"data-discover":!C&&t==="render"?"true":void 0});return j&&!C?x.createElement(x.Fragment,null,D,x.createElement(XD,{page:F})):D});Li.displayName="Link";var Cs=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...p},m){let y=yc(l,{relative:p.relative}),_=Qs(),E=x.useContext(kh),{navigator:k,basename:C}=x.useContext(Lr),I=E!=null&&uR(y)&&c===!0,N=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,F=_.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&C&&(j=Bs(j,C)||j);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Q=F===N||!i&&F.startsWith(N)&&F.charAt(H)==="/",ne=j!=null&&(j===N||!i&&j.startsWith(N)&&j.charAt(N.length)==="/"),A={isActive:Q,isPending:ne,isTransitioning:I},D=Q?e:void 0,P;typeof n=="function"?P=n(A):P=[n,Q?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(A):o;return x.createElement(Li,{...p,"aria-current":D,className:P,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(A):d)});Cs.displayName="NavLink";var nR=x.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=pf,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,..._},E)=>{let k=aR(),C=lR(c,{relative:p}),I=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&hk.test(c),F=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,Q=(H==null?void 0:H.getAttribute("formmethod"))||l;k(H||j.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return x.createElement("form",{ref:E,method:I,action:C,onSubmit:n?d:F,..._,"data-discover":!N&&r==="render"?"true":void 0})});nR.displayName="Form";function rR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pk(r){let e=x.useContext(bl);return wt(e,rR(r)),e}function iR(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=gc(),d=Qs(),p=yc(r,{relative:o});return x.useCallback(m=>{if(LD(m,e)){m.preventDefault();let y=t!==void 0?t:ec(d)===ec(p);c(r,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,t,n,e,r,i,o,l])}var sR=0,oR=()=>`__${String(++sR)}__`;function aR(){let{router:r}=pk("useSubmit"),{basename:e}=x.useContext(Lr),t=CD();return x.useCallback(async(n,i={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=jD(n,e);if(i.navigate===!1){let m=i.fetcherKey||oR();await r.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function lR(r,{relative:e}={}){let{basename:t}=x.useContext(Lr),n=x.useContext(Fr);wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...yc(r||".",{relative:e})},l=Qs();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),ec(o)}function uR(r,e={}){let t=x.useContext(ok);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pk("useViewTransitionState"),i=yc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Bs(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Bs(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Lf(i.pathname,l)!=null||Lf(i.pathname,o)!=null}new TextEncoder;var mk=tk();const Oo=Sh(mk),gk=x.createContext(void 0),cR=({children:r})=>{const[e,t]=x.useState("met");return S.jsx(gk.Provider,{value:{selectedMuseum:e,setSelectedMuseum:t},children:r})},Ch=()=>{const r=x.useContext(gk);if(!r)throw new Error("useMuseum must be used within a MuseumProvider");return r},yk=x.createContext(void 0),Py=()=>x.useContext(yk),dR=({children:r})=>{const[e,t]=x.useState("");return S.jsx(yk.Provider,{value:{query:e,setQuery:t},children:r})},_k=x.createContext(void 0),vk=()=>x.useContext(_k),fR=({children:r})=>{const[e,t]=x.useState("artist_title");return S.jsx(_k.Provider,{value:{type:e,setType:t},children:r})};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hR=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ek={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|p>>6,E=p&63;d||(E=64,l||(_=64)),n.push(t[m],t[y],t[_],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wk(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||p==null||y==null)throw new pR;const _=o<<2|c>>4;if(n.push(_),p!==64){const E=c<<4&240|p>>2;if(n.push(E),y!==64){const k=p<<6&192|y;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mR=function(r){const e=wk(r);return Ek.encodeByteArray(e,!0)},Ff=function(r){return mR(r).replace(/\./g,"")},Tk=function(r){try{return Ek.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=()=>gR().__FIREBASE_DEFAULTS__,_R=()=>{if(typeof process>"u"||typeof TE>"u")return;const r=TE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Tk(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return yR()||_R()||vR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sk=r=>{var e,t;return(t=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},wR=r=>{const e=Sk(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},kk=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},xk=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ff(JSON.stringify(t)),Ff(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function kR(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FirebaseError";class Vr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=AR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?NR(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Vr(i,c,n)}}function NR(r,e){return r.replace(MR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const MR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vf(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(SE(o)&&SE(l)){if(!Vf(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function SE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function LR(r,e){const t=new FR(r,e);return t.subscribe.bind(t)}class FR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");VR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class Ko{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new ER;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BR(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(r){return r===Po?void 0:r}function BR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($e||($e={}));const WR={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},HR=$e.INFO,zR={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},qR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=zR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=HR,this._logHandler=qR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const YR=(r,e)=>e.some(t=>r instanceof t);let kE,xE;function KR(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ck=new WeakMap,Ag=new WeakMap,bk=new WeakMap,Gm=new WeakMap,Ny=new WeakMap;function GR(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Os(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Ck.set(t,r)}).catch(()=>{}),Ny.set(e,r),e}function XR(r){if(Ag.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Ag.set(r,e)}let Ng={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ag.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bk.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JR(r){Ng=r(Ng)}function ZR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Xm(this),e,...t);return bk.set(n,e.sort?e.sort():[e]),Os(n)}:QR().includes(r)?function(...e){return r.apply(Xm(this),e),Os(Ck.get(this))}:function(...e){return Os(r.apply(Xm(this),e))}}function eP(r){return typeof r=="function"?ZR(r):(r instanceof IDBTransaction&&XR(r),YR(r,KR())?new Proxy(r,Ng):r)}function Os(r){if(r instanceof IDBRequest)return GR(r);if(Gm.has(r))return Gm.get(r);const e=eP(r);return e!==r&&(Gm.set(r,e),Ny.set(e,r)),e}const Xm=r=>Ny.get(r);function tP(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Os(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Os(l.result),d.oldVersion,d.newVersion,Os(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const nP=["get","getKey","getAll","getAllKeys","count"],rP=["put","add","delete","clear"],Jm=new Map;function CE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=rP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||nP.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return Jm.set(e,o),o}JR(r=>({...r,get:(e,t,n)=>CE(e,t)||r.get(e,t,n),has:(e,t)=>!!CE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sP(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function sP(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",bE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Ay("@firebase/app"),oP="@firebase/app-compat",aP="@firebase/analytics-compat",lP="@firebase/analytics",uP="@firebase/app-check-compat",cP="@firebase/app-check",dP="@firebase/auth",fP="@firebase/auth-compat",hP="@firebase/database",pP="@firebase/data-connect",mP="@firebase/database-compat",gP="@firebase/functions",yP="@firebase/functions-compat",_P="@firebase/installations",vP="@firebase/installations-compat",wP="@firebase/messaging",EP="@firebase/messaging-compat",TP="@firebase/performance",SP="@firebase/performance-compat",kP="@firebase/remote-config",xP="@firebase/remote-config-compat",CP="@firebase/storage",bP="@firebase/storage-compat",IP="@firebase/firestore",DP="@firebase/vertexai",RP="@firebase/firestore-compat",PP="firebase",AP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",NP={[Mg]:"fire-core",[oP]:"fire-core-compat",[lP]:"fire-analytics",[aP]:"fire-analytics-compat",[cP]:"fire-app-check",[uP]:"fire-app-check-compat",[dP]:"fire-auth",[fP]:"fire-auth-compat",[hP]:"fire-rtdb",[pP]:"fire-data-connect",[mP]:"fire-rtdb-compat",[gP]:"fire-fn",[yP]:"fire-fn-compat",[_P]:"fire-iid",[vP]:"fire-iid-compat",[wP]:"fire-fcm",[EP]:"fire-fcm-compat",[TP]:"fire-perf",[SP]:"fire-perf-compat",[kP]:"fire-rc",[xP]:"fire-rc-compat",[CP]:"fire-gcs",[bP]:"fire-gcs-compat",[IP]:"fire-fst",[RP]:"fire-fst-compat",[DP]:"fire-vertex","fire-js":"fire-js",[PP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,MP=new Map,Lg=new Map;function IE(r,e){try{r.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function fl(r){const e=r.name;if(Lg.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,r);for(const t of jf.values())IE(t,r);for(const t of MP.values())IE(t,r);return!0}function My(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new _c("app","Firebase",OP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=AP;function Ik(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(t||(t=kk()),!t)throw Ls.create("no-options");const o=jf.get(i);if(o){if(Vf(t,o.options)&&Vf(n,o.config))return o;throw Ls.create("duplicate-app",{appName:i})}const l=new $R(i);for(const d of Lg.values())l.addComponent(d);const c=new LP(t,n,l);return jf.set(i,c),c}function Dk(r=Og){const e=jf.get(r);if(!e&&r===Og&&kk())return Ik();if(!e)throw Ls.create("no-app",{appName:r});return e}function Fs(r,e,t){var n;let i=(n=NP[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(c.join(" "));return}fl(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebase-heartbeat-database",VP=1,tc="firebase-heartbeat-store";let Zm=null;function Rk(){return Zm||(Zm=tP(FP,VP,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ls.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function jP(r){try{const t=(await Rk()).transaction(tc),n=await t.objectStore(tc).get(Pk(r));return await t.done,n}catch(e){if(e instanceof Vr)Hi.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(t.message)}}}async function DE(r,e){try{const n=(await Rk()).transaction(tc,"readwrite");await n.objectStore(tc).put(e,Pk(r)),await n.done}catch(t){if(t instanceof Vr)Hi.warn(t.message);else{const n=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}function Pk(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,BP=30*24*60*60*1e3;class $P{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HP(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=BP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Hi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RE(),{heartbeatsToSend:n,unsentEntries:i}=WP(this._heartbeatsCache.heartbeats),o=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hi.warn(t),""}}}function RE(){return new Date().toISOString().substring(0,10)}function WP(r,e=UP){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),PE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class HP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(r){return Ff(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(r){fl(new Ko("platform-logger",e=>new iP(e),"PRIVATE")),fl(new Ko("heartbeat",e=>new $P(e),"PRIVATE")),Fs(Mg,bE,r),Fs(Mg,bE,"esm2017"),Fs("fire-js","")}zP("");var qP="firebase",YP="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(qP,YP,"app");function Oy(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KP=Ak,Nk=new _c("auth","Firebase",Ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Ay("@firebase/auth");function QP(r,...e){Uf.logLevel<=$e.WARN&&Uf.warn(`Auth (${Dl}): ${r}`,...e)}function gf(r,...e){Uf.logLevel<=$e.ERROR&&Uf.error(`Auth (${Dl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,...e){throw Ly(r,...e)}function oi(r,...e){return Ly(r,...e)}function Mk(r,e,t){const n=Object.assign(Object.assign({},KP()),{[e]:t});return new _c("auth","Firebase",n).create(e,{appName:r.name})}function Fi(r){return Mk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ly(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Nk.create(r,...e)}function Pe(r,e,...t){if(!r)throw Ly(e,...t)}function Ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gf(e),new Error(e)}function zi(r,e){r||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function GP(){return AE()==="http:"||AE()==="https:"}function AE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GP()||CR()||"connection"in navigator)?navigator.onLine:!0}function JP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=SR()||bR()}get(){return XP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(r,e){zi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new wc(3e4,6e4);function Gs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Xs(r,e,t,n,i={}){return Lk(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=vc(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return xR()||(p.referrerPolicy="no-referrer"),Ok.fetch()(Fk(r,r.config.apiHost,t,c),p)})}async function Lk(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},ZP),e);try{const i=new nA(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Jd(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Jd(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Jd(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mk(r,m,p);Nr(r,m)}}catch(i){if(i instanceof Vr)throw i;Nr(r,"network-request-failed",{message:String(i)})}}async function Ec(r,e,t,n,i={}){const o=await Xs(r,e,t,n,i);return"mfaPendingCredential"in o&&Nr(r,"multi-factor-auth-required",{_serverResponse:o}),o}function Fk(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Fy(r.config,i):`${r.config.apiScheme}://${i}`}function tA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),eA.get())})}}function Jd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=oi(r,e,n);return i.customData._tokenResponse=t,i}function NE(r){return r!==void 0&&r.enterprise!==void 0}class rA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iA(r,e){return Xs(r,"GET","/v2/recaptchaConfig",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(r,e){return Xs(r,"POST","/v1/accounts:delete",e)}async function Vk(r,e){return Xs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oA(r,e=!1){const t=Kt(r),n=await t.getIdToken(e),i=Vy(n);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Yu(eg(i.auth_time)),issuedAtTime:Yu(eg(i.iat)),expirationTime:Yu(eg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function eg(r){return Number(r)*1e3}function Vy(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(t);return i?JSON.parse(i):(gf("Failed to decode base64 JWT payload"),null)}catch(i){return gf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ME(r){const e=Vy(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Vr&&aA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function aA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(r){var e;const t=r.auth,n=await r.getIdToken(),i=await nc(r,Vk(t,{idToken:n}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jk(o.providerUserInfo):[],c=cA(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function uA(r){const e=Kt(r);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cA(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function jk(r){return r.map(e=>{var{providerId:t}=e,n=Oy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(r,e){const t=await Lk(r,{},async()=>{const n=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=Fk(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ok.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fA(r,e){return Xs(r,"POST","/v2/accounts:revokeToken",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=ME(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await dA(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new ol;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oA(this,e)}reload(){return uA(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await nc(this,sA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,p,m;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:H,isAnonymous:Q,providerData:ne,stsTokenManager:A}=t;Pe(j&&A,e,"internal-error");const D=ol.fromJSON(this.name,A);Pe(typeof j=="string",e,"internal-error"),ks(y,e.name),ks(_,e.name),Pe(typeof H=="boolean",e,"internal-error"),Pe(typeof Q=="boolean",e,"internal-error"),ks(E,e.name),ks(k,e.name),ks(C,e.name),ks(I,e.name),ks(N,e.name),ks(F,e.name);const P=new Ni({uid:j,auth:e,email:_,emailVerified:H,displayName:y,isAnonymous:Q,photoURL:k,phoneNumber:E,tenantId:C,stsTokenManager:D,createdAt:N,lastLoginAt:F});return ne&&Array.isArray(ne)&&(P.providerData=ne.map(L=>Object.assign({},L))),I&&(P._redirectEventId=I),P}static async _fromIdTokenResponse(e,t,n=!1){const i=new ol;i.updateFromServerResponse(t);const o=new Ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Bf(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new ol;c.updateFromIdToken(n);const d=new Ni({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function Mi(r){zi(r instanceof Function,"Expected a class definition");let e=OE.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,OE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uk.type="NONE";const LE=Uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r,e,t){return`firebase:${r}:${e}:${t}`}class al{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=yf(this.userKey,i.apiKey,o),this.fullPersistenceKey=yf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new al(Mi(LE),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Mi(LE);const l=yf(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Ni._fromJSON(e,m);p!==o&&(c=y),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new al(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new al(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qk(e))return"Blackberry";if(Yk(e))return"Webos";if($k(e))return"Safari";if((e.includes("chrome/")||Wk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Bk(r=mn()){return/firefox\//i.test(r)}function $k(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wk(r=mn()){return/crios\//i.test(r)}function Hk(r=mn()){return/iemobile/i.test(r)}function zk(r=mn()){return/android/i.test(r)}function qk(r=mn()){return/blackberry/i.test(r)}function Yk(r=mn()){return/webos/i.test(r)}function jy(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hA(r=mn()){var e;return jy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pA(){return IR()&&document.documentMode===10}function Kk(r=mn()){return jy(r)||zk(r)||Yk(r)||qk(r)||/windows phone/i.test(r)||Hk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(r,e=[]){let t;switch(r){case"Browser":t=FE(mn());break;case"Worker":t=`${FE(mn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(r,e={}){return Xs(r,"GET","/v2/passwordPolicy",Gs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=6;class _A{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:yA,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new mA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vk(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Fi(this));const t=e?Kt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gA(this),t=new _A(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await fA(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function na(r){return Kt(r)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wA(r){Ih=r}function Gk(r){return Ih.loadJS(r)}function EA(){return Ih.recaptchaEnterpriseScript}function TA(){return Ih.gapiScript}function SA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kA{constructor(){this.enterprise=new xA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const CA="recaptcha-enterprise",Xk="NO_RECAPTCHA";class bA{constructor(e){this.type=CA,this.auth=na(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{iA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new rA(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;NE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Xk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kA().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&NE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=EA();d.length!==0&&(d+=c),Gk(d).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function jE(r,e,t,n=!1,i=!1){const o=new bA(r);let l;if(i)l=Xk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function jg(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jE(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jE(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r,e){const t=My(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Vf(o,e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}function DA(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function RA(r,e,t){const n=na(r);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Jk(e),{host:l,port:c}=PA(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),AA()}function Jk(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PA(r){const e=Jk(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:UE(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:UE(l)}}}function UE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AA(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function NA(r,e){return Xs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(r,e){return Ec(r,"POST","/v1/accounts:signInWithPassword",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,e){return Ec(r,"POST","/v1/accounts:signInWithEmailLink",Gs(r,e))}async function LA(r,e){return Ec(r,"POST","/v1/accounts:signInWithEmailLink",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Uy{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new rc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new rc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,t,"signInWithPassword",MA);case"emailLink":return OA(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,n,"signUpPassword",NA);case"emailLink":return LA(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(r,e){return Ec(r,"POST","/v1/accounts:signInWithIdp",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="http://localhost";class Qo extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Oy(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Qo(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ll(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ll(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ll(e,t)}buildRequest(){const e={requestUri:FA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jA(r){const e=Fu(Vu(r)).link,t=e?Fu(Vu(e)).deep_link_id:null,n=Fu(Vu(r)).deep_link_id;return(n?Fu(Vu(n)).link:null)||n||t||e||r}class By{constructor(e){var t,n,i,o,l,c;const d=Fu(Vu(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,y=VA((i=d.mode)!==null&&i!==void 0?i:null);Pe(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=jA(e);try{return new By(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,t){return rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=By.parseLink(t);return Pe(n,"argument-error"),rc._fromEmailAndCode(e,n.code,n.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Zk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Tc{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ds.credential(t,n)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Tc{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Tc{constructor(){super("twitter.com")}static credential(e,t){return Qo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ps.credential(t,n)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(r,e){return Ec(r,"POST","/v1/accounts:signUp",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Ni._fromIdTokenResponse(e,n,i),l=BE(n);return new Go({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=BE(n);return new Go({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function BE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Vr{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new $f(e,t,n,i)}}function ex(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(r,o,e,n):o})}async function BA(r,e,t=!1){const n=await nc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Go._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(r,e,t=!1){const{auth:n}=r;if(ii(n.app))return Promise.reject(Fi(n));const i="reauthenticate";try{const o=await nc(r,ex(n,i,e,r),t);Pe(o.idToken,n,"internal-error");const l=Vy(o.idToken);Pe(l,n,"internal-error");const{sub:c}=l;return Pe(r.uid===c,n,"user-mismatch"),Go._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Nr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(r,e,t=!1){if(ii(r.app))return Promise.reject(Fi(r));const n="signIn",i=await ex(r,n,e),o=await Go._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function WA(r,e){return tx(na(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(r){const e=na(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HA(r,e,t){if(ii(r.app))return Promise.reject(Fi(r));const n=na(r),l=await jg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nx(r),d}),c=await Go._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function zA(r,e,t){return ii(r.app)?Promise.reject(Fi(r)):WA(Kt(r),Rl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nx(r),n})}function qA(r,e,t,n){return Kt(r).onIdTokenChanged(e,t,n)}function YA(r,e,t){return Kt(r).beforeAuthStateChanged(e,t)}function KA(r){return Kt(r).signOut()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1e3,GA=10;class ix extends rx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);pA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GA):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},QA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ix.type="LOCAL";const XA=ix;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx extends rx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sx.type="SESSION";const ox=sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Dh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await JA(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=$y("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function eN(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rN(){return ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firebaseLocalStorageDb",iN=1,Hf="firebaseLocalStorage",ux="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(r,e){return r.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function sN(){const r=indexedDB.deleteDatabase(lx);return new Sc(r).toPromise()}function Ug(){const r=indexedDB.open(lx,iN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Hf,{keyPath:ux})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Hf)?e(n):(n.close(),await sN(),e(await Ug()))})})}async function $E(r,e,t){const n=Rh(r,!0).put({[ux]:e,value:t});return new Sc(n).toPromise()}async function oN(r,e){const t=Rh(r,!1).get(e),n=await new Sc(t).toPromise();return n===void 0?null:n.value}function WE(r,e){const t=Rh(r,!0).delete(e);return new Sc(t).toPromise()}const aN=800,lN=3;class cx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>lN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new ZA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await $E(e,Wf,"1"),await WE(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>oN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Rh(i,!1).getAll();return new Sc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cx.type="LOCAL";const uN=cx;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e){return e?Mi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dN(r){return tx(r.auth,new Wy(r),r.bypassAuthState)}function fN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),$A(t,new Wy(r),r.bypassAuthState)}async function hN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),BA(t,new Wy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:Nr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new wc(2e3,1e4);class sl extends dx{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",_f=new Map;class gN extends dx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=_f.get(this.auth._key());if(!e){try{const n=await yN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(r,e){const t=wN(e),n=vN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function _N(r,e){_f.set(r._key(),e)}function vN(r){return Mi(r._redirectPersistence)}function wN(r){return yf(mN,r.config.apiKey,r.name)}async function EN(r,e,t=!1){if(ii(r.app))return Promise.reject(Fi(r));const n=na(r),i=cN(n,e),l=await new gN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=10*60*1e3;class SN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fx(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TN&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fx({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fx(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e={}){return Xs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^https?/;async function IN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xN(r);for(const t of e)try{if(DN(t))return}catch{}Nr(r,"unauthorized-domain")}function DN(r){const e=Fg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!bN.test(t))return!1;if(CN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new wc(3e4,6e4);function zE(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function PN(r){return new Promise((e,t)=>{var n,i,o;function l(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),t(oi(r,"network-request-failed"))},timeout:RN.get()})}if(!((i=(n=ai().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)l();else{const c=SA("iframefcb");return ai()[c]=()=>{gapi.load?l():t(oi(r,"network-request-failed"))},Gk(`${TA()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw vf=null,e})}let vf=null;function AN(r){return vf=vf||PN(r),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new wc(5e3,15e3),MN="__/auth/iframe",ON="emulator/auth/iframe",LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Fy(e,ON):`https://${r.config.authDomain}/${MN}`,n={apiKey:e.apiKey,appName:r.name,v:Dl},i=FN.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${vc(n).slice(1)}`}async function jN(r){const e=await AN(r),t=ai().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:VN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=oi(r,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},NN.get());function d(){ai().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,$N=600,WN="_blank",HN="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zN(r,e,t,n=BN,i=$N){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},UN),{width:n.toString(),height:i.toString(),top:o,left:l}),p=mn().toLowerCase();t&&(c=Wk(p)?WN:t),Bk(p)&&(e=e||HN,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,k])=>`${_}${E}=${k},`,"");if(hA(p)&&c!=="_self")return qN(e||"",c),new qE(null);const y=window.open(e||"",c,m);Pe(y,r,"popup-blocked");try{y.focus()}catch{}return new qE(y)}function qN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",KN="emulator/auth/handler",QN=encodeURIComponent("fac");async function YE(r,e,t,n,i,o){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Dl,eventId:i};if(e instanceof Zk){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",OR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Tc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),p=d?`#${QN}=${encodeURIComponent(d)}`:"";return`${GN(r)}?${vc(c).slice(1)}${p}`}function GN({config:r}){return r.emulator?Fy(r,KN):`https://${r.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class XN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ox,this._completeRedirectFn=EN,this._overrideRedirectResult=_N}async _openPopup(e,t,n,i){var o;zi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await YE(e,t,n,Fg(),i);return zN(e,l,$y())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await YE(e,t,n,Fg(),i);return eN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(zi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await jN(e),n=new SN(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tg,{type:tg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tg];l!==void 0&&t(!!l),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kk()||$k()||jy()}}const JN=XN;var KE="@firebase/auth",QE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t1(r){fl(new Ko("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qk(r)},p=new vA(n,i,o,d);return DA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),fl(new Ko("auth-internal",e=>{const t=na(e.getProvider("auth").getImmediate());return(n=>new ZN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(KE,QE,e1(r)),Fs(KE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=5*60,r1=xk("authIdTokenMaxAge")||n1;let GE=null;const i1=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>r1)return;const i=t==null?void 0:t.token;GE!==i&&(GE=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s1(r=Dk()){const e=My(r,"auth");if(e.isInitialized())return e.getImmediate();const t=IA(r,{popupRedirectResolver:JN,persistence:[uN,XA,ox]}),n=xk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=i1(o.toString());YA(t,l,()=>l(t.currentUser)),qA(t,c=>l(c))}}const i=Sk("auth");return i&&RA(t,`http://${i}`),t}function o1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}wA({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=oi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",o1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t1("Browser");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,hx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,D){function P(){}P.prototype=D.prototype,A.D=D.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(L,V,B){for(var M=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)M[Ee-2]=arguments[Ee];return D.prototype[V].apply(L,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,D,P){P||(P=0);var L=Array(16);if(typeof D=="string")for(var V=0;16>V;++V)L[V]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(V=0;16>V;++V)L[V]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=A.g[0],P=A.g[1],V=A.g[2];var B=A.g[3],M=D+(B^P&(V^B))+L[0]+3614090360&4294967295;D=P+(M<<7&4294967295|M>>>25),M=B+(V^D&(P^V))+L[1]+3905402710&4294967295,B=D+(M<<12&4294967295|M>>>20),M=V+(P^B&(D^P))+L[2]+606105819&4294967295,V=B+(M<<17&4294967295|M>>>15),M=P+(D^V&(B^D))+L[3]+3250441966&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(B^P&(V^B))+L[4]+4118548399&4294967295,D=P+(M<<7&4294967295|M>>>25),M=B+(V^D&(P^V))+L[5]+1200080426&4294967295,B=D+(M<<12&4294967295|M>>>20),M=V+(P^B&(D^P))+L[6]+2821735955&4294967295,V=B+(M<<17&4294967295|M>>>15),M=P+(D^V&(B^D))+L[7]+4249261313&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(B^P&(V^B))+L[8]+1770035416&4294967295,D=P+(M<<7&4294967295|M>>>25),M=B+(V^D&(P^V))+L[9]+2336552879&4294967295,B=D+(M<<12&4294967295|M>>>20),M=V+(P^B&(D^P))+L[10]+4294925233&4294967295,V=B+(M<<17&4294967295|M>>>15),M=P+(D^V&(B^D))+L[11]+2304563134&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(B^P&(V^B))+L[12]+1804603682&4294967295,D=P+(M<<7&4294967295|M>>>25),M=B+(V^D&(P^V))+L[13]+4254626195&4294967295,B=D+(M<<12&4294967295|M>>>20),M=V+(P^B&(D^P))+L[14]+2792965006&4294967295,V=B+(M<<17&4294967295|M>>>15),M=P+(D^V&(B^D))+L[15]+1236535329&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(V^B&(P^V))+L[1]+4129170786&4294967295,D=P+(M<<5&4294967295|M>>>27),M=B+(P^V&(D^P))+L[6]+3225465664&4294967295,B=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(B^D))+L[11]+643717713&4294967295,V=B+(M<<14&4294967295|M>>>18),M=P+(B^D&(V^B))+L[0]+3921069994&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^B&(P^V))+L[5]+3593408605&4294967295,D=P+(M<<5&4294967295|M>>>27),M=B+(P^V&(D^P))+L[10]+38016083&4294967295,B=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(B^D))+L[15]+3634488961&4294967295,V=B+(M<<14&4294967295|M>>>18),M=P+(B^D&(V^B))+L[4]+3889429448&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^B&(P^V))+L[9]+568446438&4294967295,D=P+(M<<5&4294967295|M>>>27),M=B+(P^V&(D^P))+L[14]+3275163606&4294967295,B=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(B^D))+L[3]+4107603335&4294967295,V=B+(M<<14&4294967295|M>>>18),M=P+(B^D&(V^B))+L[8]+1163531501&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^B&(P^V))+L[13]+2850285829&4294967295,D=P+(M<<5&4294967295|M>>>27),M=B+(P^V&(D^P))+L[2]+4243563512&4294967295,B=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(B^D))+L[7]+1735328473&4294967295,V=B+(M<<14&4294967295|M>>>18),M=P+(B^D&(V^B))+L[12]+2368359562&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(P^V^B)+L[5]+4294588738&4294967295,D=P+(M<<4&4294967295|M>>>28),M=B+(D^P^V)+L[8]+2272392833&4294967295,B=D+(M<<11&4294967295|M>>>21),M=V+(B^D^P)+L[11]+1839030562&4294967295,V=B+(M<<16&4294967295|M>>>16),M=P+(V^B^D)+L[14]+4259657740&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^B)+L[1]+2763975236&4294967295,D=P+(M<<4&4294967295|M>>>28),M=B+(D^P^V)+L[4]+1272893353&4294967295,B=D+(M<<11&4294967295|M>>>21),M=V+(B^D^P)+L[7]+4139469664&4294967295,V=B+(M<<16&4294967295|M>>>16),M=P+(V^B^D)+L[10]+3200236656&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^B)+L[13]+681279174&4294967295,D=P+(M<<4&4294967295|M>>>28),M=B+(D^P^V)+L[0]+3936430074&4294967295,B=D+(M<<11&4294967295|M>>>21),M=V+(B^D^P)+L[3]+3572445317&4294967295,V=B+(M<<16&4294967295|M>>>16),M=P+(V^B^D)+L[6]+76029189&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^B)+L[9]+3654602809&4294967295,D=P+(M<<4&4294967295|M>>>28),M=B+(D^P^V)+L[12]+3873151461&4294967295,B=D+(M<<11&4294967295|M>>>21),M=V+(B^D^P)+L[15]+530742520&4294967295,V=B+(M<<16&4294967295|M>>>16),M=P+(V^B^D)+L[2]+3299628645&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(V^(P|~B))+L[0]+4096336452&4294967295,D=P+(M<<6&4294967295|M>>>26),M=B+(P^(D|~V))+L[7]+1126891415&4294967295,B=D+(M<<10&4294967295|M>>>22),M=V+(D^(B|~P))+L[14]+2878612391&4294967295,V=B+(M<<15&4294967295|M>>>17),M=P+(B^(V|~D))+L[5]+4237533241&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~B))+L[12]+1700485571&4294967295,D=P+(M<<6&4294967295|M>>>26),M=B+(P^(D|~V))+L[3]+2399980690&4294967295,B=D+(M<<10&4294967295|M>>>22),M=V+(D^(B|~P))+L[10]+4293915773&4294967295,V=B+(M<<15&4294967295|M>>>17),M=P+(B^(V|~D))+L[1]+2240044497&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~B))+L[8]+1873313359&4294967295,D=P+(M<<6&4294967295|M>>>26),M=B+(P^(D|~V))+L[15]+4264355552&4294967295,B=D+(M<<10&4294967295|M>>>22),M=V+(D^(B|~P))+L[6]+2734768916&4294967295,V=B+(M<<15&4294967295|M>>>17),M=P+(B^(V|~D))+L[13]+1309151649&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~B))+L[4]+4149444226&4294967295,D=P+(M<<6&4294967295|M>>>26),M=B+(P^(D|~V))+L[11]+3174756917&4294967295,B=D+(M<<10&4294967295|M>>>22),M=V+(D^(B|~P))+L[2]+718787259&4294967295,V=B+(M<<15&4294967295|M>>>17),M=P+(B^(V|~D))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+D&4294967295,A.g[1]=A.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+B&4294967295}n.prototype.u=function(A,D){D===void 0&&(D=A.length);for(var P=D-this.blockSize,L=this.B,V=this.h,B=0;B<D;){if(V==0)for(;B<=P;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<D;)if(L[V++]=A.charCodeAt(B++),V==this.blockSize){i(this,L),V=0;break}}else for(;B<D;)if(L[V++]=A[B++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=D},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var D=1;D<A.length-8;++D)A[D]=0;var P=8*this.o;for(D=A.length-8;D<A.length;++D)A[D]=P&255,P/=256;for(this.u(A),A=Array(16),D=P=0;4>D;++D)for(var L=0;32>L;L+=8)A[P++]=this.g[D]>>>L&255;return A};function o(A,D){var P=c;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=D(A)}function l(A,D){this.h=D;for(var P=[],L=!0,V=A.length-1;0<=V;V--){var B=A[V]|0;L&&B==D||(P[V]=B,L=!1)}this.g=P}var c={};function d(A){return-128<=A&&128>A?o(A,function(D){return new l([D|0],0>D?-1:0)}):new l([A|0],0>A?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return y;if(0>A)return I(p(-A));for(var D=[],P=1,L=0;A>=P;L++)D[L]=A/P|0,P*=4294967296;return new l(D,0)}function m(A,D){if(A.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A.charAt(0)=="-")return I(m(A.substring(1),D));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(D,8)),L=y,V=0;V<A.length;V+=8){var B=Math.min(8,A.length-V),M=parseInt(A.substring(V,V+B),D);8>B?(B=p(Math.pow(D,B)),L=L.j(B).add(p(M))):(L=L.j(P),L=L.add(p(M)))}return L}var y=d(0),_=d(1),E=d(16777216);r=l.prototype,r.m=function(){if(C(this))return-I(this).m();for(var A=0,D=1,P=0;P<this.g.length;P++){var L=this.i(P);A+=(0<=L?L:4294967296+L)*D,D*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(C(this))return"-"+I(this).toString(A);for(var D=p(Math.pow(A,6)),P=this,L="";;){var V=H(P,D).g;P=N(P,V.j(D));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=V,k(P))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var D=0;D<A.g.length;D++)if(A.g[D]!=0)return!1;return!0}function C(A){return A.h==-1}r.l=function(A){return A=N(this,A),C(A)?-1:k(A)?0:1};function I(A){for(var D=A.g.length,P=[],L=0;L<D;L++)P[L]=~A.g[L];return new l(P,~A.h).add(_)}r.abs=function(){return C(this)?I(this):this},r.add=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0,V=0;V<=D;V++){var B=L+(this.i(V)&65535)+(A.i(V)&65535),M=(B>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);L=M>>>16,B&=65535,M&=65535,P[V]=M<<16|B}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(A,D){return A.add(I(D))}r.j=function(A){if(k(this)||k(A))return y;if(C(this))return C(A)?I(this).j(I(A)):I(I(this).j(A));if(C(A))return I(this.j(I(A)));if(0>this.l(E)&&0>A.l(E))return p(this.m()*A.m());for(var D=this.g.length+A.g.length,P=[],L=0;L<2*D;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<A.g.length;V++){var B=this.i(L)>>>16,M=this.i(L)&65535,Ee=A.i(V)>>>16,xe=A.i(V)&65535;P[2*L+2*V]+=M*xe,F(P,2*L+2*V),P[2*L+2*V+1]+=B*xe,F(P,2*L+2*V+1),P[2*L+2*V+1]+=M*Ee,F(P,2*L+2*V+1),P[2*L+2*V+2]+=B*Ee,F(P,2*L+2*V+2)}for(L=0;L<D;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=D;L<2*D;L++)P[L]=0;return new l(P,0)};function F(A,D){for(;(A[D]&65535)!=A[D];)A[D+1]+=A[D]>>>16,A[D]&=65535,D++}function j(A,D){this.g=A,this.h=D}function H(A,D){if(k(D))throw Error("division by zero");if(k(A))return new j(y,y);if(C(A))return D=H(I(A),D),new j(I(D.g),I(D.h));if(C(D))return D=H(A,I(D)),new j(I(D.g),D.h);if(30<A.g.length){if(C(A)||C(D))throw Error("slowDivide_ only works with positive integers.");for(var P=_,L=D;0>=L.l(A);)P=Q(P),L=Q(L);var V=ne(P,1),B=ne(L,1);for(L=ne(L,2),P=ne(P,2);!k(L);){var M=B.add(L);0>=M.l(A)&&(V=V.add(P),B=M),L=ne(L,1),P=ne(P,1)}return D=N(A,V.j(D)),new j(V,D)}for(V=y;0<=A.l(D);){for(P=Math.max(1,Math.floor(A.m()/D.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=p(P),M=B.j(D);C(M)||0<M.l(A);)P-=L,B=p(P),M=B.j(D);k(B)&&(B=_),V=V.add(B),A=N(A,M)}return new j(V,A)}r.A=function(A){return H(this,A).h},r.and=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)&A.i(L);return new l(P,this.h&A.h)},r.or=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)|A.i(L);return new l(P,this.h|A.h)},r.xor=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)^A.i(L);return new l(P,this.h^A.h)};function Q(A){for(var D=A.g.length+1,P=[],L=0;L<D;L++)P[L]=A.i(L)<<1|A.i(L-1)>>>31;return new l(P,A.h)}function ne(A,D){var P=D>>5;D%=32;for(var L=A.g.length-P,V=[],B=0;B<L;B++)V[B]=0<D?A.i(B+P)>>>D|A.i(B+P+1)<<32-D:A.i(B+P);return new l(V,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,hx=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Vs=l}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var px,ju,mx,wf,Bg,gx,yx,_x;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(f,v){if(v)e:{var T=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var z=f[R];if(!(z in T))break e;T=T[z]}f=f[f.length-1],R=T[f],v=v(R),v!=R&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var T=0,R=!1,z={next:function(){if(!R&&T<f.length){var X=T++;return{value:v(X,f[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function y(f,v,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),f.apply(v,z)}}return function(){return f.apply(v,arguments)}}function _(f,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function E(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function k(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,z,X){for(var ue=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ue[rt-2]=arguments[rt];return v.prototype[z].apply(R,ue)}}function C(f){const v=f.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=f[R];return T}return[]}function I(f,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(d(R)){const z=f.length||0,X=R.length||0;f.length=z+X;for(let ue=0;ue<X;ue++)f[z+ue]=R[ue]}else f.push(R)}}class N{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var Q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ne(f,v,T){for(const R in f)v.call(T,f[R],R,f)}function A(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function D(f){const v={};for(const T in f)v[T]=f[T];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let T,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(T in R)f[T]=R[T];for(let X=0;X<P.length;X++)T=P[X],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function V(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function B(f){c.setTimeout(()=>{throw f},0)}function M(){var f=fe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,T){const R=xe.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var xe=new N(()=>new ce,f=>f.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,G=!1,fe=new Ee,le=()=>{const f=c.Promise.resolve(void 0);de=()=>{f.then(W)}};var W=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(T){B(T)}var v=xe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}G=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f}();function Oe(f,v){if(_e.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Q){e:{try{H(v.nodeName);var z=!0;break e}catch{}z=!1}z||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}k(Oe,_e);var Ve={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),He=0;function Je(f,v,T,R,z){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=z,this.key=++He,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function kn(f){this.src=f,this.g={},this.h=0}kn.prototype.add=function(f,v,T,R,z){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ue=xn(f,v,R,z);return-1<ue?(v=f[ue],T||(v.fa=!1)):(v=new Je(v,this.src,X,!!R,z),v.fa=T,f.push(v)),v};function jn(f,v){var T=v.type;if(T in f.g){var R=f.g[T],z=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=z)&&Array.prototype.splice.call(R,z,1),X&&(ht(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function xn(f,v,T,R){for(var z=0;z<f.length;++z){var X=f[z];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==R)return z}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),et={};function Ur(f,v,T,R,z){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Ur(f,v[X],T,R,z);return null}return T=to(T),f&&f[Be]?f.K(v,T,p(R)?!!R.capture:!1,z):hr(f,v,T,!1,R,z)}function hr(f,v,T,R,z,X){if(!v)throw Error("Invalid event type");var ue=p(z)?!!z.capture:!!z,rt=Zi(f);if(rt||(f[Cn]=rt=new kn(f)),T=rt.add(v,T,R,ue,X),T.proxy)return T;if(R=la(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)Re||(z=ue),z===void 0&&(z=!1),f.addEventListener(v.toString(),R,z);else if(f.attachEvent)f.attachEvent(mr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function la(){function f(T){return v.call(f.src,f.listener,T)}const v=eo;return f}function Ji(f,v,T,R,z){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ji(f,v[X],T,R,z);else R=p(R)?!!R.capture:!!R,T=to(T),f&&f[Be]?(f=f.i,v=String(v).toString(),v in f.g&&(X=f.g[v],T=xn(X,T,R,z),-1<T&&(ht(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete f.g[v],f.h--)))):f&&(f=Zi(f))&&(v=f.g[v.toString()],f=-1,v&&(f=xn(v,T,R,z)),(T=-1<f?v[f]:null)&&pr(T))}function pr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Be])jn(v.i,f);else{var T=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(T,R,f.capture):v.detachEvent?v.detachEvent(mr(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Zi(v))?(jn(T,f),T.h==0&&(T.src=null,v[Cn]=null)):ht(f)}}}function mr(f){return f in et?et[f]:et[f]="on"+f}function eo(f,v){if(f.da)f=!0;else{v=new Oe(v,this);var T=f.listener,R=f.ha||f.src;f.fa&&pr(f),f=T.call(R,v)}return f}function Zi(f){return f=f[Cn],f instanceof kn?f:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(f){return typeof f=="function"?f:(f[gi]||(f[gi]=function(v){return f.handleEvent(v)}),f[gi])}function De(){ee.call(this),this.i=new kn(this),this.M=this,this.F=null}k(De,ee),De.prototype[Be]=!0,De.prototype.removeEventListener=function(f,v,T,R){Ji(this,f,v,T,R)};function ut(f,v){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new _e(v,f);else if(v instanceof _e)v.target=v.target||f;else{var z=v;v=new _e(R,f),L(v,z)}if(z=!0,T)for(var X=T.length-1;0<=X;X--){var ue=v.g=T[X];z=Jn(ue,R,!0,v)&&z}if(ue=v.g=f,z=Jn(ue,R,!0,v)&&z,z=Jn(ue,R,!1,v)&&z,T)for(X=0;X<T.length;X++)ue=v.g=T[X],z=Jn(ue,R,!1,v)&&z}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],R=0;R<T.length;R++)ht(T[R]);delete f.g[v],f.h--}}this.F=null},De.prototype.K=function(f,v,T,R){return this.i.add(String(f),v,!1,T,R)},De.prototype.L=function(f,v,T,R){return this.i.add(String(f),v,!0,T,R)};function Jn(f,v,T,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==T){var rt=ue.listener,Vt=ue.ha||ue.src;ue.fa&&jn(f.i,ue),z=rt.call(Vt,R)!==!1&&z}}return z&&!R.defaultPrevented}function jl(f,v,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(f,v||0)}function es(f){f.g=jl(()=>{f.g=null,f.i&&(f.i=!1,es(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class no extends ee{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(f){ee.call(this),this.h=f,this.g={}}k(ro,ee);var Ul=[];function Bl(f){ne(f.g,function(v,T){this.g.hasOwnProperty(T)&&pr(v)},f),f.g={}}ro.prototype.N=function(){ro.aa.N.call(this),Bl(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=c.JSON.stringify,Wl=c.JSON.parse,Hl=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function io(){}io.prototype.h=null;function ua(f){return f.h||(f.h=f.i())}function ca(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){_e.call(this,"d")}k(Br,_e);function da(){_e.call(this,"c")}k(da,_e);var $r={},zl=null;function so(){return zl=zl||new De}$r.La="serverreachability";function ql(f){_e.call(this,$r.La,f)}k(ql,_e);function yi(f){const v=so();ut(v,new ql(v))}$r.STAT_EVENT="statevent";function Yl(f,v){_e.call(this,$r.STAT_EVENT,f),this.stat=v}k(Yl,_e);function It(f){const v=so();ut(v,new Yl(v,f))}$r.Ma="timingevent";function fa(f,v){_e.call(this,$r.Ma,f),this.size=v}k(fa,_e);function gr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function ao(f,v,T,R,z,X){f.info(function(){if(f.g)if(X)for(var ue="",rt=X.split("&"),Vt=0;Vt<rt.length;Vt++){var Ye=rt[Vt].split("=");if(1<Ye.length){var Wt=Ye[0];Ye=Ye[1];var Nt=Wt.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+(Wt+"="+Ye+"&"):ue+(Wt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+v+`
`+T+`
`+ue})}function ha(f,v,T,R,z,X,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+v+`
`+T+`
`+X+" "+ue})}function yr(f,v,T,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+gp(f,T)+(R?" "+R:"")})}function Kl(f,v){f.info(function(){return"TIMEOUT: "+v})}oo.prototype.info=function(){};function gp(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return $l(T)}catch{return v}}var pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function lo(){}k(lo,io),lo.prototype.g=function(){return new XMLHttpRequest},lo.prototype.i=function(){return{}},_r=new lo;function vr(f,v,T,R){this.j=f,this.i=v,this.l=T,this.R=R||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fc}function Fc(){this.i=null,this.g="",this.h=!1}var Ql={},ma={};function ga(f,v,T){f.L=1,f.v=ss(Bn(v)),f.m=T,f.P=!0,Gl(f,null)}function Gl(f,v){f.F=Date.now(),ct(f),f.A=Bn(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),as(T.i,"t",R),f.C=0,T=f.j.J,f.h=new Fc,f.g=td(f.j,T?v:null,!f.m),0<f.O&&(f.M=new no(_(f.Y,f,f.g),f.O)),v=f.U,T=f.g,R=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ul[0]=z.toString()),z=Ul);for(var X=0;X<z.length;X++){var ue=Ur(T,z[X],R||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),yi(),ao(f.i,f.u,f.A,f.l,f.R,f.m)}vr.prototype.ca=function(f){f=f.target;const v=this.M;v&&In(f)==3?v.j():this.Y(f)},vr.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=In(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=nr?yi(3):yi(2)),uo(this);var T=this.g.Z();this.X=T;t:if(Vc(this)){var R=nu(this.g);f="";var z=R.length,X=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ts(this);var ue="";break t}this.h.i=new c.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(X&&v==z-1)});R.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,ha(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Vt=this.g;if((rt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(rt)){var Ye=rt;break t}}Ye=null}if(T=Ye)yr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,T);else{this.o=!1,this.s=3,It(12),er(this),ts(this);break e}}if(this.P){T=!0;let Wn;for(;!this.J&&this.C<ue.length;)if(Wn=yp(this,ue),Wn==ma){Nt==4&&(this.s=4,It(14),T=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Ql){this.s=4,It(15),yr(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else yr(this.i,this.l,Wn,null),Xl(this,Wn);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,It(16),T=!1),this.o=this.o&&T,!T)yr(this.i,this.l,ue,"[Invalid Chunked Response]"),er(this),ts(this);else if(0<ue.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),iu(Wt),Wt.M=!0,It(11))}}else yr(this.i,this.l,ue,null),Xl(this,ue);Nt==4&&er(this),this.o&&!this.J&&(Nt==4?ba(this.j,this):(this.o=!1,ct(this)))}else Ta(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),er(this),ts(this)}}}catch{}finally{}};function Vc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function yp(f,v){var T=f.C,R=v.indexOf(`
`,T);return R==-1?ma:(T=Number(v.substring(T,R)),isNaN(T)?Ql:(R+=1,R+T>v.length?ma:(v=v.slice(R,R+T),f.C=R+T,v)))}vr.prototype.cancel=function(){this.J=!0,er(this)};function ct(f){f.S=Date.now()+f.I,jc(f,f.I)}function jc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gr(_(f.ba,f),v)}function uo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}vr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Kl(this.i,this.A),this.L!=2&&(yi(),It(17)),er(this),this.s=2,ts(this)):jc(this,this.S-f)};function ts(f){f.j.G==0||f.J||ba(f.j,f)}function er(f){uo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Bl(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Xl(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||gn(T.h,f))){if(!f.K&&gn(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ca(T),kr(T);else break e;xa(T),It(18)}}else T.za=z[1],0<T.za-T.T&&37500>z[2]&&T.F&&T.v==0&&!T.C&&(T.C=gr(_(T.Za,T),6e3));if(1>=Bc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ti(T,11)}else if((f.K||T.g==f)&&Ca(T),!F(v))for(z=T.Da.g.parse(v),v=0;v<z.length;v++){let Ye=z[v];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const Wt=Ye[3];Wt!=null&&(T.la=Wt,T.j.info("VER="+T.la));const Nt=Ye[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const nr=Ye[5];nr!=null&&typeof nr=="number"&&0<nr&&(R=1.5*nr,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Wn=f.g;if(Wn){const yo=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var X=R.h;X.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Jl(X,X.h),X.h=null))}if(R.D){const Da=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(R.ya=Da,lt(R.I,R.D,Da))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ue=f;if(R.qa=ed(R,R.J?R.ia:null,R.W),ue.K){$c(R.h,ue);var rt=ue,Vt=R.L;Vt&&(rt.I=Vt),rt.B&&(uo(rt),ct(rt)),R.g=ue}else go(R);0<T.i.length&&qr(T)}else Ye[0]!="stop"&&Ye[0]!="close"||Ti(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ti(T,7):Xt(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}yi(4)}catch{}}var Uc=class{constructor(f,v){this.g=f,this.map=v}};function co(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bc(f){return f.h?1:f.g?f.g.size:0}function gn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Jl(f,v){f.g?f.g.add(v):f.h=v}function $c(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}co.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Wc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return C(f.i)}function ya(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],T=f.length,R=0;R<T;R++)v.push(f[R]);return v}v=[],T=0;for(R in f)v[T++]=f[R];return v}function _a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const R in f)v[T++]=R;return v}}}function ns(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=_a(f),R=ya(f),z=R.length,X=0;X<z;X++)v.call(void 0,R[X],T&&T[X],f)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _p(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),z=null;if(0<=R){var X=f[T].substring(0,R);z=f[T].substring(R+1)}else X=f[T];v(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _i(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _i){this.h=f.h,ho(this,f.j),this.o=f.o,this.g=f.g,rs(this,f.s),this.l=f.l;var v=f.i,T=new Wr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),is(this,T),this.m=f.m}else f&&(v=String(f).match(fo))?(this.h=!1,ho(this,v[1]||"",!0),this.o=ze(v[2]||""),this.g=ze(v[3]||"",!0),rs(this,v[4]),this.l=ze(v[5]||"",!0),is(this,v[6]||"",!0),this.m=ze(v[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}_i.prototype.toString=function(){var f=[],v=this.j;v&&f.push(os(v,va,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(os(v,va,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(os(T,T.charAt(0)=="/"?qc:zc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",os(T,Zl)),f.join("")};function Bn(f){return new _i(f)}function ho(f,v,T){f.j=T?ze(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function rs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function is(f,v,T){v instanceof Wr?(f.i=v,Hr(f.i,f.h)):(T||(v=os(v,Yc)),f.i=new Wr(v,f.h))}function lt(f,v,T){f.i.set(v,T)}function ss(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function os(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Hc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var va=/[#\/\?@]/g,zc=/[#\?:]/g,qc=/[#\?]/g,Yc=/[#\?@]/g,Zl=/#/g;function Wr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gt(f){f.g||(f.g=new Map,f.h=0,f.i&&_p(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=Wr.prototype,r.add=function(f,v){Gt(this),this.i=null,f=tr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function wr(f,v){Gt(f),v=tr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Er(f,v){return Gt(f),v=tr(f,v),f.g.has(v)}r.forEach=function(f,v){Gt(this),this.g.forEach(function(T,R){T.forEach(function(z){f.call(v,z,R,this)},this)},this)},r.na=function(){Gt(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const z=f[R];for(let X=0;X<z.length;X++)T.push(v[R])}return T},r.V=function(f){Gt(this);let v=[];if(typeof f=="string")Er(this,f)&&(v=v.concat(this.g.get(tr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},r.set=function(f,v){return Gt(this),this.i=null,f=tr(this,f),Er(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},r.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function as(f,v,T){wr(f,v),0<T.length&&(f.i=null,f.g.set(tr(f,v),C(T)),f.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const X=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var z=X;ue[R]!==""&&(z+="="+encodeURIComponent(String(ue[R]))),f.push(z)}}return this.i=f.join("&")};function tr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Hr(f,v){v&&!f.j&&(Gt(f),f.i=null,f.g.forEach(function(T,R){var z=R.toLowerCase();R!=z&&(wr(this,R),as(this,z,T))},f)),f.j=v}function vp(f,v){const T=new oo;if(c.Image){const R=new Image;R.onload=E(bn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=E(bn,T,"TestLoadImage: error",!1,v,R),R.onabort=E(bn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=E(bn,T,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Kc(f,v){const T=new oo,R=new AbortController,z=setTimeout(()=>{R.abort(),bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(X=>{clearTimeout(z),X.ok?bn(T,"TestPingServer: ok",!0,v):bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),bn(T,"TestPingServer: error",!1,v)})}function bn(f,v,T,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(T)}catch{}}function wp(){this.g=new Hl}function Qc(f,v,T){const R=T||"";try{ns(f,function(z,X){let ue=z;p(z)&&(ue=$l(z)),v.push(R+X+"="+encodeURIComponent(ue))})}catch(z){throw v.push(R+"type="+encodeURIComponent("_badmap")),z}}function vi(f){this.l=f.Ub||null,this.j=f.eb||!1}k(vi,io),vi.prototype.g=function(){return new po(this.l,this.j)},vi.prototype.i=function(f){return function(){return f}}({});function po(f,v){De.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(po,De),r=po.prototype,r.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Sr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Tr(this):Sr(this),this.readyState==3&&Gc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Tr(this))},r.Qa=function(f){this.g&&(this.response=f,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Sr(f)}r.setRequestHeader=function(f,v){this.u.append(f,v)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Sr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wi(f){let v="";return ne(f,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function ls(f,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=wi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):lt(f,v,T))}function _t(f){De.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(_t,De);var Ep=/^https?$/i,eu=["POST","PUT"];r=_t.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?ua(this.o):ua(_r),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(X){mo(this,X);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)T.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),z=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eu,v,void 0))||R||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){mo(this,X)}};function mo(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,wa(f),$n(f)}function wa(f){f.A||(f.A=!0,ut(f,"complete"),ut(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ut(this,"complete"),ut(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tu(this):this.bb())},r.bb=function(){tu(this)};function tu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||In(f)!=4||f.Z()!=2)){if(f.u&&In(f)==4)jl(f.Ea,0,f);else if(ut(f,"readystatechange"),In(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=ue===0){var z=String(f.D).match(fo)[1]||null;!z&&c.self&&c.self.location&&(z=c.self.location.protocol.slice(0,-1)),R=!Ep.test(z?z.toLowerCase():"")}T=R}if(T)ut(f,"complete"),ut(f,"success");else{f.m=6;try{var X=2<In(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",wa(f)}}finally{$n(f)}}}}function $n(f,v){if(f.g){Ea(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ut(f,"ready");try{T.onreadystatechange=R}catch{}}}function Ea(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function In(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Wl(v)}};function nu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(f){const v={};f=(f.g&&2<=In(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(F(f[R]))continue;var T=V(f[R]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[z]||[];v[z]=X,X.push(T)}A(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function ru(f){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,f),this.cb=zr("retryDelaySeedMs",1e4,f),this.Wa=zr("forwardChannelMaxRetries",2,f),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new co(f&&f.concurrentRequestLimit),this.Da=new wp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ru.prototype,r.la=8,r.G=1,r.connect=function(f,v,T,R){It(0),this.W=f,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=ed(this,null,this.W),qr(this)};function Xt(f){if(Sa(f),f.G==3){var v=f.U++,T=Bn(f.I);if(lt(T,"SID",f.K),lt(T,"RID",v),lt(T,"TYPE","terminate"),Ei(f,T),v=new vr(f,f.j,v),v.L=2,v.v=ss(Bn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=td(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ct(v)}Zc(f)}function kr(f){f.g&&(iu(f),f.g.cancel(),f.g=null)}function Sa(f){kr(f),f.u&&(c.clearTimeout(f.u),f.u=null),Ca(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function qr(f){if(!Un(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||le(),G||(de(),G=!0),fe.add(v,f),f.B=0}}function Tp(f,v){return Bc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gr(_(f.Ga,f,v),Jc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new vr(this,this.j,f);let X=this.o;if(this.S&&(X?(X=D(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=us(this,z,v),T=Bn(this.I),lt(T,"RID",f),lt(T,"CVER",22),this.D&&lt(T,"X-HTTP-Session-Id",this.D),Ei(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(wi(X)))+"&"+v:this.m&&ls(T,this.m,X)),Jl(this.h,z),this.Ua&&lt(T,"TYPE","init"),this.P?(lt(T,"$req",v),lt(T,"SID","null"),z.T=!0,ga(z,T,null)):ga(z,T,v),this.G=2}}else this.G==3&&(f?ka(this,f):this.i.length==0||Un(this.h)||ka(this))};function ka(f,v){var T;v?T=v.l:T=f.U++;const R=Bn(f.I);lt(R,"SID",f.K),lt(R,"RID",T),lt(R,"AID",f.T),Ei(f,R),f.m&&f.o&&ls(R,f.m,f.o),T=new vr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=us(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Jl(f.h,T),ga(T,R,v)}function Ei(f,v){f.H&&ne(f.H,function(T,R){lt(v,R,T)}),f.l&&ns({},function(T,R){lt(v,R,T)})}function us(f,v,T){T=Math.min(f.i.length,T);var R=f.l?_(f.l.Na,f.l,f):null;e:{var z=f.i;let X=-1;for(;;){const ue=["count="+T];X==-1?0<T?(X=z[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let rt=!0;for(let Vt=0;Vt<T;Vt++){let Ye=z[Vt].g;const Wt=z[Vt].map;if(Ye-=X,0>Ye)X=Math.max(0,z[Vt].g-100),rt=!1;else try{Qc(Wt,ue,"req"+Ye+"_")}catch{R&&R(Wt)}}if(rt){R=ue.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,R}function go(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||le(),G||(de(),G=!0),fe.add(v,f),f.v=0}}function xa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gr(_(f.Fa,f),Jc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gr(_(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),kr(this),Xc(this))};function iu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Xc(f){f.g=new vr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Bn(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Ei(f,v),f.m&&f.o&&ls(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ss(Bn(v)),T.m=null,T.P=!0,Gl(T,f)}r.Za=function(){this.C!=null&&(this.C=null,kr(this),xa(this),It(19))};function Ca(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function ba(f,v){var T=null;if(f.g==v){Ca(f),iu(f),f.g=null;var R=2}else if(gn(f.h,v))T=v.D,$c(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var z=f.B;R=so(),ut(R,new fa(R,T)),qr(f)}else go(f);else if(z=v.s,z==3||z==0&&0<v.X||!(R==1&&Tp(f,v)||R==2&&xa(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),z){case 1:Ti(f,5);break;case 4:Ti(f,10);break;case 3:Ti(f,6);break;default:Ti(f,2)}}}function Jc(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function Ti(f,v){if(f.j.info("Error code "+v),v==2){var T=_(f.fb,f),R=f.Xa;const z=!R;R=new _i(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ho(R,"https"),ss(R),z?vp(R.toString(),T):Kc(R.toString(),T)}else It(2);f.G=0,f.l&&f.l.sa(v),Zc(f),Sa(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Zc(f){if(f.G=0,f.ka=[],f.l){const v=Wc(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ka,v),I(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function ed(f,v,T){var R=T instanceof _i?Bn(T):new _i(T);if(R.g!="")v&&(R.g=v+"."+R.g),rs(R,R.s);else{var z=c.location;R=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var X=new _i(null);R&&ho(X,R),v&&(X.g=v),z&&rs(X,z),T&&(X.l=T),R=X}return T=f.D,v=f.ya,T&&v&&lt(R,T,v),lt(R,"VER",f.la),Ei(f,R),R}function td(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new _t(new vi({eb:T})):new _t(f.pa),v.Ha(f.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ia(){}Ia.prototype.g=function(f,v){return new yn(f,v)};function yn(f,v){De.call(this),this.g=new ru(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Yr(this)}k(yn,De),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Xt(this.g)},yn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=$l(f),f=T);v.i.push(new Uc(v.Ya++,f)),v.G==3&&qr(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,yn.aa.N.call(this)};function nd(f){Br.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}k(nd,Br);function rd(){da.call(this),this.status=1}k(rd,da);function Yr(f){this.g=f}k(Yr,su),Yr.prototype.ua=function(){ut(this.g,"a")},Yr.prototype.ta=function(f){ut(this.g,new nd(f))},Yr.prototype.sa=function(f){ut(this.g,new rd)},Yr.prototype.ra=function(){ut(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,_x=function(){return new Ia},yx=function(){return so()},gx=$r,Bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,wf=pa,Lc.COMPLETE="complete",mx=Lc,ca.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",De.prototype.listen=De.prototype.K,ju=ca,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,px=_t}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Ay("@firebase/firestore");function el(){return Xo.logLevel}function ye(r,...e){if(Xo.logLevel<=$e.DEBUG){const t=e.map(Hy);Xo.debug(`Firestore (${Pl}): ${r}`,...t)}}function qi(r,...e){if(Xo.logLevel<=$e.ERROR){const t=e.map(Hy);Xo.error(`Firestore (${Pl}): ${r}`,...t)}}function hl(r,...e){if(Xo.logLevel<=$e.WARN){const t=e.map(Hy);Xo.warn(`Firestore (${Pl}): ${r}`,...t)}}function Hy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+r;throw qi(e),new Error(e)}function nt(r,e){r||Ne()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class l1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class u1{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nt(typeof n.accessToken=="string"),new vx(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new cn(e)}}class c1{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class d1{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new c1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const n=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new f1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=p1(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function qe(r,e){return r<e?-1:r>e?1:0}function pl(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ft(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ft(0,0))}static max(){return new Me(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ne(),n===void 0?n=e.length-t:n>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Zr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Zr.isNumericId(e),i=Zr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class gt extends Zr{construct(e,t,n){return new gt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const m1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Zr{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return m1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(gt.fromString(e))}static fromName(e){return new Ce(gt.fromString(e).popFirst(5))}static empty(){return new Ce(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new gt(e.slice()))}}function g1(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(n===1e9?new Ft(t+1,0):new Ft(t,n));return new $s(i,Ce.empty(),e)}function y1(r){return new $s(r.readTime,r.key,-1)}class $s{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $s(Me.min(),Ce.empty(),-1)}static max(){return new $s(Me.max(),Ce.empty(),-1)}}function _1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==v1)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,n)=>{t(e)})}static reject(e){return new te((t,n)=>{n(e)})}static waitFor(e){return new te((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=te.resolve(!1);for(const n of e)t=t.next(i=>i?te.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new te((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new te((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function E1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ph.oe=-1;function Ah(r){return r==null}function zf(r){return r===0&&1/r==-1/0}function T1(r){return typeof r=="number"&&Number.isInteger(r)&&!zf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ZE(e)),e=k1(r.get(t),e);return ZE(e)}function k1(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function ZE(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Js(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ex(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??en.RED,this.left=i??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new en(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,n,i,o){return this}insert(e,t,n){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new $t(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tx("Invalid base64 string: "+o):o}}(e);return new rn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const x1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(r){if(nt(!!r),typeof r=="string"){let e=0;const t=x1.exec(r);if(nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nh(r){const e=r.mapValue.fields.__previous_value__;return zy(e)?Nh(e):e}function ic(r){const e=Ws(r.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,n,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zy(r)?4:I1(r)?9007199254740991:b1(r)?10:11:Ne()}function hi(r,e){if(r===e)return!0;const t=zs(r);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ic(r).isEqual(ic(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ws(i.timestampValue),c=Ws(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Hs(i.bytesValue).isEqual(Hs(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Rt(i.doubleValue),c=Rt(o.doubleValue);return l===c?zf(l)===zf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(eT(l)!==eT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!hi(l[d],c[d])))return!1;return!0}(r,e);default:return Ne()}}function oc(r,e){return(r.values||[]).find(t=>hi(t,e))!==void 0}function ml(r,e){if(r===e)return 0;const t=zs(r),n=zs(e);if(t!==n)return qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Rt(o.integerValue||o.doubleValue),d=Rt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return nT(r.timestampValue,e.timestampValue);case 4:return nT(ic(r),ic(e));case 5:return qe(r.stringValue,e.stringValue);case 6:return function(o,l){const c=Hs(o),d=Hs(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=qe(c[p],d[p]);if(m!==0)return m}return qe(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=qe(Rt(o.latitude),Rt(l.latitude));return c!==0?c:qe(Rt(o.longitude),Rt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return rT(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,m;const y=o.fields||{},_=l.fields||{},E=(c=y.value)===null||c===void 0?void 0:c.arrayValue,k=(d=_.value)===null||d===void 0?void 0:d.arrayValue,C=qe(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:rT(E,k)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===tf.mapValue&&l===tf.mapValue)return 0;if(o===tf.mapValue)return 1;if(l===tf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=qe(d[y],m[y]);if(_!==0)return _;const E=ml(c[d[y]],p[m[y]]);if(E!==0)return E}return qe(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Ne()}}function nT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=Ws(r),n=Ws(e),i=qe(t.seconds,n.seconds);return i!==0?i:qe(t.nanos,n.nanos)}function rT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=ml(t[i],n[i]);if(o)return o}return qe(t.length,n.length)}function gl(r){return $g(r)}function $g(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ws(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Hs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ce.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=$g(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${$g(t.fields[l])}`;return i+"}"}(r.mapValue):Ne()}function Ef(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(r);return e?16+Ef(e):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Ef(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Js(n.fields,(o,l)=>{i+=o.length+Ef(l)}),i}(r.mapValue);default:throw Ne()}}function iT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wg(r){return!!r&&"integerValue"in r}function qy(r){return!!r&&"arrayValue"in r}function sT(r){return!!r&&"nullValue"in r}function oT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tf(r){return!!r&&"mapValue"in r}function b1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ku(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Ku(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(r.arrayValue.values[t]);return e}return Object.assign({},r)}function I1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=tn.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=Ku(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Js(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Ln(Ku(this.value))}}function Sx(r){const e=[];return Js(r.fields,(t,n)=>{const i=new tn([t]);if(Tf(n)){const o=Sx(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new dn(e,0,Me.min(),Me.min(),Me.min(),Ln.empty(),0)}static newFoundDocument(e,t,n,i){return new dn(e,1,t,Me.min(),n,i,0)}static newNoDocument(e,t){return new dn(e,2,t,Me.min(),Me.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Me.min(),Me.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.position=e,this.inclusive=t}}function aT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Ce.comparator(Ce.fromName(l.referenceValue),t.key):n=ml(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function lT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t="asc"){this.field=e,this.dir=t}}function D1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{}class Lt extends kx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new P1(e,t,n):t==="array-contains"?new M1(e,n):t==="in"?new O1(e,n):t==="not-in"?new L1(e,n):t==="array-contains-any"?new F1(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new A1(e,n):new N1(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ml(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends kx{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Mr(e,t)}matches(e){return xx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xx(r){return r.op==="and"}function Cx(r){return R1(r)&&xx(r)}function R1(r){for(const e of r.filters)if(e instanceof Mr)return!1;return!0}function Hg(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+gl(r.value);if(Cx(r))return r.filters.map(e=>Hg(e)).join(",");{const e=r.filters.map(t=>Hg(t)).join(",");return`${r.op}(${e})`}}function bx(r,e){return r instanceof Lt?function(n,i){return i instanceof Lt&&n.op===i.op&&n.field.isEqual(i.field)&&hi(n.value,i.value)}(r,e):r instanceof Mr?function(n,i){return i instanceof Mr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&bx(l,i.filters[c]),!0):!1}(r,e):void Ne()}function Ix(r){return r instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`}(r):r instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map(Ix).join(" ,")+"}"}(r):"Filter"}class P1 extends Lt{constructor(e,t,n){super(e,t,n),this.key=Ce.fromName(n.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class A1 extends Lt{constructor(e,t){super(e,"in",t),this.keys=Dx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class N1 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=Dx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dx(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ce.fromName(n.referenceValue))}class M1 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qy(t)&&oc(t.arrayValue,this.value)}}class O1 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&oc(this.value.arrayValue,t)}}class L1 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!oc(this.value.arrayValue,t)}}class F1 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>oc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function uT(r,e=null,t=[],n=[],i=null,o=null,l=null){return new V1(r,e,t,n,i,o,l)}function Yy(r){const e=Le(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Hg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>gl(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>gl(n)).join(",")),e.ue=t}return e.ue}function Ky(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!D1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lT(r.startAt,e.startAt)&&lT(r.endAt,e.endAt)}function zg(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j1(r,e,t,n,i,o,l,c){return new kc(r,e,t,n,i,o,l,c)}function Mh(r){return new kc(r)}function cT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Rx(r){return r.collectionGroup!==null}function Qu(r){const e=Le(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new $t(tn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yf(o,n))}),t.has(tn.keyField().canonicalString())||e.ce.push(new Yf(tn.keyField(),n))}return e.ce}function li(r){const e=Le(r);return e.le||(e.le=U1(e,Qu(r))),e.le}function U1(r,e){if(r.limitType==="F")return uT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yf(i.field,o)});const t=r.endAt?new qf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new qf(r.startAt.position,r.startAt.inclusive):null;return uT(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function qg(r,e){const t=r.filters.concat([e]);return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Yg(r,e,t){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Oh(r,e){return Ky(li(r),li(e))&&r.limitType===e.limitType}function Px(r){return`${Yy(li(r))}|lt:${r.limitType}`}function tl(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>Ix(i)).join(", ")}]`),Ah(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>gl(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>gl(i)).join(",")),`Target(${n})`}(li(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ce.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Qu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const p=aT(l,c,d);return l.inclusive?p<=0:p<0}(n.startAt,Qu(n),i)||n.endAt&&!function(l,c,d){const p=aT(l,c,d);return l.inclusive?p>=0:p>0}(n.endAt,Qu(n),i))}(r,e)}function B1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ax(r){return(e,t)=>{let n=!1;for(const i of Qu(r)){const o=$1(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function $1(r,e,t){const n=r.field.isKeyField()?Ce.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?ml(d,p):Ne()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return Ex(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new kt(Ce.comparator);function Yi(){return W1}const Nx=new kt(Ce.comparator);function Uu(...r){let e=Nx;for(const t of r)e=e.insert(t.key,t);return e}function Mx(r){let e=Nx;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Lo(){return Gu()}function Ox(){return Gu()}function Gu(){return new ra(r=>r.toString(),(r,e)=>r.isEqual(e))}const H1=new kt(Ce.comparator),z1=new $t(Ce.comparator);function We(...r){let e=z1;for(const t of r)e=e.add(t);return e}const q1=new $t(qe);function Y1(){return q1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function Lx(r){return{integerValue:""+r}}function K1(r,e){return T1(e)?Lx(e):Qy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function Q1(r,e,t){return r instanceof ac?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zy(o)&&(o=Nh(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof lc?Vx(r,e):r instanceof uc?jx(r,e):function(i,o){const l=Fx(i,o),c=dT(l)+dT(i.Pe);return Wg(l)&&Wg(i.Pe)?Lx(c):Qy(i.serializer,c)}(r,e)}function G1(r,e,t){return r instanceof lc?Vx(r,e):r instanceof uc?jx(r,e):t}function Fx(r,e){return r instanceof Kf?function(n){return Wg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ac extends Fh{}class lc extends Fh{constructor(e){super(),this.elements=e}}function Vx(r,e){const t=Ux(e);for(const n of r.elements)t.some(i=>hi(i,n))||t.push(n);return{arrayValue:{values:t}}}class uc extends Fh{constructor(e){super(),this.elements=e}}function jx(r,e){let t=Ux(e);for(const n of r.elements)t=t.filter(i=>!hi(i,n));return{arrayValue:{values:t}}}class Kf extends Fh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function dT(r){return Rt(r.integerValue||r.doubleValue)}function Ux(r){return qy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.field=e,this.transform=t}}function J1(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof lc&&i instanceof lc||n instanceof uc&&i instanceof uc?pl(n.elements,i.elements,hi):n instanceof Kf&&i instanceof Kf?hi(n.Pe,i.Pe):n instanceof ac&&i instanceof ac}(r.transform,e.transform)}class Z1{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vh{}function Bx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gy(r.key,dr.none()):new xc(r.key,r.data,dr.none());{const t=r.data,n=Ln.empty();let i=new $t(tn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Zs(r.key,n,new Qn(i.toArray()),dr.none())}}function eM(r,e,t){r instanceof xc?function(i,o,l){const c=i.value.clone(),d=hT(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Zs?function(i,o,l){if(!Sf(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=hT(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll($x(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Xu(r,e,t,n){return r instanceof xc?function(o,l,c,d){if(!Sf(o.precondition,l))return c;const p=o.value.clone(),m=pT(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Zs?function(o,l,c,d){if(!Sf(o.precondition,l))return c;const p=pT(o.fieldTransforms,d,l),m=l.data;return m.setAll($x(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(r,e,t,n):function(o,l,c){return Sf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function tM(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=Fx(n.transform,i||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(n.field,o))}return t||null}function fT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&pl(n,i,(o,l)=>J1(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xc extends Vh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Vh{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $x(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function hT(r,e,t){const n=new Map;nt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,G1(l,c,t[i]))}return n}function pT(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,Q1(o,l,e))}return n}class Gy extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nM extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eM(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ox();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=Bx(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,n)=>fT(t,n))&&pl(this.baseMutations,e.baseMutations,(t,n)=>fT(t,n))}}class Xy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){nt(e.mutations.length===n.length);let i=function(){return H1}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new Xy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ke;function oM(r){switch(r){default:return Ne();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function Wx(r){if(r===void 0)return qi("GRPC error has no .code"),re.UNKNOWN;switch(r){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return Ne()}}(Ke=Ot||(Ot={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Vs([4294967295,4294967295],0);function mT(r){const e=aM().encode(r),t=new hx;return t.update(e),new Uint8Array(t.digest())}function gT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vs([t,n],0),new Vs([i,o],0)]}class Jy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bu(`Invalid padding: ${t}`);if(n<0)throw new Bu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Vs.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Vs.fromNumber(n)));return i.compare(lM)===1&&(i=new Vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=mT(e),[n,i]=gT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Jy(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=mT(e),[n,i]=gT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jh(Me.min(),i,new kt(qe),Yi(),We())}}class Cc{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cc(n,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Hx{constructor(e,t){this.targetId=e,this.me=t}}class zx{constructor(e,t,n=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class yT{constructor(){this.fe=0,this.ge=_T(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),n=We();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ne()}}),new Cc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=_T()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uM{constructor(e){this.Be=e,this.Le=new Map,this.ke=Yi(),this.qe=nf(),this.Qe=nf(),this.Ke=new kt(qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(zg(o))if(n===0){const l=new Ce(o.path);this.We(t,l,dn.newNoDocument(l,Me.min()))}else nt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Hs(n).toUint8Array()}catch(d){if(d instanceof Tx)return hl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Jy(l,i,o)}catch(d){return hl(d instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&zg(c.target)){const d=new Ce(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,dn.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=We();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new jh(e,t,this.Ke,this.ke,n);return this.ke=Yi(),this.qe=nf(),this.Qe=nf(),this.Ke=new kt(qe),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new yT,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new $t(qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new yT),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function nf(){return new kt(Ce.comparator)}function _T(){return new kt(Ce.comparator)}const cM={asc:"ASCENDING",desc:"DESCENDING"},dM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fM={and:"AND",or:"OR"};class hM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function Qf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pM(r,e){return Qf(r,e.toTimestamp())}function ui(r){return nt(!!r),Me.fromTimestamp(function(t){const n=Ws(t);return new Ft(n.seconds,n.nanos)}(r))}function Zy(r,e){return Qg(r,e).canonicalString()}function Qg(r,e){const t=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Yx(r){const e=gt.fromString(r);return nt(Jx(e)),e}function Gg(r,e){return Zy(r.databaseId,e.path)}function ng(r,e){const t=Yx(e);if(t.get(1)!==r.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(Qx(t))}function Kx(r,e){return Zy(r.databaseId,e)}function mM(r){const e=Yx(r);return e.length===4?gt.emptyPath():Qx(e)}function Xg(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qx(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function vT(r,e,t){return{name:Gg(r,e),fields:t.value.mapValue.fields}}function gM(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(nt(m===void 0||typeof m=="string"),rn.fromBase64String(m||"")):(nt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),rn.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?re.UNKNOWN:Wx(p.code);return new we(m,p.message||"")}(l);t=new zx(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ng(r,n.document.name),o=ui(n.document.updateTime),l=n.document.createTime?ui(n.document.createTime):Me.min(),c=new Ln({mapValue:{fields:n.document.fields}}),d=dn.newFoundDocument(i,o,l,c),p=n.targetIds||[],m=n.removedTargetIds||[];t=new kf(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ng(r,n.document),o=n.readTime?ui(n.readTime):Me.min(),l=dn.newNoDocument(i,o),c=n.removedTargetIds||[];t=new kf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ng(r,n.document),o=n.removedTargetIds||[];t=new kf([],o,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new sM(i,o),c=n.targetId;t=new Hx(c,l)}}return t}function yM(r,e){let t;if(e instanceof xc)t={update:vT(r,e.key,e.value)};else if(e instanceof Gy)t={delete:Gg(r,e.key)};else if(e instanceof Zs)t={update:vT(r,e.key,e.data),updateMask:CM(e.fieldMask)};else{if(!(e instanceof nM))return Ne();t={verify:Gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof ac)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof lc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ne()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(r,e.precondition)),t}function _M(r,e){return r&&r.length>0?(nt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ui(i.updateTime):ui(o);return l.isEqual(Me.min())&&(l=ui(o)),new Z1(l,i.transformResults||[])}(t,e))):[]}function vM(r,e){return{documents:[Kx(r,e.path)]}}function wM(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Kx(r,i);const o=function(p){if(p.length!==0)return Xx(Mr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:nl(_.field),direction:SM(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Kg(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function EM(r){let e=mM(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){nt(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const _=Gx(y);return _ instanceof Mr&&Cx(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(k){return new Yf(rl(k.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Ah(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(y){const _=!!y.before,E=y.values||[];return new qf(E,_)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const _=!y.before,E=y.values||[];return new qf(E,_)}(t.endAt)),j1(e,i,l,o,c,"F",d,p)}function TM(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gx(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=rl(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=rl(t.unaryFilter.field);return Lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rl(t.unaryFilter.field);return Lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rl(t.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(r):r.fieldFilter!==void 0?function(t){return Lt.create(rl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(n=>Gx(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(r):Ne()}function SM(r){return cM[r]}function kM(r){return dM[r]}function xM(r){return fM[r]}function nl(r){return{fieldPath:r.canonicalString()}}function rl(r){return tn.fromServerFormat(r.fieldPath)}function Xx(r){return r instanceof Lt?function(t){if(t.op==="=="){if(oT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(sT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(sT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:kM(t.op),value:t.value}}}(r):r instanceof Mr?function(t){const n=t.getFilters().map(i=>Xx(i));return n.length===1?n[0]:{compositeFilter:{op:xM(t.op),filters:n}}}(r):Ne()}function CM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,n,i,o=Me.min(),l=Me.min(),c=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.ht=e}}function IM(r){const e=EM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.ln=new RM}addToCollectionParentIndex(e,t){return this.ln.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve($s.min())}updateCollectionGroup(e,t,n){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class RM{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new $t(gt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $t(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new yl(0)}static Qn(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET([r,e],[t,n]){const i=qe(r,t);return i===0?qe(e,n):i}class PM{constructor(e){this.Gn=e,this.buffer=new $t(ET),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();ET(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AM{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nl(t)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Al(t)}await this.Yn(3e5)})}}class NM{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Ph.oe);const n=new PM(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(wT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wT):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(p=Date.now(),el()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function MM(r,e){return new NM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?te.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Xu(n.mutation,i,Qn.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,We()).next(()=>n))}getLocalViewOfDocuments(e,t,n=We()){const i=Lo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Uu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Lo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,We()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=Yi();const l=Gu(),c=function(){return Gu()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Zs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Xu(m.mutation,p,m.mutation.getFieldMask(),Ft.now())):l.set(p.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return c.set(p,new LM(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Gu();let i=new kt((l,c)=>l-c),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||Qn.empty();m=c.applyToLocalView(p,m),n.set(d,m);const y=(i.get(c.batchId)||We()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=Ox();m.forEach(_=>{if(!o.has(_)){const E=Bx(t.get(_),n.get(_));E!==null&&y.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return te.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):te.resolve(Lo());let c=-1,d=o;return l.next(p=>te.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,We())).next(m=>({batchId:c,changes:Mx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(n=>{let i=Uu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,o).next(c=>te.forEach(c,d=>{const p=function(y,_){return new kc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,dn.newInvalidDocument(m)))});let c=Uu();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Xu(m.mutation,p,Qn.empty(),Ft.now()),Lh(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return te.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:IM(i.bundledQuery),readTime:ui(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.overlays=new kt(Ce.comparator),this.dr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Lo();return te.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),te.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),te.resolve()}getOverlaysForCollection(e,t,n){const i=Lo(),o=t.length+1,l=new Ce(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new kt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=Lo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Lo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return te.resolve(c)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new iM(t,n));let o=this.dr.get(t);o===void 0&&(o=We(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Er=new $t(Yt.Ar),this.Rr=new $t(Yt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new Yt(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new Yt(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new Ce(new gt([])),n=new Yt(t,e),i=new Yt(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ce(new gt([])),n=new Yt(t,e),i=new Yt(t,e+1);let o=We();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Yt(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Yt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ce.comparator(e.key,t.key)||qe(e.br,t.br)}static Vr(e,t){return qe(e.br,t.br)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new $t(Yt.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new rM(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new Yt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const c=this.Cr(l.br);o.push(c)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $t(qe);return t.forEach(i=>{const o=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{n=n.add(c.br)})}),te.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ce.isDocumentKey(o)||(o=o.child(""));const l=new Yt(new Ce(o),0);let c=new $t(qe);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.br)),!0)},l),te.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){nt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return te.forEach(t.mutations,i=>{const o=new Yt(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new Yt(t,0),i=this.vr.firstAfterOrEqual(n);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.Nr=e,this.docs=function(){return new kt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return te.resolve(n?n.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let n=Yi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),te.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Yi();const l=t.path,c=new Ce(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||_1(y1(m),n)<=0||(i.has(m.key)||Lh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ne()}Br(e,t){return te.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new WM(this)}getSize(e){return te.resolve(this.size)}}class WM extends OM{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),te.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.persistence=e,this.Lr=new ra(t=>Yy(t),Ky),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new e_,this.targetCount=0,this.Qr=yl.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),te.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Un(t),te.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return te.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),te.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return te.resolve(n)}containsKey(e,t){return te.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ph(0),this.Ur=!1,this.Ur=!0,this.Wr=new UM,this.referenceDelegate=e(this),this.Gr=new HM(this),this.indexManager=new DM,this.remoteDocumentCache=function(i){return new $M(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new bM(t),this.jr=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new BM(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const i=new zM(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return te.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class zM extends w1{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.Zr=new e_,this.Xr=null}static ei(e){return new t_(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),te.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),te.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,n=>{const i=Ce.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return te.or([()=>te.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.ri=new ra(n=>S1(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=MM(this,t)}static ei(e,t){return new Gf(e,t)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return te.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?te.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(n++,o.removeEntry(l,Me.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}ir(e,t,n){return te.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return te.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n_(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return DR()?8:E1(mn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new qM;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(el()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(el()<=$e.DEBUG&&ye("QueryEngine","Query:",tl(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(el()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):te.resolve())}Xi(e,t){if(cT(t))return te.resolve(null);let n=li(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Yg(t,null,"F"),n=li(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=We(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.rs(t,c);return this.ss(t,p,l,d.readTime)?this.Xi(e,Yg(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,n,i){return cT(t)||i.isEqual(Me.min())?te.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?te.resolve(null):(el()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(t)),this.os(e,l,t,g1(i,-1)).next(c=>c))})}rs(e,t){let n=new $t(Ax(e));return t.forEach((i,o)=>{Lh(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return el()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",tl(t)),this.Zi.getDocumentsMatchingQuery(e,t,$s.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new kt(qe),this.cs=new ra(o=>Yy(o),Ky),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function QM(r,e,t,n){return new KM(r,e,t,n)}async function eC(r,e){const t=Le(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=We();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function GM(r,e){const t=Le(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,_=y.keys();let E=te.resolve();return _.forEach(k=>{E=E.next(()=>m.getEntry(d,k)).next(C=>{const I=p.docVersions.get(k);nt(I!==null),C.version.compareTo(I)<0&&(y.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=We();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function tC(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function XM(r,e){const t=Le(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,y)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(rn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,n)),i=i.insert(y,E),function(C,I,N){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,E,m)&&c.push(t.Gr.updateTargetData(o,E))});let d=Yi(),p=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(JM(o,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!n.isEqual(Me.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(y=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return te.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function JM(r,e,t){let n=We(),i=We();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Yi();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function ZM(r,e){const t=Le(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function eO(r,e){const t=Le(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,te.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Ns(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function Jg(r,e,t){const n=Le(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Nl(l))throw l;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function TT(r,e,t){const n=Le(r);let i=Me.min(),o=We();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Le(d),_=y.cs.get(m);return _!==void 0?te.resolve(y.us.get(_)):y.Gr.getTargetData(p,m)}(n,l,li(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:Me.min(),t?o:We())).next(c=>(tO(n,B1(e),c),{documents:c,Es:o})))}function tO(r,e,t){let n=r.ls.get(e)||Me.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class ST{constructor(){this.activeTargetIds=Y1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this._o=new ST,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ST,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function rg(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class oO extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const c=rg(),d=this.No(t,n.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(m=>(ye("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw hl("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,n,i,o,l,c){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=iO[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=rg();return new Promise((l,c)=>{const d=new px;d.setWithCredentials(!0),d.listenOnce(mx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wf.NO_ERROR:const m=d.getResponseJson();ye(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case wf.TIMEOUT:ye(un,`RPC '${e}' ${o} timed out`),c(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const y=d.getStatus();if(ye(un,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const k=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(E.status);c(new we(k,E.message))}else c(new we(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new we(re.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(un,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ye(un,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}qo(e,t,n){const i=rg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_x(),c=yx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");ye(un,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let _=!1,E=!1;const k=new sO({Eo:I=>{E?ye(un,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(ye(un,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),ye(un,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Ao:()=>y.close()}),C=(I,N,F)=>{I.listen(N,j=>{try{F(j)}catch(H){setTimeout(()=>{throw H},0)}})};return C(y,ju.EventType.OPEN,()=>{E||(ye(un,`RPC '${e}' stream ${i} transport opened.`),k.So())}),C(y,ju.EventType.CLOSE,()=>{E||(E=!0,ye(un,`RPC '${e}' stream ${i} transport closed`),k.Do())}),C(y,ju.EventType.ERROR,I=>{E||(E=!0,hl(un,`RPC '${e}' stream ${i} transport errored:`,I),k.Do(new we(re.UNAVAILABLE,"The operation could not be completed")))}),C(y,ju.EventType.MESSAGE,I=>{var N;if(!E){const F=I.data[0];nt(!!F);const j=F,H=(j==null?void 0:j.error)||((N=j[0])===null||N===void 0?void 0:N.error);if(H){ye(un,`RPC '${e}' stream ${i} received error:`,H);const Q=H.status;let ne=function(P){const L=Ot[P];if(L!==void 0)return Wx(L)}(Q),A=H.message;ne===void 0&&(ne=re.INTERNAL,A="Unknown error status: "+Q+" with message "+H.message),E=!0,k.Do(new we(ne,A)),y.close()}else ye(un,`RPC '${e}' stream ${i} received:`,F),k.vo(F)}}),C(c,gx.STAT_EVENT,I=>{I.stat===Bg.PROXY?ye(un,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Bg.NOPROXY&&ye(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new hM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t,n,i,o,l,c,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new nC(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends rC{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=gM(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?ui(l.readTime):Me.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Xg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=zg(d)?{documents:vM(o,d)}:{query:wM(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qx(o,l.resumeToken);const p=Kg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Qf(o,l.snapshotVersion.toTimestamp());const p=Kg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=TM(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Xg(this.serializer),t.removeTarget=e,this.c_(t)}}class lO extends rC{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=_M(e.writeResults,e.commitTime),n=ui(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Xg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>yM(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Qg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(re.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Qg(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class cO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(qi(t),this.C_=!1):ye("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{ia(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Le(d);p.k_.add(4),await bc(p),p.K_.set("Unknown"),p.k_.delete(4),await Bh(p)}(this))})}),this.K_=new cO(n,i)}}async function Bh(r){if(ia(r))for(const e of r.q_)await e(!0)}async function bc(r){for(const e of r.q_)await e(!1)}function iC(r,e){const t=Le(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),o_(t)?s_(t):Ml(t).s_()&&i_(t,e))}function r_(r,e){const t=Le(r),n=Ml(t);t.L_.delete(e),n.s_()&&sC(t,e),t.L_.size===0&&(n.s_()?n.a_():ia(t)&&t.K_.set("Unknown"))}function i_(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ml(r).V_(e)}function sC(r,e){r.U_.xe(e),Ml(r).m_(e)}function s_(r){r.U_=new uM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Ml(r).start(),r.K_.F_()}function o_(r){return ia(r)&&!Ml(r).i_()&&r.L_.size>0}function ia(r){return Le(r).k_.size===0}function oC(r){r.U_=void 0}async function fO(r){r.K_.set("Online")}async function hO(r){r.L_.forEach((e,t)=>{i_(r,e)})}async function pO(r,e){oC(r),o_(r)?(r.K_.O_(e),s_(r)):r.K_.set("Unknown")}async function mO(r,e,t){if(r.K_.set("Online"),e instanceof zx&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(r,e)}catch(n){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xf(r,n)}else if(e instanceof kf?r.U_.$e(e):e instanceof Hx?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Me.min()))try{const n=await tC(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.L_.get(p);m&&o.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=o.L_.get(d);if(!m)return;o.L_.set(d,m.withResumeToken(rn.EMPTY_BYTE_STRING,m.snapshotVersion)),sC(o,d);const y=new Ns(m.target,d,p,m.sequenceNumber);i_(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){ye("RemoteStore","Failed to raise snapshot:",n),await Xf(r,n)}}async function Xf(r,e,t){if(!Nl(e))throw e;r.k_.add(1),await bc(r),r.K_.set("Offline"),t||(t=()=>tC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Bh(r)})}function aC(r,e){return e().catch(t=>Xf(r,t,e))}async function $h(r){const e=Le(r),t=qs(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;gO(e);)try{const i=await ZM(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,yO(e,i)}catch(i){await Xf(e,i)}lC(e)&&uC(e)}function gO(r){return ia(r)&&r.B_.length<10}function yO(r,e){r.B_.push(e);const t=qs(r);t.s_()&&t.f_&&t.g_(e.mutations)}function lC(r){return ia(r)&&!qs(r).i_()&&r.B_.length>0}function uC(r){qs(r).start()}async function _O(r){qs(r).w_()}async function vO(r){const e=qs(r);for(const t of r.B_)e.g_(t.mutations)}async function wO(r,e,t){const n=r.B_.shift(),i=Xy.from(n,e,t);await aC(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await $h(r)}async function EO(r,e){e&&qs(r).f_&&await async function(n,i){if(function(l){return oM(l)&&l!==re.ABORTED}(i.code)){const o=n.B_.shift();qs(n).__(),await aC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $h(n)}}(r,e),lC(r)&&uC(r)}async function xT(r,e){const t=Le(r);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const n=ia(t);t.k_.add(3),await bc(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Bh(t)}async function TO(r,e){const t=Le(r);e?(t.k_.delete(2),await Bh(t)):e||(t.k_.add(2),await bc(t),t.K_.set("Unknown"))}function Ml(r){return r.W_||(r.W_=function(t,n,i){const o=Le(t);return o.b_(),new aO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:fO.bind(null,r),mo:hO.bind(null,r),po:pO.bind(null,r),R_:mO.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),o_(r)?s_(r):r.K_.set("Unknown")):(await r.W_.stop(),oC(r))})),r.W_}function qs(r){return r.G_||(r.G_=function(t,n,i){const o=Le(t);return o.b_(),new lO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:_O.bind(null,r),po:EO.bind(null,r),p_:vO.bind(null,r),y_:wO.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await $h(r)):(await r.G_.stop(),r.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new a_(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(r,e){if(qi("AsyncQueue",`${e}: ${r}`),Nl(r))return new we(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ce.comparator(t.key,n.key):(t,n)=>Ce.comparator(t.key,n.key),this.keyedMap=Uu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ul;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.z_=new kt(Ce.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class _l{constructor(e,t,n,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new _l(e,t,ul.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class kO{constructor(){this.queries=bT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=Le(t),o=i.queries;i.queries=bT(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(n)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function bT(){return new ra(r=>Px(r),Oh)}async function u_(r,e){const t=Le(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new SO,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=l_(l,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&d_(t)}async function c_(r,e){const t=Le(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function xO(r,e){const t=Le(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(n=!0);l.H_=i}}n&&d_(t)}function CO(r,e,t){const n=Le(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function d_(r){r.X_.forEach(e=>{e.next()})}var Zg,IT;(IT=Zg||(Zg={})).na="default",IT.Cache="cache";class f_{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new _l(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.key=e}}class dC{constructor(e){this.key=e}}class bO{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=Ax(e),this.ma=new ul(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new CT,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),E=Lh(this.query,y)?y:null,k=!!_&&this.mutatedKeys.has(_.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?k!==C&&(n.track({type:3,doc:E}),I=!0):this.ya(_,E)||(n.track({type:2,doc:E}),I=!0,(d&&this.Va(E,d)>0||p&&this.Va(E,p)<0)&&(c=!0)):!_&&E?(n.track({type:0,doc:E}),I=!0):_&&!E&&(n.track({type:1,doc:_}),I=!0,(d||p)&&(c=!0)),I&&(E?(l=l.add(E),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{ma:l,pa:n,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,y)=>function(E,k){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return C(E)-C(k)}(m.type,y.type)||this.Va(m.doc,y.doc)),this.wa(n),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new _l(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new CT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new dC(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new cC(n))}),t}va(e){this.Ea=e.Es,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return _l.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class IO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class DO{constructor(e){this.key=e,this.Fa=!1}}class RO{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new ra(c=>Px(c),Oh),this.Oa=new Map,this.Na=new Set,this.Ba=new kt(Ce.comparator),this.La=new Map,this.ka=new e_,this.qa={},this.Qa=new Map,this.Ka=yl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function PO(r,e,t=!0){const n=yC(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await fC(n,e,t,!0),i}async function AO(r,e){const t=yC(r);await fC(t,e,!0,!1)}async function fC(r,e,t,n){const i=await eO(r.localStore,li(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await NO(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&iC(r.remoteStore,i),c}async function NO(r,e,t,n,i){r.Ua=(y,_,E)=>async function(C,I,N,F){let j=I.view.ga(N);j.ss&&(j=await TT(C.localStore,I.query,!1).then(({documents:A})=>I.view.ga(A,j)));const H=F&&F.targetChanges.get(I.targetId),Q=F&&F.targetMismatches.get(I.targetId)!=null,ne=I.view.applyChanges(j,C.isPrimaryClient,H,Q);return RT(C,I.targetId,ne.ba),ne.snapshot}(r,y,_,E);const o=await TT(r.localStore,e,!0),l=new bO(e,o.Es),c=l.ga(o.documents),d=Cc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(c,r.isPrimaryClient,d);RT(r,t,p.ba);const m=new IO(e,t,l);return r.xa.set(e,m),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),p.snapshot}async function MO(r,e,t){const n=Le(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!Oh(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Jg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&r_(n.remoteStore,i.targetId),ey(n,i.targetId)}).catch(Al)):(ey(n,i.targetId),await Jg(n.localStore,i.targetId,!0))}async function OO(r,e){const t=Le(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),r_(t.remoteStore,n.targetId))}async function LO(r,e,t){const n=WO(r);try{const i=await function(l,c){const d=Le(l),p=Ft.now(),m=c.reduce((E,k)=>E.add(k.key),We());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let k=Yi(),C=We();return d.hs.getEntries(E,m).next(I=>{k=I,k.forEach((N,F)=>{F.isValidDocument()||(C=C.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,k)).next(I=>{y=I;const N=[];for(const F of c){const j=tM(F,y.get(F.key).overlayedDocument);j!=null&&N.push(new Zs(F.key,j,Sx(j.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,N,c)}).next(I=>{_=I;const N=I.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(E,I.batchId,N)})}).then(()=>({batchId:_.batchId,changes:Mx(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new kt(qe)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(n,i.batchId,t),await Ic(n,i.changes),await $h(n.remoteStore)}catch(i){const o=l_(i,"Failed to persist write");t.reject(o)}}async function hC(r,e){const t=Le(r);try{const n=await XM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?nt(l.Fa):i.removedDocuments.size>0&&(nt(l.Fa),l.Fa=!1))}),await Ic(t,n,e)}catch(n){await Al(n)}}function DT(r,e,t){const n=Le(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Le(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const _ of y.J_)_.ea(c)&&(p=!0)}),p&&d_(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FO(r,e,t){const n=Le(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new kt(Ce.comparator);l=l.insert(o,dn.newNoDocument(o,Me.min()));const c=We().add(o),d=new jh(Me.min(),new Map,new kt(qe),l,c);await hC(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),h_(n)}else await Jg(n.localStore,e,!1).then(()=>ey(n,e,t)).catch(Al)}async function VO(r,e){const t=Le(r),n=e.batch.batchId;try{const i=await GM(t.localStore,e);mC(t,n,null),pC(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ic(t,i)}catch(i){await Al(i)}}async function jO(r,e,t){const n=Le(r);try{const i=await function(l,c){const d=Le(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(nt(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);mC(n,e,t),pC(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ic(n,i)}catch(i){await Al(i)}}function pC(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function mC(r,e,t){const n=Le(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function ey(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||gC(r,n)})}function gC(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(r_(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),h_(r))}function RT(r,e,t){for(const n of t)n instanceof cC?(r.ka.addReference(n.key,e),UO(r,n)):n instanceof dC?(ye("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||gC(r,n.key)):Ne()}function UO(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(ye("SyncEngine","New document in limbo: "+t),r.Na.add(n),h_(r))}function h_(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Ce(gt.fromString(e)),n=r.Ka.next();r.La.set(n,new DO(t)),r.Ba=r.Ba.insert(t,n),iC(r.remoteStore,new Ns(li(Mh(t.path)),n,"TargetPurposeLimboResolution",Ph.oe))}}async function Ic(r,e,t){const n=Le(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,d)=>{l.push(n.Ua(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=n_.zi(d.targetId,p);o.push(y)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,p){const m=Le(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>te.forEach(p,_=>te.forEach(_.Wi,E=>m.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>te.forEach(_.Gi,E=>m.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!Nl(y))throw y;ye("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const E=m.us.get(_),k=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(k);m.us=m.us.insert(_,C)}}}(n.localStore,o))}async function BO(r,e){const t=Le(r);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const n=await eC(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new we(re.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ic(t,n.Ts)}}function $O(r,e){const t=Le(r),n=t.La.get(e);if(n&&n.Fa)return We().add(n.key);{let i=We();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function yC(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FO.bind(null,e),e.Ma.R_=xO.bind(null,e.eventManager),e.Ma.Wa=CO.bind(null,e.eventManager),e}function WO(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return QM(this.persistence,new YM,e.initialUser,this.serializer)}ja(e){return new Zx(t_.ei,this.serializer)}za(e){return new nO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class HO extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){nt(this.persistence.referenceDelegate instanceof Gf);const n=this.persistence.referenceDelegate.garbageCollector;return new AM(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Zx(n=>Gf.ei(n,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>DT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kO}()}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),n=function(o){return new oO(o)}(e.databaseInfo);return function(o,l,c,d){return new uO(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new dO(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>DT(this.syncEngine,t,0),function(){return kT.p()?new kT:new rO}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,m){const y=new RO(i,o,l,c,d,p);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Le(i);ye("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await bc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{ye("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(ye("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=l_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function sg(r,e){r.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await eC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function PT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await qO(r);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>xT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>xT(e.remoteStore,i)),r._onlineComponents=e}async function qO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),await sg(r,new Jf)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await sg(r,new HO(void 0));return r._offlineComponents}async function _C(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await PT(r,r._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await PT(r,new ty))),r._onlineComponents}function YO(r){return _C(r).then(e=>e.syncEngine)}async function Zf(r){const e=await _C(r),t=e.eventManager;return t.onListen=PO.bind(null,e.syncEngine),t.onUnlisten=MO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OO.bind(null,e.syncEngine),t}function KO(r,e,t={}){const n=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new p_({next:_=>{m.eu(),l.enqueueAndForget(()=>c_(o,y));const E=_.docs.has(c);!E&&_.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new f_(Mh(c.path),m,{includeMetadataChanges:!0,ua:!0});return u_(o,y)}(await Zf(r),r.asyncQueue,e,t,n)),n.promise}function QO(r,e,t={}){const n=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new p_({next:_=>{m.eu(),l.enqueueAndForget(()=>c_(o,y)),_.fromCache&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new f_(c,m,{includeMetadataChanges:!0,ua:!0});return u_(o,y)}(await Zf(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GO(r,e,t,n){if(e===!0&&n===!0)throw new we(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function NT(r){if(!Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function MT(r){if(Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne()}function Fn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wh(r);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new a1;switch(n.type){case"firstParty":return new d1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=AT.get(t);n&&(ye("ComponentProvider","Removing Datastore"),AT.delete(t),n.terminate())}(this),Promise.resolve()}}function XO(r,e,t,n={}){var i;const o=(r=Fn(r,Hh))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=cn.MOCK_USER;else{c=TR(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new cn(p)}r._authCredentials=new l1(new vx(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class pn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class js extends sa{constructor(e,t,n){super(e,t,Mh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ce(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Bo(r,e,...t){if(r=Kt(r),wC("collection","path",e),r instanceof Hh){const n=gt.fromString(e,...t);return MT(n),new js(r,null,n)}{if(!(r instanceof pn||r instanceof js))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return MT(n),new js(r.firestore,null,n)}}function fn(r,e,...t){if(r=Kt(r),arguments.length===1&&(e=wx.newId()),wC("doc","path",e),r instanceof Hh){const n=gt.fromString(e,...t);return NT(n),new pn(r,null,new Ce(n))}{if(!(r instanceof pn||r instanceof js))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return NT(n),new pn(r.firestore,r instanceof js?r.converter:null,new Ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new nC(this,"async_queue_retry"),this.fu=()=>{const n=ig();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Vi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Nl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw qi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=a_.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function FT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Ki extends Hh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new LT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function JO(r,e){const t=typeof r=="object"?r:Dk(),n=typeof r=="string"?r:"(default)",i=My(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=wR("firestore");o&&XO(i,...o)}return i}function zh(r){if(r._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZO(r),r._firestoreClient}function ZO(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,p,m){return new C1(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vC(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new zO(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(rn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vl(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/^__.*__$/;class tL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class EC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class y_{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return eh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(TC(this.Mu)&&eL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class nL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uh(e)}$u(e,t,n,i=!1){return new y_({Mu:e,methodName:t,Ku:n,path:tn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(r){const e=r._freezeSettings(),t=Uh(r._databaseId);return new nL(r._databaseId,!!e.ignoreUndefinedProperties,t)}function SC(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);v_("Data must be an object, but it was:",l,n);const c=kC(n,l);let d,p;if(o.merge)d=new Qn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=ny(e,y,t);if(!l.contains(_))throw new we(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);CC(m,_)||m.push(_)}d=new Qn(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new tL(new Ln(c),d,p)}class Qh extends Yh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class __ extends Yh{_toFieldTransform(e){return new X1(e.path,new ac)}isEqual(e){return e instanceof __}}function rL(r,e,t,n){const i=r.$u(1,e,t);v_("Data must be an object, but it was:",i,n);const o=[],l=Ln.empty();Js(n,(d,p)=>{const m=w_(e,d,t);p=Kt(p);const y=i.Lu(m);if(p instanceof Qh)o.push(m);else{const _=Dc(p,y);_!=null&&(o.push(m),l.set(m,_))}});const c=new Qn(o);return new EC(l,c,i.fieldTransforms)}function iL(r,e,t,n,i,o){const l=r.$u(1,e,t),c=[ny(e,n,t)],d=[i];if(o.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(ny(e,o[_])),d.push(o[_+1]);const p=[],m=Ln.empty();for(let _=c.length-1;_>=0;--_)if(!CC(p,c[_])){const E=c[_];let k=d[_];k=Kt(k);const C=l.Lu(E);if(k instanceof Qh)p.push(E);else{const I=Dc(k,C);I!=null&&(p.push(E),m.set(E,I))}}const y=new Qn(p);return new EC(m,y,l.fieldTransforms)}function sL(r,e,t,n=!1){return Dc(t,r.$u(n?4:3,e))}function Dc(r,e){if(xC(r=Kt(r)))return v_("Unsupported field value:",e,r),kC(r,e);if(r instanceof Yh)return function(n,i){if(!TC(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=Dc(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return K1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ft.fromDate(n);return{timestampValue:Qf(i.serializer,o)}}if(n instanceof Ft){const o=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qf(i.serializer,o)}}if(n instanceof m_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vl)return{bytesValue:qx(i.serializer,n._byteString)};if(n instanceof pn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof g_)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Qy(c.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${Wh(n)}`)}(r,e)}function kC(r,e){const t={};return Ex(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,(n,i)=>{const o=Dc(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function xC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ft||r instanceof m_||r instanceof vl||r instanceof pn||r instanceof Yh||r instanceof g_)}function v_(r,e,t){if(!xC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Wh(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function ny(r,e,t){if((e=Kt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return w_(r,e);throw eh("Field path arguments must be of type string or ",r,!1,void 0,t)}const oL=new RegExp("[~\\*/\\[\\]]");function w_(r,e,t){if(e.search(oL)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function eh(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new we(re.INVALID_ARGUMENT,c+r+d)}function CC(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(E_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aL extends bC{data(){return super.data()}}function E_(r,e){return typeof e=="string"?w_(r,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T_{}class lL extends T_{}function th(r,e,...t){let n=[];e instanceof T_&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof S_).length,c=o.filter(d=>d instanceof Gh).length;if(l>1||l>0&&c>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Gh extends lL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gh(e,t,n)}_apply(e){const t=this._parse(e);return DC(e._query,t),new sa(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=Kh(e.firestore);return function(o,l,c,d,p,m,y){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){jT(y,m);const E=[];for(const k of y)E.push(VT(d,o,k));_={arrayValue:{values:E}}}else _=VT(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||jT(y,m),_=sL(c,l,y,m==="in"||m==="not-in");return Lt.create(p,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ju(r,e,t){const n=e,i=E_("where",r);return Gh._create(i,n,t)}class S_ extends T_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new S_(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)DC(l,d),l=qg(l,d)}(e._query,t),new sa(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VT(r,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rx(e)&&t.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(gt.fromString(t));if(!Ce.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return iT(r,new Ce(n))}if(t instanceof pn)return iT(r,t._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(t)}.`)}function jT(r,e){if(!Array.isArray(r)||r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(r,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uL{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Js(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Rt(l.doubleValue));return new g_(o)}convertGeoPoint(e){return new m_(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gt.fromString(e);nt(Jx(n));const i=new sc(n.get(1),n.get(3)),o=new Ce(n.popFirst(5));return i.isEqual(t)||qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PC extends bC{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(E_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xf extends PC{data(e={}){return super.data(e)}}class AC{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new xf(this._firestore,this._userDataWriter,n.key,n,new $u(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new xf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $u(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new xf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $u(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:cL(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(r){r=Fn(r,pn);const e=Fn(r.firestore,Ki);return KO(zh(e),r._key).then(t=>MC(e,r,t))}class k_ extends uL{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}function nh(r){r=Fn(r,sa);const e=Fn(r.firestore,Ki),t=zh(e),n=new k_(e);return IC(r._query),QO(t,r._query).then(i=>new AC(e,n,r,i))}function og(r,e,t){r=Fn(r,pn);const n=Fn(r.firestore,Ki),i=RC(r.converter,e);return Xh(n,[SC(Kh(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,dr.none())])}function Cf(r,e,t,...n){r=Fn(r,pn);const i=Fn(r.firestore,Ki),o=Kh(i);let l;return l=typeof(e=Kt(e))=="string"||e instanceof qh?iL(o,"updateDoc",r._key,e,t,n):rL(o,"updateDoc",r._key,e),Xh(i,[l.toMutation(r._key,dr.exists(!0))])}function x_(r){return Xh(Fn(r.firestore,Ki),[new Gy(r._key,dr.none())])}function NC(r,e){const t=Fn(r.firestore,Ki),n=fn(r),i=RC(r.converter,e);return Xh(t,[SC(Kh(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,dr.exists(!1))]).then(()=>n)}function dL(r,...e){var t,n,i;r=Kt(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||FT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(FT(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,p,m;if(r instanceof pn)p=Fn(r.firestore,Ki),m=Mh(r._key.path),d={next:y=>{e[l]&&e[l](MC(p,r,y))},error:e[l+1],complete:e[l+2]};else{const y=Fn(r,sa);p=Fn(y.firestore,Ki),m=y._query;const _=new k_(p);d={next:E=>{e[l]&&e[l](new AC(p,_,y,E))},error:e[l+1],complete:e[l+2]},IC(r._query)}return function(_,E,k,C){const I=new p_(C),N=new f_(E,I,k);return _.asyncQueue.enqueueAndForget(async()=>u_(await Zf(_),N)),()=>{I.eu(),_.asyncQueue.enqueueAndForget(async()=>c_(await Zf(_),N))}}(zh(p),m,c,d)}function Xh(r,e){return function(n,i){const o=new Vi;return n.asyncQueue.enqueueAndForget(async()=>LO(await YO(n),i,o)),o.promise}(zh(r),e)}function MC(r,e,t){const n=t.docs.get(e._key),i=new k_(r);return new PC(r,i,e._key,n,new $u(t.hasPendingWrites,t.fromCache),e.converter)}function fL(){return new __("serverTimestamp")}(function(e,t=!0){(function(i){Pl=i})(Dl),fl(new Ko("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Ki(new u1(n.getProvider("auth-internal")),new h1(n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Fs(JE,"4.7.6",e),Fs(JE,"4.7.6","esm2017")})();const hL={apiKey:"AIzaSyCw25yBHWnOZ0_HBZWBPuXUEf_occK4FpQ",authDomain:"artvoyage-469a7.firebaseapp.com",projectId:"artvoyage-469a7",storageBucket:"artvoyage-469a7.firebasestorage.app",messagingSenderId:"541351917404",appId:"1:541351917404:web:54160b1d171846a9b5b399"},OC=Ik(hL),Vo=s1(OC),Bt=JO(OC),LC=x.createContext(void 0),pL=({children:r})=>{const[e,t]=x.useState(null),[n,i]=x.useState(!0);x.useEffect(()=>Vo.onAuthStateChanged(async p=>{if(p)try{const m=fn(Bt,"users",p.uid);(await Fo(m)).exists()||await og(m,{uid:p.uid,email:p.email}),t(p)}catch(m){console.error("Error fetching user data:",m)}else t(null);i(!1)}),[]);const o=async(d,p,m,y)=>{i(!0);try{const E=(await HA(Vo,d,p)).user,k=fn(Bt,"users",E.uid);await og(k,{uid:E.uid,email:E.email,firstName:m,lastName:y}),t(E)}catch(_){throw console.error("Error during registration:",_),_}finally{i(!1)}},l=async(d,p)=>{i(!0);try{const y=(await zA(Vo,d,p)).user,_=fn(Bt,"users",y.uid);(await Fo(_)).exists()||await og(_,{uid:y.uid,email:y.email}),t(y)}catch(m){throw console.error("Error during login:",m),m}finally{i(!1)}},c=async()=>{i(!0);try{await KA(Vo),t(null)}catch(d){console.error("Error signing out:",d)}finally{i(!1)}};return S.jsx(LC.Provider,{value:{user:e,register:o,login:l,logout:c,loading:n},children:r})},oa=()=>{const r=x.useContext(LC);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},mL="/assets/exhibition1-BW6NN6oe.jpg",gL="/assets/exhibition2-Bp82pQTc.jpg",yL="/assets/exhibition3-CUGk1TBl.jpg",_L="/assets/exhibition4-CXiZda6W.jpg",vL="/assets/exhibition5-D8QkfkG0.jpg",wL="/assets/exhibition6-CzllBLVx.webp",EL="/assets/exhibition7-_6taQLDR.webp",TL="/assets/exhibition8-DiC_I8PB.jpg",UT=[mL,gL,yL,_L,vL,wL,EL,TL],SL=()=>{const r=Math.floor(Math.random()*UT.length);return UT[r]},kL=()=>{const{user:r,loading:e}=oa(),[t,n]=x.useState([]),[i,o]=x.useState(!0),l=(_,E)=>{throw console.error("Firestore Error:",_),new Error(_.message||E)};return x.useEffect(()=>{e||(async()=>{if(!r){o(!1);return}const E=fn(Bt,"users",r.uid);if((await Fo(E)).exists()){const C=th(Bo(Bt,"exhibitions"),Ju("userId","==",r.uid)),I=dL(C,N=>{o(!1);const F=N.docs.map(j=>({id:j.id,...j.data()}));n(F)},N=>{o(!1),l(N,"Failed to fetch exhibitions.")});return()=>{I()}}})().catch(E=>{o(!1),l(E,"Failed to fetch user exhibitions.")})},[r,e]),{exhibitions:t,addExhibition:async _=>{if(r)try{const E=th(Bo(Bt,"exhibitions"),Ju("name","==",_.name),Ju("userId","==",r.uid));if(!(await nh(E)).empty)throw new Error("An exhibition with this name already exists. Please try another name");const C=SL(),I=await NC(Bo(Bt,"exhibitions"),{..._,image:C,userId:r.uid,createdAt:fL()});n(N=>[...N,{id:I.id,..._,image:C,userId:r.uid}])}catch(E){l(E,"An error occurred while adding the exhibition.")}else throw new Error("User not authenticated.")},addArtworkToExhibition:async(_,E)=>{var k;if(r)try{const C=fn(Bt,"exhibitions",_),I=await Fo(C);if(I.exists()){const N=((k=I.data())==null?void 0:k.artworks)||[];if(N.some(j=>j.id===E.id))throw new Error("This artwork has already been added to this exhibition. Please choose a different artwork or a different exhibition");await Cf(C,{artworks:[...N,E]})}else throw new Error("Exhibition not found.")}catch(C){l(C,"An error occurred while adding the artwork.")}else throw new Error("User not authenticated.")},editExhibition:async(_,E)=>{if(r)try{const k=fn(Bt,"exhibitions",_);if((await Fo(k)).exists())await Cf(k,E),n(I=>I.map(N=>N.id===_?{...N,...E}:N));else throw new Error("Exhibition not found.")}catch(k){l(k,"An error occurred while editing the exhibition.")}else throw new Error("User not authenticated.")},deleteArtworkFromExhibition:async(_,E)=>{var k;if(r)try{const C=fn(Bt,"exhibitions",_),I=await Fo(C);if(I.exists()){const F=(((k=I.data())==null?void 0:k.artworks)||[]).filter(j=>j.id!==E);await Cf(C,{artworks:F}),n(j=>j.map(H=>H.id===_?{...H,artworks:F}:H))}else throw new Error("Exhibition not found.")}catch(C){l(C,"An error occurred while deleting the artwork.")}else throw new Error("User not authenticated.")},deleteExhibition:async _=>{if(r)try{await x_(fn(Bt,"exhibitions",_)),n(E=>E.filter(k=>k.id!==_))}catch(E){l(E,"An error occurred while deleting the exhibition.")}else throw new Error("User not authenticated.")},loading:i}},FC=x.createContext(void 0),xL=({children:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c}=kL();return S.jsx(FC.Provider,{value:{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c},children:r})},C_=()=>{const r=x.useContext(FC);if(!r)throw new Error("useExhibitions must be used within an ExhibitionProvider");return r},VC=x.createContext(void 0),CL=({children:r})=>{const[e,t]=x.useState([]);return S.jsx(VC.Provider,{value:{artworks:e,setArtworks:t},children:r})},b_=()=>{const r=x.useContext(VC);if(!r)throw new Error("useArtworksContext must be used within an ArtworksProvider");return r},jC=()=>{const[r,e]=x.useState([]),[t,n]=x.useState(!1),{user:i,loading:o}=oa(),{setArtworks:l}=b_(),c=(m,y)=>{throw console.error("Firestore Error:",m),new Error(m.message||y)};return x.useEffect(()=>{o||(async()=>{if(!i)throw n(!1),new Error("User not authenticated.");n(!0);try{const y=fn(Bt,"collections",i.uid),_=Bo(y,"artworks"),k=(await nh(_)).docs.map(C=>({...C.data(),firestoreId:C.id}));e(k),l(k)}catch(y){c(y,"Error loading user collection.")}finally{n(!1)}})()},[i,o]),{collectionState:r,addToCollection:async m=>{if(!i)throw new Error("User not authenticated.");n(!0);try{if(r.some(k=>k.id===m.id))throw new Error("This artwork is already in your collection.");const _=fn(Bt,"collections",i.uid),E=Bo(_,"artworks");await NC(E,m),e(k=>[...k,m])}catch(y){c(y,"Error adding artwork to collection.")}finally{n(!1)}},removeFromCollection:async m=>{if(!i)throw new Error("User not authenticated.");n(!0);try{const y=fn(Bt,"collections",i.uid),_=Bo(y,"artworks"),E=th(_,Ju("id","==",m)),k=await nh(E);if(k.empty)throw new Error("Artwork not found in your collection.");const C=k.docs[0].id,I=fn(Bt,"collections",i.uid,"artworks",C);await x_(I),e(N=>N.filter(F=>F.id!==m))}catch(y){c(y,"Error removing artwork from collection.")}finally{n(!1)}},loadingCollection:t}},UC=x.createContext(void 0),bL=({children:r})=>{const{collectionState:e,addToCollection:t,removeFromCollection:n,loadingCollection:i}=jC();return S.jsx(UC.Provider,{value:{collection:e,addToCollection:t,removeFromCollection:n,loadingCollection:i},children:r})},IL=()=>{const r=x.useContext(UC);if(!r)throw new Error("useCollection must be used within a CollectionProvider");return r},DL=({children:r})=>S.jsx(pL,{children:S.jsx(cR,{children:S.jsx(CL,{children:S.jsx(dR,{children:S.jsx(fR,{children:S.jsx(bL,{children:S.jsx(xL,{children:r})})})})})})}),RL=()=>{const{user:r,logout:e}=oa(),t=gc(),n=async()=>{try{await e(),t("/auth"),window.location.reload()}catch(i){console.error("Sign out error:",i)}};return S.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#6A4C9C"},children:S.jsxs("div",{className:"container-fluid",children:[S.jsx(Cs,{className:"navbar-brand",to:"/home",children:"ArtVoyage"}),S.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:S.jsx("span",{className:"navbar-toggler-icon"})}),S.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:S.jsxs("ul",{className:"navbar-nav ms-auto",children:[S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/home",children:"Home"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/search",children:"Search"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/collection",children:"My Collection"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/exhibitions",children:"My Exhibitions"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/profile",children:"Profile"})}),r?S.jsx("li",{className:"nav-item",children:S.jsx("button",{className:"btn btn-outline-light",onClick:n,"aria-label":"Sign out",children:"Sign Out"})}):S.jsx("li",{className:"nav-item",children:S.jsx(Cs,{className:"nav-link",to:"/auth",children:"Login/Register"})})]})})]})})},PL=()=>S.jsx("div",{className:"container my-5",children:S.jsx("h1",{children:"Welcome!"})}),AL=()=>{const{setSelectedMuseum:r}=Ch(),{setQuery:e}=Py(),t=n=>{e(""),r(n)};return S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Choose a museum to start searching:"}),S.jsxs("div",{className:"d-flex justify-content-center",children:[S.jsx("div",{className:"card homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(Li,{to:"/search/museum/met",onClick:()=>t("met"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/73/The_Metropolitan_Museum_of_Art_Logo.svg",className:"card-img-top",alt:"Metropolitan Museum of Art",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),S.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(Li,{to:"/search/museum/chicago",onClick:()=>t("chicago"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Art_Institute_of_Chicago_Logo.png",className:"card-img-top",alt:"Art Institute of Chicago",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),S.jsx(Li,{to:"/search/collection",onClick:()=>t(""),className:"text-decoration-none",children:S.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx("p",{children:"Collection"})})})]})]})},NL=r=>{const[e,t]=x.useState(null),[n,i]=x.useState(!1),[o,l]=x.useState(null),c=()=>{const y=Vo.currentUser;if(!y||y.uid!==r)throw new Error("Unauthorized access")},d=x.useCallback(async()=>{if(r){i(!0),l(null);try{c();const y=fn(Bt,"users",r),_=await Fo(y);_.exists()?t(_.data()):(t(null),console.warn(`No user data found for userId: ${r}`))}catch(y){l("Error fetching user data."),console.error(y)}finally{i(!1)}}},[r]),p=async y=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const _=fn(Bt,"users",r);await Cf(_,y),t(E=>({...E,...y}))}catch(_){l("Error updating user data."),console.error(_)}finally{i(!1)}},m=async()=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const y=fn(Bt,"users",r);await x_(y),t(null)}catch(y){l("Error deleting user data."),console.error(y)}finally{i(!1)}};return x.useEffect(()=>{d()},[d]),{userData:e,fetchUserData:d,editUserData:p,deleteUserData:m,loading:n,error:o}};var ag={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var BT;function ML(){return BT||(BT=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(ag)),ag.exports}var OL=ML();const at=Sh(OL);function ry(){return ry=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ry.apply(null,arguments)}function BC(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function $T(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function LL(r){var e=FL(r,"string");return typeof e=="symbol"?e:String(e)}function FL(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function VL(r,e,t){var n=x.useRef(r!==void 0),i=x.useState(e),o=i[0],l=i[1],c=r!==void 0,d=n.current;return n.current=c,!c&&d&&o!==e&&l(e),[c?r:o,x.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function jL(r,e){return Object.keys(e).reduce(function(t,n){var i,o=t,l=o[$T(n)],c=o[n],d=BC(o,[$T(n),n].map(LL)),p=e[n],m=VL(c,l,r[p]),y=m[0],_=m[1];return ry({},d,(i={},i[n]=y,i[p]=_,i))},r)}function iy(r,e){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},iy(r,e)}function UL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,iy(r,e)}const BL=["xxl","xl","lg","md","sm","xs"],$L="xs",Jh=x.createContext({prefixes:{},breakpoints:BL,minBreakpoint:$L});function Ct(r,e){const{prefixes:t}=x.useContext(Jh);return r||t[e]||e}function WL(){const{breakpoints:r}=x.useContext(Jh);return r}function HL(){const{minBreakpoint:r}=x.useContext(Jh);return r}function zL(){const{dir:r}=x.useContext(Jh);return r==="rtl"}function Zh(r){return r&&r.ownerDocument||document}function qL(r){var e=Zh(r);return e&&e.defaultView||window}function YL(r,e){return qL(r).getComputedStyle(r,e)}var KL=/([A-Z])/g;function QL(r){return r.replace(KL,"-$1").toLowerCase()}var GL=/^ms-/;function sf(r){return QL(r).replace(GL,"-ms-")}var XL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function JL(r){return!!(r&&XL.test(r))}function $o(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(sf(e))||YL(r).getPropertyValue(sf(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?r.style.removeProperty(sf(i)):JL(i)?n+=i+"("+o+") ":t+=sf(i)+": "+o+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var lg={exports:{}},ug,WT;function ZL(){if(WT)return ug;WT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ug=r,ug}var cg,HT;function e2(){if(HT)return cg;HT=1;var r=ZL();function e(){}function t(){}return t.resetWarningCache=e,cg=function(){function n(l,c,d,p,m,y){if(y!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},cg}var zT;function t2(){return zT||(zT=1,lg.exports=e2()()),lg.exports}var n2=t2();const ji=Sh(n2),qT={disabled:!1},$C=Z.createContext(null);var r2=function(e){return e.scrollTop},Wu="unmounted",Ao="exited",bs="entering",Mo="entered",sy="exiting",Xi=function(r){UL(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?c?(d=Ao,o.appearStatus=bs):d=Mo:n.unmountOnExit||n.mountOnEnter?d=Wu:d=Ao,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Wu?{status:Ao}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==bs&&l!==Mo&&(o=bs):(l===bs||l===Mo)&&(o=sy)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===bs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Oo.findDOMNode(this);l&&r2(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ao&&this.setState({status:Wu})},t.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Oo.findDOMNode(this),c],p=d[0],m=d[1],y=this.getTimeouts(),_=c?y.appear:y.enter;if(!i&&!l||qT.disabled){this.safeSetState({status:Mo},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:bs},function(){o.props.onEntering(p,m),o.onTransitionEnd(_,function(){o.safeSetState({status:Mo},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Oo.findDOMNode(this);if(!o||qT.disabled){this.safeSetState({status:Ao},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:sy},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Ao},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Oo.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],m=d[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Wu)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=BC(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Z.createElement($C.Provider,{value:null},typeof l=="function"?l(i,c):Z.cloneElement(Z.Children.only(l),c))},e}(Z.Component);Xi.contextType=$C;Xi.propTypes={};function Ga(){}Xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ga,onEntering:Ga,onEntered:Ga,onExit:Ga,onExiting:Ga,onExited:Ga};Xi.UNMOUNTED=Wu;Xi.EXITED=Ao;Xi.ENTERING=bs;Xi.ENTERED=Mo;Xi.EXITING=sy;function i2(r){return r.code==="Escape"||r.keyCode===27}function s2(){const r=x.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function WC(r){if(!r||typeof r=="function")return null;const{major:e}=s2();return e>=19?r.props.ref:r.ref}const Ol=!!(typeof window<"u"&&window.document&&window.document.createElement);var oy=!1,ay=!1;try{var dg={get passive(){return oy=!0},get once(){return ay=oy=!0}};Ol&&(window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,!0))}catch{}function HC(r,e,t,n){if(n&&typeof n!="boolean"&&!ay){var i=n.once,o=n.capture,l=t;!ay&&i&&(l=t.__once||function c(d){this.removeEventListener(e,c,o),t.call(this,d)},t.__once=l),r.addEventListener(e,l,oy?n:o)}r.addEventListener(e,t,n)}function ly(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function rh(r,e,t,n){return HC(r,e,t,n),function(){ly(r,e,t,n)}}function o2(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function a2(r){var e=$o(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function l2(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||o2(r,"transitionend",!0)},e+t),o=rh(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),o()}}function zC(r,e,t,n){t==null&&(t=a2(r)||0);var i=l2(r,t,n),o=rh(r,"transitionend",e);return function(){i(),o()}}function YT(r,e){const t=$o(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function u2(r,e){const t=YT(r,"transitionDuration"),n=YT(r,"transitionDelay"),i=zC(r,o=>{o.target===r&&(i(),e(o))},t+n)}function c2(r){r.offsetHeight}const KT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function d2(r,e){const t=KT(r),n=KT(e);return i=>{t&&t(i),n&&n(i)}}function qC(r,e){return x.useMemo(()=>d2(r,e),[r,e])}function f2(r){return r&&"setState"in r?Oo.findDOMNode(r):r??null}const h2=Z.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:o,addEndListener:l,children:c,childRef:d,...p},m)=>{const y=x.useRef(null),_=qC(y,d),E=ne=>{_(f2(ne))},k=ne=>A=>{ne&&y.current&&ne(y.current,A)},C=x.useCallback(k(r),[r]),I=x.useCallback(k(e),[e]),N=x.useCallback(k(t),[t]),F=x.useCallback(k(n),[n]),j=x.useCallback(k(i),[i]),H=x.useCallback(k(o),[o]),Q=x.useCallback(k(l),[l]);return S.jsx(Xi,{ref:m,...p,onEnter:C,onEntered:N,onEntering:I,onExit:F,onExited:H,onExiting:j,addEndListener:Q,nodeRef:y,children:typeof c=="function"?(ne,A)=>c(ne,{...A,ref:E}):Z.cloneElement(c,{ref:E})})});function p2(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function ih(r){const e=p2(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const YC=r=>x.forwardRef((e,t)=>S.jsx("div",{...e,ref:t,className:at(e.className,r)})),KC=YC("h4");KC.displayName="DivStyledAsH4";const QC=x.forwardRef(({className:r,bsPrefix:e,as:t=KC,...n},i)=>(e=Ct(e,"alert-heading"),S.jsx(t,{ref:i,className:at(r,e),...n})));QC.displayName="AlertHeading";function m2(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function As(r){const e=m2(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function g2(){const r=x.useRef(!0),e=x.useRef(()=>r.current);return x.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function y2(r){const e=x.useRef(null);return x.useEffect(()=>{e.current=r}),e.current}const _2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",v2=typeof document<"u",QT=v2||_2?x.useLayoutEffect:x.useEffect,w2=["as","disabled"];function E2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function T2(r){return!r||r.trim()==="#"}function I_({tagName:r,disabled:e,href:t,target:n,rel:i,role:o,onClick:l,tabIndex:c=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const p={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},p];const m=_=>{if((e||r==="a"&&T2(t))&&_.preventDefault(),e){_.stopPropagation();return}l==null||l(_)},y=_=>{_.key===" "&&(_.preventDefault(),m(_))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const S2=x.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=E2(r,w2);const[o,{tagName:l}]=I_(Object.assign({tagName:t,disabled:n},i));return S.jsx(l,Object.assign({},i,o,{ref:e}))});S2.displayName="Button";const k2=["onKeyDown"];function x2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function C2(r){return!r||r.trim()==="#"}const GC=x.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=x2(r,k2);const[i]=I_(Object.assign({tagName:"a"},n)),o=As(l=>{i.onKeyDown(l),t==null||t(l)});return C2(n.href)||n.role==="button"?S.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:o})):S.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});GC.displayName="Anchor";const XC=x.forwardRef(({className:r,bsPrefix:e,as:t=GC,...n},i)=>(e=Ct(e,"alert-link"),S.jsx(t,{ref:i,className:at(r,e),...n})));XC.displayName="AlertLink";const b2={[bs]:"show",[Mo]:"show"},cc=x.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=x.useCallback((d,p)=>{c2(d),n==null||n(d,p)},[n]);return S.jsx(h2,{ref:o,addEndListener:u2,...l,onEnter:c,childRef:WC(e),children:(d,p)=>x.cloneElement(e,{...p,className:at("fade",r,e.props.className,b2[d],t[d])})})});cc.displayName="Fade";const I2={"aria-label":ji.string,onClick:ji.func,variant:ji.oneOf(["white"])},ep=x.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>S.jsx("button",{ref:i,type:"button",className:at("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));ep.displayName="CloseButton";ep.propTypes=I2;const JC=x.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:c,variant:d="primary",onClose:p,dismissible:m,transition:y=cc,..._}=jL(r,{show:"onClose"}),E=Ct(t,"alert"),k=ih(N=>{p&&p(!1,N)}),C=y===!0?cc:y,I=S.jsxs("div",{role:"alert",...C?void 0:_,ref:e,className:at(l,E,d&&`${E}-${d}`,m&&`${E}-dismissible`),children:[m&&S.jsx(ep,{onClick:k,"aria-label":i,variant:o}),c]});return C?S.jsx(C,{unmountOnExit:!0,..._,ref:void 0,in:n,children:I}):n?I:null});JC.displayName="Alert";const D2=Object.assign(JC,{Link:XC,Heading:QC}),Hu=x.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:o=!1,className:l,...c},d)=>{const p=Ct(e,"btn"),[m,{tagName:y}]=I_({tagName:r,disabled:o,...c}),_=y;return S.jsx(_,{...m,...c,ref:d,disabled:o,className:at(l,p,i&&"active",t&&`${p}-${t}`,n&&`${p}-${n}`,c.href&&o&&"disabled")})});Hu.displayName="Button";function R2(r){const e=x.useRef(r);return e.current=r,e}function P2(r){const e=R2(r);x.useEffect(()=>()=>e.current(),[])}function A2(r,e){return x.Children.toArray(r).some(t=>x.isValidElement(t)&&t.type===e)}function N2({as:r,bsPrefix:e,className:t,...n}){e=Ct(e,"col");const i=WL(),o=HL(),l=[],c=[];return i.forEach(d=>{const p=n[d];delete n[d];let m,y,_;typeof p=="object"&&p!=null?{span:m,offset:y,order:_}=p:m=p;const E=d!==o?`-${d}`:"";m&&l.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),_!=null&&c.push(`order${E}-${_}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...n,className:at(t,...l,...c)},{as:r,bsPrefix:e,spans:l}]}const ZC=x.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:o,spans:l}]=N2(r);return S.jsx(i,{...n,ref:e,className:at(t,!l.length&&o)})});ZC.displayName="Col";var M2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Xa(r,e){return M2(r.querySelectorAll(e))}function GT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const O2="data-rr-ui-";function L2(r){return`${O2}${r}`}const e0=x.createContext(Ol?window:void 0);e0.Provider;function D_(){return x.useContext(e0)}const F2={type:ji.string,tooltip:ji.bool,as:ji.elementType},tp=x.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},o)=>S.jsx(r,{...i,ref:o,className:at(e,`${t}-${n?"tooltip":"feedback"}`)}));tp.displayName="Feedback";tp.propTypes=F2;const Qi=x.createContext({}),R_=x.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},d)=>{const{controlId:p}=x.useContext(Qi);return e=Ct(e,"form-check-input"),S.jsx(l,{...c,ref:d,type:n,id:r||p,className:at(t,e,i&&"is-valid",o&&"is-invalid")})});R_.displayName="FormCheckInput";const sh=x.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:o}=x.useContext(Qi);return r=Ct(r,"form-check-label"),S.jsx("label",{...n,ref:i,htmlFor:t||o,className:at(e,r)})});sh.displayName="FormCheckLabel";const t0=x.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:p,feedbackType:m,className:y,style:_,title:E="",type:k="checkbox",label:C,children:I,as:N="input",...F},j)=>{e=Ct(e,"form-check"),t=Ct(t,"form-switch");const{controlId:H}=x.useContext(Qi),Q=x.useMemo(()=>({controlId:r||H}),[H,r]),ne=!I&&C!=null&&C!==!1||A2(I,sh),A=S.jsx(R_,{...F,type:k==="switch"?"checkbox":k,ref:j,isValid:l,isInvalid:c,disabled:o,as:N});return S.jsx(Qi.Provider,{value:Q,children:S.jsx("div",{style:_,className:at(y,ne&&e,n&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&t),children:I||S.jsxs(S.Fragment,{children:[A,ne&&S.jsx(sh,{title:E,children:C}),p&&S.jsx(tp,{type:m,tooltip:d,children:p})]})})})});t0.displayName="FormCheck";const oh=Object.assign(t0,{Input:R_,Label:sh}),n0=x.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:d,readOnly:p,as:m="input",...y},_)=>{const{controlId:E}=x.useContext(Qi);return r=Ct(r,"form-control"),S.jsx(m,{...y,type:e,size:n,ref:_,readOnly:p,id:i||E,className:at(o,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,l&&"is-valid",c&&"is-invalid")})});n0.displayName="FormControl";const V2=Object.assign(n0,{Feedback:tp}),r0=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Ct(e,"form-floating"),S.jsx(t,{ref:i,className:at(r,e),...n})));r0.displayName="FormFloating";const P_=x.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=x.useMemo(()=>({controlId:r}),[r]);return S.jsx(Qi.Provider,{value:i,children:S.jsx(e,{...t,ref:n})})});P_.displayName="FormGroup";const i0=x.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:d}=x.useContext(Qi);e=Ct(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=at(i,e,n&&"visually-hidden",t&&p);return o=o||d,t?S.jsx(ZC,{ref:c,as:"label",className:m,htmlFor:o,...l}):S.jsx(r,{ref:c,className:m,htmlFor:o,...l})});i0.displayName="FormLabel";const s0=x.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:o}=x.useContext(Qi);return r=Ct(r,"form-range"),S.jsx("input",{...n,type:"range",ref:i,className:at(e,r),id:t||o})});s0.displayName="FormRange";const o0=x.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:o=!1,id:l,...c},d)=>{const{controlId:p}=x.useContext(Qi);return r=Ct(r,"form-select"),S.jsx("select",{...c,size:t,ref:d,className:at(n,r,e&&`${r}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});o0.displayName="FormSelect";const a0=x.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},o)=>(r=Ct(r,"form-text"),S.jsx(t,{...i,ref:o,className:at(e,r,n&&"text-muted")})));a0.displayName="FormText";const l0=x.forwardRef((r,e)=>S.jsx(oh,{...r,ref:e,type:"switch"}));l0.displayName="Switch";const j2=Object.assign(l0,{Input:oh.Input,Label:oh.Label}),u0=x.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...o},l)=>(r=Ct(r,"form-floating"),S.jsxs(P_,{ref:l,className:at(e,r),controlId:n,...o,children:[t,S.jsx("label",{htmlFor:n,children:i})]})));u0.displayName="FloatingLabel";const U2={_ref:ji.any,validated:ji.bool,as:ji.elementType},A_=x.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>S.jsx(t,{...n,ref:i,className:at(r,e&&"was-validated")}));A_.displayName="Form";A_.propTypes=U2;const Ro=Object.assign(A_,{Group:P_,Control:V2,Floating:r0,Check:oh,Switch:j2,Label:i0,Text:a0,Range:s0,Select:o0,FloatingLabel:u0}),XT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function B2(r,e){const t=XT(r),n=XT(e);return i=>{t&&t(i),n&&n(i)}}function N_(r,e){return x.useMemo(()=>B2(r,e),[r,e])}var of;function JT(r){if((!of&&of!==0||r)&&Ol){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),of=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return of}function $2(){return x.useState(null)}function fg(r){r===void 0&&(r=Zh());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function W2(r){const e=x.useRef(r);return e.current=r,e}function H2(r){const e=W2(r);x.useEffect(()=>()=>e.current(),[])}function z2(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const ZT=L2("modal-open");class M_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return z2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt($o(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(ZT,""),$o(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ZT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=(r,e)=>Ol?r==null?(e||Zh()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function q2(r,e){const t=D_(),[n,i]=x.useState(()=>hg(r,t==null?void 0:t.document));if(!n){const o=hg(r);o&&i(o)}return x.useEffect(()=>{},[e,n]),x.useEffect(()=>{const o=hg(r);o!==n&&i(o)},[r,n]),n}function Y2({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const o=x.useRef(null),l=x.useRef(e),c=As(t);x.useEffect(()=>{e?l.current=!0:c(o.current)},[e,c]);const d=N_(o,r.ref),p=x.cloneElement(r,{ref:d});return e?p:i||!l.current&&n?null:p}const K2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Q2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function G2(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:d}=r,p=Q2(r,K2);const m=x.useRef(null),y=N_(m,WC(d)),_=H=>Q=>{H&&m.current&&H(m.current,Q)},E=x.useCallback(_(e),[e]),k=x.useCallback(_(t),[t]),C=x.useCallback(_(n),[n]),I=x.useCallback(_(i),[i]),N=x.useCallback(_(o),[o]),F=x.useCallback(_(l),[l]),j=x.useCallback(_(c),[c]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:E},t&&{onEntering:k},n&&{onEntered:C},i&&{onExit:I},o&&{onExiting:N},l&&{onExited:F},c&&{addEndListener:j},{children:typeof d=="function"?(H,Q)=>d(H,Object.assign({},Q,{ref:y})):x.cloneElement(d,{ref:y})})}const X2=["component"];function J2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}const Z2=x.forwardRef((r,e)=>{let{component:t}=r,n=J2(r,X2);const i=G2(n);return S.jsx(t,Object.assign({ref:e},i))});function eF({in:r,onTransition:e}){const t=x.useRef(null),n=x.useRef(!0),i=As(e);return QT(()=>{if(!t.current)return;let o=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[r,i]),QT(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function tF({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[o,l]=x.useState(!e);e&&o&&l(!1);const c=eF({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?n==null||n(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),d=N_(c,r.ref);return o&&!e?null:x.cloneElement(r,{ref:d})}function eS(r,e,t){return r?S.jsx(Z2,Object.assign({},t,{component:r})):e?S.jsx(tF,Object.assign({},t,{transition:e})):S.jsx(Y2,Object.assign({},t))}const nF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}let pg;function iF(r){return pg||(pg=new M_({ownerDocument:r==null?void 0:r.document})),pg}function sF(r){const e=D_(),t=r||iF(e),n=x.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:x.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{n.current.backdrop=i},[])})}const c0=x.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:o,children:l,backdrop:c=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:_,backdropTransition:E,runBackdropTransition:k,autoFocus:C=!0,enforceFocus:I=!0,restoreFocus:N=!0,restoreFocusOptions:F,renderDialog:j,renderBackdrop:H=et=>S.jsx("div",Object.assign({},et)),manager:Q,container:ne,onShow:A,onHide:D=()=>{},onExit:P,onExited:L,onExiting:V,onEnter:B,onEntering:M,onEntered:Ee}=r,xe=rF(r,nF);const ce=D_(),de=q2(ne),G=sF(Q),fe=g2(),le=y2(t),[W,ee]=x.useState(!t),_e=x.useRef(null);x.useImperativeHandle(e,()=>G,[G]),Ol&&!le&&t&&(_e.current=fg(ce==null?void 0:ce.document)),t&&W&&ee(!1);const Re=As(()=>{if(G.add(),ht.current=rh(document,"keydown",He),Je.current=rh(document,"focus",()=>setTimeout(Ve),!0),A&&A(),C){var et,Ur;const hr=fg((et=(Ur=G.dialog)==null?void 0:Ur.ownerDocument)!=null?et:ce==null?void 0:ce.document);G.dialog&&hr&&!GT(G.dialog,hr)&&(_e.current=hr,G.dialog.focus())}}),Oe=As(()=>{if(G.remove(),ht.current==null||ht.current(),Je.current==null||Je.current(),N){var et;(et=_e.current)==null||et.focus==null||et.focus(F),_e.current=null}});x.useEffect(()=>{!t||!de||Re()},[t,de,Re]),x.useEffect(()=>{W&&Oe()},[W,Oe]),H2(()=>{Oe()});const Ve=As(()=>{if(!I||!fe()||!G.isTopModal())return;const et=fg(ce==null?void 0:ce.document);G.dialog&&et&&!GT(G.dialog,et)&&G.dialog.focus()}),Be=As(et=>{et.target===et.currentTarget&&(p==null||p(et),c===!0&&D())}),He=As(et=>{d&&i2(et)&&G.isTopModal()&&(m==null||m(et),et.defaultPrevented||D())}),Je=x.useRef(),ht=x.useRef(),kn=(...et)=>{ee(!0),L==null||L(...et)};if(!de)return null;const jn=Object.assign({role:n,ref:G.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},xe,{style:o,className:i,tabIndex:-1});let xn=j?j(jn):S.jsx("div",Object.assign({},jn,{children:x.cloneElement(l,{role:"document"})}));xn=eS(y,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:V,onExited:kn,onEnter:B,onEntering:M,onEntered:Ee,children:xn});let Cn=null;return c&&(Cn=H({ref:G.setBackdropRef,onClick:Be}),Cn=eS(E,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Cn})),S.jsx(S.Fragment,{children:Oo.createPortal(S.jsxs(S.Fragment,{children:[Cn,xn]}),de)})});c0.displayName="Modal";const oF=Object.assign(c0,{Manager:M_});function aF(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function lF(r,e){r.classList?r.classList.add(e):aF(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function tS(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function uF(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=tS(r.className,e):r.setAttribute("class",tS(r.className&&r.className.baseVal||"",e))}const Ja={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class cF extends M_{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,$o(t,{[e]:`${parseFloat($o(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],$o(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(lF(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Xa(t,Ja.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),Xa(t,Ja.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Xa(t,Ja.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();uF(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Xa(t,Ja.FIXED_CONTENT).forEach(o=>this.restore(n,o)),Xa(t,Ja.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Xa(t,Ja.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let mg;function dF(r){return mg||(mg=new cF(r)),mg}const d0=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Ct(e,"modal-body"),S.jsx(t,{ref:i,className:at(r,e),...n})));d0.displayName="ModalBody";const f0=x.createContext({onHide(){}}),O_=x.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:n,size:i,fullscreen:o,children:l,scrollable:c,...d},p)=>{r=Ct(r,"modal");const m=`${r}-dialog`,y=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return S.jsx("div",{...d,ref:p,className:at(m,e,i&&`${r}-${i}`,n&&`${m}-centered`,c&&`${m}-scrollable`,o&&y),children:S.jsx("div",{className:at(`${r}-content`,t),children:l})})});O_.displayName="ModalDialog";const h0=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Ct(e,"modal-footer"),S.jsx(t,{ref:i,className:at(r,e),...n})));h0.displayName="ModalFooter";const fF=x.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...o},l)=>{const c=x.useContext(f0),d=ih(()=>{c==null||c.onHide(),n==null||n()});return S.jsxs("div",{ref:l,...o,children:[i,t&&S.jsx(ep,{"aria-label":r,variant:e,onClick:d})]})}),p0=x.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},o)=>(r=Ct(r,"modal-header"),S.jsx(fF,{ref:o,...i,className:at(e,r),closeLabel:t,closeButton:n})));p0.displayName="ModalHeader";const hF=YC("h4"),m0=x.forwardRef(({className:r,bsPrefix:e,as:t=hF,...n},i)=>(e=Ct(e,"modal-title"),S.jsx(t,{ref:i,className:at(r,e),...n})));m0.displayName="ModalTitle";function pF(r){return S.jsx(cc,{...r,timeout:null})}function mF(r){return S.jsx(cc,{...r,timeout:null})}const g0=x.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:n,contentClassName:i,children:o,dialogAs:l=O_,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":p,"aria-label":m,show:y=!1,animation:_=!0,backdrop:E=!0,keyboard:k=!0,onEscapeKeyDown:C,onShow:I,onHide:N,container:F,autoFocus:j=!0,enforceFocus:H=!0,restoreFocus:Q=!0,restoreFocusOptions:ne,onEntered:A,onExit:D,onExiting:P,onEnter:L,onEntering:V,onExited:B,backdropClassName:M,manager:Ee,...xe},ce)=>{const[de,G]=x.useState({}),[fe,le]=x.useState(!1),W=x.useRef(!1),ee=x.useRef(!1),_e=x.useRef(null),[Re,Oe]=$2(),Ve=qC(ce,Oe),Be=ih(N),He=zL();r=Ct(r,"modal");const Je=x.useMemo(()=>({onHide:Be}),[Be]);function ht(){return Ee||dF({isRTL:He})}function kn(De){if(!Ol)return;const ut=ht().getScrollbarWidth()>0,Jn=De.scrollHeight>Zh(De).documentElement.clientHeight;G({paddingRight:ut&&!Jn?JT():void 0,paddingLeft:!ut&&Jn?JT():void 0})}const jn=ih(()=>{Re&&kn(Re.dialog)});P2(()=>{ly(window,"resize",jn),_e.current==null||_e.current()});const xn=()=>{W.current=!0},Cn=De=>{W.current&&Re&&De.target===Re.dialog&&(ee.current=!0),W.current=!1},et=()=>{le(!0),_e.current=zC(Re.dialog,()=>{le(!1)})},Ur=De=>{De.target===De.currentTarget&&et()},hr=De=>{if(E==="static"){Ur(De);return}if(ee.current||De.target!==De.currentTarget){ee.current=!1;return}N==null||N()},la=De=>{k?C==null||C(De):(De.preventDefault(),E==="static"&&et())},Ji=(De,ut)=>{De&&kn(De),L==null||L(De,ut)},pr=De=>{_e.current==null||_e.current(),D==null||D(De)},mr=(De,ut)=>{V==null||V(De,ut),HC(window,"resize",jn)},eo=De=>{De&&(De.style.display=""),B==null||B(De),ly(window,"resize",jn)},Zi=x.useCallback(De=>S.jsx("div",{...De,className:at(`${r}-backdrop`,M,!_&&"show")}),[_,M,r]),gi={...t,...de};gi.display="block";const to=De=>S.jsx("div",{role:"dialog",...De,style:gi,className:at(e,r,fe&&`${r}-static`,!_&&"show"),onClick:E?hr:void 0,onMouseUp:Cn,"data-bs-theme":c,"aria-label":m,"aria-labelledby":d,"aria-describedby":p,children:S.jsx(l,{...xe,onMouseDown:xn,className:n,contentClassName:i,children:o})});return S.jsx(f0.Provider,{value:Je,children:S.jsx(oF,{show:y,ref:Ve,backdrop:E,container:F,keyboard:!0,autoFocus:j,enforceFocus:H,restoreFocus:Q,restoreFocusOptions:ne,onEscapeKeyDown:la,onShow:I,onHide:N,onEnter:Ji,onEntering:mr,onEntered:A,onExit:pr,onExiting:P,onExited:eo,manager:ht(),transition:_?pF:void 0,backdropTransition:_?mF:void 0,renderBackdrop:Zi,renderDialog:to})})});g0.displayName="Modal";const wn=Object.assign(g0,{Body:d0,Header:p0,Title:m0,Footer:h0,Dialog:O_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),gF=({user:r})=>{const e=r==null?void 0:r.uid,{userData:t,fetchUserData:n,editUserData:i,deleteUserData:o,loading:l,error:c}=NL(e||null),[d,p]=x.useState(!1),[m,y]=x.useState(!1),[_,E]=x.useState({firstName:"",lastName:""}),[k,C]=x.useState("");x.useEffect(()=>{e&&n()},[e,n]);const I=async()=>{try{await i(_),console.log("User updated successfully!"),p(!1),C("Your profile was updated successfully!"),setTimeout(()=>C(""),5e3)}catch(j){console.error("Error updating user:",j)}},N=async()=>{try{await o(),console.log("User deleted successfully!"),y(!1)}catch(j){console.error("Error deleting user:",j)}},F=()=>{t&&(E({firstName:t.firstName,lastName:t.lastName}),p(!0))};return l?S.jsx("p",{className:"text-center mt-4",children:"Loading..."}):c?S.jsx("p",{className:"text-danger text-center mt-4",children:c}):S.jsxs("div",{className:"container mt-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"User Profile"}),t?S.jsxs("div",{className:"card mx-auto",style:{maxWidth:"600px"},"aria-labelledby":"userProfileCard",children:[S.jsx("div",{className:"card-header text-white",style:{background:"rgba(84, 37, 122, 0.84)"},children:S.jsx("h2",{className:"card-title",id:"userProfileCard",children:"Profile Information"})}),S.jsxs("div",{className:"card-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Email:"})," ",t.email]}),S.jsxs("p",{children:[S.jsx("strong",{children:"First Name:"})," ",t.firstName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Last Name:"})," ",t.lastName]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{className:"btn btn-warning",onClick:F,"aria-label":"Edit User Information",children:"Edit User"}),S.jsx("button",{className:"btn btn-danger",onClick:()=>y(!0),"aria-label":"Delete User Account",children:"Delete User"})]})]})]}):S.jsx("p",{className:"text-center text-muted",children:"No user data available."}),k&&S.jsx(D2,{variant:"success",className:"mt-4 text-center",children:k}),S.jsxs(wn,{show:d,onHide:()=>p(!1),children:[S.jsx(wn.Header,{closeButton:!0,children:S.jsx(wn.Title,{children:"Edit User"})}),S.jsx(wn.Body,{children:S.jsxs(Ro,{children:[S.jsxs(Ro.Group,{controlId:"formFirstName",children:[S.jsx(Ro.Label,{children:"First Name"}),S.jsx(Ro.Control,{type:"text",value:_.firstName,onChange:j=>E({..._,firstName:j.target.value})})]}),S.jsxs(Ro.Group,{controlId:"formLastName",className:"mt-3",children:[S.jsx(Ro.Label,{children:"Last Name"}),S.jsx(Ro.Control,{type:"text",value:_.lastName,onChange:j=>E({..._,lastName:j.target.value})})]})]})}),S.jsxs(wn.Footer,{children:[S.jsx(Hu,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),S.jsx(Hu,{variant:"primary",onClick:I,children:"Save Changes"})]})]}),S.jsxs(wn,{show:m,onHide:()=>y(!1),children:[S.jsx(wn.Header,{closeButton:!0,children:S.jsx(wn.Title,{children:"Confirm Delete"})}),S.jsx(wn.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),S.jsxs(wn.Footer,{children:[S.jsx(Hu,{variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),S.jsx(Hu,{variant:"danger",onClick:N,children:"Delete Account"})]})]})]})};function y0(r,e){return function(){return r.apply(e,arguments)}}const{toString:yF}=Object.prototype,{getPrototypeOf:L_}=Object,np=(r=>e=>{const t=yF.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jr=r=>(r=r.toLowerCase(),e=>np(e)===r),rp=r=>e=>typeof e===r,{isArray:Ll}=Array,dc=rp("undefined");function _F(r){return r!==null&&!dc(r)&&r.constructor!==null&&!dc(r.constructor)&&Gn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const _0=jr("ArrayBuffer");function vF(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&_0(r.buffer),e}const wF=rp("string"),Gn=rp("function"),v0=rp("number"),ip=r=>r!==null&&typeof r=="object",EF=r=>r===!0||r===!1,bf=r=>{if(np(r)!=="object")return!1;const e=L_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},TF=jr("Date"),SF=jr("File"),kF=jr("Blob"),xF=jr("FileList"),CF=r=>ip(r)&&Gn(r.pipe),bF=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Gn(r.append)&&((e=np(r))==="formdata"||e==="object"&&Gn(r.toString)&&r.toString()==="[object FormData]"))},IF=jr("URLSearchParams"),[DF,RF,PF,AF]=["ReadableStream","Request","Response","Headers"].map(jr),NF=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rc(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ll(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let c;for(n=0;n<l;n++)c=o[n],e.call(null,r[c],c,r)}}function w0(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E0=r=>!dc(r)&&r!==jo;function uy(){const{caseless:r}=E0(this)&&this||{},e={},t=(n,i)=>{const o=r&&w0(e,i)||i;bf(e[o])&&bf(n)?e[o]=uy(e[o],n):bf(n)?e[o]=uy({},n):Ll(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Rc(arguments[n],t);return e}const MF=(r,e,t,{allOwnKeys:n}={})=>(Rc(e,(i,o)=>{t&&Gn(i)?r[o]=y0(i,t):r[o]=i},{allOwnKeys:n}),r),OF=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),LF=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},FF=(r,e,t,n)=>{let i,o,l;const c={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!c[l]&&(e[l]=r[l],c[l]=!0);r=t!==!1&&L_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},VF=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},jF=r=>{if(!r)return null;if(Ll(r))return r;let e=r.length;if(!v0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},UF=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&L_(Uint8Array)),BF=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},$F=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},WF=jr("HTMLFormElement"),HF=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),nS=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),zF=jr("RegExp"),T0=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Rc(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},qF=r=>{T0(r,(e,t)=>{if(Gn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Gn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},YF=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return Ll(r)?n(r):n(String(r).split(e)),t},KF=()=>{},QF=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,gg="abcdefghijklmnopqrstuvwxyz",rS="0123456789",S0={DIGIT:rS,ALPHA:gg,ALPHA_DIGIT:gg+gg.toUpperCase()+rS},GF=(r=16,e=S0.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function XF(r){return!!(r&&Gn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const JF=r=>{const e=new Array(10),t=(n,i)=>{if(ip(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Ll(n)?[]:{};return Rc(n,(l,c)=>{const d=t(l,i+1);!dc(d)&&(o[c]=d)}),e[i]=void 0,o}}return n};return t(r,0)},ZF=jr("AsyncFunction"),eV=r=>r&&(ip(r)||Gn(r))&&Gn(r.then)&&Gn(r.catch),k0=((r,e)=>r?setImmediate:e?((t,n)=>(jo.addEventListener("message",({source:i,data:o})=>{i===jo&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),jo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Gn(jo.postMessage)),tV=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||k0,J={isArray:Ll,isArrayBuffer:_0,isBuffer:_F,isFormData:bF,isArrayBufferView:vF,isString:wF,isNumber:v0,isBoolean:EF,isObject:ip,isPlainObject:bf,isReadableStream:DF,isRequest:RF,isResponse:PF,isHeaders:AF,isUndefined:dc,isDate:TF,isFile:SF,isBlob:kF,isRegExp:zF,isFunction:Gn,isStream:CF,isURLSearchParams:IF,isTypedArray:UF,isFileList:xF,forEach:Rc,merge:uy,extend:MF,trim:NF,stripBOM:OF,inherits:LF,toFlatObject:FF,kindOf:np,kindOfTest:jr,endsWith:VF,toArray:jF,forEachEntry:BF,matchAll:$F,isHTMLForm:WF,hasOwnProperty:nS,hasOwnProp:nS,reduceDescriptors:T0,freezeMethods:qF,toObjectSet:YF,toCamelCase:HF,noop:KF,toFiniteNumber:QF,findKey:w0,global:jo,isContextDefined:E0,ALPHABET:S0,generateString:GF,isSpecCompliantForm:XF,toJSONObject:JF,isAsyncFn:ZF,isThenable:eV,setImmediate:k0,asap:tV};function Fe(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}J.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const x0=Fe.prototype,C0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{C0[r]={value:r}});Object.defineProperties(Fe,C0);Object.defineProperty(x0,"isAxiosError",{value:!0});Fe.from=(r,e,t,n,i,o)=>{const l=Object.create(x0);return J.toFlatObject(r,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Fe.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const nV=null;function cy(r){return J.isPlainObject(r)||J.isArray(r)}function b0(r){return J.endsWith(r,"[]")?r.slice(0,-2):r}function iS(r,e,t){return r?r.concat(e).map(function(i,o){return i=b0(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function rV(r){return J.isArray(r)&&!r.some(cy)}const iV=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function sp(r,e,t){if(!J.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,I){return!J.isUndefined(I[C])});const n=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(J.isDate(k))return k.toISOString();if(!d&&J.isBlob(k))throw new Fe("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(k)||J.isTypedArray(k)?d&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function m(k,C,I){let N=k;if(k&&!I&&typeof k=="object"){if(J.endsWith(C,"{}"))C=n?C:C.slice(0,-2),k=JSON.stringify(k);else if(J.isArray(k)&&rV(k)||(J.isFileList(k)||J.endsWith(C,"[]"))&&(N=J.toArray(k)))return C=b0(C),N.forEach(function(j,H){!(J.isUndefined(j)||j===null)&&e.append(l===!0?iS([C],H,o):l===null?C:C+"[]",p(j))}),!1}return cy(k)?!0:(e.append(iS(I,C,o),p(k)),!1)}const y=[],_=Object.assign(iV,{defaultVisitor:m,convertValue:p,isVisitable:cy});function E(k,C){if(!J.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(k),J.forEach(k,function(N,F){(!(J.isUndefined(N)||N===null)&&i.call(e,N,J.isString(F)?F.trim():F,C,_))===!0&&E(N,C?C.concat(F):[F])}),y.pop()}}if(!J.isObject(r))throw new TypeError("data must be an object");return E(r),e}function sS(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function F_(r,e){this._pairs=[],r&&sp(r,this,e)}const I0=F_.prototype;I0.append=function(e,t){this._pairs.push([e,t])};I0.toString=function(e){const t=e?function(n){return e.call(this,n,sS)}:sS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function sV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D0(r,e,t){if(!e)return r;const n=t&&t.encode||sV;J.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=J.isURLSearchParams(e)?e.toString():new F_(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class oS{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n)})}}const R0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oV=typeof URLSearchParams<"u"?URLSearchParams:F_,aV=typeof FormData<"u"?FormData:null,lV=typeof Blob<"u"?Blob:null,uV={isBrowser:!0,classes:{URLSearchParams:oV,FormData:aV,Blob:lV},protocols:["http","https","file","blob","url","data"]},V_=typeof window<"u"&&typeof document<"u",dy=typeof navigator=="object"&&navigator||void 0,cV=V_&&(!dy||["ReactNative","NativeScript","NS"].indexOf(dy.product)<0),dV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fV=V_&&window.location.href||"http://localhost",hV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V_,hasStandardBrowserEnv:cV,hasStandardBrowserWebWorkerEnv:dV,navigator:dy,origin:fV},Symbol.toStringTag,{value:"Module"})),hn={...hV,...uV};function pV(r,e){return sp(r,new hn.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return hn.isNode&&J.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function mV(r){return J.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gV(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function P0(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&J.isArray(i)?i.length:l,d?(J.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!c):((!i[l]||!J.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&J.isArray(i[l])&&(i[l]=gV(i[l])),!c)}if(J.isFormData(r)&&J.isFunction(r.entries)){const t={};return J.forEachEntry(r,(n,i)=>{e(mV(n),i,t,0)}),t}return null}function yV(r,e,t){if(J.isString(r))try{return(e||JSON.parse)(r),J.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Pc={transitional:R0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=J.isObject(e);if(o&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(P0(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pV(e,this.formSerializer).toString();if((c=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return sp(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),yV(e)):e}],transformResponse:[function(e){const t=this.transitional||Pc.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Fe.from(c,Fe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],r=>{Pc.headers[r]={}});const _V=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&_V[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},aS=Symbol("internals");function Au(r){return r&&String(r).trim().toLowerCase()}function If(r){return r===!1||r==null?r:J.isArray(r)?r.map(If):String(r)}function wV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const EV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function yg(r,e,t,n,i){if(J.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function TV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function SV(r,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class Vn{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(c,d,p){const m=Au(d);if(!m)throw new Error("header name must be a non-empty string");const y=J.findKey(i,m);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||d]=If(c))}const l=(c,d)=>J.forEach(c,(p,m)=>o(p,m,d));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(J.isString(e)&&(e=e.trim())&&!EV(e))l(vV(e),t);else if(J.isHeaders(e))for(const[c,d]of e.entries())o(d,c,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Au(e),e){const n=J.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return wV(i);if(J.isFunction(t))return t.call(this,i,n);if(J.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Au(e),e){const n=J.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||yg(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=Au(l),l){const c=J.findKey(n,l);c&&(!t||yg(n,n[c],c,t))&&(delete n[c],i=!0)}}return J.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||yg(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return J.forEach(this,(i,o)=>{const l=J.findKey(n,o);if(l){t[l]=If(i),delete t[o];return}const c=e?TV(o):String(o).trim();c!==o&&delete t[o],t[c]=If(i),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&J.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[aS]=this[aS]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Au(l);n[c]||(SV(i,l),n[c]=!0)}return J.isArray(e)?e.forEach(o):o(e),this}}Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Vn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});J.freezeMethods(Vn);function _g(r,e){const t=this||Pc,n=e||t,i=Vn.from(n.headers);let o=n.data;return J.forEach(r,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function A0(r){return!!(r&&r.__CANCEL__)}function Fl(r,e,t){Fe.call(this,r??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(Fl,Fe,{__CANCEL__:!0});function N0(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function xV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=n[o];l||(l=p),t[i]=d,n[i]=p;let y=o,_=0;for(;y!==i;)_+=t[y++],y=y%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),p-l<e)return;const E=m&&p-m;return E?Math.round(_*1e3/E):void 0}}function CV(r,e){let t=0,n=1e3/e,i,o;const l=(p,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),r.apply(null,p)};return[(...p)=>{const m=Date.now(),y=m-t;y>=n?l(p,m):(i=p,o||(o=setTimeout(()=>{o=null,l(i)},n-y)))},()=>i&&l(i)]}const ah=(r,e,t=3)=>{let n=0;const i=xV(50,250);return CV(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-n,p=i(d),m=l<=c;n=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-l)/p:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(y)},t)},lS=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},uS=r=>(...e)=>J.asap(()=>r(...e)),bV=hn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,hn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,IV=hn.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];J.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),J.isString(n)&&l.push("path="+n),J.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function RV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function M0(r,e){return r&&!DV(e)?RV(r,e):e}const cS=r=>r instanceof Vn?{...r}:r;function Jo(r,e){e=e||{};const t={};function n(p,m,y,_){return J.isPlainObject(p)&&J.isPlainObject(m)?J.merge.call({caseless:_},p,m):J.isPlainObject(m)?J.merge({},m):J.isArray(m)?m.slice():m}function i(p,m,y,_){if(J.isUndefined(m)){if(!J.isUndefined(p))return n(void 0,p,y,_)}else return n(p,m,y,_)}function o(p,m){if(!J.isUndefined(m))return n(void 0,m)}function l(p,m){if(J.isUndefined(m)){if(!J.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,y){if(y in e)return n(p,m);if(y in r)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,m,y)=>i(cS(p),cS(m),y,!0)};return J.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=d[m]||i,_=y(r[m],e[m],m);J.isUndefined(_)&&y!==c||(t[m]=_)}),t}const O0=r=>{const e=Jo({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Vn.from(l),e.url=D0(M0(e.baseURL,e.url),r.params,r.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(J.isFormData(t)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(hn.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&bV(e.url))){const p=i&&o&&IV.read(o);p&&l.set(i,p)}return e},PV=typeof XMLHttpRequest<"u",AV=PV&&function(r){return new Promise(function(t,n){const i=O0(r);let o=i.data;const l=Vn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=i,m,y,_,E,k;function C(){E&&E(),k&&k(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function N(){if(!I)return;const j=Vn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),Q={data:!c||c==="text"||c==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:r,request:I};N0(function(A){t(A),C()},function(A){n(A),C()},Q),I=null}"onloadend"in I?I.onloadend=N:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(N)},I.onabort=function(){I&&(n(new Fe("Request aborted",Fe.ECONNABORTED,r,I)),I=null)},I.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,r,I)),I=null},I.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||R0;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),n(new Fe(H,Q.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,r,I)),I=null},o===void 0&&l.setContentType(null),"setRequestHeader"in I&&J.forEach(l.toJSON(),function(H,Q){I.setRequestHeader(Q,H)}),J.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),c&&c!=="json"&&(I.responseType=i.responseType),p&&([_,k]=ah(p,!0),I.addEventListener("progress",_)),d&&I.upload&&([y,E]=ah(d),I.upload.addEventListener("progress",y),I.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=j=>{I&&(n(!j||j.type?new Fl(null,r,I):j),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const F=kV(i.url);if(F&&hn.protocols.indexOf(F)===-1){n(new Fe("Unsupported protocol "+F+":",Fe.ERR_BAD_REQUEST,r));return}I.send(o||null)})},NV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(p){if(!i){i=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Fe?m:new Fl(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const c=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),r=null)};r.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>J.asap(c),d}},MV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},OV=async function*(r,e){for await(const t of LV(r))yield*MV(t,e)},LV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},dS=(r,e,t,n)=>{const i=OV(r,e);let o=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await i.next();if(p){c(),d.close();return}let y=m.byteLength;if(t){let _=o+=y;t(_)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},op=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",L0=op&&typeof ReadableStream=="function",FV=op&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),F0=(r,...e)=>{try{return!!r(...e)}catch{return!1}},VV=L0&&F0(()=>{let r=!1;const e=new Request(hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),fS=64*1024,fy=L0&&F0(()=>J.isReadableStream(new Response("").body)),lh={stream:fy&&(r=>r.body)};op&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lh[e]&&(lh[e]=J.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const jV=async r=>{if(r==null)return 0;if(J.isBlob(r))return r.size;if(J.isSpecCompliantForm(r))return(await new Request(hn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(J.isArrayBufferView(r)||J.isArrayBuffer(r))return r.byteLength;if(J.isURLSearchParams(r)&&(r=r+""),J.isString(r))return(await FV(r)).byteLength},UV=async(r,e)=>{const t=J.toFiniteNumber(r.getContentLength());return t??jV(e)},BV=op&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:m,withCredentials:y="same-origin",fetchOptions:_}=O0(r);p=p?(p+"").toLowerCase():"text";let E=NV([i,o&&o.toAbortSignal()],l),k;const C=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let I;try{if(d&&VV&&t!=="get"&&t!=="head"&&(I=await UV(m,n))!==0){let Q=new Request(e,{method:"POST",body:n,duplex:"half"}),ne;if(J.isFormData(n)&&(ne=Q.headers.get("content-type"))&&m.setContentType(ne),Q.body){const[A,D]=lS(I,ah(uS(d)));n=dS(Q.body,fS,A,D)}}J.isString(y)||(y=y?"include":"omit");const N="credentials"in Request.prototype;k=new Request(e,{..._,signal:E,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:N?y:void 0});let F=await fetch(k);const j=fy&&(p==="stream"||p==="response");if(fy&&(c||j&&C)){const Q={};["status","statusText","headers"].forEach(P=>{Q[P]=F[P]});const ne=J.toFiniteNumber(F.headers.get("content-length")),[A,D]=c&&lS(ne,ah(uS(c),!0))||[];F=new Response(dS(F.body,fS,A,()=>{D&&D(),C&&C()}),Q)}p=p||"text";let H=await lh[J.findKey(lh,p)||"text"](F,r);return!j&&C&&C(),await new Promise((Q,ne)=>{N0(Q,ne,{data:H,headers:Vn.from(F.headers),status:F.status,statusText:F.statusText,config:r,request:k})})}catch(N){throw C&&C(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,r,k),{cause:N.cause||N}):Fe.from(N,N&&N.code,r,k)}}),hy={http:nV,xhr:AV,fetch:BV};J.forEach(hy,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const hS=r=>`- ${r}`,$V=r=>J.isFunction(r)||r===null||r===!1,V0={getAdapter:r=>{r=J.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!$V(t)&&(n=hy[(l=String(t)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(hS).join(`
`):" "+hS(o[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:hy};function vg(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Fl(null,r)}function pS(r){return vg(r),r.headers=Vn.from(r.headers),r.data=_g.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),V0.getAdapter(r.adapter||Pc.adapter)(r).then(function(n){return vg(r),n.data=_g.call(r,r.transformResponse,n),n.headers=Vn.from(n.headers),n},function(n){return A0(n)||(vg(r),n&&n.response&&(n.response.data=_g.call(r,r.transformResponse,n.response),n.response.headers=Vn.from(n.response.headers))),Promise.reject(n)})}const j0="1.7.9",ap={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ap[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const mS={};ap.transitional=function(e,t,n){function i(o,l){return"[Axios v"+j0+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,c)=>{if(e===!1)throw new Fe(i(l," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!mS[l]&&(mS[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};ap.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function WV(r,e,t){if(typeof r!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const c=r[o],d=c===void 0||l(c,o,r);if(d!==!0)throw new Fe("option "+o+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+o,Fe.ERR_BAD_OPTION)}}const Df={assertOptions:WV,validators:ap},Jr=Df.validators;class Wo{constructor(e){this.defaults=e,this.interceptors={request:new oS,response:new oS}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Jo(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&Df.assertOptions(n,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),i!=null&&(J.isFunction(i)?t.paramsSerializer={serialize:i}:Df.assertOptions(i,{encode:Jr.function,serialize:Jr.function},!0)),Df.assertOptions(t,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&J.merge(o.common,o[t.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],k=>{delete o[k]}),t.headers=Vn.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(d=d&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let m,y=0,_;if(!d){const k=[pS.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,p),_=k.length,m=Promise.resolve(t);y<_;)m=m.then(k[y++],k[y++]);return m}_=c.length;let E=t;for(y=0;y<_;){const k=c[y++],C=c[y++];try{E=k(E)}catch(I){C.call(this,I);break}}try{m=pS.call(this,E)}catch(k){return Promise.reject(k)}for(y=0,_=p.length;y<_;)m=m.then(p[y++],p[y++]);return m}getUri(e){e=Jo(this.defaults,e);const t=M0(e.baseURL,e.url);return D0(t,e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){Wo.prototype[e]=function(t,n){return this.request(Jo(n||{},{method:e,url:t,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,c){return this.request(Jo(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Wo.prototype[e]=t(),Wo.prototype[e+"Form"]=t(!0)});class j_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{n.subscribe(c),o=c}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,c){n.reason||(n.reason=new Fl(o,l,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new j_(function(i){e=i}),cancel:e}}}function HV(r){return function(t){return r.apply(null,t)}}function zV(r){return J.isObject(r)&&r.isAxiosError===!0}const py={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(py).forEach(([r,e])=>{py[e]=r});function U0(r){const e=new Wo(r),t=y0(Wo.prototype.request,e);return J.extend(t,Wo.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return U0(Jo(r,i))},t}const ft=U0(Pc);ft.Axios=Wo;ft.CanceledError=Fl;ft.CancelToken=j_;ft.isCancel=A0;ft.VERSION=j0;ft.toFormData=sp;ft.AxiosError=Fe;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=HV;ft.isAxiosError=zV;ft.mergeConfig=Jo;ft.AxiosHeaders=Vn;ft.formToJSON=r=>P0(J.isHTMLForm(r)?new FormData(r):r);ft.getAdapter=V0.getAdapter;ft.HttpStatusCode=py;ft.default=ft;const qV=async(r,e)=>{try{return(await ft.get("/.netlify/functions/fetchMetArtworkDetails",{params:{type:r,q:e}})).data.map(o=>{const l=o.artistDisplayName||"an unknown Artist",c=o.artistNationality||"Unknown nationality",d=o.objectDate||"an undetermined time",p=o.medium||"an artistic medium",m=o.dimensions||"unknown dimensions",y=o.classification||"an extraordinary artwork",_=o.department||"an unspecified department",E=o.objectURL||"https://www.metmuseum.org/art/collection",k=o.creditLine||"an anonymous donor",C=o.period||"an unspecified period",I=o.geographyType||"a broad location",N=o.city||"an unknown city",F=o.country||"an unknown country",j=m.match(/\(([^)]+)\)/),H=j?j[1]:m,Q=`<p>${o.title} is a ${y.toLowerCase()} by ${l} (${c}). Created in ${d}, this ${p} artwork measures approximately <i>${H}</i>. It is part of the ${_} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${C}</em>, and its geographical origins are linked to <em>${I}</em>, with specific ties to <em>${N}</em>, ${F}. The artwork is credited to ${k}. Learn more about this artwork <a href="${E}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:o.objectID,title:o.title,artist_title:o.artistDisplayName,artist_bio:o.artistDisplayBio,date:o.objectDate,medium_display:o.medium,imageUrl:o.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:o.objectURL,description:Q}})}catch(t){throw t}},YV="https://api.artic.edu/api/v1/artworks/search",KV="https://www.artic.edu/iiif/2",QV=async(r,e)=>{const t={query:{bool:{must:[{match:{[e]:r}},{term:{is_on_view:!0}}]}}};try{const o=(await ft.post(YV,t,{headers:{"Content-Type":"application/json"}})).data.data.map(d=>ft.get(`https://api.artic.edu/api/v1/artworks/${d.id}`,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}}));return(await Promise.all(o)).map(d=>{const p=d.data.data,m=p.image_id?`${KV}/${p.image_id}/full/843,/0/default.jpg`:"",y=p.artist_display.match(/\(([^)]+)\)/),_=y?y[1]:null;return{id:p.id,title:p.title,artist_title:p.artist_title,artist_bio:_,date:p.date_display,medium_display:p.medium_display,imageUrl:m||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:p.description}})}catch(n){throw ft.isAxiosError(n)?new Error(`Axios error fetching artworks from Chicago: ${n.message}
        `):new Error(`Unexpected error fetching artworks from Chicago: ${n} `)}},GV=(r,e,t,n)=>{const[i,o]=x.useState(!1),[l,c]=x.useState(null),{user:d}=oa(),{artworks:p,setArtworks:m}=b_();return x.useEffect(()=>{e?(async()=>{var _,E;if(o(!0),c(null),n&&d)(async()=>{try{const C=Bo(Bt,"user_artworks",d.uid,"artworks"),I=await nh(C);console.log("fetching search from collection");const N=I.docs.map(H=>H.data()),F=th(C,Ju(t,"==",e)),j=N.filter(H=>{var Q;return(Q=H[t])==null?void 0:Q.toLowerCase().includes(e.toLowerCase())});m(j)}catch(C){c("Error loading collection: "+C.message)}finally{o(!1)}})();else{const k={artist:r==="met"?"artistOrCulture":"artist_display",title:"title"};try{const C=r==="met"?await qV(k[t]||"artistOrCulture",e):await QV(e,k[t]||"artist_display");m(C)}catch(C){c(((E=(_=C.response)==null?void 0:_.data)==null?void 0:E.error)||"An error occurred while fetching artworks. Please try again.")}finally{o(!1)}}})():m([])},[e,t,r,n,d,m]),{artworks:p,loading:i,error:l,setArtworks:m}},XV=({sortOption:r,setSortOption:e,sortDirection:t,setSortDirection:n})=>{const[i,o]=x.useState(null),{setQuery:l}=Py(),{setType:c}=vk(),[d,p]=x.useState(""),[m,y]=x.useState(""),_=()=>{if(d.trim()===""){o("Please enter an artist name.");return}l(d),c("artist_title"),o(null),p("")},E=()=>{if(m.trim()===""){o("Please enter a title.");return}l(m),c("title"),o(null),y("")},k=C=>{n(I=>({...I,[C]:I[C]==="asc"?"desc":"asc"}))};return S.jsxs("div",{className:"container my-3",children:[S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:d,onChange:C=>p(C.target.value),placeholder:"Search by Artist","aria-label":"Search by Artist"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-primary w-100",onClick:_,"aria-label":"Search by Artist",children:"Search by Artist"})})]}),S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:m,onChange:C=>y(C.target.value),placeholder:"Search by Title","aria-label":"Search by Title"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-secondary w-100",onClick:E,"aria-label":"Search by Title",children:"Search by Title"})})]}),S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-md-4 mb-3",children:S.jsxs("div",{className:"input-group",children:[S.jsxs("select",{className:"form-select",value:r,onChange:C=>e(C.target.value),"aria-label":"Sort by",children:[S.jsx("option",{value:"artist",children:"Sort by Artist"}),S.jsx("option",{value:"title",children:"Sort by Title"}),S.jsx("option",{value:"date",children:"Sort by Date"})]}),S.jsx("button",{className:"btn btn-info",onClick:()=>k(r),"aria-label":"Toggle Sort Direction",children:t[r]==="asc"?"":""})]})})}),i&&S.jsx("div",{className:"text-danger mt-2",children:i})]})};function B0(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=B0(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function nn(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=B0(r))&&(n&&(n+=" "),n+=e);return n}function me(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function st(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Pr(r,e){const t=me(r);return isNaN(e)?st(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Or(r,e){const t=me(r);if(isNaN(e))return st(r,NaN);if(!e)return t;const n=t.getDate(),i=st(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function U_(r,e){const t=+me(r);return st(r,t+e)}const $0=6048e5,JV=864e5,lp=6e4,up=36e5,ZV=1e3;function ej(r,e){return U_(r,e*up)}let tj={};function aa(){return tj}function Gi(r,e){var c,d,p,m;const t=aa(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function wl(r){return Gi(r,{weekStartsOn:1})}function W0(r){const e=me(r),t=e.getFullYear(),n=st(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=wl(n),o=st(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=wl(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Zo(r){const e=me(r);return e.setHours(0,0,0,0),e}function uh(r){const e=me(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function El(r,e){const t=Zo(r),n=Zo(e),i=+t-uh(t),o=+n-uh(n);return Math.round((i-o)/JV)}function nj(r){const e=W0(r),t=st(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),wl(t)}function my(r,e){return U_(r,e*lp)}function B_(r,e){const t=e*3;return Or(r,t)}function rj(r,e){return U_(r,e*1e3)}function ch(r,e){const t=e*7;return Pr(r,t)}function Ui(r,e){return Or(r,e*12)}function gS(r){let e;return r.forEach(function(t){const n=me(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function yS(r){let e;return r.forEach(t=>{const n=me(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function ij(r,e){const t=Zo(r),n=Zo(e);return+t==+n}function Bi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function dh(r){if(!Bi(r)&&typeof r!="number")return!1;const e=me(r);return!isNaN(Number(e))}function fh(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function Ho(r){const e=me(r);return Math.trunc(e.getMonth()/3)+1}function hh(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=Ho(t)-Ho(n);return i*4+o}function ph(r,e){const t=me(r),n=me(e);return t.getFullYear()-n.getFullYear()}function sj(r,e){const t=me(r),n=me(e),i=_S(t,n),o=Math.abs(El(t,n));t.setDate(t.getDate()-i*o);const l=+(_S(t,n)===-i),c=i*(o-l);return c===0?0:c}function _S(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function H0(r){const e=me(r);return e.setHours(23,59,59,999),e}function z0(r){const e=me(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function gy(r){const e=me(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function q0(r){const e=me(r);return e.setDate(1),e.setHours(0,0,0,0),e}function Y0(r){const e=me(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function cp(r){const e=me(r),t=st(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function oj(r,e){var c,d;const t=aa(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const aj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lj=(r,e,t)=>{let n;const i=aj[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function wg(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fj={date:wg({formats:uj,defaultWidth:"full"}),time:wg({formats:cj,defaultWidth:"full"}),dateTime:wg({formats:dj,defaultWidth:"full"})},hj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pj=(r,e,t,n)=>hj[r];function Nu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const mj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_j={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ej=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Tj={ordinalNumber:Ej,era:Nu({values:mj,defaultWidth:"wide"}),quarter:Nu({values:gj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Nu({values:yj,defaultWidth:"wide"}),day:Nu({values:_j,defaultWidth:"wide"}),dayPeriod:Nu({values:vj,defaultWidth:"wide",formattingValues:wj,defaultFormattingWidth:"wide"})};function Mu(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?kj(c,y=>y.test(l)):Sj(c,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function Sj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function kj(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function xj(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const Cj=/^(\d+)(th|st|nd|rd)?/i,bj=/\d+/i,Ij={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dj={any:[/^b/i,/^(a|c)/i]},Rj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pj={any:[/1/i,/2/i,/3/i,/4/i]},Aj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vj={ordinalNumber:xj({matchPattern:Cj,parsePattern:bj,valueCallback:r=>parseInt(r,10)}),era:Mu({matchPatterns:Ij,defaultMatchWidth:"wide",parsePatterns:Dj,defaultParseWidth:"any"}),quarter:Mu({matchPatterns:Rj,defaultMatchWidth:"wide",parsePatterns:Pj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Mu({matchPatterns:Aj,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any"}),day:Mu({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),dayPeriod:Mu({matchPatterns:Lj,defaultMatchWidth:"any",parsePatterns:Fj,defaultParseWidth:"any"})},K0={code:"en-US",formatDistance:lj,formatLong:fj,formatRelative:pj,localize:Tj,match:Vj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jj(r){const e=me(r);return El(e,cp(e))+1}function $_(r){const e=me(r),t=+wl(e)-+nj(e);return Math.round(t/$0)+1}function W_(r,e){var m,y,_,E;const t=me(r),n=t.getFullYear(),i=aa(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(_=i.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,l=st(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Gi(l,e),d=st(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Gi(d,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=p.getTime()?n:n-1}function Uj(r,e){var c,d,p,m;const t=aa(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=W_(r,e),o=st(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Gi(o,e)}function Q0(r,e){const t=me(r),n=+Gi(t,e)-+Uj(t,e);return Math.round(n/$0)+1}function it(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const xs={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(r,e){return it(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return it(r.getHours()%12||12,e.length)},H(r,e){return it(r.getHours(),e.length)},m(r,e){return it(r.getMinutes(),e.length)},s(r,e){return it(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return it(i,e.length)}},Za={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return xs.y(r,e)},Y:function(r,e,t,n){const i=W_(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return it(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(r,e){const t=W0(r);return it(t,e.length)},u:function(r,e){const t=r.getFullYear();return it(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return xs.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Q0(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):it(i,e.length)},I:function(r,e,t){const n=$_(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):xs.d(r,e)},D:function(r,e,t){const n=jj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return it(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Za.noon:n===0?i=Za.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Za.evening:n>=12?i=Za.afternoon:n>=4?i=Za.morning:i=Za.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return xs.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):xs.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):xs.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):xs.s(r,e)},S:function(r,e){return xs.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ES(n);case"XXXX":case"XX":return No(n);case"XXXXX":case"XXX":default:return No(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return ES(n);case"xxxx":case"xx":return No(n);case"xxxxx":case"xxx":default:return No(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wS(n,":");case"OOOO":default:return"GMT"+No(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wS(n,":");case"zzzz":default:return"GMT"+No(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return it(n,e.length)},T:function(r,e,t){const n=r.getTime();return it(n,e.length)}};function wS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+it(o,2)}function ES(r,e){return r%60===0?(r>0?"-":"+")+it(Math.abs(r)/60,2):No(r,e)}function No(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=it(Math.trunc(n/60),2),o=it(n%60,2);return t+i+e+o}const TS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},G0=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return TS(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",TS(n,e)).replace("{{time}}",G0(i,e))},mh={p:G0,P:Bj},$j=/^D+$/,Wj=/^Y+$/,Hj=["D","DD","YY","YYYY"];function X0(r){return $j.test(r)}function J0(r){return Wj.test(r)}function yy(r,e,t){const n=zj(r,e,t);if(console.warn(n),Hj.includes(r))throw new RangeError(n)}function zj(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kj=/^'([^]*?)'?$/,Qj=/''/g,Gj=/[a-zA-Z]/;function SS(r,e,t){var m,y,_,E,k,C,I,N;const n=aa(),i=(t==null?void 0:t.locale)??n.locale??K0,o=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(_=n.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((C=(k=t==null?void 0:t.locale)==null?void 0:k.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((N=(I=n.locale)==null?void 0:I.options)==null?void 0:N.weekStartsOn)??0,c=me(r);if(!dh(c))throw new RangeError("Invalid time value");let d=e.match(Yj).map(F=>{const j=F[0];if(j==="p"||j==="P"){const H=mh[j];return H(F,i.formatLong)}return F}).join("").match(qj).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const j=F[0];if(j==="'")return{isToken:!1,value:Xj(F)};if(vS[j])return{isToken:!0,value:F};if(j.match(Gj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:F}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(F=>{if(!F.isToken)return F.value;const j=F.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&J0(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&X0(j))&&yy(j,e,String(r));const H=vS[j[0]];return H(c,j,i.localize,p)}).join("")}function Xj(r){const e=r.match(Kj);return e?e[1].replace(Qj,"'"):r}function kS(r){return me(r).getDate()}function Jj(r){return me(r).getDay()}function Zj(r){const e=me(r),t=e.getFullYear(),n=e.getMonth(),i=st(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function eU(){return Object.assign({},aa())}function ci(r){return me(r).getHours()}function tU(r){let t=me(r).getDay();return t===0&&(t=7),t}function di(r){return me(r).getMinutes()}function Tn(r){return me(r).getMonth()}function $i(r){return me(r).getSeconds()}function _y(r){return me(r).getTime()}function Ue(r){return me(r).getFullYear()}function Ys(r,e){const t=me(r),n=me(e);return t.getTime()>n.getTime()}function ea(r,e){const t=me(r),n=me(e);return+t<+n}function nU(r,e){const t=me(r),n=me(e);return+t==+n}function rU(r,e){const t=e instanceof Date?st(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const iU=10;class Z0{constructor(){ge(this,"subPriority",0)}validate(e,t){return!0}}class sU extends Z0{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class oU extends Z0{constructor(){super(...arguments);ge(this,"priority",iU);ge(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:st(t,rU(t,Date))}}class tt{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new sU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class aU extends tt{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(r,e){return r&&{value:e(r.value),rest:r.rest}}function St(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ri(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*up+o*lp+l*ZV),rest:e.slice(t[0].length)}}function eb(r){return St(Pt.anyDigitsSigned,r)}function bt(r,e){switch(r){case 1:return St(Pt.singleDigit,e);case 2:return St(Pt.twoDigits,e);case 3:return St(Pt.threeDigits,e);case 4:return St(Pt.fourDigits,e);default:return St(new RegExp("^\\d{1,"+r+"}"),e)}}function gh(r,e){switch(r){case 1:return St(Pt.singleDigitSigned,e);case 2:return St(Pt.twoDigitsSigned,e);case 3:return St(Pt.threeDigitsSigned,e);case 4:return St(Pt.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+r+"}"),e)}}function H_(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tb(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function nb(r){return r%400===0||r%4===0&&r%100!==0}class lU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return At(bt(4,t),o);case"yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=tb(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class uU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return At(bt(4,t),o);case"Yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=W_(t,o);if(i.isTwoDigitYear){const d=tb(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Gi(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Gi(t,o)}}class cU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return gh(n==="R"?4:n.length,t)}set(t,n,i){const o=st(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),wl(o)}}class dU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return gh(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class fU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return bt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class hU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return bt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class pU extends tt{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return At(St(Pt.month,t),o);case"MM":return At(bt(2,t),o);case"Mo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class mU extends tt{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return At(St(Pt.month,t),o);case"LL":return At(bt(2,t),o);case"Lo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function gU(r,e,t){const n=me(r),i=Q0(n,t)-e;return n.setDate(n.getDate()-i*7),n}class yU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return St(Pt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Gi(gU(t,i,o),o)}}function _U(r,e){const t=me(r),n=$_(t)-e;return t.setDate(t.getDate()-n*7),t}class vU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return St(Pt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return wl(_U(t,i))}}const wU=[31,28,31,30,31,30,31,31,30,31,30,31],EU=[31,29,31,30,31,30,31,31,30,31,30,31];class TU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return St(Pt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=nb(i),l=t.getMonth();return o?n>=1&&n<=EU[l]:n>=1&&n<=wU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class SU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return St(Pt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear();return nb(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function z_(r,e,t){var y,_,E,k;const n=aa(),i=(t==null?void 0:t.weekStartsOn)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((k=(E=n.locale)==null?void 0:E.options)==null?void 0:k.weekStartsOn)??0,o=me(r),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return Pr(o,m)}class kU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=z_(t,i,o),t.setHours(0,0,0,0),t}}class xU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return At(bt(n.length,t),l);case"eo":return At(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=z_(t,i,o),t.setHours(0,0,0,0),t}}class CU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return At(bt(n.length,t),l);case"co":return At(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=z_(t,i,o),t.setHours(0,0,0,0),t}}function bU(r,e){const t=me(r),n=tU(t),i=e-n;return Pr(t,i)}class IU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return bt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return At(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return At(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return At(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return At(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=bU(t,i),t.setHours(0,0,0,0),t}}class DU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(H_(i),0,0,0),t}}class RU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(H_(i),0,0,0),t}}class PU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(H_(i),0,0,0),t}}class AU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return St(Pt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class NU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return St(Pt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class MU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return St(Pt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class OU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return St(Pt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class LU extends tt{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return St(Pt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class FU extends tt{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return St(Pt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class VU extends tt{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return At(bt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class jU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ri(ni.basicOptionalMinutes,t);case"XX":return ri(ni.basic,t);case"XXXX":return ri(ni.basicOptionalSeconds,t);case"XXXXX":return ri(ni.extendedOptionalSeconds,t);case"XXX":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-uh(t)-i)}}class UU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ri(ni.basicOptionalMinutes,t);case"xx":return ri(ni.basic,t);case"xxxx":return ri(ni.basicOptionalSeconds,t);case"xxxxx":return ri(ni.extendedOptionalSeconds,t);case"xxx":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-uh(t)-i)}}class BU extends tt{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(t){return eb(t)}set(t,n,i){return[st(t,i*1e3),{timestampIsSet:!0}]}}class $U extends tt{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(t){return eb(t)}set(t,n,i){return[st(t,i),{timestampIsSet:!0}]}}const WU={G:new aU,y:new lU,Y:new uU,R:new cU,u:new dU,Q:new fU,q:new hU,M:new pU,L:new mU,w:new yU,I:new vU,d:new TU,D:new SU,E:new kU,e:new xU,c:new CU,i:new IU,a:new DU,b:new RU,B:new PU,h:new AU,H:new NU,K:new MU,k:new OU,m:new LU,s:new FU,S:new VU,X:new jU,x:new UU,t:new BU,T:new $U},HU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qU=/^'([^]*?)'?$/,YU=/''/g,KU=/\S/,QU=/[a-zA-Z]/;function Eg(r,e,t,n){var C,I,N,F,j,H,Q,ne;const i=eU(),o=(n==null?void 0:n.locale)??i.locale??K0,l=(n==null?void 0:n.firstWeekContainsDate)??((I=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((F=(N=i.locale)==null?void 0:N.options)==null?void 0:F.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((H=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:H.weekStartsOn)??i.weekStartsOn??((ne=(Q=i.locale)==null?void 0:Q.options)==null?void 0:ne.weekStartsOn)??0;if(e==="")return r===""?me(t):st(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},p=[new oU],m=e.match(zU).map(A=>{const D=A[0];if(D in mh){const P=mh[D];return P(A,o.formatLong)}return A}).join("").match(HU),y=[];for(let A of m){!(n!=null&&n.useAdditionalWeekYearTokens)&&J0(A)&&yy(A,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&X0(A)&&yy(A,e,r);const D=A[0],P=WU[D];if(P){const{incompatibleTokens:L}=P;if(Array.isArray(L)){const B=y.find(M=>L.includes(M.token)||M.token===D);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${A}\` at the same time`)}else if(P.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);y.push({token:D,fullToken:A});const V=P.run(r,A,o.match,d);if(!V)return st(t,NaN);p.push(V.setter),r=V.rest}else{if(D.match(QU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(A==="''"?A="'":D==="'"&&(A=GU(A)),r.indexOf(A)===0)r=r.slice(A.length);else return st(t,NaN)}}if(r.length>0&&KU.test(r))return st(t,NaN);const _=p.map(A=>A.priority).sort((A,D)=>D-A).filter((A,D,P)=>P.indexOf(A)===D).map(A=>p.filter(D=>D.priority===A).sort((D,P)=>P.subPriority-D.subPriority)).map(A=>A[0]);let E=me(t);if(isNaN(E.getTime()))return st(t,NaN);const k={};for(const A of _){if(!A.validate(E,d))return st(t,NaN);const D=A.set(E,k,d);Array.isArray(D)?(E=D[0],Object.assign(k,D[1])):E=D}return st(t,E)}function GU(r){return r.match(qU)[1].replace(YU,"'")}function XU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function JU(r,e){const t=gy(r),n=gy(e);return+t==+n}function ZU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()}function fc(r,e){const t=+me(r),[n,i]=[+me(e.start),+me(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function e4(r,e){return Pr(r,-1)}function t4(r,e){const n=s4(r);let i;if(n.date){const d=o4(n.date,2);i=a4(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,c;if(n.time&&(l=l4(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(c=u4(n.timezone),isNaN(c))return new Date(NaN)}else{const d=new Date(o+l),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(o+l+c)}const af={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},n4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,r4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,i4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function s4(r){const e={},t=r.split(af.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],af.timeZoneDelimiter.test(e.date)&&(e.date=r.split(af.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=af.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function o4(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function a4(r,e){if(e===null)return new Date(NaN);const t=r.match(n4);if(!t)return new Date(NaN);const n=!!t[4],i=Ou(t[1]),o=Ou(t[2])-1,l=Ou(t[3]),c=Ou(t[4]),d=Ou(t[5])-1;if(n)return p4(e,c,d)?c4(e,c,d):new Date(NaN);{const p=new Date(0);return!f4(e,o,l)||!h4(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function Ou(r){return r?parseInt(r):1}function l4(r){const e=r.match(r4);if(!e)return NaN;const t=Tg(e[1]),n=Tg(e[2]),i=Tg(e[3]);return m4(t,n,i)?t*up+n*lp+i*1e3:NaN}function Tg(r){return r&&parseFloat(r.replace(",","."))||0}function u4(r){if(r==="Z")return 0;const e=r.match(i4);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return g4(n,i)?t*(n*up+i*lp):NaN}function c4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const d4=[31,null,31,30,31,30,31,31,30,31,30,31];function rb(r){return r%400===0||r%4===0&&r%100!==0}function f4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(d4[e]||(rb(r)?29:28))}function h4(r,e){return e>=1&&e<=(rb(r)?366:365)}function p4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function m4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function g4(r,e){return e>=0&&e<=59}function Kn(r,e){const t=me(r),n=t.getFullYear(),i=t.getDate(),o=st(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=Zj(o);return t.setMonth(e,Math.min(i,l)),t}function y4(r,e){let t=me(r);return isNaN(+t)?st(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Kn(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Rf(r,e){const t=me(r);return t.setHours(e),t}function Pf(r,e){const t=me(r);return t.setMinutes(e),t}function il(r,e){const t=me(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return Kn(t,t.getMonth()+i*3)}function Af(r,e){const t=me(r);return t.setSeconds(e),t}function ei(r,e){const t=me(r);return isNaN(+t)?st(r,NaN):(t.setFullYear(e),t)}function zo(r,e){return Or(r,-e)}function ib(r,e){return B_(r,-1)}function xS(r,e){return ch(r,-1)}function Tl(r,e){return Ui(r,-e)}function dp(){return typeof window<"u"}function Vl(r){return sb(r)?(r.nodeName||"").toLowerCase():"#document"}function Xn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function mi(r){var e;return(e=(sb(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function sb(r){return dp()?r instanceof Node||r instanceof Xn(r).Node:!1}function Sn(r){return dp()?r instanceof Element||r instanceof Xn(r).Element:!1}function pi(r){return dp()?r instanceof HTMLElement||r instanceof Xn(r).HTMLElement:!1}function CS(r){return!dp()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Xn(r).ShadowRoot}function Ac(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=fr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function _4(r){return["table","td","th"].includes(Vl(r))}function fp(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function q_(r){const e=Y_(),t=Sn(r)?fr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function v4(r){let e=Ks(r);for(;pi(e)&&!Sl(e);){if(q_(e))return e;if(fp(e))return null;e=Ks(e)}return null}function Y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sl(r){return["html","body","#document"].includes(Vl(r))}function fr(r){return Xn(r).getComputedStyle(r)}function hp(r){return Sn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ks(r){if(Vl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||CS(r)&&r.host||mi(r);return CS(e)?e.host:e}function ob(r){const e=Ks(r);return Sl(e)?r.ownerDocument?r.ownerDocument.body:r.body:pi(e)&&Ac(e)?e:ob(e)}function hc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=ob(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Xn(i);if(o){const c=vy(l);return e.concat(l,l.visualViewport||[],Ac(i)?i:[],c&&t?hc(c):[])}return e.concat(i,hc(i,[],t))}function vy(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const kl=Math.min,qo=Math.max,yh=Math.round,lf=Math.floor,fi=r=>({x:r,y:r}),w4={left:"right",right:"left",bottom:"top",top:"bottom"},E4={start:"end",end:"start"};function T4(r,e,t){return qo(r,kl(e,t))}function pp(r,e){return typeof r=="function"?r(e):r}function xl(r){return r.split("-")[0]}function Nc(r){return r.split("-")[1]}function S4(r){return r==="x"?"y":"x"}function K_(r){return r==="y"?"height":"width"}function pc(r){return["top","bottom"].includes(xl(r))?"y":"x"}function Q_(r){return S4(pc(r))}function k4(r,e,t){t===void 0&&(t=!1);const n=Nc(r),i=Q_(r),o=K_(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=_h(l)),[l,_h(l)]}function x4(r){const e=_h(r);return[wy(r),e,wy(e)]}function wy(r){return r.replace(/start|end/g,e=>E4[e])}function C4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function b4(r,e,t,n){const i=Nc(r);let o=C4(xl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(wy)))),o}function _h(r){return r.replace(/left|right|bottom|top/g,e=>w4[e])}function I4(r){return{top:0,right:0,bottom:0,left:0,...r}}function ab(r){return typeof r!="number"?I4(r):{top:r,right:r,bottom:r,left:r}}function vh(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function bS(r,e,t){let{reference:n,floating:i}=r;const o=pc(e),l=Q_(e),c=K_(l),d=xl(e),p=o==="y",m=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,_=n[c]/2-i[c]/2;let E;switch(d){case"top":E={x:m,y:n.y-i.height};break;case"bottom":E={x:m,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y};break;case"left":E={x:n.x-i.width,y};break;default:E={x:n.x,y:n.y}}switch(Nc(e)){case"start":E[l]-=_*(t&&p?-1:1);break;case"end":E[l]+=_*(t&&p?-1:1);break}return E}const D4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y}=bS(p,n,d),_=n,E={},k=0;for(let C=0;C<c.length;C++){const{name:I,fn:N}=c[C],{x:F,y:j,data:H,reset:Q}=await N({x:m,y,initialPlacement:n,placement:_,strategy:i,middlewareData:E,rects:p,platform:l,elements:{reference:r,floating:e}});m=F??m,y=j??y,E={...E,[I]:{...E[I],...H}},Q&&k<=50&&(k++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(p=Q.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):Q.rects),{x:m,y}=bS(p,_,d)),C=-1)}return{x:m,y,placement:_,strategy:i,middlewareData:E}};async function R4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:E=0}=pp(e,r),k=ab(E),I=c[_?y==="floating"?"reference":"floating":y],N=vh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),F=y==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),H=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},Q=vh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:j,strategy:d}):F);return{top:(N.top-Q.top+k.top)/H.y,bottom:(Q.bottom-N.bottom+k.bottom)/H.y,left:(N.left-Q.left+k.left)/H.x,right:(Q.right-N.right+k.right)/H.x}}const P4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=pp(r,e)||{};if(p==null)return{};const y=ab(m),_={x:t,y:n},E=Q_(i),k=K_(E),C=await l.getDimensions(p),I=E==="y",N=I?"top":"left",F=I?"bottom":"right",j=I?"clientHeight":"clientWidth",H=o.reference[k]+o.reference[E]-_[E]-o.floating[k],Q=_[E]-o.reference[E],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let A=ne?ne[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(ne)))&&(A=c.floating[j]||o.floating[k]);const D=H/2-Q/2,P=A/2-C[k]/2-1,L=kl(y[N],P),V=kl(y[F],P),B=L,M=A-C[k]-V,Ee=A/2-C[k]/2+D,xe=T4(B,Ee,M),ce=!d.arrow&&Nc(i)!=null&&Ee!==xe&&o.reference[k]/2-(Ee<B?L:V)-C[k]/2<0,de=ce?Ee<B?Ee-B:Ee-M:0;return{[E]:_[E]+de,data:{[E]:xe,centerOffset:Ee-xe-de,...ce&&{alignmentOffset:de}},reset:ce}}}),A4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:C=!0,...I}=pp(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=xl(i),F=pc(c),j=xl(c)===c,H=await(d.isRTL==null?void 0:d.isRTL(p.floating)),Q=_||(j||!C?[_h(c)]:x4(c)),ne=k!=="none";!_&&ne&&Q.push(...b4(c,C,k,H));const A=[c,...Q],D=await R4(e,I),P=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&P.push(D[N]),y){const Ee=k4(i,l,H);P.push(D[Ee[0]],D[Ee[1]])}if(L=[...L,{placement:i,overflows:P}],!P.every(Ee=>Ee<=0)){var V,B;const Ee=(((V=o.flip)==null?void 0:V.index)||0)+1,xe=A[Ee];if(xe)return{data:{index:Ee,overflows:L},reset:{placement:xe}};let ce=(B=L.filter(de=>de.overflows[0]<=0).sort((de,G)=>de.overflows[1]-G.overflows[1])[0])==null?void 0:B.placement;if(!ce)switch(E){case"bestFit":{var M;const de=(M=L.filter(G=>{if(ne){const fe=pc(G.placement);return fe===F||fe==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(fe=>fe>0).reduce((fe,le)=>fe+le,0)]).sort((G,fe)=>G[1]-fe[1])[0])==null?void 0:M[0];de&&(ce=de);break}case"initialPlacement":ce=c;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};async function N4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=xl(t),c=Nc(t),d=pc(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,y=pp(e,r);let{mainAxis:_,crossAxis:E,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof k=="number"&&(E=c==="end"?k*-1:k),d?{x:E*m,y:_*p}:{x:_*p,y:E*m}}const M4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await N4(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function lb(r){const e=fr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=pi(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=yh(t)!==o||yh(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function G_(r){return Sn(r)?r:r.contextElement}function cl(r){const e=G_(r);if(!pi(e))return fi(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=lb(e);let l=(o?yh(t.width):t.width)/n,c=(o?yh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const O4=fi(0);function ub(r){const e=Xn(r);return!Y_()||!e.visualViewport?O4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Xn(r)?!1:e}function ta(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=G_(r);let l=fi(1);e&&(n?Sn(n)&&(l=cl(n)):l=cl(r));const c=L4(o,t,n)?ub(o):fi(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(o){const _=Xn(o),E=n&&Sn(n)?Xn(n):n;let k=_,C=vy(k);for(;C&&n&&E!==k;){const I=cl(C),N=C.getBoundingClientRect(),F=fr(C),j=N.left+(C.clientLeft+parseFloat(F.paddingLeft))*I.x,H=N.top+(C.clientTop+parseFloat(F.paddingTop))*I.y;d*=I.x,p*=I.y,m*=I.x,y*=I.y,d+=j,p+=H,k=Xn(C),C=vy(k)}}return vh({width:m,height:y,x:d,y:p})}function X_(r,e){const t=hp(r).scrollLeft;return e?e.left+t:ta(mi(r)).left+t}function cb(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:X_(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function F4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=mi(n),c=e?fp(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=fi(1);const m=fi(0),y=pi(n);if((y||!y&&!o)&&((Vl(n)!=="body"||Ac(l))&&(d=hp(n)),pi(n))){const E=ta(n);p=cl(n),m.x=E.x+n.clientLeft,m.y=E.y+n.clientTop}const _=l&&!y&&!o?cb(l,d,!0):fi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+_.x,y:t.y*p.y-d.scrollTop*p.y+m.y+_.y}}function V4(r){return Array.from(r.getClientRects())}function j4(r){const e=mi(r),t=hp(r),n=r.ownerDocument.body,i=qo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=qo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+X_(r);const c=-t.scrollTop;return fr(n).direction==="rtl"&&(l+=qo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function U4(r,e){const t=Xn(r),n=mi(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=Y_();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function B4(r,e){const t=ta(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=pi(r)?cl(r):fi(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function IS(r,e,t){let n;if(e==="viewport")n=U4(r,t);else if(e==="document")n=j4(mi(r));else if(Sn(e))n=B4(e,t);else{const i=ub(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vh(n)}function db(r,e){const t=Ks(r);return t===e||!Sn(t)||Sl(t)?!1:fr(t).position==="fixed"||db(t,e)}function $4(r,e){const t=e.get(r);if(t)return t;let n=hc(r,[],!1).filter(c=>Sn(c)&&Vl(c)!=="body"),i=null;const o=fr(r).position==="fixed";let l=o?Ks(r):r;for(;Sn(l)&&!Sl(l);){const c=fr(l),d=q_(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ac(l)&&!d&&db(r,l))?n=n.filter(m=>m!==l):i=c,l=Ks(l)}return e.set(r,n),n}function W4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?fp(e)?[]:$4(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,m)=>{const y=IS(e,m,i);return p.top=qo(y.top,p.top),p.right=kl(y.right,p.right),p.bottom=kl(y.bottom,p.bottom),p.left=qo(y.left,p.left),p},IS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function H4(r){const{width:e,height:t}=lb(r);return{width:e,height:t}}function z4(r,e,t){const n=pi(e),i=mi(e),o=t==="fixed",l=ta(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=fi(0);if(n||!n&&!o)if((Vl(e)!=="body"||Ac(i))&&(c=hp(e)),n){const _=ta(e,!0,o,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=X_(i));const p=i&&!n&&!o?cb(i,c):fi(0),m=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:m,y,width:l.width,height:l.height}}function Sg(r){return fr(r).position==="static"}function DS(r,e){if(!pi(r)||fr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return mi(r)===t&&(t=t.ownerDocument.body),t}function fb(r,e){const t=Xn(r);if(fp(r))return t;if(!pi(r)){let i=Ks(r);for(;i&&!Sl(i);){if(Sn(i)&&!Sg(i))return i;i=Ks(i)}return t}let n=DS(r,e);for(;n&&_4(n)&&Sg(n);)n=DS(n,e);return n&&Sl(n)&&Sg(n)&&!q_(n)?t:n||v4(r)||t}const q4=async function(r){const e=this.getOffsetParent||fb,t=this.getDimensions,n=await t(r.floating);return{reference:z4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Y4(r){return fr(r).direction==="rtl"}const K4={convertOffsetParentRelativeRectToViewportRelativeRect:F4,getDocumentElement:mi,getClippingRect:W4,getOffsetParent:fb,getElementRects:q4,getClientRects:V4,getDimensions:H4,getScale:cl,isElement:Sn,isRTL:Y4};function hb(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Q4(r,e){let t=null,n;const i=mi(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:y,width:_,height:E}=p;if(c||e(),!_||!E)return;const k=lf(y),C=lf(i.clientWidth-(m+_)),I=lf(i.clientHeight-(y+E)),N=lf(m),j={rootMargin:-k+"px "+-C+"px "+-I+"px "+-N+"px",threshold:qo(0,kl(1,d))||1};let H=!0;function Q(ne){const A=ne[0].intersectionRatio;if(A!==d){if(!H)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!hb(p,r.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(Q,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(Q,j)}t.observe(r)}return l(!0),o}function G4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=G_(r),m=i||o?[...p?hc(p):[],...hc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const y=p&&c?Q4(p,t):null;let _=-1,E=null;l&&(E=new ResizeObserver(N=>{let[F]=N;F&&F.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=E)==null||j.observe(e)})),t()}),p&&!d&&E.observe(p),E.observe(e));let k,C=d?ta(r):null;d&&I();function I(){const N=ta(r);C&&!hb(C,N)&&t(),C=N,k=requestAnimationFrame(I)}return t(),()=>{var N;m.forEach(F=>{i&&F.removeEventListener("scroll",t),o&&F.removeEventListener("resize",t)}),y==null||y(),(N=E)==null||N.disconnect(),E=null,d&&cancelAnimationFrame(k)}}const X4=M4,J4=A4,RS=P4,Z4=(r,e,t)=>{const n=new Map,i={platform:K4,...t},o={...i.platform,_c:n};return D4(r,e,{...i,platform:o})};var Nf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function wh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!wh(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!wh(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function pb(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function PS(r,e){const t=pb(r);return Math.round(e*t)/t}function kg(r){const e=x.useRef(r);return Nf(()=>{e.current=r}),e}function eB(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[m,y]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,E]=x.useState(n);wh(_,n)||E(n);const[k,C]=x.useState(null),[I,N]=x.useState(null),F=x.useCallback(G=>{G!==ne.current&&(ne.current=G,C(G))},[]),j=x.useCallback(G=>{G!==A.current&&(A.current=G,N(G))},[]),H=o||k,Q=l||I,ne=x.useRef(null),A=x.useRef(null),D=x.useRef(m),P=d!=null,L=kg(d),V=kg(i),B=kg(p),M=x.useCallback(()=>{if(!ne.current||!A.current)return;const G={placement:e,strategy:t,middleware:_};V.current&&(G.platform=V.current),Z4(ne.current,A.current,G).then(fe=>{const le={...fe,isPositioned:B.current!==!1};Ee.current&&!wh(D.current,le)&&(D.current=le,mk.flushSync(()=>{y(le)}))})},[_,e,t,V,B]);Nf(()=>{p===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(G=>({...G,isPositioned:!1})))},[p]);const Ee=x.useRef(!1);Nf(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Nf(()=>{if(H&&(ne.current=H),Q&&(A.current=Q),H&&Q){if(L.current)return L.current(H,Q,M);M()}},[H,Q,M,L,P]);const xe=x.useMemo(()=>({reference:ne,floating:A,setReference:F,setFloating:j}),[F,j]),ce=x.useMemo(()=>({reference:H,floating:Q}),[H,Q]),de=x.useMemo(()=>{const G={position:t,left:0,top:0};if(!ce.floating)return G;const fe=PS(ce.floating,m.x),le=PS(ce.floating,m.y);return c?{...G,transform:"translate("+fe+"px, "+le+"px)",...pb(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:le}},[t,c,ce.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:M,refs:xe,elements:ce,floatingStyles:de}),[m,M,xe,ce,de])}const tB=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?RS({element:n.current,padding:i}).fn(t):{}:n?RS({element:n,padding:i}).fn(t):{}}}},nB=(r,e)=>({...X4(r),options:[r,e]}),rB=(r,e)=>({...J4(r),options:[r,e]}),iB=(r,e)=>({...tB(r),options:[r,e]}),mb={...LI},sB=mb.useInsertionEffect,oB=sB||(r=>r());function aB(r){const e=x.useRef(()=>{});return oB(()=>{e.current=r}),x.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Eh=typeof document<"u"?x.useLayoutEffect:x.useEffect;let AS=!1,lB=0;const NS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lB++;function uB(){const[r,e]=x.useState(()=>AS?NS():void 0);return Eh(()=>{r==null&&e(NS())},[]),x.useEffect(()=>{AS=!0},[]),r}const cB=mb.useId,gb=cB||uB,dB=x.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:_,d:E,style:{transform:k,...C}={},...I}=e,N=gb(),[F,j]=x.useState(!1);if(Eh(()=>{if(!i)return;fr(i).direction==="rtl"&&j(!0)},[i]),!i)return null;const[H,Q]=n.split("-"),ne=H==="top"||H==="bottom";let A=y;(ne&&l!=null&&l.x||!ne&&l!=null&&l.y)&&(A=null);const D=m*2,P=D/2,L=c/2*(p/-8+1),V=d/2*p/4,B=!!E,M=A&&Q==="end"?"bottom":"top";let Ee=A&&Q==="end"?"right":"left";A&&F&&(Ee=Q==="end"?"left":"right");const xe=(o==null?void 0:o.x)!=null?A||o.x:"",ce=(o==null?void 0:o.y)!=null?A||o.y:"",de=E||"M0,0"+(" H"+c)+(" L"+(c-L)+","+(d-V))+(" Q"+c/2+","+d+" "+L+","+(d-V))+" Z",G={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[H];return S.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:B?c:c+D,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[Ee]:xe,[M]:ce,[H]:ne||B?"100%":"calc(100% - "+D/2+"px)",transform:[G,k].filter(fe=>!!fe).join(" "),...C},children:[D>0&&S.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:_,strokeWidth:D+(E?0:1),d:de}),S.jsx("path",{stroke:D&&!E?I.fill:"none",d:de}),S.jsx("clipPath",{id:N,children:S.jsx("rect",{x:-P,y:P*(B?-1:1),width:c+D,height:c})})]})});function fB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const hB=x.createContext(null),pB=x.createContext(null),mB=()=>{var r;return((r=x.useContext(hB))==null?void 0:r.id)||null},gB=()=>x.useContext(pB);function yB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=gb(),o=x.useRef({}),[l]=x.useState(()=>fB()),c=mB()!=null,[d,p]=x.useState(n.reference),m=aB((E,k,C)=>{o.current.openEvent=E?k:void 0,l.emit("openchange",{open:E,event:k,reason:C,nested:c}),t==null||t(E,k,C)}),y=x.useMemo(()=>({setPositionReference:p}),[]),_=x.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:_,events:l,floatingId:i,refs:y}),[e,m,_,l,i,y])}function _B(r){r===void 0&&(r={});const{nodeId:e}=r,t=yB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=x.useState(null),[c,d]=x.useState(null),m=(i==null?void 0:i.domReference)||o,y=x.useRef(null),_=gB();Eh(()=>{m&&(y.current=m)},[m]);const E=eB({...r,elements:{...i,...c&&{reference:c}}}),k=x.useCallback(j=>{const H=Sn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;d(H),E.refs.setReference(H)},[E.refs]),C=x.useCallback(j=>{(Sn(j)||j===null)&&(y.current=j,l(j)),(Sn(E.refs.reference.current)||E.refs.reference.current===null||j!==null&&!Sn(j))&&E.refs.setReference(j)},[E.refs]),I=x.useMemo(()=>({...E.refs,setReference:C,setPositionReference:k,domReference:y}),[E.refs,C,k]),N=x.useMemo(()=>({...E.elements,domReference:m}),[E.elements,m]),F=x.useMemo(()=>({...E,...n,refs:I,elements:N,nodeId:e}),[E,I,N,e,n]);return Eh(()=>{n.dataRef.current.floatingContext=F;const j=_==null?void 0:_.nodesRef.current.find(H=>H.id===e);j&&(j.context=F)}),x.useMemo(()=>({...E,context:F,refs:I,elements:N}),[E,I,N,F])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ey=function(e,t){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Ey(e,t)};function Qt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ey(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Xe.apply(this,arguments)};function si(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var vB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Z.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},wB=function(r,e){var t=x.useRef(null),n=x.useRef(r);n.current=r;var i=x.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},mp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=wB(t,l);return Z.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},he;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(he||(he={}));function yb(){var r=typeof window<"u"?window:globalThis;return r}var Mc=12,EB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ot(r){if(r==null)return new Date;var e=typeof r=="string"?t4(r):me(r);return Pi(e)?e:new Date}function xg(r,e,t,n,i){var o,l=null,c=Yo(t)||Yo(Zu()),d=!0;if(Array.isArray(e))return e.forEach(function(m){var y=Eg(r,m,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Pi(y,i)&&r===yt(y,m,t)),Pi(y,i)&&d&&(l=y)}),l;if(l=Eg(r,e,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Pi(l)&&r===yt(l,e,t);else if(!Pi(l)){var p=((o=e.match(EB))!==null&&o!==void 0?o:[]).map(function(m){var y=m[0];if(y==="p"||y==="P"){var _=mh[y];return c?_(m,c.formatLong):y}return m}).join("");r.length>0&&(l=Eg(r,p.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Pi(l)||(l=new Date(r))}return Pi(l)&&d?l:null}function Pi(r,e){return dh(r)&&!ea(r,e??new Date("1/1/1800"))}function yt(r,e,t){if(t==="en")return SS(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Yo(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&Zu()&&Yo(Zu())&&(n=Yo(Zu())),SS(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ur(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&yt(r,i,n)||""}function TB(r,e,t){if(!r)return"";var n=ur(r,t),i=e?ur(e,t):"";return"".concat(n," - ").concat(i)}function SB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?ur(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=ur(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function Cg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Rf(Pf(Af(r,c),o),n)}function kB(r){return $_(r)}function xB(r,e){return yt(r,"ddd",e)}function Mf(r){return Zo(r)}function Us(r,e,t){var n=Yo(e||Zu());return Gi(r,{locale:n,weekStartsOn:t})}function Wi(r){return q0(r)}function zu(r){return cp(r)}function MS(r){return gy(r)}function OS(){return Zo(ot())}function LS(r){return H0(r)}function CB(r){return oj(r)}function bB(r){return z0(r)}function ti(r,e){return r&&e?ZU(r,e):!r&&!e}function En(r,e){return r&&e?XU(r,e):!r&&!e}function Th(r,e){return r&&e?JU(r,e):!r&&!e}function Qe(r,e){return r&&e?ij(r,e):!r&&!e}function Uo(r,e){return r&&e?nU(r,e):!r&&!e}function qu(r,e,t){var n,i=Zo(e),o=H0(t);try{n=fc(r,{start:i,end:o})}catch{n=!1}return n}function Zu(){var r=yb();return r.__localeId__}function Yo(r){if(typeof r=="string"){var e=yb();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function IB(r,e,t){return e(yt(r,"EEEE",t))}function DB(r,e){return yt(r,"EEEEEE",e)}function RB(r,e){return yt(r,"EEE",e)}function J_(r,e){return yt(Kn(ot(),r),"LLLL",e)}function _b(r,e){return yt(Kn(ot(),r),"LLL",e)}function PB(r,e){return yt(il(ot(),r),"QQQ",e)}function cr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return Oc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Qe(r,m):Qe(r,m.date)})||l&&l.some(function(m){var y=m.start,_=m.end;return fc(r,{start:y,end:_})})||c&&!c.some(function(m){return Qe(r,m)})||d&&!d.some(function(m){var y=m.start,_=m.end;return fc(r,{start:y,end:_})})||p&&!p(ot(r))||!1}function Z_(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return fc(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?Qe(r,o):Qe(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function vb(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Oc(r,{minDate:n?q0(n):void 0,maxDate:i?z0(i):void 0})||(o==null?void 0:o.some(function(d){return En(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return En(r,d)})||c&&!c(ot(r))||!1}function uf(r,e,t,n){var i=Ue(r),o=Tn(r),l=Ue(e),c=Tn(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function AB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Oc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return En(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return En(c,r)})||!1}function cf(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Oc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return Th(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Th(r,d)})||c&&!c(ot(r))||!1}function df(r,e,t){if(!e||!t||!dh(e)||!dh(t))return!1;var n=Ue(e),i=Ue(t);return n<=r&&i>=r}function Of(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return Oc(d,{minDate:n?cp(n):void 0,maxDate:i?Y0(i):void 0})||(o==null?void 0:o.some(function(p){return ti(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return ti(d,p)})||c&&!c(ot(d))||!1}function ff(r,e,t,n){var i=Ue(r),o=Ho(r),l=Ue(e),c=Ho(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function Oc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&El(r,i)<0||o&&El(r,o)>0)!==null&&t!==void 0?t:!1}function FS(r,e){return e.some(function(t){return ci(t)===ci(r)&&di(t)===di(r)&&$i(t)===$i(r)})}function VS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&FS(r,n)||i&&!FS(r,i)||o&&!o(r)||!1}function jS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=ot();i=Rf(i,ci(r)),i=Pf(i,di(r)),i=Af(i,$i(r));var o=ot();o=Rf(o,ci(t)),o=Pf(o,di(t)),o=Af(o,$i(t));var l=ot();l=Rf(l,ci(n)),l=Pf(l,di(n)),l=Af(l,$i(n));var c;try{c=!fc(i,{start:o,end:l})}catch{c=!1}return c}function US(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=zo(r,1);return n&&fh(n,o)>0||i&&i.every(function(l){return fh(l,o)>0})||!1}function BS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Or(r,1);return n&&fh(o,n)>0||i&&i.every(function(l){return fh(o,l)>0})||!1}function NB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=cp(r),l=ib(o);return n&&hh(n,l)>0||i&&i.every(function(c){return hh(c,l)>0})||!1}function MB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Y0(r),l=B_(o,1);return n&&hh(l,n)>0||i&&i.every(function(c){return hh(l,c)>0})||!1}function $S(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Tl(r,1);return n&&ph(n,o)>0||i&&i.every(function(l){return ph(l,o)>0})||!1}function OB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Mc:i,l=zu(Tl(r,o)),c=Ms(l,o).endPeriod,d=n&&Ue(n);return d&&d>c||!1}function WS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ui(r,1);return n&&ph(o,n)>0||i&&i.every(function(l){return ph(o,l)>0})||!1}function LB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Mc:i,l=Ui(r,o),c=Ms(l,o).startPeriod,d=n&&Ue(n);return d&&d<c||!1}function wb(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return El(i,e)>=0});return yS(n)}else return t?yS(t):e}function Eb(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return El(i,e)<=0});return gS(n)}else return t?gS(t):e}function HS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Bi(l)){var c=yt(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var _=0,E=y.length;_<E;_++){var k=y[_];if(k){var c=yt(k,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function FB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function VB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Bi(i)){var l=yt(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&FB(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?si(si([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function jB(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,p=i[c];p&&(d=ej(d,ci(p)),d=my(d,di(p)),d=rj(d,$i(p)));var m=my(r,(t+1)*n);Ys(d,e)&&ea(d,m)&&p!=null&&l.push(p)}return l}function zS(r){return r<10?"0".concat(r):"".concat(r)}function Ms(r,e){e===void 0&&(e=Mc);var t=Math.ceil(Ue(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function UB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function qS(r){var e=r.getSeconds(),t=r.getMilliseconds();return me(r.getTime()-e*1e3-t)}function BB(r,e){return qS(r).getTime()===qS(e).getTime()}function YS(r){if(!Bi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function KS(r,e){if(!Bi(r)||!Bi(e))throw new Error("Invalid date received");var t=YS(r),n=YS(e);return ea(t,n)}function Tb(r){return r.key===he.Space}var $B=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Z.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),p=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),y=m[0],_=m[1];p.setHours(Number(y)),p.setMinutes(Number(_))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?x.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):Z.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Z.createElement("div",{className:"react-datepicker__input-time-container"},Z.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Z.createElement("div",{className:"react-datepicker-time__input-container"},Z.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(x.Component),WB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Z_(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=yt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=yt(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:qu(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,y=i.endDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!_||!p&&t.isDisabled()?!1:l&&y&&(ea(_,y)||Uo(_,y))?qu(o,_,y):c&&m&&(Ys(_,m)||Uo(_,m))||d&&m&&!y&&(Ys(_,m)||Uo(_,m))?qu(o,m,_):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(o,d):Qe(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Qe(o,p):Qe(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(l,i)},t.isWeekend=function(){var n=Jj(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Tn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Tn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ot())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return nn("react-datepicker__day",i,"react-datepicker__day--"+xB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(yt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=yt(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(c==null?void 0:c.filter(function(m){return m instanceof Date?Qe(m,i):Qe(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(kS(t.props.day),t.props.day):kS(t.props.day)},t.render=function(){return Z.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Z.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(x.Component),HB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return Z.createElement("div",{ref:this.weekNumberEl,className:nn(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(x.Component),zB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,p=new Date(n),m=0;m<7;m++){var y=new Date(n);y.setDate(y.getDate()+m);var _=!t.isDisabled(y);if(_){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):kB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Pr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Pr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(Z.createElement(HB,Xe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Pr(n,c);return Z.createElement(WB,Xe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Z.createElement("div",{className:nn(t)},this.renderDays())},e}(x.Component),Lu,qB=6,dl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},bg=(Lu={},Lu[dl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Lu[dl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Lu[dl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Lu),hf=1;function QS(r,e){return r?dl.FOUR_COLUMNS:e?dl.TWO_COLUMNS:dl.THREE_COLUMNS}var YB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=si([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=si([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(n){return cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Z_(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:En(Kn(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Th(il(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:En(Kn(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Th(il(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?uf(_,y,n,l):d&&m||p&&m&&!y?uf(m,_,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,p=Kn(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?En(p,m):En(p,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=Kn(l,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?En(m,y):En(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?ff(_,y,n,l):d&&m||p&&m&&!y?ff(m,_,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Pr(n,6);return En(n,i)||En(o,i)},t.isCurrentMonth=function(n,i){return Ue(n)===Ue(ot())&&i===Tn(ot())},t.isCurrentQuarter=function(n,i){return Ue(n)===Ue(ot())&&i===Ho(ot())},t.isSelectedMonth=function(n,i,o){return Tn(o)===i&&Ue(n)===Ue(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return Ho(n)===i&&Ue(n)===Ue(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=Us(Wi(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(k){return t.props.showWeekPicker?Us(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(k){return t.props.showWeekPicker?Us(k,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;n.push(Z.createElement(zB,Xe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:Tn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=ch(c,1);var _=i&&o>=qB,E=!i&&!t.isWeekInMonth(c);if(_||E)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick(Wi(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(Wi(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,p=c.preSelection,m=c.setPreSelection,y=c.minDate,_=c.maxDate,E=c.showFourColumnMonthYearPicker,k=c.showTwoColumnMonthYearPicker;if(p){var C=QS(E,k),I=t.getVerticalOffset(C),N=(l=bg[C])===null||l===void 0?void 0:l.grid,F=function(A,D,P){var L,V,B=D,M=P;switch(A){case he.ArrowRight:B=Or(D,hf),M=P===11?0:P+hf;break;case he.ArrowLeft:B=zo(D,hf),M=P===0?11:P-hf;break;case he.ArrowUp:B=zo(D,I),M=!((L=N==null?void 0:N[0])===null||L===void 0)&&L.includes(P)?P+12-I:P-I;break;case he.ArrowDown:B=Or(D,I),M=!((V=N==null?void 0:N[N.length-1])===null||V===void 0)&&V.includes(P)?P-12+I:P+I;break}return{newCalculatedDate:B,newCalculatedMonth:M}},j=function(A,D,P){for(var L=40,V=A,B=!1,M=0,Ee=F(V,D,P),xe=Ee.newCalculatedDate,ce=Ee.newCalculatedMonth;!B;){if(M>=L){xe=D,ce=P;break}if(y&&xe<y){V=he.ArrowRight;var de=F(V,xe,ce);xe=de.newCalculatedDate,ce=de.newCalculatedMonth}if(_&&xe>_){V=he.ArrowLeft;var de=F(V,xe,ce);xe=de.newCalculatedDate,ce=de.newCalculatedMonth}if(AB(xe,t.props)){var de=F(V,xe,ce);xe=de.newCalculatedDate,ce=de.newCalculatedMonth}else B=!0;M++}return{newCalculatedDate:xe,newCalculatedMonth:ce}};if(i===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var H=j(i,p,o),Q=H.newCalculatedDate,ne=H.newCalculatedMonth;switch(i){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(ne,Q);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=bg[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==he.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=il(t.props.day,i);cf(o,t.props)||t.handleDayClick(MS(o),n)},t.onQuarterMouseEnter=function(n){var i=il(t.props.day,n);cf(i,t.props)||t.handleDayMouseEnter(MS(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case he.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,B_(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,ib(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=Kn(l,n);return{isDisabled:(i=(c||d||p||m)&&vb(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(Kn(o,n)):void 0,y=t.getSelection();return nn("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(o,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?uf(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Tn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Ho(t.props.preSelection),o=cf(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,p=i.day,m=i.locale,y=Kn(p,n),_=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(_," ").concat(yt(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,y=i.excludeDates,_=i.includeDates,E=i.filterDate,k=i.preSelection,C=i.disabledKeyboardNavigation,I=(p||m||y||_||E)&&cf(il(o,n),t.props);return nn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&k&&t.isSelectedQuarter(o,n,k)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?ff(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,p=_b(n,c),m=J_(n,c);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=PB(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,p=(n=bg[QS(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,y){return Z.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(_,E){return Z.createElement("div",{ref:t.MONTH_REFS[_],key:E,onClick:function(k){t.onMonthClick(k,_)},onKeyDown:function(k){Tb(k)&&(k.preventDefault(),k.key=he.Enter),t.onMonthKeyDown(k,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(c,_)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,_,d):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return Z.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return Z.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,c)},onKeyDown:function(p){t.onQuarterKeyDown(p,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return nn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return Z.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(yt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(x.Component),KB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return Z.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Z.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Z.createElement(mp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),QB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return Z.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return Z.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return Z.createElement(KB,Xe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return _b(o,t.props.locale)}:function(o){return J_(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return Z.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(x.Component);function GB(r,e){for(var t=[],n=Wi(r),i=Wi(e);!Ys(n,i);)t.push(ot(n)),n=Or(n,1);return t}var XB=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=_y(i),l=ti(n.props.date,i)&&En(n.props.date,i);return Z.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?Z.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:GB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=nn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Z.createElement(mp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),JB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Wi(t.props.minDate),i=Wi(t.props.maxDate),o=[];!Ys(n,i);){var l=_y(n);o.push(Z.createElement("option",{key:l,value:l},yt(n,t.props.dateFormat,t.props.locale))),n=Or(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:_y(Wi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=yt(t.props.date,t.props.dateFormat,t.props.locale);return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Z.createElement(XB,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=ot(n);ti(t.props.date,i)&&En(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),ZB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&jS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&VS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&BB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&jS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&VS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ci(n)*3600+di(n)*60+$i(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ot(),d=Mf(c),p=t.props.injectTimes&&t.props.injectTimes.sort(function(I,N){return I.getTime()-N.getTime()}),m=60*UB(c),y=m/l,_=0;_<y;_++){var E=my(d,_*l);if(i.push(E),p){var k=jB(d,E,_,l,p);i=i.concat(k)}}var C=i.reduce(function(I,N){return N.getTime()<=c.getTime()?N:I},i[0]);return i.map(function(I){return Z.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(N){I===C&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,I)},tabIndex:I===C?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},yt(I,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Z.createElement(Z.Fragment,null):Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Z.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return Z.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Z.createElement("div",{className:"react-datepicker__time"},Z.createElement("div",{className:"react-datepicker__time-box"},Z.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(x.Component),GS=3,e3=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=si([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(i){return cr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Z_(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,p,m=n.props,y=m.date,_=m.yearItemNumber;if(!(y===void 0||_===void 0)){var E=Ms(y,_).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-E<0?n.updateFocusOnPaginate(_-(E-i)):i-E>=_?n.updateFocusOnPaginate(Math.abs(_-(i-E))):(p=(d=n.YEAR_REFS[i-E])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return Qe(i,o)},n.isCurrentYear=function(i){return i===Ue(ot())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.endDate)},n.isInRange=function(i){return df(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?df(i,n.selectingDate(),m):c&&p||d&&p&&!m?df(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,p=ei(ot(),i);return d?ti(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(p,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=ei(ot(),i);return d||p?ti(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,y=zu(ei(n.props.date,i)),_=(l||c||d||p||m)&&Of(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(y,zu(n.props.selected))&&Qe(y,zu(n.props.preSelection))&&!_}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(zu(ei(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,p=n.props,m=p.date,y=p.yearItemNumber,_=p.handleOnKeyDown;if(d!==he.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case he.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ui(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Tl(n.props.preSelection,1));break;case he.ArrowUp:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var E=Ms(m,y).startPeriod,k=GS,C=o-k;if(C<E){var I=y%k;o>=E&&o<E+I?k=I:k+=I,C=o-k}n.handleYearNavigation(C,Tl(n.props.preSelection,k));break}case he.ArrowDown:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var N=Ms(m,y).endPeriod,k=GS,C=o+k;if(C>N){var I=y%k;o<=N&&o>N-I?k=I:k+=I,C=o+k}n.handleYearNavigation(C,Ui(n.props.preSelection,k));break}}_&&_(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,p=o.selected,m=o.excludeDates,y=o.includeDates,_=o.filterDate,E=o.yearClassName;return nn("react-datepicker__year-text","react-datepicker__year-".concat(i),l?E==null?void 0:E(ei(l,i)):void 0,{"react-datepicker__year-text--selected":p?i===Ue(p):void 0,"react-datepicker__year-text--disabled":(c||d||m||y||_)&&Of(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Ue(n.props.preSelection),l=Of(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=Ms(o,l),m=p.startPeriod,y=p.endPeriod,_=function(C){n.push(Z.createElement("div",{ref:E.YEAR_REFS[C-m],onClick:function(I){t.onYearClick(I,C)},onKeyDown:function(I){Tb(I)&&(I.preventDefault(),I.key=he.Enter),t.onYearKeyDown(I,C)},tabIndex:Number(E.getYearTabIndex(C)),className:E.getYearClassNames(C),onMouseEnter:E.props.usePointerEvent?void 0:function(I){return c(I,C)},onPointerEnter:E.props.usePointerEvent?function(I){return c(I,C)}:void 0,onMouseLeave:E.props.usePointerEvent?void 0:function(I){return d(I,C)},onPointerLeave:E.props.usePointerEvent?function(I){return d(I,C)}:void 0,key:C,"aria-current":E.isCurrentYear(C)?"date":void 0},E.getYearContent(C)))},E=this,k=m;k<=y;k++)_(k);return Z.createElement("div",{className:"react-datepicker__year"},Z.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(x.Component);function t3(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=Ue(t)<=l),n&&c&&(c=Ue(n)>=l),c&&i.push(l)}return i}var n3=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(y){return Z.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?Z.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),p=n.props.minDate?Ue(n.props.minDate):null,m=n.props.maxDate?Ue(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(y){return y===m}))&&d.unshift(Z.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(y){return y===p}))&&d.push(Z.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(p){return p+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:t3(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=nn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Z.createElement(mp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),r3=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ue(t.props.minDate):1900,i=t.props.maxDate?Ue(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(Z.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},Z.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Z.createElement(n3,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),i3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],s3=function(r){var e=(r.className||"").split(/\s+/);return i3.some(function(t){return e.indexOf(t)>=0})},o3=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;s3(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=wb(n.props),p=Eb(n.props),m=ot(),y=c||l||o;return y||(d&&ea(m,d)?d:p&&Ys(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Or(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:zo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ei(ot(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!cr(i,n.props))return i;for(var o=Wi(i),l=bB(i),c=sj(l,o),d=null,p=0;p<=c;p++){var m=Pr(o,p);if(!cr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:Kn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(Kn(l,Tn(i)),Ue(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Us(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(Z.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Pr(o,c),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return Z.createElement("div",{key:c,"aria-label":yt(d,"EEEE",n.props.locale),className:nn("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?IB(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?RB(i,o):DB(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Tl(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=zo(n.state.date,p),y;switch(!0){case n.props.showMonthYearPicker:y=$S(n.state.date,n.props);break;case n.props.showYearPicker:y=OB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=NB(n.state.date,n.props);break;default:y=US(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],E=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(E.push("react-datepicker__navigation--previous--disabled"),k=void 0);var C=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,I=n.props,N=I.previousMonthButtonLabel,F=N===void 0?e.defaultProps.previousMonthButtonLabel:N,j=I.previousYearButtonLabel,H=j===void 0?e.defaultProps.previousYearButtonLabel:j,Q=n.props,ne=Q.previousMonthAriaLabel,A=ne===void 0?typeof F=="string"?F:"Previous Month":ne,D=Q.previousYearAriaLabel,P=D===void 0?typeof H=="string"?H:"Previous Year":D;return Z.createElement("button",{type:"button",className:E.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":C?P:A},Z.createElement("span",{className:_.join(" ")},C?H:F))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Ui(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=WS(n.state.date,n.props);break;case n.props.showYearPicker:o=LB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=MB(n.state.date,n.props);break;default:o=BS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,y=m.nextMonthButtonLabel,_=y===void 0?e.defaultProps.nextMonthButtonLabel:y,E=m.nextYearButtonLabel,k=E===void 0?e.defaultProps.nextYearButtonLabel:E,C=n.props,I=C.nextMonthAriaLabel,N=I===void 0?typeof _=="string"?_:"Next Month":I,F=C.nextYearAriaLabel,j=F===void 0?typeof k=="string"?k:"Next Year":F;return Z.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?j:N},Z.createElement("span",{className:c.join(" ")},p?k:_))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),Z.createElement("h2",{className:o.join(" ")},yt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return Z.createElement(r3,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ue(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return Z.createElement(QB,Xe({},e.defaultProps,n.props,{month:Tn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return Z.createElement(JB,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(OS(),i),n.props.setPreSelection&&n.props.setPreSelection(OS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Z.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return Z.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),Z.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),Z.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=US(n.state.date,n.props),m=BS(n.state.date,n.props),y=$S(n.state.date,n.props),_=WS(n.state.date,n.props),E=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Xe(Xe({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:y,nextYearButtonDisabled:_})),E&&Z.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=Ms(o,p),y=m.startPeriod,_=m.endPeriod;return Z.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(_):Ue(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ui(n.state.date,d):zo(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,y=0;y<c;++y){var _=y-m+d,E=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ui(p,_):Or(p,_),k="month-".concat(y),C=y<c-1,I=y>0;l.push(Z.createElement("div",{key:k,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:E,i:y}),Z.createElement(YB,Xe({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:E,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:I}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Z.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Z.createElement(e3,Xe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Z.createElement(ZB,Xe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Pi(i)&&!!n.props.selected,l=o?"".concat(zS(i.getHours()),":").concat(zS(i.getMinutes())):"";if(n.props.showTimeInput)return Z.createElement($B,Xe({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=Ms(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Ue(n.state.date):d="".concat(J_(Tn(n.state.date),n.props.locale)," ").concat(Ue(n.state.date)),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return Z.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Mc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!En(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||vB;return Z.createElement(mp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},Z.createElement(t,{className:nn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(x.Component),a3=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?Z.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):Z.isValidElement(e)?Z.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):Z.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Z.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Sb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Oo.createPortal(this.props.children,this.el)},e}(x.Component),l3="[tabindex], a, button, input, select, textarea",u3=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},kb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(l3),1,-1).filter(u3)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=x.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Z.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Z.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Z.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(x.Component);function c3(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=x.useRef(null),l=_B(Xe({open:!i,whileElementsMounted:G4,placement:t.popperPlacement,middleware:si([rB({padding:15}),nB(10),iB({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Xe(Xe({},t),{hidePopper:i,popperProps:Xe(Xe({},l),{arrowRef:o})});return Z.createElement(r,Xe({},c))};return e}var d3=function(r){Qt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,y=t.portalId,_=t.portalHost,E=t.popperProps,k=t.showArrow,C=void 0;if(!l){var I=nn("react-datepicker-popper",n);C=Z.createElement(kb,{enableTabLoop:p},Z.createElement("div",{ref:E.refs.setFloating,style:E.floatingStyles,className:I,"data-placement":E.placement,onKeyDown:m},c,k&&Z.createElement(dB,{ref:E.arrowRef,context:E.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=x.createElement(this.props.popperContainer,{},C)),y&&!l&&(C=Z.createElement(Sb,{portalId:y,portalHost:_},C));var N=nn("react-datepicker-wrapper",i);return Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:E.refs.setReference,className:N},d),C)},e}(x.Component),f3=c3(d3),XS="react-datepicker-ignore-onclickoutside";function h3(r,e){return r&&e?Tn(r)!==Tn(e)||Ue(r)!==Ue(e):r!==e}var Ig="Date input not valid.",xb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Pi(c)?si(si([],o,!0),[Xe(Xe({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=wb(n.props),c=Eb(n.props),d=l&&ea(o,Mf(l))?l:c&&Ys(o,LS(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:HS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Dg},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Bi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:p3});var p=n.props,m=p.dateFormat,y=m===void 0?e.defaultProps.dateFormat:m,_=p.strictParsing,E=_===void 0?e.defaultProps.strictParsing:_,k=p.selectsRange,C=p.startDate,I=p.endDate,N=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(k){var F=N.split("-",2).map(function(L){return L.trim()}),j=F[0],H=F[1],Q=xg(j??"",y,n.props.locale,E),ne=xg(H??"",y,n.props.locale,E),A=(C==null?void 0:C.getTime())!==(Q==null?void 0:Q.getTime()),D=(I==null?void 0:I.getTime())!==(ne==null?void 0:ne.getTime());if(!A&&!D||Q&&cr(Q,n.props)||ne&&cr(ne,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[Q,ne],d)}else{var P=xg(N,y,n.props.locale,E,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&P&&!Qe(P,n.props.selected)&&(P=y4(n.props.selected,{hours:ci(P),minutes:di(P),seconds:$i(P)})),(P||!N)&&n.setSelected(P,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,p=c.endDate;d&&!p&&(n.props.swapRange||!KS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&Of(Ue(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&vb(m,n.props))return}else if(m!==null&&cr(m,n.props))return;var y=n.props,_=y.onChange,E=y.selectsRange,k=y.startDate,C=y.endDate,I=y.selectsMultiple,N=y.selectedDates,F=y.minTime,j=y.swapRange;if(!Uo(n.props.selected,m)||n.props.allowSameDay||E||I)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=Cg(m,{hour:ci(n.props.selected),minute:di(n.props.selected),second:$i(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&F&&(m=Cg(m,{hour:F.getHours(),minute:F.getMinutes(),second:F.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),E){var H=!k&&!C,Q=k&&!C,ne=k&&C;H?_==null||_([m,null],o):Q&&(m===null?_==null||_([null,null],o):KS(m,k)?j?_==null||_([m,k],o):_==null||_([m,null],o):_==null||_([k,m],o)),ne&&(_==null||_([m,null],o))}else if(I){if(m!==null)if(!(N!=null&&N.length))_==null||_([m],o);else{var A=N.some(function(P){return Qe(P,m)});if(A){var D=N.filter(function(P){return!Qe(P,m)});_==null||_(D,o)}else _==null||_(si(si([],N,!0),[m],!1),o)}}else _==null||_(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Bi(n.props.minDate),l=Bi(n.props.maxDate),c=!0;if(i){var d=Mf(i);if(o&&l)c=qu(i,n.props.minDate,n.props.maxDate);else if(o){var p=Mf(n.props.minDate);c=Ys(i,p)||Uo(d,p)}else if(l){var m=LS(n.props.maxDate);c=ea(i,m)||Uo(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:Cg(c,{hour:ci(i),minute:di(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===he.ArrowDown||y===he.ArrowUp||y===he.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===he.ArrowDown||y===he.ArrowUp){i.preventDefault();var _=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',E=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(_);E instanceof HTMLElement&&E.focus({preventScroll:!0});return}var k=ot(n.state.preSelection);y===he.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Dg?(n.handleSelect(k,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):y===he.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===he.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Ig})}},n.onPortalKeyDown=function(i){var o=i.key;o===he.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,p,m,y=n.props,_=y.minDate,E=y.maxDate,k=y.disabledKeyboardNavigation,C=y.showWeekPicker,I=y.shouldCloseOnSelect,N=y.locale,F=y.calendarStartDay,j=y.adjustDateOnChange,H=y.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!k){var Q=i.key,ne=i.shiftKey,A=ot(n.state.preSelection),D=function(xe,ce){var de=ce;switch(xe){case he.ArrowRight:de=C?ch(ce,1):Pr(ce,1);break;case he.ArrowLeft:de=C?xS(ce):e4(ce);break;case he.ArrowUp:de=xS(ce);break;case he.ArrowDown:de=ch(ce,1);break;case he.PageUp:de=ne?Tl(ce,1):zo(ce,1);break;case he.PageDown:de=ne?Ui(ce,1):Or(ce,1);break;case he.Home:de=Us(ce,N,F);break;case he.End:de=CB(ce);break}return de},P=function(xe,ce){for(var de=40,G=xe,fe=!1,le=0,W=D(xe,ce);!fe;){if(le>=de){W=ce;break}_&&W<_&&(G=he.ArrowRight,W=cr(_,n.props)?D(G,W):_),E&&W>E&&(G=he.ArrowLeft,W=cr(E,n.props)?D(G,W):E),cr(W,n.props)?((G===he.PageUp||G===he.Home)&&(G=he.ArrowRight),(G===he.PageDown||G===he.End)&&(G=he.ArrowLeft),W=D(G,W)):fe=!0,le++}return W};if(Q===he.Enter){i.preventDefault(),n.handleSelect(A,i),!I&&n.setPreSelection(A);return}else if(Q===he.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Ig});return}var L=null;switch(Q){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:L=P(Q,A);break}if(!L){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Ig});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Dg}),j&&n.setSelected(L),n.setPreSelection(L),H){var V=Tn(A),B=Tn(L),M=Ue(A),Ee=Ue(L);V!==B||M!==Ee?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===he.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:Z.createElement(o3,Xe({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:VB(n.modifyHolidays()),outsideClickIgnoreClass:XS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(ur(n.props.startDate,{dateFormat:p,locale:c}),". ").concat(n.props.endDate?"End date: "+ur(n.props.endDate,{dateFormat:p,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(ur(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(ur(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(ur(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(ur(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(ur(n.props.selected,{dateFormat:p,locale:c})),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=nn(n.props.className,(i={},i[XS]=n.state.open,i)),d=n.props.customInput||Z.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,y=m.dateFormat,_=y===void 0?e.defaultProps.dateFormat:y,E=m.locale,k=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?TB(n.props.startDate,n.props.endDate,{dateFormat:_,locale:E}):n.props.selectsMultiple?SB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:_,locale:E}):ur(n.props.selected,{dateFormat:_,locale:E});return x.cloneElement(d,(o={},o[p]=function(C){n.input=C},o.value=k,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=nn(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,y=i.clearButtonClassName,_=y===void 0?"":y,E=i.ariaLabelClose,k=E===void 0?"Close":E,C=i.selectedDates;return o&&(c!=null||d!=null||p!=null||C!=null&&C.length)?Z.createElement("button",{type:"button",className:nn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":k,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Mc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&h3(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:HS(this.props.highlightDates)}),!n.focused&&!Uo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Z.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Z.createElement(a3,Xe({icon:i,className:nn(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Z.createElement(kb,{enableTabLoop:this.props.enableTabLoop},Z.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Z.createElement(Sb,Xe({portalId:this.props.portalId},this.props),n)),Z.createElement("div",null,this.renderInputContainer(),n)}return Z.createElement(f3,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(x.Component),p3="input",Dg="navigate";const m3=r=>{const e=["th","st","nd","rd"],t=r%10,n=t>=1&&t<=3&&Math.floor(r/10)!==1?e[t]:e[0];return`${r}${n}`},JS=r=>{const[e,t,n]=r.split("T")[0].split("-"),i=m3(Number(n)),o=new Date(`${e}-${t}`).toLocaleString("en-GB",{month:"long"});return{formattedDay:i,monthName:o,year:e}},Cb=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{formattedDay:t,monthName:n,year:i}=JS(r),{formattedDay:o,monthName:l,year:c}=JS(e);let d=`From the ${t}`;return n===l&&i===c?d+=` to the ${o} of ${n} of ${i}`:i===c?d+=` of ${n} to the ${o} of ${l} of ${i}`:d+=` of ${n} of ${i} to the ${o} of ${l} of ${c}`,d},ZS=r=>{const[e,t,n]=r.split("T")[0].split("-");return{day:n,month:t,year:e}},g3=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{day:t,month:n,year:i}=ZS(r),{day:o,month:l,year:c}=ZS(e);return`(${t}/${n}/${i} - ${o}/${l}/${c})`},y3=r=>{const e=r instanceof Ft?new Date(r.seconds*1e3):new Date(r);return`${e.toLocaleTimeString("en-GB")} on the ${e.toLocaleDateString("en-GB")}`},_3=({exhibitions:r,selectedExhibitionId:e,setSelectedExhibitionId:t,newExhibitionName:n,setNewExhibitionName:i,newExhibitionStartDate:o,newExhibitionEndDate:l,handleDateChange:c,handleSubmit:d,loading:p,setIsFormVisible:m,successMessage:y})=>{const _=!!e,E=()=>{if(!_){if(!n.trim())return alert("Exhibition name is required."),!1;if(!o||!l)return alert("Both start and end dates are required."),!1;if(o>l)return alert("Start date must be before the end date."),!1}return!0},k=C=>{C.preventDefault(),E()&&d(C)};return S.jsxs("form",{onSubmit:k,className:"mt-4 p-4 rounded shadow-sm",style:{background:"rgba(204, 173, 227, 0.84)"},children:[y&&S.jsx("div",{className:"alert alert-success",role:"alert",children:y}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"existingExhibition",className:"form-label fw-bold",children:"Select one of your exhibitions:"}),S.jsxs("select",{id:"existingExhibition",className:"form-select",onChange:C=>t(C.target.value),value:e||"","aria-label":"Select one of your exhibitions",children:[S.jsx("option",{value:"",children:"Select an exhibition"}),r.map(C=>S.jsxs("option",{value:C.id,children:[C.name," ",g3(C.startDate,C.endDate)]},C.id))]})]}),S.jsxs("fieldset",{disabled:_,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"newExhibitionName",className:"form-label fw-bold",children:"Create a new exhibition:"}),S.jsx("input",{type:"text",id:"newExhibitionName",className:"form-control",placeholder:"Exhibition name",value:n,onChange:C=>i(C.target.value),required:!_,"aria-required":!_})]}),S.jsx("div",{className:"mb-4",children:S.jsx(xb,{selected:o,onChange:c,startDate:o,endDate:l,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates",required:!_})})]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{type:"submit",className:"btn btn-success",disabled:p,children:p?"Submitting...":"Add"}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),"aria-label":"Cancel and close form",children:"Cancel"})]})]})},v3=({artwork:r})=>{const[e,t]=x.useState(!1),[n,i]=x.useState(null),[o,l]=x.useState(""),[c,d]=x.useState(null),[p,m]=x.useState(null),[y,_]=x.useState(null),[E,k]=x.useState(null),[C,I]=x.useState(!1),[N,F]=x.useState(!1),{exhibitions:j,addExhibition:H,addArtworkToExhibition:Q,loading:ne}=C_(),{loadingCollection:A,addToCollection:D}=IL(),P=()=>{t(!0),k(null)},L=(Ee,xe)=>(console.error("Firestore Error:",Ee),Ee.message.includes("permission-denied")?"You do not have permission to perform this action.":Ee.message.includes("network-request-failed")?"Network error. Please check your internet connection.":Ee.message||xe),V=async Ee=>{Ee.preventDefault(),_(null);const xe=Vo.currentUser;if(!xe){_("User is not authenticated.");return}try{if(n)await Q(n,r);else if(o&&c&&p){const ce=new Date(c).toISOString(),de=new Date(p).toISOString(),G={name:o,startDate:ce,endDate:de,artworks:[r],userId:xe.uid,createdAt:new Date};await H(G)}else{_("Please fill in all the required fields.");return}t(!1),l(""),d(null),m(null),i(null),k("Artwork added to the exhibition successfully!"),setTimeout(()=>k(null),5e3)}catch(ce){const de=L(ce,"An unexpected error occurred. Please try again.");_(de)}},B=Ee=>{const[xe,ce]=Ee;d(xe),m(ce)},M=async()=>{try{await D(r),k("Artwork added to the collection successfully!"),setTimeout(()=>k(null),5e3)}catch(Ee){const xe=L(Ee,"Error adding to collection. Please try again.");_(xe)}};return S.jsxs("div",{className:"artwork-card",children:[S.jsxs(Li,{to:`/artwork/${r.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${r.title}"`,children:[S.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:r.title}),r.imageUrl&&S.jsx("img",{src:r.imageUrl,alt:`Artwork titled "${r.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),S.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",S.jsx("strong",{children:r.artist_title})," in ",r.date]}),S.jsx("p",{className:"mb-2",children:r.medium_display}),S.jsxs("p",{className:"text-secondary small text-center mt-2",children:[S.jsx("span",{className:"fw-bold",children:"Source:"})," ",r.source]})]}),S.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[S.jsx("button",{onClick:P,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:"btn btn-primary",style:{backgroundColor:C?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to an exhibition",children:"Add to an Exhibition"}),S.jsx("button",{onClick:M,disabled:e||A,onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),className:"btn btn-primary",style:{backgroundColor:N?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to your collection",children:A?"Adding...":"Add to Collection"})]}),e&&S.jsx(_3,{exhibitions:j,selectedExhibitionId:n,setSelectedExhibitionId:i,newExhibitionName:o,setNewExhibitionName:l,newExhibitionStartDate:c,newExhibitionEndDate:p,handleDateChange:B,handleSubmit:V,loading:ne,setIsFormVisible:t,successMessage:E}),y&&S.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),!y&&E&&S.jsx("div",{className:"alert alert-success mt-3",role:"alert",style:{maxWidth:"400px",margin:"0 auto"},children:E})]})},w3=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},i=()=>{r<e&&t(r+1)},o=()=>t(1),l=()=>t(e),c=()=>{const d=[];for(let p=Math.max(1,r-1);p<=Math.min(e,r+1);p++)d.push(S.jsx("li",{className:`page-item ${p===r?"active":""}`,children:S.jsx("button",{className:"page-link",onClick:()=>t(p),disabled:p===r,children:p})},p));return d};return S.jsx("nav",{"aria-label":"Pagination",className:"my-4",children:S.jsxs("ul",{className:"pagination justify-content-center",children:[S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:o,disabled:r===1,children:"First"})}),S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:n,disabled:r===1,children:" Previous"})}),c(),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:i,disabled:r===e,children:"Next "})}),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:l,disabled:r===e,children:"Last"})})]})})},E3=({sortOption:r,sortDirection:e})=>{const{artworks:t}=b_(),[n,i]=x.useState(1),o=10,l=[...t].sort((y,_)=>{if(r==="artist"){const E=y.artist_title||"",k=_.artist_title||"";return e.artist==="asc"?E.localeCompare(k):k.localeCompare(E)}else if(r==="title"){const E=y.title||"",k=_.title||"";return e.title==="asc"?E.localeCompare(k):k.localeCompare(E)}else if(r==="date"){const E=new Date(y.date).getTime(),k=new Date(_.date).getTime();return e.date==="asc"?E-k:k-E}return 0}),c=n*o,d=c-o,p=l.slice(d,c),m=Math.ceil(t.length/o);return S.jsxs("div",{className:"container my-4",children:[p.length>0?S.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:p.map(y=>S.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.transform="scale(1.03)"},onMouseLeave:_=>{_.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${y.title}`,tabIndex:0,onKeyDown:_=>{_.key==="Enter"&&(window.location.href=`/artwork/${y.id}`)},children:S.jsx(v3,{artwork:y})},y.id))}):S.jsx("p",{children:"Start your search here "}),m>1&&S.jsxs(S.Fragment,{children:[S.jsx(w3,{currentPage:n,totalPages:m,onPageChange:i}),S.jsx("div",{className:"text-center mt-2",children:S.jsxs("small",{className:"text-muted",children:["Page ",n," of ",m]})})]})]})},ek=()=>{const{museumName:r}=Cy(),{query:e,setQuery:t}=Py(),{type:n,setType:i}=vk(),{setSelectedMuseum:o}=Ch(),[l,c]=x.useState(""),[d,p]=x.useState("artist"),[m,y]=x.useState({artist:"asc",title:"asc",date:"asc"}),_=r===void 0||r==="collection",{artworks:E,loading:k,error:C,setArtworks:I}=GV(r||"",e,n,_);return x.useEffect(()=>{c((F=>F?{met:"The Metropolitan Museum of Art",chicago:"The Art Institute of Chicago"}[F]||"Unknown Museum":"Collection")(r))},[r]),x.useEffect(()=>{t(""),i("artist_title"),p("artist"),y({artist:"asc",title:"asc",date:"asc"}),I([]),r&&o(r)},[t,i,p,y,I,o,r]),S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-5 fs-1 py-5",children:l||"Collection"}),S.jsx(XV,{sortOption:d,setSortOption:p,sortDirection:m,setSortDirection:y}),k&&S.jsx("div",{className:"text-center mt-3",children:"Loading..."}),C&&S.jsxs("div",{className:"alert alert-danger mt-3",children:[S.jsxs("p",{children:["Error: ",C]}),S.jsx("button",{onClick:()=>t(e),children:"Retry"})]}),!k&&!C&&S.jsx(E3,{sortOption:d,sortDirection:m})]})},T3=()=>{const{exhibitions:r,loading:e}=C_(),t=gc();return x.useEffect(()=>{Vo.currentUser||t("/login")},[t]),e?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center fs-1 mb-4",children:"Exhibitions"}),r.length>0?S.jsx("div",{className:"row g-4",children:r.map(n=>S.jsx("div",{className:"col-md-6 col-lg-4",children:S.jsx(Li,{to:`/exhibition/${n.id}`,className:"btn btn-outline-secondary mt-3","aria-label":`Manage exhibition ${n.name}`,children:S.jsx("div",{className:"card h-100 shadow-sm",children:S.jsxs("div",{className:"card-body d-flex flex-column",children:[S.jsx("h2",{className:"card-title text-decoration-underline text-center py-3 fs-2",children:n.name}),S.jsx("p",{className:"card-text text-center text-muted",children:Cb(n.startDate,n.endDate)}),S.jsx("img",{src:n.image,alt:`Exhibition titled "${n.name}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),S.jsxs("ul",{className:"list-group list-group-flush",children:[S.jsx("h5",{className:"text-decoration-underline",children:"What you will be seeing:"}),n.artworks.map(i=>S.jsx("li",{className:"list-group-item justify-content-between mb-3",children:S.jsx("div",{children:S.jsxs("span",{className:"ms-2 d-block",children:['"',i.title,'" by ',S.jsx("i",{children:i.artist_title})]})})},i.id))]}),S.jsxs("p",{className:"card-text text-center text-muted",children:["Created at ",y3(n.createdAt)]})]})})})},n.id))}):S.jsx("p",{className:"text-center",children:"No exhibitions found."})]})},S3=()=>{const{login:r,loading:e}=oa(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(null),d=m=>{switch(m.code){case"auth/user-not-found":return{field:"email",message:"No user found with this email."};case"auth/wrong-password":return{field:"password",message:"Incorrect password. Please try again."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};case"auth/user-disabled":return{field:"form",message:"This user account has been disabled."};default:return{field:"form",message:"Failed to login. Please try again later."}}},p=async m=>{m.preventDefault(),c(null);try{await r(t,i)}catch(y){y instanceof Vr?c(d(y)):c({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to login:",y)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Login"}),l&&l.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:l.message}),S.jsxs("form",{onSubmit:p,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(l==null?void 0:l.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:m=>n(m.target.value),required:!0}),(l==null?void 0:l.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(l==null?void 0:l.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:m=>o(m.target.value),required:!0}),(l==null?void 0:l.field)==="password"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Logging in...":"Login"})]})]})})})},k3=()=>{const{register:r,loading:e}=oa(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[d,p]=x.useState(""),[m,y]=x.useState(null),_=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),E=N=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(N),k=N=>/^[A-Za-z- ]+$/.test(N),C=N=>{switch(N.code){case"auth/email-already-in-use":return{field:"email",message:"This email is already in use. Please use a different email."};case"auth/weak-password":return{field:"password",message:"The password is too weak."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};default:return{field:"form",message:"Failed to register. Please try again later."}}},I=async N=>{if(N.preventDefault(),y(null),!l||!d){y({field:"name",message:"Please provide both first name and last name."});return}if(!k(l)||!k(d)){y({field:"name",message:"First name and last name can only contain letters, hyphens, and spaces."});return}if(!_(t)){y({field:"email",message:"Please enter a valid email address."});return}if(!E(i)){y({field:"password",message:"Password must include: <ul><li>At least 8 characters</li><li>One uppercase letter</li><li>One lowercase letter</li><li>One number</li></ul>"});return}try{await r(t,i,l,d)}catch(F){F instanceof Vr?y(C(F)):y({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to register:",F)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Register"}),m&&m.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:m.message}),S.jsxs("form",{onSubmit:I,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),S.jsx("input",{type:"text",id:"firstName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your first name",value:l,onChange:N=>c(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),S.jsx("input",{type:"text",id:"lastName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your last name",value:d,onChange:N=>p(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(m==null?void 0:m.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:N=>n(N.target.value),required:!0}),(m==null?void 0:m.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(m==null?void 0:m.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:N=>o(N.target.value),required:!0}),(m==null?void 0:m.field)==="password"&&S.jsx("div",{className:"invalid-feedback",dangerouslySetInnerHTML:{__html:m.message}})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Registering...":"Register"})]})]})})})},x3=()=>{const[r,e]=x.useState(!0);return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-sm-10 col-md-6 col-lg-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Welcome to ArtVoyage"}),S.jsxs("div",{className:"d-flex justify-content-center mb-4",role:"group","aria-label":"Login and Register options",children:[S.jsx("button",{className:`btn custom-btn ${r?"active-btn":"inactive-btn"} me-2`,onClick:()=>e(!0),"aria-pressed":r,children:"Login"}),S.jsx("button",{className:`btn custom-btn ${r?"inactive-btn":"active-btn"}`,onClick:()=>e(!1),"aria-pressed":!r,children:"Register"})]}),S.jsx("div",{className:"card authcard shadow",children:S.jsx("div",{className:"card-body",children:r?S.jsxs("div",{children:[S.jsx(S3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!1),role:"button","aria-label":"Go to Register form",children:"Register here."})]})]}):S.jsxs("div",{children:[S.jsx(k3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Already have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!0),role:"button","aria-label":"Go to Login form",children:"Login here."})]})]})})})]})})})},C3=async r=>{try{return(await ft.get("/.netlify/functions/fetchMetSingleArtworkDetails",{params:{id:r}})).data.map(i=>{const o=i.artistDisplayName||"an unknown Artist",l=i.artistNationality||"Unknown nationality",c=i.objectDate||"an undetermined time",d=i.medium||"an artistic medium",p=i.dimensions||"unknown dimensions",m=i.classification||"an extraordinary artwork",y=i.department||"an unspecified department",_=i.objectURL||"https://www.metmuseum.org/art/collection",E=i.creditLine||"an anonymous donor",k=i.period||"an unspecified period",C=i.geographyType||"a broad location",I=i.city||"an unknown city",N=i.country||"an unknown country",F=p.match(/\(([^)]+)\)/),j=F?F[1]:p,H=`<p>${i.title} is a ${m.toLowerCase()} by ${o} (${l}). Created in ${c}, this ${d} artwork measures approximately <i>${j}</i>. It is part of the ${y} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${k}</em>, and its geographical origins are linked to <em>${C}</em>, with specific ties to <em>${I}</em>, ${N}. The artwork is credited to ${E}. Learn more about this artwork <a href="${_}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:i.objectID,title:i.title,artist_title:i.artistDisplayName,artist_bio:i.artistDisplayBio,date:i.objectDate,medium_display:i.medium,imageUrl:i.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:i.objectURL,description:H}})}catch(e){throw e}},b3="https://www.artic.edu/iiif/2",I3=async r=>{try{const e=await ft.get("https://api.artic.edu/api/v1/artworks/"+r,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}});if(e.data&&e.data.data){const t=e.data.data,n=t.image_id?`${b3}/${t.image_id}/full/843,/0/default.jpg`:"",i=t.artist_display.match(/\(([^)]+)\)/),o=i?i[1]:null;return[{id:t.id,title:t.title,artist_title:t.artist_title,artist_bio:o,date:t.date_display,medium_display:t.medium_display,imageUrl:n||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:t.description}]}else throw console.error("Artwork not found."),new Error("Artwork not found.")}catch(e){throw ft.isAxiosError(e)?new Error(`Axios error fetching artwork from Chicago: ${e.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${e.message}`)}},D3=(r,e)=>{const[t,n]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null);return x.useEffect(()=>{if(!e){c("No artwork ID provided.");return}(async()=>{var p,m;o(!0),c(null);try{const y=r==="met"?await C3(e):await I3(e);n(y[0])}catch(y){c(((m=(p=y.response)==null?void 0:p.data)==null?void 0:m.error)||"Error fetching the artwork.")}finally{o(!1)}})()},[e,r]),{artwork:t,loading:i,error:l}},R3=()=>{const{selectedMuseum:r}=Ch(),{id:e}=Cy(),{artwork:t,loading:n,error:i}=D3(r,e);return S.jsxs("div",{className:"container my-5",children:[n&&S.jsx("div",{children:"Loading..."}),i&&S.jsxs("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:["Error fetching artwork: ",i]}),!n&&!i&&!t&&S.jsx("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:"Artwork not found. Please check the ID or return to the home page."}),t&&S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-lg-8",children:S.jsx("div",{className:"card shadow-lg rounded-3",children:S.jsxs("div",{className:"card-body",children:[S.jsx("div",{className:"artwork-image-container mb-4",children:S.jsx("img",{src:t.imageUrl,alt:`Artwork titled "${t.title}" by ${t.artist_title}`,className:"img-fluid rounded-3 shadow-lg"})}),S.jsx("h2",{className:"text-center mb-3",children:t.title}),S.jsxs("p",{className:"text-muted text-center",children:[S.jsx("strong",{children:t.artist_title}),t.artist_bio&&S.jsxs("span",{children:[" (",t.artist_bio,")"]})]}),S.jsxs("p",{className:"text-center text-muted",children:["Created in ",t.date]}),S.jsx("p",{className:"font-weight-bold",children:t.medium_display}),t.description&&S.jsx("div",{dangerouslySetInnerHTML:{__html:t.description}}),S.jsxs("div",{className:"text-center mt-4",children:[S.jsx("a",{href:t.objectUrl,className:"btn btn-outline-secondary btn-lg mx-2",target:"_blank",rel:"noopener noreferrer",children:"View on Source"}),S.jsx("button",{className:"btn btn-outline-primary btn-lg mx-2",onClick:()=>window.history.back(),children:"Go Back"})]})]})})})})]})},bb=({show:r,handleClose:e,handleDelete:t,entityType:n,entityId:i})=>{const o=n==="artwork"?"artwork":"exhibition",l=()=>{i!==null&&t(i),e()};return S.jsxs(wn,{show:r,onHide:e,"aria-labelledby":"deleteModalLabel",children:[S.jsx(wn.Header,{closeButton:!0,children:S.jsxs(wn.Title,{id:"deleteModalLabel",children:["Confirm ",o.charAt(0).toUpperCase()+o.slice(1)," ","Deletion"]})}),S.jsx(wn.Body,{children:S.jsxs("p",{children:["Are you sure you want to delete this ",o,"?"]})}),S.jsxs(wn.Footer,{children:[S.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{className:"btn btn-danger",onClick:l,children:"Confirm"})]})]})},P3=({show:r,handleClose:e,handleEditExhibition:t,exhibition:n})=>{const[i,o]=x.useState(""),[l,c]=x.useState(null),[d,p]=x.useState(null),m=_=>{const[E,k]=_;c(E),p(k)};x.useEffect(()=>{if(n){o(n.name);const _=n.startDate?new Date(n.startDate):null,E=n.endDate?new Date(n.endDate):null;c(_),p(E)}},[n]);const y=()=>{if(!i){alert("Exhibition name is required.");return}if(!l||!d){alert("Both start and end dates are required.");return}if(l&&d&&l>d){alert("Start date must be before the end date.");return}const _=new Date(l).toISOString(),E=new Date(d).toISOString();n&&(t(n.id,{name:i,startDate:_,endDate:E}),e())};return!r||!n?null:S.jsx("div",{className:"modal show d-block",children:S.jsx("div",{className:"modal-dialog",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:"Edit Exhibition"}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsxs("div",{className:"modal-body",children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"exhibition-name",className:"form-label",children:"Name"}),S.jsx("input",{type:"text",id:"exhibition-name",className:"form-control",value:i,onChange:_=>o(_.target.value)})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"newExhibitionDates",className:"form-label",children:"Exhibition Dates:"}),S.jsx("br",{}),S.jsx(xb,{selected:l,onChange:m,startDate:l,endDate:d,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates"})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Save Changes"})]})]})})})},A3=({exhibition:r,handleDeleteExhibition:e,handleDeleteArtwork:t,handleEditExhibition:n})=>{Ch();const[i,o]=x.useState(!1),[l,c]=x.useState(!1),[d,p]=x.useState(null),[m,y]=x.useState(null),[_,E]=x.useState(null),k=Cb(r.startDate,r.endDate),C=(H,Q)=>{y(H),E(Q),o(!0)},I=()=>{o(!1),y(null),E(null)},N=H=>{p(H),c(!0)},F=()=>{c(!1),p(null)},j=async H=>{m==="artwork"&&typeof H=="number"?t(r.id,H):m==="exhibition"&&typeof H=="string"&&e(H)};return S.jsxs("div",{className:"container py-5",children:[S.jsx("div",{className:"row mb-4",children:S.jsxs("div",{className:"col-12 text-center text-white py-3",style:{background:"rgba(47, 21, 68, 0.84)"},children:[S.jsx("h1",{children:r.name}),S.jsx("p",{children:k})]})}),S.jsxs("div",{className:"row",children:[S.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.artworks.map(H=>S.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:Q=>{Q.currentTarget.style.transform="scale(1.03)"},onMouseLeave:Q=>{Q.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${H.title}`,tabIndex:0,onKeyDown:Q=>{Q.key==="Enter"&&(window.location.href=`/artwork/${H.id}`)},children:S.jsxs("div",{className:"artwork-card",children:[S.jsxs(Li,{to:`/artwork/${H.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${H.title}"`,children:[S.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:H.title}),H.imageUrl&&S.jsx("img",{src:H.imageUrl,alt:`Artwork titled "${H.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),S.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",S.jsx("strong",{children:H.artist_title})," in"," ",H.date]}),S.jsx("p",{className:"mb-2",children:H.medium_display}),S.jsxs("p",{className:"text-secondary small text-center mt-2",children:[S.jsx("span",{className:"fw-bold",children:"Source:"})," ",H.source]})]}),S.jsx("button",{className:"btn btn-danger",onClick:()=>C("artwork",H.id),"aria-label":`Delete artwork titled "${H.title}"`,children:"Delete from exhibition"})]})},H.id))}),S.jsx("div",{className:"col-12 mb-4",children:S.jsx("div",{className:"card p-4",style:{background:"rgba(117, 92, 176, 0.84)"},children:S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{onClick:()=>N(r),className:"btn btn-warning btn-lg","aria-label":`Edit exhibition ${r.name}`,children:"Edit Exhibition"}),S.jsx("button",{onClick:()=>C("exhibition",r.id),className:"btn btn-danger btn-lg","aria-label":`Delete exhibition ${r.name}`,children:"Delete Exhibition"})]})})})]}),S.jsx(P3,{show:l,handleClose:F,handleEditExhibition:n,exhibition:d}),S.jsx(bb,{show:i,handleClose:I,handleDelete:j,entityType:m??"artwork",entityId:(_==null?void 0:_.toString())??""})]})},N3=()=>{const{exhibitionId:r}=Cy(),{exhibitions:e,loading:t,editExhibition:n,deleteArtworkFromExhibition:i,deleteExhibition:o}=C_(),[l,c]=x.useState(null),[d,p]=x.useState(null),[m,y]=x.useState(null),_=gc(),E=(F,j)=>(console.error("Firestore Error:",F),F.message||j);x.useEffect(()=>{if(r){const F=e.find(j=>j.id===r);F?c(F):_("/exhibitions")}},[r,e,_]);const k=()=>{_("/search")},C=x.useCallback(async(F,j)=>{try{await n(F,j),p("Exhibition edited successfully.")}catch(H){const Q=E(H,"Failed to edit the exhibition");y(Q)}},[n]),I=x.useCallback(async F=>{try{await o(F),p("Exhibition deleted successfully.")}catch(j){const H=E(j,"Failed to delete the exhibition.");y(H)}},[o]),N=x.useCallback(async(F,j)=>{try{await i(F,j),p("Artwork deleted successfully.")}catch(H){const Q=E(H,"Failed to delete the artwork.");y(Q)}},[i]);return x.useEffect(()=>{if(d){const F=setTimeout(()=>{p(null)},3e3);return()=>clearTimeout(F)}},[d]),t?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):m?S.jsx("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:m}):l?S.jsxs(S.Fragment,{children:[S.jsx(A3,{exhibition:l,handleDeleteExhibition:I,handleDeleteArtwork:N,handleEditExhibition:C}),S.jsx("div",{className:"col-12 mb-5",children:S.jsxs("div",{className:"text-center",children:[S.jsx("button",{onClick:k,className:"btn btn-outline-primary btn-lg mx-2","aria-label":"Add new artwork to the exhibition",style:{maxWidth:"200px"},children:"Add Artwork"}),S.jsx("button",{className:"btn btn-outline-secondary btn-lg mx-2",onClick:()=>window.history.back(),"aria-label":"Go back to the previous page",style:{maxWidth:"200px"},children:"Go Back"})]})})]}):S.jsx("div",{className:"text-center my-5",children:"Exhibition not found."})},M3=()=>{const{collectionState:r,removeFromCollection:e,loadingCollection:t}=jC(),[n,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(null),[p,m]=x.useState(null),y=(C,I)=>(console.error("Firestore Error:",C),C.message||I),_=(C,I)=>{l(C),d(I),i(!0)},E=()=>{i(!1),l(null),d(null)},k=async C=>{if(typeof C=="number")try{await e(C)}catch(I){const N=y(I,"Failed to remove from collection");m(N)}};return t?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):S.jsxs("div",{className:"container my-4",children:[S.jsx("h1",{className:"text-center mb-4",children:"My Collection"}),p&&S.jsx("div",{className:"alert alert-danger text-center",children:p}),r.length===0?S.jsx("p",{className:"text-center",children:"Your collection is empty."}):S.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.map(C=>S.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:I=>{I.currentTarget.style.transform="scale(1.03)"},onMouseLeave:I=>{I.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${C.title}`,tabIndex:0,onKeyDown:I=>{I.key==="Enter"&&(window.location.href=`/artwork/${C.id}`)},children:S.jsxs("div",{className:"artwork-card",children:[S.jsxs(Li,{to:`/artwork/${C.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${C.title}"`,children:[S.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:C.title}),C.imageUrl&&S.jsx("img",{src:C.imageUrl,alt:`Artwork titled "${C.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),S.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",S.jsx("strong",{children:C.artist_title})," in"," ",C.date]}),S.jsx("p",{className:"mb-2",children:C.medium_display}),S.jsxs("p",{className:"text-secondary small text-center mt-2",children:[S.jsx("span",{className:"fw-bold",children:"Source:"})," ",C.source]})]}),S.jsx("button",{className:"btn btn-danger",onClick:()=>_("artwork",C.id),"aria-label":`Delete artwork titled "${C.title}"`,children:"Delete from my collection"})]})},C.id))}),S.jsx(bb,{show:n,handleClose:E,handleDelete:k,entityType:"artwork",entityId:c})]})},O3=()=>{const{user:r}=oa();return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"app-background vh-100 position-fixed top-0 left-0 w-100"}),S.jsxs("div",{className:"container-fluid d-flex flex-column vh-100",children:[r&&S.jsx(RL,{}),S.jsx("div",{className:"flex-grow-1",children:S.jsx(PD,{children:r?S.jsxs(S.Fragment,{children:[S.jsx(Yn,{path:"/home",element:S.jsx(PL,{})}),S.jsx(Yn,{path:"/search",element:S.jsx(AL,{})}),S.jsx(Yn,{path:"/profile",element:S.jsx(gF,{user:r})}),S.jsx(Yn,{path:"/artwork/:id",element:S.jsx(R3,{})}),S.jsx(Yn,{path:"/search/museum/:museumName",element:S.jsx(ek,{})}),S.jsx(Yn,{path:"/search/collection",element:S.jsx(ek,{})}),S.jsx(Yn,{path:"/exhibitions",element:S.jsx(T3,{})}),S.jsx(Yn,{path:"/collection",element:S.jsx(M3,{})}),S.jsx(Yn,{path:"/exhibition/:exhibitionId",element:S.jsx(N3,{})}),S.jsx(Yn,{path:"*",element:S.jsx(wE,{to:"/home"})})]}):S.jsxs(S.Fragment,{children:[S.jsx(Yn,{path:"/auth",element:S.jsx(x3,{})}),S.jsx(Yn,{path:"*",element:S.jsx(wE,{to:"/auth"})})]})})})]})]})},L3=()=>S.jsx(DL,{children:S.jsx(tR,{children:S.jsx(O3,{})})});BI.createRoot(document.getElementById("root")).render(S.jsx(x.StrictMode,{children:S.jsx(L3,{})}));
