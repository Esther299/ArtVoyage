var MI=Object.defineProperty;var LI=(r,e,t)=>e in r?MI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Pe=(r,e,t)=>LI(r,typeof e!="symbol"?e+"":e,t);function FI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function hm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sy={exports:{}},Md={},oy={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function VI(){if(AE)return lt;AE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function R(Y,le,ke){this.props=Y,this.context=le,this.refs=D,this.updater=ke||T}R.prototype.isReactComponent={},R.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},R.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function L(){}L.prototype=R.prototype;function j(Y,le,ke){this.props=Y,this.context=le,this.refs=D,this.updater=ke||T}var W=j.prototype=new L;W.constructor=j,C(W,R.prototype),W.isPureReactComponent=!0;var G=Array.isArray,re=Object.prototype.hasOwnProperty,ce={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function N(Y,le,ke){var Be,Ke={},Qe=null,st=null;if(le!=null)for(Be in le.ref!==void 0&&(st=le.ref),le.key!==void 0&&(Qe=""+le.key),le)re.call(le,Be)&&!F.hasOwnProperty(Be)&&(Ke[Be]=le[Be]);var ye=arguments.length-2;if(ye===1)Ke.children=ke;else if(1<ye){for(var ct=Array(ye),$t=0;$t<ye;$t++)ct[$t]=arguments[$t+2];Ke.children=ct}if(Y&&Y.defaultProps)for(Be in ye=Y.defaultProps,ye)Ke[Be]===void 0&&(Ke[Be]=ye[Be]);return{$$typeof:r,type:Y,key:Qe,ref:st,props:Ke,_owner:ce.current}}function M(Y,le){return{$$typeof:r,type:Y.type,key:le,ref:Y.ref,props:Y.props,_owner:Y._owner}}function U(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function $(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ke){return le[ke]})}var H=/\/+/g;function V(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):le.toString(36)}function Ae(Y,le,ke,Be,Ke){var Qe=typeof Y;(Qe==="undefined"||Qe==="boolean")&&(Y=null);var st=!1;if(Y===null)st=!0;else switch(Qe){case"string":case"number":st=!0;break;case"object":switch(Y.$$typeof){case r:case e:st=!0}}if(st)return st=Y,Ke=Ke(st),Y=Be===""?"."+V(st,0):Be,G(Ke)?(ke="",Y!=null&&(ke=Y.replace(H,"$&/")+"/"),Ae(Ke,le,ke,"",function($t){return $t})):Ke!=null&&(U(Ke)&&(Ke=M(Ke,ke+(!Ke.key||st&&st.key===Ke.key?"":(""+Ke.key).replace(H,"$&/")+"/")+Y)),le.push(Ke)),1;if(st=0,Be=Be===""?".":Be+":",G(Y))for(var ye=0;ye<Y.length;ye++){Qe=Y[ye];var ct=Be+V(Qe,ye);st+=Ae(Qe,le,ke,ct,Ke)}else if(ct=v(Y),typeof ct=="function")for(Y=ct.call(Y),ye=0;!(Qe=Y.next()).done;)Qe=Qe.value,ct=Be+V(Qe,ye++),st+=Ae(Qe,le,ke,ct,Ke);else if(Qe==="object")throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return st}function je(Y,le,ke){if(Y==null)return Y;var Be=[],Ke=0;return Ae(Y,Be,"","",function(Qe){return le.call(ke,Qe,Ke++)}),Be}function Ee(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(ke){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ke)},function(ke){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ke)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var we={current:null},ie={transition:null},be={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ce};function Q(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:je,forEach:function(Y,le,ke){je(Y,function(){le.apply(this,arguments)},ke)},count:function(Y){var le=0;return je(Y,function(){le++}),le},toArray:function(Y){return je(Y,function(le){return le})||[]},only:function(Y){if(!U(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},lt.Component=R,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=j,lt.StrictMode=n,lt.Suspense=d,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,lt.act=Q,lt.cloneElement=function(Y,le,ke){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Be=C({},Y.props),Ke=Y.key,Qe=Y.ref,st=Y._owner;if(le!=null){if(le.ref!==void 0&&(Qe=le.ref,st=ce.current),le.key!==void 0&&(Ke=""+le.key),Y.type&&Y.type.defaultProps)var ye=Y.type.defaultProps;for(ct in le)re.call(le,ct)&&!F.hasOwnProperty(ct)&&(Be[ct]=le[ct]===void 0&&ye!==void 0?ye[ct]:le[ct])}var ct=arguments.length-2;if(ct===1)Be.children=ke;else if(1<ct){ye=Array(ct);for(var $t=0;$t<ct;$t++)ye[$t]=arguments[$t+2];Be.children=ye}return{$$typeof:r,type:Y.type,key:Ke,ref:Qe,props:Be,_owner:st}},lt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},lt.createElement=N,lt.createFactory=function(Y){var le=N.bind(null,Y);return le.type=Y,le},lt.createRef=function(){return{current:null}},lt.forwardRef=function(Y){return{$$typeof:u,render:Y}},lt.isValidElement=U,lt.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:Ee}},lt.memo=function(Y,le){return{$$typeof:h,type:Y,compare:le===void 0?null:le}},lt.startTransition=function(Y){var le=ie.transition;ie.transition={};try{Y()}finally{ie.transition=le}},lt.unstable_act=Q,lt.useCallback=function(Y,le){return we.current.useCallback(Y,le)},lt.useContext=function(Y){return we.current.useContext(Y)},lt.useDebugValue=function(){},lt.useDeferredValue=function(Y){return we.current.useDeferredValue(Y)},lt.useEffect=function(Y,le){return we.current.useEffect(Y,le)},lt.useId=function(){return we.current.useId()},lt.useImperativeHandle=function(Y,le,ke){return we.current.useImperativeHandle(Y,le,ke)},lt.useInsertionEffect=function(Y,le){return we.current.useInsertionEffect(Y,le)},lt.useLayoutEffect=function(Y,le){return we.current.useLayoutEffect(Y,le)},lt.useMemo=function(Y,le){return we.current.useMemo(Y,le)},lt.useReducer=function(Y,le,ke){return we.current.useReducer(Y,le,ke)},lt.useRef=function(Y){return we.current.useRef(Y)},lt.useState=function(Y){return we.current.useState(Y)},lt.useSyncExternalStore=function(Y,le,ke){return we.current.useSyncExternalStore(Y,le,ke)},lt.useTransition=function(){return we.current.useTransition()},lt.version="18.3.1",lt}var PE;function V_(){return PE||(PE=1,oy.exports=VI()),oy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function jI(){if(NE)return Md;NE=1;var r=V_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var g,_={},v=null,T=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(_[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:u,key:v,ref:T,props:_,_owner:i.current}}return Md.Fragment=t,Md.jsx=l,Md.jsxs=l,Md}var OE;function UI(){return OE||(OE=1,sy.exports=jI()),sy.exports}var k=UI(),x=V_();const ae=hm(x),BI=FI({__proto__:null,default:ae},[x]);var Uh={},ay={exports:{}},si={},ly={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function $I(){return ME||(ME=1,function(r){function e(ie,be){var Q=ie.length;ie.push(be);e:for(;0<Q;){var Y=Q-1>>>1,le=ie[Y];if(0<i(le,be))ie[Y]=be,ie[Q]=le,Q=Y;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var be=ie[0],Q=ie.pop();if(Q!==be){ie[0]=Q;e:for(var Y=0,le=ie.length,ke=le>>>1;Y<ke;){var Be=2*(Y+1)-1,Ke=ie[Be],Qe=Be+1,st=ie[Qe];if(0>i(Ke,Q))Qe<le&&0>i(st,Ke)?(ie[Y]=st,ie[Qe]=Q,Y=Qe):(ie[Y]=Ke,ie[Be]=Q,Y=Be);else if(Qe<le&&0>i(st,Q))ie[Y]=st,ie[Qe]=Q,Y=Qe;else break e}}return be}function i(ie,be){var Q=ie.sortIndex-be.sortIndex;return Q!==0?Q:ie.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],h=[],g=1,_=null,v=3,T=!1,C=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ie){for(var be=t(h);be!==null;){if(be.callback===null)n(h);else if(be.startTime<=ie)n(h),be.sortIndex=be.expirationTime,e(d,be);else break;be=t(h)}}function G(ie){if(D=!1,W(ie),!C)if(t(d)!==null)C=!0,Ee(re);else{var be=t(h);be!==null&&we(G,be.startTime-ie)}}function re(ie,be){C=!1,D&&(D=!1,L(N),N=-1),T=!0;var Q=v;try{for(W(be),_=t(d);_!==null&&(!(_.expirationTime>be)||ie&&!$());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,v=_.priorityLevel;var le=Y(_.expirationTime<=be);be=r.unstable_now(),typeof le=="function"?_.callback=le:_===t(d)&&n(d),W(be)}else n(d);_=t(d)}if(_!==null)var ke=!0;else{var Be=t(h);Be!==null&&we(G,Be.startTime-be),ke=!1}return ke}finally{_=null,v=Q,T=!1}}var ce=!1,F=null,N=-1,M=5,U=-1;function $(){return!(r.unstable_now()-U<M)}function H(){if(F!==null){var ie=r.unstable_now();U=ie;var be=!0;try{be=F(!0,ie)}finally{be?V():(ce=!1,F=null)}}else ce=!1}var V;if(typeof j=="function")V=function(){j(H)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,je=Ae.port2;Ae.port1.onmessage=H,V=function(){je.postMessage(null)}}else V=function(){R(H,0)};function Ee(ie){F=ie,ce||(ce=!0,V())}function we(ie,be){N=R(function(){ie(r.unstable_now())},be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){C||T||(C=!0,Ee(re))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var be=3;break;default:be=v}var Q=v;v=be;try{return ie()}finally{v=Q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,be){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Q=v;v=ie;try{return be()}finally{v=Q}},r.unstable_scheduleCallback=function(ie,be,Q){var Y=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,ie){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Q+le,ie={id:g++,callback:be,priorityLevel:ie,startTime:Q,expirationTime:le,sortIndex:-1},Q>Y?(ie.sortIndex=Q,e(h,ie),t(d)===null&&ie===t(h)&&(D?(L(N),N=-1):D=!0,we(G,Q-Y))):(ie.sortIndex=le,e(d,ie),C||T||(C=!0,Ee(re))),ie},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(ie){var be=v;return function(){var Q=v;v=be;try{return ie.apply(this,arguments)}finally{v=Q}}}}(uy)),uy}var LE;function WI(){return LE||(LE=1,ly.exports=$I()),ly.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function HI(){if(FE)return si;FE=1;var r=V_(),e=WI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function v(s){return d.call(_,s)?!0:d.call(g,s)?!1:h.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function D(s,a,c,p,y,E,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new D(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new D(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new D(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new D(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new D(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new D(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new D(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new D(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new D(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,j);R[a]=new D(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,j);R[a]=new D(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,j);R[a]=new D(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new D(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new D(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,a,c,p){var y=R.hasOwnProperty(a)?R[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,c,y,p)&&(c=null),p||y===null?v(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var G=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),ce=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ie=Symbol.iterator;function be(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,Y;function le(s){if(Y===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Y=a&&a[1]||""}return`
`+Y+s}var ke=!1;function Be(s,a){if(!s||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(te){var p=te}Reflect.construct(s,[],a)}else{try{a.call()}catch(te){p=te}s.call(a.prototype)}else{try{throw Error()}catch(te){p=te}s()}}catch(te){if(te&&p&&typeof te.stack=="string"){for(var y=te.stack.split(`
`),E=p.stack.split(`
`),A=y.length-1,B=E.length-1;1<=A&&0<=B&&y[A]!==E[B];)B--;for(;1<=A&&0<=B;A--,B--)if(y[A]!==E[B]){if(A!==1||B!==1)do if(A--,B--,0>B||y[A]!==E[B]){var z=`
`+y[A].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=A&&0<=B);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?le(s):""}function Ke(s){switch(s.tag){case 5:return le(s.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return s=Be(s.type,!1),s;case 11:return s=Be(s.type.render,!1),s;case 1:return s=Be(s.type,!0),s;default:return""}}function Qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case ce:return"Portal";case M:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case Ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case je:return a=s.displayName||null,a!==null?a:Qe(s.type)||"Memo";case Ee:a=s._payload,s=s._init;try{return Qe(s(a))}catch{}}return null}function st(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ct(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $t(s){var a=ct(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,E.call(this,A)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function cr(s){s._valueTracker||(s._valueTracker=$t(s))}function Dr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=ct(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function wn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Gn(s,a){var c=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function dt(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=ye(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xn(s,a){a=a.checked,a!=null&&W(s,"checked",a,!1)}function ci(s,a){Xn(s,a);var c=ye(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?As(s,a.type,c):a.hasOwnProperty("defaultValue")&&As(s,a.type,ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function pa(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function As(s,a,c){(a!=="number"||wn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var di=Array.isArray;function fi(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ye(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function wo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ps(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(di(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:ye(c)}}function qr(s,a){var c=ye(a.value),p=ye(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function dr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ze(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ze(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Cn,Oi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Cn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function hi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(s){rs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Eo[a]=Eo[s]})});function El(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Eo.hasOwnProperty(s)&&Eo[s]?(""+a).trim():a+"px"}function bl(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=El(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Tl=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(s,a){if(a){if(Tl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function kl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function To(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,Rr=null,pi=null;function ma(s){if(s=$o(s)){if(typeof is!="function")throw Error(t(280));var a=s.stateNode;a&&(a=qi(a),is(s.stateNode,s.type,a))}}function Mi(s){Rr?pi?pi.push(s):pi=[s]:Rr=s}function Cl(){if(Rr){var s=Rr,a=pi;if(pi=Rr=null,ma(s),a)for(s=0;s<a.length;s++)ma(a[s])}}function So(s,a){return s(a)}function Li(){}var Ar=!1;function xl(s,a,c){if(Ar)return s(a,c);Ar=!0;try{return So(s,a,c)}finally{Ar=!1,(Rr!==null||pi!==null)&&(Li(),Cl())}}function Jt(s,a){var c=s.stateNode;if(c===null)return null;var p=qi(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ga=!1;if(u)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ga=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ga=!1}function ko(s,a,c,p,y,E,A,B,z){var te=Array.prototype.slice.call(arguments,3);try{a.apply(c,te)}catch(pe){this.onError(pe)}}var ss=!1,gi=null,fr=!1,Il=null,Dl={onError:function(s){ss=!0,gi=s}};function ya(s,a,c,p,y,E,A,B,z){ss=!1,gi=null,ko.apply(Dl,arguments)}function Mu(s,a,c,p,y,E,A,B,z){if(ya.apply(this,arguments),ss){if(ss){var te=gi;ss=!1,gi=null}else throw Error(t(198));fr||(fr=!0,Il=te)}}function Nn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Zt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kt(s){if(Nn(s)!==s)throw Error(t(188))}function On(s){var a=s.alternate;if(!a){if(a=Nn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var E=y.alternate;if(E===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===c)return Kt(y),s;if(E===p)return Kt(y),a;E=E.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=E;else{for(var A=!1,B=y.child;B;){if(B===c){A=!0,c=y,p=E;break}if(B===p){A=!0,p=y,c=E;break}B=B.sibling}if(!A){for(B=E.child;B;){if(B===c){A=!0,c=E,p=y;break}if(B===p){A=!0,p=E,c=y;break}B=B.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function fn(s){return s=On(s),s!==null?os(s):null}function os(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=os(s);if(a!==null)return a;s=s.sibling}return null}var yi=e.unstable_scheduleCallback,_i=e.unstable_cancelCallback,as=e.unstable_shouldYield,Lu=e.unstable_requestPaint,Pt=e.unstable_now,ls=e.unstable_getCurrentPriorityLevel,Ns=e.unstable_ImmediatePriority,Fi=e.unstable_UserBlockingPriority,hr=e.unstable_NormalPriority,_a=e.unstable_LowPriority,Rl=e.unstable_IdlePriority,Os=null,pr=null;function Al(s){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Os,s,void 0,(s.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Nl,va=Math.log,Pl=Math.LN2;function Nl(s){return s>>>=0,s===0?32:31-(va(s)/Pl|0)|0}var Co=64,Jn=4194304;function on(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pr(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,E=s.pingedLanes,A=c&268435455;if(A!==0){var B=A&~y;B!==0?p=on(B):(E&=A,E!==0&&(p=on(E)))}else A=c&~y,A!==0?p=on(A):E!==0&&(p=on(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Mn(a),y=1<<c,p|=s[c],a&=~y;return p}function mr(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,E=s.pendingLanes;0<E;){var A=31-Mn(E),B=1<<A,z=y[A];z===-1?(!(B&c)||B&p)&&(y[A]=mr(B,a)):z<=a&&(s.expiredLanes|=B),E&=~B}}function Zn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ln(){var s=Co;return Co<<=1,!(Co&4194240)&&(Co=64),s}function gr(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function wi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Mn(a),s[a]=c}function yt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Mn(c),E=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~E}}function Vi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Mn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var ot=0;function Nr(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var wa,xo,Yr,Fu,Ei,Ms=!1,bi=[],en=null,Or=null,er=null,us=new Map,Mr=new Map,Ti=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(s,a){switch(s){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(a.pointerId)}}function tr(s,a,c,p,y,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[y]},a!==null&&(a=$o(a),a!==null&&xo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Ol(s,a,c,p,y){switch(a){case"focusin":return en=tr(en,s,a,c,p,y),!0;case"dragenter":return Or=tr(Or,s,a,c,p,y),!0;case"mouseover":return er=tr(er,s,a,c,p,y),!0;case"pointerover":var E=y.pointerId;return us.set(E,tr(us.get(E)||null,s,a,c,p,y)),!0;case"gotpointercapture":return E=y.pointerId,Mr.set(E,tr(Mr.get(E)||null,s,a,c,p,y)),!0}return!1}function Io(s){var a=qs(s.target);if(a!==null){var c=Nn(a);if(c!==null){if(a=c.tag,a===13){if(a=Zt(c),a!==null){s.blockedOn=a,Ei(s.priority,function(){Yr(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Si(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ao(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);bo=p,c.target.dispatchEvent(p),bo=null}else return a=$o(c),a!==null&&xo(a),s.blockedOn=c,!1;a.shift()}return!0}function Do(s,a,c){Si(s)&&c.delete(a)}function Ro(){Ms=!1,en!==null&&Si(en)&&(en=null),Or!==null&&Si(Or)&&(Or=null),er!==null&&Si(er)&&(er=null),us.forEach(Do),Mr.forEach(Do)}function ki(s,a){s.blockedOn===a&&(s.blockedOn=null,Ms||(Ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ro)))}function Kr(s){function a(y){return ki(y,s)}if(0<bi.length){ki(bi[0],s);for(var c=1;c<bi.length;c++){var p=bi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(en!==null&&ki(en,s),Or!==null&&ki(Or,s),er!==null&&ki(er,s),us.forEach(a),Mr.forEach(a),c=0;c<Ti.length;c++)p=Ti[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Ti.length&&(c=Ti[0],c.blockedOn===null);)Io(c),c.blockedOn===null&&Ti.shift()}var Ci=G.ReactCurrentBatchConfig,ji=!0;function Wt(s,a,c,p){var y=ot,E=Ci.transition;Ci.transition=null;try{ot=1,cs(s,a,c,p)}finally{ot=y,Ci.transition=E}}function ju(s,a,c,p){var y=ot,E=Ci.transition;Ci.transition=null;try{ot=4,cs(s,a,c,p)}finally{ot=y,Ci.transition=E}}function cs(s,a,c,p){if(ji){var y=Ao(s,a,c,p);if(y===null)md(s,a,p,ds,c),Vu(s,p);else if(Ol(y,s,a,c,p))p.stopPropagation();else if(Vu(s,p),a&4&&-1<Ls.indexOf(s)){for(;y!==null;){var E=$o(y);if(E!==null&&wa(E),E=Ao(s,a,c,p),E===null&&md(s,a,p,ds,c),E===y)break;y=E}y!==null&&p.stopPropagation()}else md(s,a,p,null,c)}}var ds=null;function Ao(s,a,c,p){if(ds=null,s=To(p),s=qs(s),s!==null)if(a=Nn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Zt(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ds=s,null}function Ea(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ls()){case Ns:return 1;case Fi:return 4;case hr:case _a:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var En=null,ba=null,nr=null;function Ta(){if(nr)return nr;var s,a=ba,c=a.length,p,y="value"in En?En.value:En.textContent,E=y.length;for(s=0;s<c&&a[s]===y[s];s++);var A=c-s;for(p=1;p<=A&&a[c-p]===y[E-p];p++);return nr=y.slice(s,1<p?1-p:void 0)}function Po(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function xi(){return!0}function Sa(){return!1}function hn(s){function a(c,p,y,E,A){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xi:Sa,this.isPropagationStopped=Sa,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=hn(Qr),Ui=Q({},Qr,{view:0,detail:0}),Uu=hn(Ui),No,Gr,Fs,Oo=Q({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fs&&(Fs&&s.type==="mousemove"?(No=s.screenX-Fs.screenX,Gr=s.screenY-Fs.screenY):Gr=No=0,Fs=s),No)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),Vs=hn(Oo),Ca=Q({},Oo,{dataTransfer:0}),Ml=hn(Ca),Xr=Q({},Ui,{relatedTarget:0}),js=hn(Xr),Bu=Q({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bi=hn(Bu),$u=Q({},Qr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=hn($u),Hu=Q({},Qr,{data:0}),Ll=hn(Hu),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fs(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=zu[s])?!!a[s]:!1}function Vn(){return fs}var f=Q({},Ui,{key:function(s){if(s.key){var a=Mo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(s){return s.type==="keypress"?Po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=hn(f),S=Q({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=hn(S),J=Q({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),se=hn(J),ve=Q({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ct=hn(ve),pn=Q({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=hn(pn),Nt=[9,13,27,32],tn=u&&"CompositionEvent"in window,Lr=null;u&&"documentMode"in document&&(Lr=document.documentMode);var yr=u&&"TextEvent"in window&&!Lr,Lo=u&&(!tn||Lr&&8<Lr&&11>=Lr),xa=" ",od=!1;function Fl(s,a){switch(s){case"keyup":return Nt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function Hf(s,a){switch(s){case"compositionend":return Wf(a);case"keypress":return a.which!==32?null:(od=!0,xa);case"textInput":return s=a.data,s===xa&&od?null:s;default:return null}}function og(s,a){if(Ia)return s==="compositionend"||!tn&&Fl(s,a)?(s=Ta(),nr=ba=En=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Lo&&a.locale!=="ko"?null:a.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ag[s.type]:a==="textarea"}function ld(s,a,c,p){Mi(p),a=Hi(a,"onChange"),0<a.length&&(c=new ka("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Da=null,Us=null;function zf(s){jl(s,0)}function Ra(s){var a=Wo(s);if(Dr(a))return s}function Jr(s,a){if(s==="change")return a}var qf=!1;if(u){var ud;if(u){var qu="oninput"in document;if(!qu){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),qu=typeof cd.oninput=="function"}ud=qu}else ud=!1;qf=ud&&(!document.documentMode||9<document.documentMode)}function Yf(){Da&&(Da.detachEvent("onpropertychange",Kf),Us=Da=null)}function Kf(s){if(s.propertyName==="value"&&Ra(Us)){var a=[];ld(a,Us,s,To(s)),xl(zf,a)}}function lg(s,a,c){s==="focusin"?(Yf(),Da=a,Us=c,Da.attachEvent("onpropertychange",Kf)):s==="focusout"&&Yf()}function ug(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ra(Us)}function cg(s,a){if(s==="click")return Ra(a)}function dg(s,a){if(s==="input"||s==="change")return Ra(a)}function Qf(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Zr=typeof Object.is=="function"?Object.is:Qf;function Fo(s,a){if(Zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Zr(s[y],a[y]))return!1}return!0}function Gf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xf(s,a){var c=Gf(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Gf(c)}}function Bs(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bs(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $i(){for(var s=window,a=wn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=wn(s.document)}return a}function Yu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function fg(s){var a=$i(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bs(c.ownerDocument.documentElement,c)){if(p!==null&&Yu(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,E=Math.min(p.start,y);p=p.end===void 0?E:Math.min(p.end,y),!s.extend&&E>p&&(y=p,p=E,E=y),y=Xf(c,E);var A=Xf(c,p);y&&A&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),E>p?(s.addRange(a),s.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Jf=u&&"documentMode"in document&&11>=document.documentMode,Vo=null,Ku=null,Aa=null,dd=!1;function Zf(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;dd||Vo==null||Vo!==wn(p)||(p=Vo,"selectionStart"in p&&Yu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Aa&&Fo(Aa,p)||(Aa=p,p=Hi(Ku,"onSelect"),0<p.length&&(a=new ka("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Vo)))}function Qu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var jo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Gu={},eh={};u&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Xu(s){if(Gu[s])return Gu[s];if(!jo[s])return s;var a=jo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in eh)return Gu[s]=a[c];return s}var th=Xu("animationend"),nh=Xu("animationiteration"),rh=Xu("animationstart"),Wi=Xu("transitionend"),fd=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(s,a){fd.set(s,a),o(a,[s])}for(var hd=0;hd<ih.length;hd++){var pd=ih[hd],hg=pd.toLowerCase(),pg=pd[0].toUpperCase()+pd.slice(1);$s(hg,"on"+pg)}$s(th,"onAnimationEnd"),$s(nh,"onAnimationIteration"),$s(rh,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Wi,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Ju(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Mu(p,a,void 0,s),s.currentTarget=null}function jl(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var A=p.length-1;0<=A;A--){var B=p[A],z=B.instance,te=B.currentTarget;if(B=B.listener,z!==E&&y.isPropagationStopped())break e;Ju(y,B,te),E=z}else for(A=0;A<p.length;A++){if(B=p[A],z=B.instance,te=B.currentTarget,B=B.listener,z!==E&&y.isPropagationStopped())break e;Ju(y,B,te),E=z}}}if(fr)throw s=Il,fr=!1,Il=null,s}function Ht(s,a){var c=a[vd];c===void 0&&(c=a[vd]=new Set);var p=s+"__bubble";c.has(p)||(sh(a,s,2,!1),c.add(p))}function Zu(s,a,c){var p=0;a&&(p|=4),sh(c,s,p,a)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Uo(s){if(!s[Ws]){s[Ws]=!0,n.forEach(function(c){c!=="selectionchange"&&(mg.has(c)||Zu(c,!1,s),Zu(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ws]||(a[Ws]=!0,Zu("selectionchange",!1,a))}}function sh(s,a,c,p){switch(Ea(a)){case 1:var y=Wt;break;case 4:y=ju;break;default:y=cs}c=y.bind(null,a,c,s),y=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function md(s,a,c,p,y){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var B=p.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;A=A.return}for(;B!==null;){if(A=qs(B),A===null)return;if(z=A.tag,z===5||z===6){p=E=A;continue e}B=B.parentNode}}p=p.return}xl(function(){var te=E,pe=To(c),me=[];e:{var he=fd.get(s);if(he!==void 0){var Ce=ka,Le=s;switch(s){case"keypress":if(Po(c)===0)break e;case"keydown":case"keyup":Ce=w;break;case"focusin":Le="focus",Ce=js;break;case"focusout":Le="blur",Ce=js;break;case"beforeblur":case"afterblur":Ce=js;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=se;break;case th:case nh:case rh:Ce=Bi;break;case Wi:Ce=Ct;break;case"scroll":Ce=Uu;break;case"wheel":Ce=ft;break;case"copy":case"cut":case"paste":Ce=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=O}var Ve=(a&4)!==0,gn=!Ve&&s==="scroll",Z=Ve?he!==null?he+"Capture":null:he;Ve=[];for(var K=te,ee;K!==null;){ee=K;var _e=ee.stateNode;if(ee.tag===5&&_e!==null&&(ee=_e,Z!==null&&(_e=Jt(K,Z),_e!=null&&Ve.push(Ul(K,_e,ee)))),gn)break;K=K.return}0<Ve.length&&(he=new Ce(he,Le,null,c,pe),me.push({event:he,listeners:Ve}))}}if(!(a&7)){e:{if(he=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",he&&c!==bo&&(Le=c.relatedTarget||c.fromElement)&&(qs(Le)||Le[hs]))break e;if((Ce||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,Ce?(Le=c.relatedTarget||c.toElement,Ce=te,Le=Le?qs(Le):null,Le!==null&&(gn=Nn(Le),Le!==gn||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=te),Ce!==Le)){if(Ve=Vs,_e="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=O,_e="onPointerLeave",Z="onPointerEnter",K="pointer"),gn=Ce==null?he:Wo(Ce),ee=Le==null?he:Wo(Le),he=new Ve(_e,K+"leave",Ce,c,pe),he.target=gn,he.relatedTarget=ee,_e=null,qs(pe)===te&&(Ve=new Ve(Z,K+"enter",Le,c,pe),Ve.target=ee,Ve.relatedTarget=gn,_e=Ve),gn=_e,Ce&&Le)t:{for(Ve=Ce,Z=Le,K=0,ee=Ve;ee;ee=Pa(ee))K++;for(ee=0,_e=Z;_e;_e=Pa(_e))ee++;for(;0<K-ee;)Ve=Pa(Ve),K--;for(;0<ee-K;)Z=Pa(Z),ee--;for(;K--;){if(Ve===Z||Z!==null&&Ve===Z.alternate)break t;Ve=Pa(Ve),Z=Pa(Z)}Ve=null}else Ve=null;Ce!==null&&oh(me,he,Ce,Ve,!1),Le!==null&&gn!==null&&oh(me,gn,Le,Ve,!0)}}e:{if(he=te?Wo(te):window,Ce=he.nodeName&&he.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&he.type==="file")var Ue=Jr;else if(ad(he))if(qf)Ue=dg;else{Ue=ug;var qe=lg}else(Ce=he.nodeName)&&Ce.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ue=cg);if(Ue&&(Ue=Ue(s,te))){ld(me,Ue,c,pe);break e}qe&&qe(s,he,te),s==="focusout"&&(qe=he._wrapperState)&&qe.controlled&&he.type==="number"&&As(he,"number",he.value)}switch(qe=te?Wo(te):window,s){case"focusin":(ad(qe)||qe.contentEditable==="true")&&(Vo=qe,Ku=te,Aa=null);break;case"focusout":Aa=Ku=Vo=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Zf(me,c,pe);break;case"selectionchange":if(Jf)break;case"keydown":case"keyup":Zf(me,c,pe)}var Ye;if(tn)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ia?Fl(s,c)&&(Je="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(Lo&&c.locale!=="ko"&&(Ia||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ia&&(Ye=Ta()):(En=pe,ba="value"in En?En.value:En.textContent,Ia=!0)),qe=Hi(te,Je),0<qe.length&&(Je=new Ll(Je,s,null,c,pe),me.push({event:Je,listeners:qe}),Ye?Je.data=Ye:(Ye=Wf(c),Ye!==null&&(Je.data=Ye)))),(Ye=yr?Hf(s,c):og(s,c))&&(te=Hi(te,"onBeforeInput"),0<te.length&&(pe=new Ll("onBeforeInput","beforeinput",null,c,pe),me.push({event:pe,listeners:te}),pe.data=Ye))}jl(me,a)})}function Ul(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Hi(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Jt(s,c),E!=null&&p.unshift(Ul(s,E,y)),E=Jt(s,a),E!=null&&p.push(Ul(s,E,y))),s=s.return}return p}function Pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function oh(s,a,c,p,y){for(var E=a._reactName,A=[];c!==null&&c!==p;){var B=c,z=B.alternate,te=B.stateNode;if(z!==null&&z===p)break;B.tag===5&&te!==null&&(B=te,y?(z=Jt(c,E),z!=null&&A.unshift(Ul(c,z,B))):y||(z=Jt(c,E),z!=null&&A.push(Ul(c,z,B)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var ec=/\r\n?/g,gd=/\u0000|\uFFFD/g;function ah(s){return(typeof s=="string"?s:""+s).replace(ec,`
`).replace(gd,"")}function Bl(s,a,c){if(a=ah(a),ah(s)!==a&&c)throw Error(t(425))}function tc(){}var Hs=null,$l=null;function nc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,Wl=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(s){return lh.resolve(null).then(s).catch(Bo)}:yd;function Bo(s){setTimeout(function(){throw s})}function _d(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Kr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Kr(a)}function zs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function uh(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),zi="__reactFiber$"+Na,Hl="__reactProps$"+Na,hs="__reactContainer$"+Na,vd="__reactEvents$"+Na,ch="__reactListeners$"+Na,yg="__reactHandles$"+Na;function qs(s){var a=s[zi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[hs]||c[zi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=uh(s);s!==null;){if(c=s[zi])return c;s=uh(s)}return a}s=c,c=s.parentNode}return null}function $o(s){return s=s[zi]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function qi(s){return s[Hl]||null}var rc=[],Ys=-1;function ps(s){return{current:s}}function Lt(s){0>Ys||(s.current=rc[Ys],rc[Ys]=null,Ys--)}function Ft(s,a){Ys++,rc[Ys]=s.current,s.current=a}var Yi={},jn=ps(Yi),an=ps(!1),_r=Yi;function Oa(s,a){var c=s.type.contextTypes;if(!c)return Yi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in c)y[E]=a[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function vr(s){return s=s.childContextTypes,s!=null}function ic(){Lt(an),Lt(jn)}function dh(s,a,c){if(jn.current!==Yi)throw Error(t(168));Ft(jn,a),Ft(an,c)}function fh(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,st(s)||"Unknown",y));return Q({},c,p)}function sc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Yi,_r=jn.current,Ft(jn,s),Ft(an,an.current),!0}function hh(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=fh(s,a,_r),p.__reactInternalMemoizedMergedChildContext=s,Lt(an),Lt(jn),Ft(jn,s)):Lt(an),Ft(an,c)}var ms=null,zl=!1,Ma=!1;function ql(s){ms===null?ms=[s]:ms.push(s)}function _g(s){zl=!0,ql(s)}function Ks(){if(!Ma&&ms!==null){Ma=!0;var s=0,a=ot;try{var c=ms;for(ot=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}ms=null,zl=!1}catch(y){throw ms!==null&&(ms=ms.slice(s+1)),yi(Ns,Ks),y}finally{ot=a,Ma=!1}}return null}var Ki=[],I=0,m=null,b=0,P=[],q=0,X=null,ne=1,ue="";function ge(s,a){Ki[I++]=b,Ki[I++]=m,m=s,b=a}function xe(s,a,c){P[q++]=ne,P[q++]=ue,P[q++]=X,X=s;var p=ne;s=ue;var y=32-Mn(p)-1;p&=~(1<<y),c+=1;var E=32-Mn(a)+y;if(30<E){var A=y-y%5;E=(p&(1<<A)-1).toString(32),p>>=A,y-=A,ne=1<<32-Mn(a)+y|c<<y|p,ue=E+s}else ne=1<<E|c<<y|p,ue=s}function Ie(s){s.return!==null&&(ge(s,1),xe(s,1,0))}function Te(s){for(;s===m;)m=Ki[--I],Ki[I]=null,b=Ki[--I],Ki[I]=null;for(;s===X;)X=P[--q],P[q]=null,ue=P[--q],P[q]=null,ne=P[--q],P[q]=null}var We=null,Fe=null,De=!1,$e=null;function Xe(s,a){var c=Ji(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function xt(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,We=s,Fe=zs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,We=s,Fe=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=X!==null?{id:ne,overflow:ue}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ji(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,We=s,Fe=null,!0):!1;default:return!1}}function Ot(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rt(s){if(De){var a=Fe;if(a){var c=a;if(!xt(s,a)){if(Ot(s))throw Error(t(418));a=zs(c.nextSibling);var p=We;a&&xt(s,a)?Xe(p,c):(s.flags=s.flags&-4097|2,De=!1,We=s)}}else{if(Ot(s))throw Error(t(418));s.flags=s.flags&-4097|2,De=!1,We=s}}}function _t(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;We=s}function et(s){if(s!==We)return!1;if(!De)return _t(s),De=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!nc(s.type,s.memoizedProps)),a&&(a=Fe)){if(Ot(s))throw at(),Error(t(418));for(;a;)Xe(s,a),a=zs(a.nextSibling)}if(_t(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Fe=zs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Fe=null}}else Fe=We?zs(s.stateNode.nextSibling):null;return!0}function at(){for(var s=Fe;s;)s=zs(s.nextSibling)}function ht(){Fe=We=null,De=!1}function St(s){$e===null?$e=[s]:$e.push(s)}var It=G.ReactCurrentBatchConfig;function zt(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(A){var B=y.refs;A===null?delete B[E]:B[E]=A},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Un(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ei(s){var a=s._init;return a(s._payload)}function Bn(s){function a(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function c(Z,K){if(!s)return null;for(;K!==null;)a(Z,K),K=K.sibling;return null}function p(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function y(Z,K){return Z=$a(Z,K),Z.index=0,Z.sibling=null,Z}function E(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=2,K):ee):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function A(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function B(Z,K,ee,_e){return K===null||K.tag!==6?(K=Zg(ee,Z.mode,_e),K.return=Z,K):(K=y(K,ee),K.return=Z,K)}function z(Z,K,ee,_e){var Ue=ee.type;return Ue===F?pe(Z,K,ee.props.children,_e,ee.key):K!==null&&(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Ee&&ei(Ue)===K.type)?(_e=y(K,ee.props),_e.ref=zt(Z,K,ee),_e.return=Z,_e):(_e=Ph(ee.type,ee.key,ee.props,null,Z.mode,_e),_e.ref=zt(Z,K,ee),_e.return=Z,_e)}function te(Z,K,ee,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=ey(ee,Z.mode,_e),K.return=Z,K):(K=y(K,ee.children||[]),K.return=Z,K)}function pe(Z,K,ee,_e,Ue){return K===null||K.tag!==7?(K=ru(ee,Z.mode,_e,Ue),K.return=Z,K):(K=y(K,ee),K.return=Z,K)}function me(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Zg(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case re:return ee=Ph(K.type,K.key,K.props,null,Z.mode,ee),ee.ref=zt(Z,null,K),ee.return=Z,ee;case ce:return K=ey(K,Z.mode,ee),K.return=Z,K;case Ee:var _e=K._init;return me(Z,_e(K._payload),ee)}if(di(K)||be(K))return K=ru(K,Z.mode,ee,null),K.return=Z,K;Un(Z,K)}return null}function he(Z,K,ee,_e){var Ue=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ue!==null?null:B(Z,K,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case re:return ee.key===Ue?z(Z,K,ee,_e):null;case ce:return ee.key===Ue?te(Z,K,ee,_e):null;case Ee:return Ue=ee._init,he(Z,K,Ue(ee._payload),_e)}if(di(ee)||be(ee))return Ue!==null?null:pe(Z,K,ee,_e,null);Un(Z,ee)}return null}function Ce(Z,K,ee,_e,Ue){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Z=Z.get(ee)||null,B(K,Z,""+_e,Ue);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case re:return Z=Z.get(_e.key===null?ee:_e.key)||null,z(K,Z,_e,Ue);case ce:return Z=Z.get(_e.key===null?ee:_e.key)||null,te(K,Z,_e,Ue);case Ee:var qe=_e._init;return Ce(Z,K,ee,qe(_e._payload),Ue)}if(di(_e)||be(_e))return Z=Z.get(ee)||null,pe(K,Z,_e,Ue,null);Un(K,_e)}return null}function Le(Z,K,ee,_e){for(var Ue=null,qe=null,Ye=K,Je=K=0,zn=null;Ye!==null&&Je<ee.length;Je++){Ye.index>Je?(zn=Ye,Ye=null):zn=Ye.sibling;var kt=he(Z,Ye,ee[Je],_e);if(kt===null){Ye===null&&(Ye=zn);break}s&&Ye&&kt.alternate===null&&a(Z,Ye),K=E(kt,K,Je),qe===null?Ue=kt:qe.sibling=kt,qe=kt,Ye=zn}if(Je===ee.length)return c(Z,Ye),De&&ge(Z,Je),Ue;if(Ye===null){for(;Je<ee.length;Je++)Ye=me(Z,ee[Je],_e),Ye!==null&&(K=E(Ye,K,Je),qe===null?Ue=Ye:qe.sibling=Ye,qe=Ye);return De&&ge(Z,Je),Ue}for(Ye=p(Z,Ye);Je<ee.length;Je++)zn=Ce(Ye,Z,Je,ee[Je],_e),zn!==null&&(s&&zn.alternate!==null&&Ye.delete(zn.key===null?Je:zn.key),K=E(zn,K,Je),qe===null?Ue=zn:qe.sibling=zn,qe=zn);return s&&Ye.forEach(function(Wa){return a(Z,Wa)}),De&&ge(Z,Je),Ue}function Ve(Z,K,ee,_e){var Ue=be(ee);if(typeof Ue!="function")throw Error(t(150));if(ee=Ue.call(ee),ee==null)throw Error(t(151));for(var qe=Ue=null,Ye=K,Je=K=0,zn=null,kt=ee.next();Ye!==null&&!kt.done;Je++,kt=ee.next()){Ye.index>Je?(zn=Ye,Ye=null):zn=Ye.sibling;var Wa=he(Z,Ye,kt.value,_e);if(Wa===null){Ye===null&&(Ye=zn);break}s&&Ye&&Wa.alternate===null&&a(Z,Ye),K=E(Wa,K,Je),qe===null?Ue=Wa:qe.sibling=Wa,qe=Wa,Ye=zn}if(kt.done)return c(Z,Ye),De&&ge(Z,Je),Ue;if(Ye===null){for(;!kt.done;Je++,kt=ee.next())kt=me(Z,kt.value,_e),kt!==null&&(K=E(kt,K,Je),qe===null?Ue=kt:qe.sibling=kt,qe=kt);return De&&ge(Z,Je),Ue}for(Ye=p(Z,Ye);!kt.done;Je++,kt=ee.next())kt=Ce(Ye,Z,Je,kt.value,_e),kt!==null&&(s&&kt.alternate!==null&&Ye.delete(kt.key===null?Je:kt.key),K=E(kt,K,Je),qe===null?Ue=kt:qe.sibling=kt,qe=kt);return s&&Ye.forEach(function(OI){return a(Z,OI)}),De&&ge(Z,Je),Ue}function gn(Z,K,ee,_e){if(typeof ee=="object"&&ee!==null&&ee.type===F&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case re:e:{for(var Ue=ee.key,qe=K;qe!==null;){if(qe.key===Ue){if(Ue=ee.type,Ue===F){if(qe.tag===7){c(Z,qe.sibling),K=y(qe,ee.props.children),K.return=Z,Z=K;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Ee&&ei(Ue)===qe.type){c(Z,qe.sibling),K=y(qe,ee.props),K.ref=zt(Z,qe,ee),K.return=Z,Z=K;break e}c(Z,qe);break}else a(Z,qe);qe=qe.sibling}ee.type===F?(K=ru(ee.props.children,Z.mode,_e,ee.key),K.return=Z,Z=K):(_e=Ph(ee.type,ee.key,ee.props,null,Z.mode,_e),_e.ref=zt(Z,K,ee),_e.return=Z,Z=_e)}return A(Z);case ce:e:{for(qe=ee.key;K!==null;){if(K.key===qe)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){c(Z,K.sibling),K=y(K,ee.children||[]),K.return=Z,Z=K;break e}else{c(Z,K);break}else a(Z,K);K=K.sibling}K=ey(ee,Z.mode,_e),K.return=Z,Z=K}return A(Z);case Ee:return qe=ee._init,gn(Z,K,qe(ee._payload),_e)}if(di(ee))return Le(Z,K,ee,_e);if(be(ee))return Ve(Z,K,ee,_e);Un(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(c(Z,K.sibling),K=y(K,ee),K.return=Z,Z=K):(c(Z,K),K=Zg(ee,Z.mode,_e),K.return=Z,Z=K),A(Z)):c(Z,K)}return gn}var xn=Bn(!0),Fr=Bn(!1),qt=ps(null),Vr=null,rr=null,Qs=null;function ln(){Qs=rr=Vr=null}function Dt(s){var a=qt.current;Lt(qt),s._currentValue=a}function In(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Dn(s,a){Vr=s,Qs=rr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(ni=!0),s.firstContext=null)}function mn(s){var a=s._currentValue;if(Qs!==s)if(s={context:s,memoizedValue:a,next:null},rr===null){if(Vr===null)throw Error(t(308));rr=s,Vr.dependencies={lanes:0,firstContext:s}}else rr=rr.next=s;return a}var Qi=null;function oc(s){Qi===null?Qi=[s]:Qi.push(s)}function wd(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,oc(a)):(c.next=y.next,y.next=c),a.interleaved=c,ti(s,p)}function ti(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gs=!1;function Ed(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Et&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,ti(s,c)}return y=p.interleaved,y===null?(a.next=a,oc(p)):(a.next=y.next,y.next=a),p.interleaved=a,ti(s,c)}function lc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Vi(s,c)}}function bd(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?y=E=A:E=E.next=A,c=c.next}while(c!==null);E===null?y=E=a:E=E.next=a}else y=E=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Yl(s,a,c,p){var y=s.updateQueue;Gs=!1;var E=y.firstBaseUpdate,A=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var z=B,te=z.next;z.next=null,A===null?E=te:A.next=te,A=z;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==A&&(B===null?pe.firstBaseUpdate=te:B.next=te,pe.lastBaseUpdate=z))}if(E!==null){var me=y.baseState;A=0,pe=te=z=null,B=E;do{var he=B.lane,Ce=B.eventTime;if((p&he)===he){pe!==null&&(pe=pe.next={eventTime:Ce,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Le=s,Ve=B;switch(he=a,Ce=c,Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){me=Le.call(Ce,me,he);break e}me=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,he=typeof Le=="function"?Le.call(Ce,me,he):Le,he==null)break e;me=Q({},me,he);break e;case 2:Gs=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,he=y.effects,he===null?y.effects=[B]:he.push(B))}else Ce={eventTime:Ce,lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(te=pe=Ce,z=me):pe=pe.next=Ce,A|=he;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;he=B,B=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);if(pe===null&&(z=me),y.baseState=z,y.firstBaseUpdate=te,y.lastBaseUpdate=pe,a=y.shared.interleaved,a!==null){y=a;do A|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);Zl|=A,s.lanes=A,s.memoizedState=me}}function ph(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Kl={},$n=ps(Kl),Xs=ps(Kl),La=ps(Kl);function Js(s){if(s===Kl)throw Error(t(174));return s}function Ql(s,a){switch(Ft(La,a),Ft(Xs,s),Ft($n,Kl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Tt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Tt(a,s)}Lt($n),Ft($n,a)}function Ho(){Lt($n),Lt(Xs),Lt(La)}function Td(s){Js(La.current);var a=Js($n.current),c=Tt(a,s.type);a!==c&&(Ft(Xs,s),Ft($n,c))}function uc(s){Xs.current===s&&(Lt($n),Lt(Xs))}var Yt=ps(0);function cc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Sd=[];function Gl(){for(var s=0;s<Sd.length;s++)Sd[s]._workInProgressVersionPrimary=null;Sd.length=0}var Xl=G.ReactCurrentDispatcher,vg=G.ReactCurrentBatchConfig,Jl=0,nn=null,Rn=null,Wn=null,mh=!1,kd=!1,Cd=0,rI=0;function wr(){throw Error(t(321))}function wg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Zr(s[c],a[c]))return!1;return!0}function Eg(s,a,c,p,y,E){if(Jl=E,nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xl.current=s===null||s.memoizedState===null?aI:lI,s=c(p,y),kd){E=0;do{if(kd=!1,Cd=0,25<=E)throw Error(t(301));E+=1,Wn=Rn=null,a.updateQueue=null,Xl.current=uI,s=c(p,y)}while(kd)}if(Xl.current=_h,a=Rn!==null&&Rn.next!==null,Jl=0,Wn=Rn=nn=null,mh=!1,a)throw Error(t(300));return s}function bg(){var s=Cd!==0;return Cd=0,s}function Zs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=s:Wn=Wn.next=s,Wn}function Gi(){if(Rn===null){var s=nn.alternate;s=s!==null?s.memoizedState:null}else s=Rn.next;var a=Wn===null?nn.memoizedState:Wn.next;if(a!==null)Wn=a,Rn=s;else{if(s===null)throw Error(t(310));Rn=s,s={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Wn===null?nn.memoizedState=Wn=s:Wn=Wn.next=s}return Wn}function xd(s,a){return typeof a=="function"?a(s):a}function Tg(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Rn,y=p.baseQueue,E=c.pending;if(E!==null){if(y!==null){var A=y.next;y.next=E.next,E.next=A}p.baseQueue=y=E,c.pending=null}if(y!==null){E=y.next,p=p.baseState;var B=A=null,z=null,te=E;do{var pe=te.lane;if((Jl&pe)===pe)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),p=te.hasEagerState?te.eagerState:s(p,te.action);else{var me={lane:pe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(B=z=me,A=p):z=z.next=me,nn.lanes|=pe,Zl|=pe}te=te.next}while(te!==null&&te!==E);z===null?A=p:z.next=B,Zr(p,a.memoizedState)||(ni=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do E=y.lane,nn.lanes|=E,Zl|=E,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Sg(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,E=a.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do E=s(E,A.action),A=A.next;while(A!==y);Zr(E,a.memoizedState)||(ni=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function gw(){}function yw(s,a){var c=nn,p=Gi(),y=a(),E=!Zr(p.memoizedState,y);if(E&&(p.memoizedState=y,ni=!0),p=p.queue,kg(ww.bind(null,c,p,s),[s]),p.getSnapshot!==a||E||Wn!==null&&Wn.memoizedState.tag&1){if(c.flags|=2048,Id(9,vw.bind(null,c,p,y,a),void 0,null),Hn===null)throw Error(t(349));Jl&30||_w(c,a,y)}return y}function _w(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function vw(s,a,c,p){a.value=c,a.getSnapshot=p,Ew(a)&&bw(s)}function ww(s,a,c){return c(function(){Ew(a)&&bw(s)})}function Ew(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Zr(s,c)}catch{return!0}}function bw(s){var a=ti(s,1);a!==null&&Es(a,s,1,-1)}function Tw(s){var a=Zs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:s},a.queue=s,s=s.dispatch=oI.bind(null,nn,s),[a.memoizedState,s]}function Id(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function Sw(){return Gi().memoizedState}function gh(s,a,c,p){var y=Zs();nn.flags|=s,y.memoizedState=Id(1|a,c,void 0,p===void 0?null:p)}function yh(s,a,c,p){var y=Gi();p=p===void 0?null:p;var E=void 0;if(Rn!==null){var A=Rn.memoizedState;if(E=A.destroy,p!==null&&wg(p,A.deps)){y.memoizedState=Id(a,c,E,p);return}}nn.flags|=s,y.memoizedState=Id(1|a,c,E,p)}function kw(s,a){return gh(8390656,8,s,a)}function kg(s,a){return yh(2048,8,s,a)}function Cw(s,a){return yh(4,2,s,a)}function xw(s,a){return yh(4,4,s,a)}function Iw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Dw(s,a,c){return c=c!=null?c.concat([s]):null,yh(4,4,Iw.bind(null,a,s),c)}function Cg(){}function Rw(s,a){var c=Gi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wg(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function Aw(s,a){var c=Gi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wg(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function Pw(s,a,c){return Jl&21?(Zr(c,a)||(c=Ln(),nn.lanes|=c,Zl|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,ni=!0),s.memoizedState=c)}function iI(s,a){var c=ot;ot=c!==0&&4>c?c:4,s(!0);var p=vg.transition;vg.transition={};try{s(!1),a()}finally{ot=c,vg.transition=p}}function Nw(){return Gi().memoizedState}function sI(s,a,c){var p=Ua(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Ow(s))Mw(a,c);else if(c=wd(s,a,c,p),c!==null){var y=Ur();Es(c,s,p,y),Lw(c,a,p)}}function oI(s,a,c){var p=Ua(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ow(s))Mw(a,y);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var A=a.lastRenderedState,B=E(A,c);if(y.hasEagerState=!0,y.eagerState=B,Zr(B,A)){var z=a.interleaved;z===null?(y.next=y,oc(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=wd(s,a,y,p),c!==null&&(y=Ur(),Es(c,s,p,y),Lw(c,a,p))}}function Ow(s){var a=s.alternate;return s===nn||a!==null&&a===nn}function Mw(s,a){kd=mh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Lw(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Vi(s,c)}}var _h={readContext:mn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},aI={readContext:mn,useCallback:function(s,a){return Zs().memoizedState=[s,a===void 0?null:a],s},useContext:mn,useEffect:kw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,gh(4194308,4,Iw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return gh(4194308,4,s,a)},useInsertionEffect:function(s,a){return gh(4,2,s,a)},useMemo:function(s,a){var c=Zs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Zs();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=sI.bind(null,nn,s),[p.memoizedState,s]},useRef:function(s){var a=Zs();return s={current:s},a.memoizedState=s},useState:Tw,useDebugValue:Cg,useDeferredValue:function(s){return Zs().memoizedState=s},useTransition:function(){var s=Tw(!1),a=s[0];return s=iI.bind(null,s[1]),Zs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=nn,y=Zs();if(De){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Hn===null)throw Error(t(349));Jl&30||_w(p,a,c)}y.memoizedState=c;var E={value:c,getSnapshot:a};return y.queue=E,kw(ww.bind(null,p,E,s),[s]),p.flags|=2048,Id(9,vw.bind(null,p,E,c,a),void 0,null),c},useId:function(){var s=Zs(),a=Hn.identifierPrefix;if(De){var c=ue,p=ne;c=(p&~(1<<32-Mn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Cd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=rI++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},lI={readContext:mn,useCallback:Rw,useContext:mn,useEffect:kg,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:xw,useMemo:Aw,useReducer:Tg,useRef:Sw,useState:function(){return Tg(xd)},useDebugValue:Cg,useDeferredValue:function(s){var a=Gi();return Pw(a,Rn.memoizedState,s)},useTransition:function(){var s=Tg(xd)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Nw,unstable_isNewReconciler:!1},uI={readContext:mn,useCallback:Rw,useContext:mn,useEffect:kg,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:xw,useMemo:Aw,useReducer:Sg,useRef:Sw,useState:function(){return Sg(xd)},useDebugValue:Cg,useDeferredValue:function(s){var a=Gi();return Rn===null?a.memoizedState=s:Pw(a,Rn.memoizedState,s)},useTransition:function(){var s=Sg(xd)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Nw,unstable_isNewReconciler:!1};function _s(s,a){if(s&&s.defaultProps){a=Q({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function xg(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:Q({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vh={isMounted:function(s){return(s=s._reactInternals)?Nn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Ur(),y=Ua(s),E=gs(p,y);E.payload=a,c!=null&&(E.callback=c),a=ys(s,E,y),a!==null&&(Es(a,s,y,p),lc(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Ur(),y=Ua(s),E=gs(p,y);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=ys(s,E,y),a!==null&&(Es(a,s,y,p),lc(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ur(),p=Ua(s),y=gs(c,p);y.tag=2,a!=null&&(y.callback=a),a=ys(s,y,p),a!==null&&(Es(a,s,p,c),lc(a,s,p))}};function Fw(s,a,c,p,y,E,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,A):a.prototype&&a.prototype.isPureReactComponent?!Fo(c,p)||!Fo(y,E):!0}function Vw(s,a,c){var p=!1,y=Yi,E=a.contextType;return typeof E=="object"&&E!==null?E=mn(E):(y=vr(a)?_r:jn.current,p=a.contextTypes,E=(p=p!=null)?Oa(s,y):Yi),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=E),a}function jw(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&vh.enqueueReplaceState(a,a.state,null)}function Ig(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Ed(s);var E=a.contextType;typeof E=="object"&&E!==null?y.context=mn(E):(E=vr(a)?_r:jn.current,y.context=Oa(s,E)),y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(xg(s,a,E,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&vh.enqueueReplaceState(y,y.state,null),Yl(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function dc(s,a){try{var c="",p=a;do c+=Ke(p),p=p.return;while(p);var y=c}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:y,digest:null}}function Dg(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Rg(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var cI=typeof WeakMap=="function"?WeakMap:Map;function Uw(s,a,c){c=gs(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Ch||(Ch=!0,zg=p),Rg(s,a)},c}function Bw(s,a,c){c=gs(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Rg(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Rg(s,a),typeof p!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function $w(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new cI;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=SI.bind(null,s,a,c),a.then(s,s))}function Ww(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Hw(s,a,c,p,y){return s.mode&1?(s.flags|=65536,s.lanes=y,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=gs(-1,1),a.tag=2,ys(c,a,1))),c.lanes|=1),s)}var dI=G.ReactCurrentOwner,ni=!1;function jr(s,a,c,p){a.child=s===null?Fr(a,null,c,p):xn(a,s.child,c,p)}function zw(s,a,c,p,y){c=c.render;var E=a.ref;return Dn(a,y),p=Eg(s,a,c,p,E,y),c=bg(),s!==null&&!ni?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,zo(s,a,y)):(De&&c&&Ie(a),a.flags|=1,jr(s,a,p,y),a.child)}function qw(s,a,c,p,y){if(s===null){var E=c.type;return typeof E=="function"&&!Jg(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,Yw(s,a,E,p,y)):(s=Ph(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&y)){var A=E.memoizedProps;if(c=c.compare,c=c!==null?c:Fo,c(A,p)&&s.ref===a.ref)return zo(s,a,y)}return a.flags|=1,s=$a(E,p),s.ref=a.ref,s.return=a,a.child=s}function Yw(s,a,c,p,y){if(s!==null){var E=s.memoizedProps;if(Fo(E,p)&&s.ref===a.ref)if(ni=!1,a.pendingProps=p=E,(s.lanes&y)!==0)s.flags&131072&&(ni=!0);else return a.lanes=s.lanes,zo(s,a,y)}return Ag(s,a,c,p,y)}function Kw(s,a,c){var p=a.pendingProps,y=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(hc,Ii),Ii|=c;else{if(!(c&1073741824))return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ft(hc,Ii),Ii|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,Ft(hc,Ii),Ii|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,Ft(hc,Ii),Ii|=p;return jr(s,a,y,c),a.child}function Qw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ag(s,a,c,p,y){var E=vr(c)?_r:jn.current;return E=Oa(a,E),Dn(a,y),c=Eg(s,a,c,p,E,y),p=bg(),s!==null&&!ni?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,zo(s,a,y)):(De&&p&&Ie(a),a.flags|=1,jr(s,a,c,y),a.child)}function Gw(s,a,c,p,y){if(vr(c)){var E=!0;sc(a)}else E=!1;if(Dn(a,y),a.stateNode===null)Eh(s,a),Vw(a,c,p),Ig(a,c,p,y),p=!0;else if(s===null){var A=a.stateNode,B=a.memoizedProps;A.props=B;var z=A.context,te=c.contextType;typeof te=="object"&&te!==null?te=mn(te):(te=vr(c)?_r:jn.current,te=Oa(a,te));var pe=c.getDerivedStateFromProps,me=typeof pe=="function"||typeof A.getSnapshotBeforeUpdate=="function";me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==p||z!==te)&&jw(a,A,p,te),Gs=!1;var he=a.memoizedState;A.state=he,Yl(a,p,A,y),z=a.memoizedState,B!==p||he!==z||an.current||Gs?(typeof pe=="function"&&(xg(a,c,pe,p),z=a.memoizedState),(B=Gs||Fw(a,c,B,p,he,z,te))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),A.props=p,A.state=z,A.context=te,p=B):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,ac(s,a),B=a.memoizedProps,te=a.type===a.elementType?B:_s(a.type,B),A.props=te,me=a.pendingProps,he=A.context,z=c.contextType,typeof z=="object"&&z!==null?z=mn(z):(z=vr(c)?_r:jn.current,z=Oa(a,z));var Ce=c.getDerivedStateFromProps;(pe=typeof Ce=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==me||he!==z)&&jw(a,A,p,z),Gs=!1,he=a.memoizedState,A.state=he,Yl(a,p,A,y);var Le=a.memoizedState;B!==me||he!==Le||an.current||Gs?(typeof Ce=="function"&&(xg(a,c,Ce,p),Le=a.memoizedState),(te=Gs||Fw(a,c,te,p,he,Le,z)||!1)?(pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Le,z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Le,z)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Le),A.props=p,A.state=Le,A.context=z,p=te):(typeof A.componentDidUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),p=!1)}return Pg(s,a,c,p,E,y)}function Pg(s,a,c,p,y,E){Qw(s,a);var A=(a.flags&128)!==0;if(!p&&!A)return y&&hh(a,c,!1),zo(s,a,E);p=a.stateNode,dI.current=a;var B=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&A?(a.child=xn(a,s.child,null,E),a.child=xn(a,null,B,E)):jr(s,a,B,E),a.memoizedState=p.state,y&&hh(a,c,!0),a.child}function Xw(s){var a=s.stateNode;a.pendingContext?dh(s,a.pendingContext,a.pendingContext!==a.context):a.context&&dh(s,a.context,!1),Ql(s,a.containerInfo)}function Jw(s,a,c,p,y){return ht(),St(y),a.flags|=256,jr(s,a,c,p),a.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Og(s){return{baseLanes:s,cachePool:null,transitions:null}}function Zw(s,a,c){var p=a.pendingProps,y=Yt.current,E=!1,A=(a.flags&128)!==0,B;if((B=A)||(B=s!==null&&s.memoizedState===null?!1:(y&2)!==0),B?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Ft(Yt,y&1),s===null)return rt(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(A=p.children,s=p.fallback,E?(p=a.mode,E=a.child,A={mode:"hidden",children:A},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Nh(A,p,0,null),s=ru(s,p,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Og(c),a.memoizedState=Ng,s):Mg(a,A));if(y=s.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return fI(s,a,A,p,B,y,c);if(E){E=p.fallback,A=a.mode,y=s.child,B=y.sibling;var z={mode:"hidden",children:p.children};return!(A&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=$a(y,z),p.subtreeFlags=y.subtreeFlags&14680064),B!==null?E=$a(B,E):(E=ru(E,A,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,A=s.child.memoizedState,A=A===null?Og(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=s.childLanes&~c,a.memoizedState=Ng,p}return E=s.child,s=E.sibling,p=$a(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Mg(s,a){return a=Nh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function wh(s,a,c,p){return p!==null&&St(p),xn(a,s.child,null,c),s=Mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function fI(s,a,c,p,y,E,A){if(c)return a.flags&256?(a.flags&=-257,p=Dg(Error(t(422))),wh(s,a,A,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=p.fallback,y=a.mode,p=Nh({mode:"visible",children:p.children},y,0,null),E=ru(E,y,A,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&xn(a,s.child,null,A),a.child.memoizedState=Og(A),a.memoizedState=Ng,E);if(!(a.mode&1))return wh(s,a,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var B=p.dgst;return p=B,E=Error(t(419)),p=Dg(E,p,void 0),wh(s,a,A,p)}if(B=(A&s.childLanes)!==0,ni||B){if(p=Hn,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|A)?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,ti(s,y),Es(p,s,y,-1))}return Xg(),p=Dg(Error(t(421))),wh(s,a,A,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=kI.bind(null,s),y._reactRetry=a,null):(s=E.treeContext,Fe=zs(y.nextSibling),We=a,De=!0,$e=null,s!==null&&(P[q++]=ne,P[q++]=ue,P[q++]=X,ne=s.id,ue=s.overflow,X=a),a=Mg(a,p.children),a.flags|=4096,a)}function eE(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),In(s.return,a,c)}function Lg(s,a,c,p,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=y)}function tE(s,a,c){var p=a.pendingProps,y=p.revealOrder,E=p.tail;if(jr(s,a,p.children,c),p=Yt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eE(s,c,a);else if(s.tag===19)eE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ft(Yt,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&cc(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Lg(a,!1,y,c,E);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&cc(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Lg(a,!0,c,null,E);break;case"together":Lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Eh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function zo(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Zl|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=$a(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=$a(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function hI(s,a,c){switch(a.tag){case 3:Xw(a),ht();break;case 5:Td(a);break;case 1:vr(a.type)&&sc(a);break;case 4:Ql(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;Ft(qt,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Ft(Yt,Yt.current&1),a.flags|=128,null):c&a.child.childLanes?Zw(s,a,c):(Ft(Yt,Yt.current&1),s=zo(s,a,c),s!==null?s.sibling:null);Ft(Yt,Yt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return tE(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ft(Yt,Yt.current),p)break;return null;case 22:case 23:return a.lanes=0,Kw(s,a,c)}return zo(s,a,c)}var nE,Fg,rE,iE;nE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fg=function(){},rE=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,Js($n.current);var E=null;switch(c){case"input":y=Gn(s,y),p=Gn(s,p),E=[];break;case"select":y=Q({},y,{value:void 0}),p=Q({},p,{value:void 0}),E=[];break;case"textarea":y=wo(s,y),p=wo(s,p),E=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=tc)}Sl(c,p);var A;c=null;for(te in y)if(!p.hasOwnProperty(te)&&y.hasOwnProperty(te)&&y[te]!=null)if(te==="style"){var B=y[te];for(A in B)B.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?E||(E=[]):(E=E||[]).push(te,null));for(te in p){var z=p[te];if(B=y!=null?y[te]:void 0,p.hasOwnProperty(te)&&z!==B&&(z!=null||B!=null))if(te==="style")if(B){for(A in B)!B.hasOwnProperty(A)||z&&z.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in z)z.hasOwnProperty(A)&&B[A]!==z[A]&&(c||(c={}),c[A]=z[A])}else c||(E||(E=[]),E.push(te,c)),c=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,B=B?B.__html:void 0,z!=null&&B!==z&&(E=E||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(E=E||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&Ht("scroll",s),E||B===z||(E=[])):(E=E||[]).push(te,z))}c&&(E=E||[]).push("style",c);var te=E;(a.updateQueue=te)&&(a.flags|=4)}},iE=function(s,a,c,p){c!==p&&(a.flags|=4)};function Dd(s,a){if(!De)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Er(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function pI(s,a,c){var p=a.pendingProps;switch(Te(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(a),null;case 1:return vr(a.type)&&ic(),Er(a),null;case 3:return p=a.stateNode,Ho(),Lt(an),Lt(jn),Gl(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(et(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,$e!==null&&(Kg($e),$e=null))),Fg(s,a),Er(a),null;case 5:uc(a);var y=Js(La.current);if(c=a.type,s!==null&&a.stateNode!=null)rE(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Er(a),null}if(s=Js($n.current),et(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[zi]=a,p[Hl]=E,s=(a.mode&1)!==0,c){case"dialog":Ht("cancel",p),Ht("close",p);break;case"iframe":case"object":case"embed":Ht("load",p);break;case"video":case"audio":for(y=0;y<Vl.length;y++)Ht(Vl[y],p);break;case"source":Ht("error",p);break;case"img":case"image":case"link":Ht("error",p),Ht("load",p);break;case"details":Ht("toggle",p);break;case"input":dt(p,E),Ht("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",p);break;case"textarea":Ps(p,E),Ht("invalid",p)}Sl(c,E),y=null;for(var A in E)if(E.hasOwnProperty(A)){var B=E[A];A==="children"?typeof B=="string"?p.textContent!==B&&(E.suppressHydrationWarning!==!0&&Bl(p.textContent,B,s),y=["children",B]):typeof B=="number"&&p.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&Bl(p.textContent,B,s),y=["children",""+B]):i.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&Ht("scroll",p)}switch(c){case"input":cr(p),pa(p,E,!0);break;case"textarea":cr(p),dr(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=tc)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ze(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=A.createElement(c,{is:p.is}):(s=A.createElement(c),c==="select"&&(A=s,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):s=A.createElementNS(s,c),s[zi]=a,s[Hl]=p,nE(s,a,!1,!1),a.stateNode=s;e:{switch(A=kl(c,p),c){case"dialog":Ht("cancel",s),Ht("close",s),y=p;break;case"iframe":case"object":case"embed":Ht("load",s),y=p;break;case"video":case"audio":for(y=0;y<Vl.length;y++)Ht(Vl[y],s);y=p;break;case"source":Ht("error",s),y=p;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),y=p;break;case"details":Ht("toggle",s),y=p;break;case"input":dt(s,p),y=Gn(s,p),Ht("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=Q({},p,{value:void 0}),Ht("invalid",s);break;case"textarea":Ps(s,p),y=wo(s,p),Ht("invalid",s);break;default:y=p}Sl(c,y),B=y;for(E in B)if(B.hasOwnProperty(E)){var z=B[E];E==="style"?bl(s,z):E==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Oi(s,z)):E==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&hi(s,z):typeof z=="number"&&hi(s,""+z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?z!=null&&E==="onScroll"&&Ht("scroll",s):z!=null&&W(s,E,z,A))}switch(c){case"input":cr(s),pa(s,p,!1);break;case"textarea":cr(s),dr(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ye(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?fi(s,!!p.multiple,E,!1):p.defaultValue!=null&&fi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=tc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Er(a),null;case 6:if(s&&a.stateNode!=null)iE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Js(La.current),Js($n.current),et(a)){if(p=a.stateNode,c=a.memoizedProps,p[zi]=a,(E=p.nodeValue!==c)&&(s=We,s!==null))switch(s.tag){case 3:Bl(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bl(p.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[zi]=a,a.stateNode=p}return Er(a),null;case 13:if(Lt(Yt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(De&&Fe!==null&&a.mode&1&&!(a.flags&128))at(),ht(),a.flags|=98560,E=!1;else if(E=et(a),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[zi]=a}else ht(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Er(a),E=!1}else $e!==null&&(Kg($e),$e=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||Yt.current&1?An===0&&(An=3):Xg())),a.updateQueue!==null&&(a.flags|=4),Er(a),null);case 4:return Ho(),Fg(s,a),s===null&&Uo(a.stateNode.containerInfo),Er(a),null;case 10:return Dt(a.type._context),Er(a),null;case 17:return vr(a.type)&&ic(),Er(a),null;case 19:if(Lt(Yt),E=a.memoizedState,E===null)return Er(a),null;if(p=(a.flags&128)!==0,A=E.rendering,A===null)if(p)Dd(E,!1);else{if(An!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(A=cc(s),A!==null){for(a.flags|=128,Dd(E,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,s=p,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,s=A.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ft(Yt,Yt.current&1|2),a.child}s=s.sibling}E.tail!==null&&Pt()>pc&&(a.flags|=128,p=!0,Dd(E,!1),a.lanes=4194304)}else{if(!p)if(s=cc(A),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Dd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!De)return Er(a),null}else 2*Pt()-E.renderingStartTime>pc&&c!==1073741824&&(a.flags|=128,p=!0,Dd(E,!1),a.lanes=4194304);E.isBackwards?(A.sibling=a.child,a.child=A):(c=E.last,c!==null?c.sibling=A:a.child=A,E.last=A)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Pt(),a.sibling=null,c=Yt.current,Ft(Yt,p?c&1|2:c&1),a):(Er(a),null);case 22:case 23:return Gg(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Ii&1073741824&&(Er(a),a.subtreeFlags&6&&(a.flags|=8192)):Er(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function mI(s,a){switch(Te(a),a.tag){case 1:return vr(a.type)&&ic(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ho(),Lt(an),Lt(jn),Gl(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return uc(a),null;case 13:if(Lt(Yt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ht()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Lt(Yt),null;case 4:return Ho(),null;case 10:return Dt(a.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var bh=!1,br=!1,gI=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function fc(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){un(s,a,p)}else c.current=null}function Vg(s,a,c){try{c()}catch(p){un(s,a,p)}}var sE=!1;function yI(s,a){if(Hs=ji,s=$i(),Yu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var A=0,B=-1,z=-1,te=0,pe=0,me=s,he=null;t:for(;;){for(var Ce;me!==c||y!==0&&me.nodeType!==3||(B=A+y),me!==E||p!==0&&me.nodeType!==3||(z=A+p),me.nodeType===3&&(A+=me.nodeValue.length),(Ce=me.firstChild)!==null;)he=me,me=Ce;for(;;){if(me===s)break t;if(he===c&&++te===y&&(B=A),he===E&&++pe===p&&(z=A),(Ce=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=Ce}c=B===-1||z===-1?null:{start:B,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for($l={focusedElem:s,selectionRange:c},ji=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Le=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ve=Le.memoizedProps,gn=Le.memoizedState,Z=a.stateNode,K=Z.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:_s(a.type,Ve),gn);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){un(a,a.return,_e)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Le=sE,sE=!1,Le}function Rd(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var E=y.destroy;y.destroy=void 0,E!==void 0&&Vg(a,c,E)}y=y.next}while(y!==p)}}function Th(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function jg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function oE(s){var a=s.alternate;a!==null&&(s.alternate=null,oE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zi],delete a[Hl],delete a[vd],delete a[ch],delete a[yg])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function aE(s){return s.tag===5||s.tag===3||s.tag===4}function lE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||aE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ug(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=tc));else if(p!==4&&(s=s.child,s!==null))for(Ug(s,a,c),s=s.sibling;s!==null;)Ug(s,a,c),s=s.sibling}function Bg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Bg(s,a,c),s=s.sibling;s!==null;)Bg(s,a,c),s=s.sibling}var ir=null,vs=!1;function Fa(s,a,c){for(c=c.child;c!==null;)uE(s,a,c),c=c.sibling}function uE(s,a,c){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Os,c)}catch{}switch(c.tag){case 5:br||fc(c,a);case 6:var p=ir,y=vs;ir=null,Fa(s,a,c),ir=p,vs=y,ir!==null&&(vs?(s=ir,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ir.removeChild(c.stateNode));break;case 18:ir!==null&&(vs?(s=ir,c=c.stateNode,s.nodeType===8?_d(s.parentNode,c):s.nodeType===1&&_d(s,c),Kr(s)):_d(ir,c.stateNode));break;case 4:p=ir,y=vs,ir=c.stateNode.containerInfo,vs=!0,Fa(s,a,c),ir=p,vs=y;break;case 0:case 11:case 14:case 15:if(!br&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var E=y,A=E.destroy;E=E.tag,A!==void 0&&(E&2||E&4)&&Vg(c,a,A),y=y.next}while(y!==p)}Fa(s,a,c);break;case 1:if(!br&&(fc(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(B){un(c,a,B)}Fa(s,a,c);break;case 21:Fa(s,a,c);break;case 22:c.mode&1?(br=(p=br)||c.memoizedState!==null,Fa(s,a,c),br=p):Fa(s,a,c);break;default:Fa(s,a,c)}}function cE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new gI),a.forEach(function(p){var y=CI.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ws(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var E=s,A=a,B=A;e:for(;B!==null;){switch(B.tag){case 5:ir=B.stateNode,vs=!1;break e;case 3:ir=B.stateNode.containerInfo,vs=!0;break e;case 4:ir=B.stateNode.containerInfo,vs=!0;break e}B=B.return}if(ir===null)throw Error(t(160));uE(E,A,y),ir=null,vs=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(te){un(y,a,te)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dE(a,s),a=a.sibling}function dE(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ws(a,s),eo(s),p&4){try{Rd(3,s,s.return),Th(3,s)}catch(Ve){un(s,s.return,Ve)}try{Rd(5,s,s.return)}catch(Ve){un(s,s.return,Ve)}}break;case 1:ws(a,s),eo(s),p&512&&c!==null&&fc(c,c.return);break;case 5:if(ws(a,s),eo(s),p&512&&c!==null&&fc(c,c.return),s.flags&32){var y=s.stateNode;try{hi(y,"")}catch(Ve){un(s,s.return,Ve)}}if(p&4&&(y=s.stateNode,y!=null)){var E=s.memoizedProps,A=c!==null?c.memoizedProps:E,B=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&Xn(y,E),kl(B,A);var te=kl(B,E);for(A=0;A<z.length;A+=2){var pe=z[A],me=z[A+1];pe==="style"?bl(y,me):pe==="dangerouslySetInnerHTML"?Oi(y,me):pe==="children"?hi(y,me):W(y,pe,me,te)}switch(B){case"input":ci(y,E);break;case"textarea":qr(y,E);break;case"select":var he=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Ce=E.value;Ce!=null?fi(y,!!E.multiple,Ce,!1):he!==!!E.multiple&&(E.defaultValue!=null?fi(y,!!E.multiple,E.defaultValue,!0):fi(y,!!E.multiple,E.multiple?[]:"",!1))}y[Hl]=E}catch(Ve){un(s,s.return,Ve)}}break;case 6:if(ws(a,s),eo(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,E=s.memoizedProps;try{y.nodeValue=E}catch(Ve){un(s,s.return,Ve)}}break;case 3:if(ws(a,s),eo(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Kr(a.containerInfo)}catch(Ve){un(s,s.return,Ve)}break;case 4:ws(a,s),eo(s);break;case 13:ws(a,s),eo(s),y=s.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Hg=Pt())),p&4&&cE(s);break;case 22:if(pe=c!==null&&c.memoizedState!==null,s.mode&1?(br=(te=br)||pe,ws(a,s),br=te):ws(a,s),eo(s),p&8192){if(te=s.memoizedState!==null,(s.stateNode.isHidden=te)&&!pe&&s.mode&1)for(Oe=s,pe=s.child;pe!==null;){for(me=Oe=pe;Oe!==null;){switch(he=Oe,Ce=he.child,he.tag){case 0:case 11:case 14:case 15:Rd(4,he,he.return);break;case 1:fc(he,he.return);var Le=he.stateNode;if(typeof Le.componentWillUnmount=="function"){p=he,c=he.return;try{a=p,Le.props=a.memoizedProps,Le.state=a.memoizedState,Le.componentWillUnmount()}catch(Ve){un(p,c,Ve)}}break;case 5:fc(he,he.return);break;case 22:if(he.memoizedState!==null){pE(me);continue}}Ce!==null?(Ce.return=he,Oe=Ce):pE(me)}pe=pe.sibling}e:for(pe=null,me=s;;){if(me.tag===5){if(pe===null){pe=me;try{y=me.stateNode,te?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=me.stateNode,z=me.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null,B.style.display=El("display",A))}catch(Ve){un(s,s.return,Ve)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ve){un(s,s.return,Ve)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ws(a,s),eo(s),p&4&&cE(s);break;case 21:break;default:ws(a,s),eo(s)}}function eo(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(aE(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(hi(y,""),p.flags&=-33);var E=lE(s);Bg(s,E,y);break;case 3:case 4:var A=p.stateNode.containerInfo,B=lE(s);Ug(s,B,A);break;default:throw Error(t(161))}}catch(z){un(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _I(s,a,c){Oe=s,fE(s)}function fE(s,a,c){for(var p=(s.mode&1)!==0;Oe!==null;){var y=Oe,E=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||bh;if(!A){var B=y.alternate,z=B!==null&&B.memoizedState!==null||br;B=bh;var te=br;if(bh=A,(br=z)&&!te)for(Oe=y;Oe!==null;)A=Oe,z=A.child,A.tag===22&&A.memoizedState!==null?mE(y):z!==null?(z.return=A,Oe=z):mE(y);for(;E!==null;)Oe=E,fE(E),E=E.sibling;Oe=y,bh=B,br=te}hE(s)}else y.subtreeFlags&8772&&E!==null?(E.return=y,Oe=E):hE(s)}}function hE(s){for(;Oe!==null;){var a=Oe;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:br||Th(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!br)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:_s(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&ph(a,E,p);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}ph(a,A,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var te=a.alternate;if(te!==null){var pe=te.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&Kr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}br||a.flags&512&&jg(a)}catch(he){un(a,a.return,he)}}if(a===s){Oe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function pE(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function mE(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Th(4,a)}catch(z){un(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){un(a,y,z)}}var E=a.return;try{jg(a)}catch(z){un(a,E,z)}break;case 5:var A=a.return;try{jg(a)}catch(z){un(a,A,z)}}}catch(z){un(a,a.return,z)}if(a===s){Oe=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Oe=B;break}Oe=a.return}}var vI=Math.ceil,Sh=G.ReactCurrentDispatcher,$g=G.ReactCurrentOwner,Xi=G.ReactCurrentBatchConfig,Et=0,Hn=null,bn=null,sr=0,Ii=0,hc=ps(0),An=0,Ad=null,Zl=0,kh=0,Wg=0,Pd=null,ri=null,Hg=0,pc=1/0,qo=null,Ch=!1,zg=null,Va=null,xh=!1,ja=null,Ih=0,Nd=0,qg=null,Dh=-1,Rh=0;function Ur(){return Et&6?Pt():Dh!==-1?Dh:Dh=Pt()}function Ua(s){return s.mode&1?Et&2&&sr!==0?sr&-sr:It.transition!==null?(Rh===0&&(Rh=Ln()),Rh):(s=ot,s!==0||(s=window.event,s=s===void 0?16:Ea(s.type)),s):1}function Es(s,a,c,p){if(50<Nd)throw Nd=0,qg=null,Error(t(185));wi(s,c,p),(!(Et&2)||s!==Hn)&&(s===Hn&&(!(Et&2)&&(kh|=c),An===4&&Ba(s,sr)),ii(s,p),c===1&&Et===0&&!(a.mode&1)&&(pc=Pt()+500,zl&&Ks()))}function ii(s,a){var c=s.callbackNode;vi(s,a);var p=Pr(s,s===Hn?sr:0);if(p===0)c!==null&&_i(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&_i(c),a===1)s.tag===0?_g(yE.bind(null,s)):ql(yE.bind(null,s)),Wl(function(){!(Et&6)&&Ks()}),c=null;else{switch(Nr(p)){case 1:c=Ns;break;case 4:c=Fi;break;case 16:c=hr;break;case 536870912:c=Rl;break;default:c=hr}c=kE(c,gE.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function gE(s,a){if(Dh=-1,Rh=0,Et&6)throw Error(t(327));var c=s.callbackNode;if(mc()&&s.callbackNode!==c)return null;var p=Pr(s,s===Hn?sr:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=Ah(s,p);else{a=p;var y=Et;Et|=2;var E=vE();(Hn!==s||sr!==a)&&(qo=null,pc=Pt()+500,tu(s,a));do try{bI();break}catch(B){_E(s,B)}while(!0);ln(),Sh.current=E,Et=y,bn!==null?a=0:(Hn=null,sr=0,a=An)}if(a!==0){if(a===2&&(y=Zn(s),y!==0&&(p=y,a=Yg(s,y))),a===1)throw c=Ad,tu(s,0),Ba(s,p),ii(s,Pt()),c;if(a===6)Ba(s,p);else{if(y=s.current.alternate,!(p&30)&&!wI(y)&&(a=Ah(s,p),a===2&&(E=Zn(s),E!==0&&(p=E,a=Yg(s,E))),a===1))throw c=Ad,tu(s,0),Ba(s,p),ii(s,Pt()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:nu(s,ri,qo);break;case 3:if(Ba(s,p),(p&130023424)===p&&(a=Hg+500-Pt(),10<a)){if(Pr(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Ur(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=yd(nu.bind(null,s,ri,qo),a);break}nu(s,ri,qo);break;case 4:if(Ba(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var A=31-Mn(p);E=1<<A,A=a[A],A>y&&(y=A),p&=~E}if(p=y,p=Pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*vI(p/1960))-p,10<p){s.timeoutHandle=yd(nu.bind(null,s,ri,qo),p);break}nu(s,ri,qo);break;case 5:nu(s,ri,qo);break;default:throw Error(t(329))}}}return ii(s,Pt()),s.callbackNode===c?gE.bind(null,s):null}function Yg(s,a){var c=Pd;return s.current.memoizedState.isDehydrated&&(tu(s,a).flags|=256),s=Ah(s,a),s!==2&&(a=ri,ri=c,a!==null&&Kg(a)),s}function Kg(s){ri===null?ri=s:ri.push.apply(ri,s)}function wI(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],E=y.getSnapshot;y=y.value;try{if(!Zr(E(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ba(s,a){for(a&=~Wg,a&=~kh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Mn(a),p=1<<c;s[c]=-1,a&=~p}}function yE(s){if(Et&6)throw Error(t(327));mc();var a=Pr(s,0);if(!(a&1))return ii(s,Pt()),null;var c=Ah(s,a);if(s.tag!==0&&c===2){var p=Zn(s);p!==0&&(a=p,c=Yg(s,p))}if(c===1)throw c=Ad,tu(s,0),Ba(s,a),ii(s,Pt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,nu(s,ri,qo),ii(s,Pt()),null}function Qg(s,a){var c=Et;Et|=1;try{return s(a)}finally{Et=c,Et===0&&(pc=Pt()+500,zl&&Ks())}}function eu(s){ja!==null&&ja.tag===0&&!(Et&6)&&mc();var a=Et;Et|=1;var c=Xi.transition,p=ot;try{if(Xi.transition=null,ot=1,s)return s()}finally{ot=p,Xi.transition=c,Et=a,!(Et&6)&&Ks()}}function Gg(){Ii=hc.current,Lt(hc)}function tu(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,gg(c)),bn!==null)for(c=bn.return;c!==null;){var p=c;switch(Te(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ic();break;case 3:Ho(),Lt(an),Lt(jn),Gl();break;case 5:uc(p);break;case 4:Ho();break;case 13:Lt(Yt);break;case 19:Lt(Yt);break;case 10:Dt(p.type._context);break;case 22:case 23:Gg()}c=c.return}if(Hn=s,bn=s=$a(s.current,null),sr=Ii=a,An=0,Ad=null,Wg=kh=Zl=0,ri=Pd=null,Qi!==null){for(a=0;a<Qi.length;a++)if(c=Qi[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,E=c.pending;if(E!==null){var A=E.next;E.next=y,p.next=A}c.pending=p}Qi=null}return s}function _E(s,a){do{var c=bn;try{if(ln(),Xl.current=_h,mh){for(var p=nn.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}mh=!1}if(Jl=0,Wn=Rn=nn=null,kd=!1,Cd=0,$g.current=null,c===null||c.return===null){An=1,Ad=a,bn=null;break}e:{var E=s,A=c.return,B=c,z=a;if(a=sr,B.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,pe=B,me=pe.tag;if(!(pe.mode&1)&&(me===0||me===11||me===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ce=Ww(A);if(Ce!==null){Ce.flags&=-257,Hw(Ce,A,B,E,a),Ce.mode&1&&$w(E,te,a),a=Ce,z=te;var Le=a.updateQueue;if(Le===null){var Ve=new Set;Ve.add(z),a.updateQueue=Ve}else Le.add(z);break e}else{if(!(a&1)){$w(E,te,a),Xg();break e}z=Error(t(426))}}else if(De&&B.mode&1){var gn=Ww(A);if(gn!==null){!(gn.flags&65536)&&(gn.flags|=256),Hw(gn,A,B,E,a),St(dc(z,B));break e}}E=z=dc(z,B),An!==4&&(An=2),Pd===null?Pd=[E]:Pd.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Z=Uw(E,z,a);bd(E,Z);break e;case 1:B=z;var K=E.type,ee=E.stateNode;if(!(E.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Va===null||!Va.has(ee)))){E.flags|=65536,a&=-a,E.lanes|=a;var _e=Bw(E,B,a);bd(E,_e);break e}}E=E.return}while(E!==null)}EE(c)}catch(Ue){a=Ue,bn===c&&c!==null&&(bn=c=c.return);continue}break}while(!0)}function vE(){var s=Sh.current;return Sh.current=_h,s===null?_h:s}function Xg(){(An===0||An===3||An===2)&&(An=4),Hn===null||!(Zl&268435455)&&!(kh&268435455)||Ba(Hn,sr)}function Ah(s,a){var c=Et;Et|=2;var p=vE();(Hn!==s||sr!==a)&&(qo=null,tu(s,a));do try{EI();break}catch(y){_E(s,y)}while(!0);if(ln(),Et=c,Sh.current=p,bn!==null)throw Error(t(261));return Hn=null,sr=0,An}function EI(){for(;bn!==null;)wE(bn)}function bI(){for(;bn!==null&&!as();)wE(bn)}function wE(s){var a=SE(s.alternate,s,Ii);s.memoizedProps=s.pendingProps,a===null?EE(s):bn=a,$g.current=null}function EE(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=mI(c,a),c!==null){c.flags&=32767,bn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{An=6,bn=null;return}}else if(c=pI(c,a,Ii),c!==null){bn=c;return}if(a=a.sibling,a!==null){bn=a;return}bn=a=s}while(a!==null);An===0&&(An=5)}function nu(s,a,c){var p=ot,y=Xi.transition;try{Xi.transition=null,ot=1,TI(s,a,c,p)}finally{Xi.transition=y,ot=p}return null}function TI(s,a,c,p){do mc();while(ja!==null);if(Et&6)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(yt(s,E),s===Hn&&(bn=Hn=null,sr=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||xh||(xh=!0,kE(hr,function(){return mc(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=Xi.transition,Xi.transition=null;var A=ot;ot=1;var B=Et;Et|=4,$g.current=null,yI(s,c),dE(c,s),fg($l),ji=!!Hs,$l=Hs=null,s.current=c,_I(c),Lu(),Et=B,ot=A,Xi.transition=E}else s.current=c;if(xh&&(xh=!1,ja=s,Ih=y),E=s.pendingLanes,E===0&&(Va=null),Al(c.stateNode),ii(s,Pt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ch)throw Ch=!1,s=zg,zg=null,s;return Ih&1&&s.tag!==0&&mc(),E=s.pendingLanes,E&1?s===qg?Nd++:(Nd=0,qg=s):Nd=0,Ks(),null}function mc(){if(ja!==null){var s=Nr(Ih),a=Xi.transition,c=ot;try{if(Xi.transition=null,ot=16>s?16:s,ja===null)var p=!1;else{if(s=ja,ja=null,Ih=0,Et&6)throw Error(t(331));var y=Et;for(Et|=4,Oe=s.current;Oe!==null;){var E=Oe,A=E.child;if(Oe.flags&16){var B=E.deletions;if(B!==null){for(var z=0;z<B.length;z++){var te=B[z];for(Oe=te;Oe!==null;){var pe=Oe;switch(pe.tag){case 0:case 11:case 15:Rd(8,pe,E)}var me=pe.child;if(me!==null)me.return=pe,Oe=me;else for(;Oe!==null;){pe=Oe;var he=pe.sibling,Ce=pe.return;if(oE(pe),pe===te){Oe=null;break}if(he!==null){he.return=Ce,Oe=he;break}Oe=Ce}}}var Le=E.alternate;if(Le!==null){var Ve=Le.child;if(Ve!==null){Le.child=null;do{var gn=Ve.sibling;Ve.sibling=null,Ve=gn}while(Ve!==null)}}Oe=E}}if(E.subtreeFlags&2064&&A!==null)A.return=E,Oe=A;else e:for(;Oe!==null;){if(E=Oe,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Rd(9,E,E.return)}var Z=E.sibling;if(Z!==null){Z.return=E.return,Oe=Z;break e}Oe=E.return}}var K=s.current;for(Oe=K;Oe!==null;){A=Oe;var ee=A.child;if(A.subtreeFlags&2064&&ee!==null)ee.return=A,Oe=ee;else e:for(A=K;Oe!==null;){if(B=Oe,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:Th(9,B)}}catch(Ue){un(B,B.return,Ue)}if(B===A){Oe=null;break e}var _e=B.sibling;if(_e!==null){_e.return=B.return,Oe=_e;break e}Oe=B.return}}if(Et=y,Ks(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Os,s)}catch{}p=!0}return p}finally{ot=c,Xi.transition=a}}return!1}function bE(s,a,c){a=dc(c,a),a=Uw(s,a,1),s=ys(s,a,1),a=Ur(),s!==null&&(wi(s,1,a),ii(s,a))}function un(s,a,c){if(s.tag===3)bE(s,s,c);else for(;a!==null;){if(a.tag===3){bE(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Va===null||!Va.has(p))){s=dc(c,s),s=Bw(a,s,1),a=ys(a,s,1),s=Ur(),a!==null&&(wi(a,1,s),ii(a,s));break}}a=a.return}}function SI(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Ur(),s.pingedLanes|=s.suspendedLanes&c,Hn===s&&(sr&c)===c&&(An===4||An===3&&(sr&130023424)===sr&&500>Pt()-Hg?tu(s,0):Wg|=c),ii(s,a)}function TE(s,a){a===0&&(s.mode&1?(a=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):a=1);var c=Ur();s=ti(s,a),s!==null&&(wi(s,a,c),ii(s,c))}function kI(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),TE(s,c)}function CI(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),TE(s,c)}var SE;SE=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||an.current)ni=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return ni=!1,hI(s,a,c);ni=!!(s.flags&131072)}else ni=!1,De&&a.flags&1048576&&xe(a,b,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Eh(s,a),s=a.pendingProps;var y=Oa(a,jn.current);Dn(a,c),y=Eg(null,a,p,s,y,c);var E=bg();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vr(p)?(E=!0,sc(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ed(a),y.updater=vh,a.stateNode=y,y._reactInternals=a,Ig(a,p,s,c),a=Pg(null,a,p,!0,E,c)):(a.tag=0,De&&E&&Ie(a),jr(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Eh(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=II(p),s=_s(p,s),y){case 0:a=Ag(null,a,p,s,c);break e;case 1:a=Gw(null,a,p,s,c);break e;case 11:a=zw(null,a,p,s,c);break e;case 14:a=qw(null,a,p,_s(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),Ag(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),Gw(s,a,p,y,c);case 3:e:{if(Xw(a),s===null)throw Error(t(387));p=a.pendingProps,E=a.memoizedState,y=E.element,ac(s,a),Yl(a,p,null,c);var A=a.memoizedState;if(p=A.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=dc(Error(t(423)),a),a=Jw(s,a,p,c,y);break e}else if(p!==y){y=dc(Error(t(424)),a),a=Jw(s,a,p,c,y);break e}else for(Fe=zs(a.stateNode.containerInfo.firstChild),We=a,De=!0,$e=null,c=Fr(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ht(),p===y){a=zo(s,a,c);break e}jr(s,a,p,c)}a=a.child}return a;case 5:return Td(a),s===null&&rt(a),p=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,A=y.children,nc(p,y)?A=null:E!==null&&nc(p,E)&&(a.flags|=32),Qw(s,a),jr(s,a,A,c),a.child;case 6:return s===null&&rt(a),null;case 13:return Zw(s,a,c);case 4:return Ql(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=xn(a,null,p,c):jr(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),zw(s,a,p,y,c);case 7:return jr(s,a,a.pendingProps,c),a.child;case 8:return jr(s,a,a.pendingProps.children,c),a.child;case 12:return jr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,E=a.memoizedProps,A=y.value,Ft(qt,p._currentValue),p._currentValue=A,E!==null)if(Zr(E.value,A)){if(E.children===y.children&&!an.current){a=zo(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var B=E.dependencies;if(B!==null){A=E.child;for(var z=B.firstContext;z!==null;){if(z.context===p){if(E.tag===1){z=gs(-1,c&-c),z.tag=2;var te=E.updateQueue;if(te!==null){te=te.shared;var pe=te.pending;pe===null?z.next=z:(z.next=pe.next,pe.next=z),te.pending=z}}E.lanes|=c,z=E.alternate,z!==null&&(z.lanes|=c),In(E.return,c,a),B.lanes|=c;break}z=z.next}}else if(E.tag===10)A=E.type===a.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(t(341));A.lanes|=c,B=A.alternate,B!==null&&(B.lanes|=c),In(A,c,a),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===a){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}jr(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Dn(a,c),y=mn(y),p=p(y),a.flags|=1,jr(s,a,p,c),a.child;case 14:return p=a.type,y=_s(p,a.pendingProps),y=_s(p.type,y),qw(s,a,p,y,c);case 15:return Yw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),Eh(s,a),a.tag=1,vr(p)?(s=!0,sc(a)):s=!1,Dn(a,c),Vw(a,p,y),Ig(a,p,y,c),Pg(null,a,p,!0,s,c);case 19:return tE(s,a,c);case 22:return Kw(s,a,c)}throw Error(t(156,a.tag))};function kE(s,a){return yi(s,a)}function xI(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(s,a,c,p){return new xI(s,a,c,p)}function Jg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function II(s){if(typeof s=="function")return Jg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===je)return 14}return 2}function $a(s,a){var c=s.alternate;return c===null?(c=Ji(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ph(s,a,c,p,y,E){var A=2;if(p=s,typeof s=="function")Jg(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case F:return ru(c.children,y,E,a);case N:A=8,y|=8;break;case M:return s=Ji(12,c,a,y|2),s.elementType=M,s.lanes=E,s;case V:return s=Ji(13,c,a,y),s.elementType=V,s.lanes=E,s;case Ae:return s=Ji(19,c,a,y),s.elementType=Ae,s.lanes=E,s;case we:return Nh(c,y,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:A=10;break e;case $:A=9;break e;case H:A=11;break e;case je:A=14;break e;case Ee:A=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ji(A,c,a,y),a.elementType=s,a.type=p,a.lanes=E,a}function ru(s,a,c,p){return s=Ji(7,s,p,a),s.lanes=c,s}function Nh(s,a,c,p){return s=Ji(22,s,p,a),s.elementType=we,s.lanes=c,s.stateNode={isHidden:!1},s}function Zg(s,a,c){return s=Ji(6,s,null,a),s.lanes=c,s}function ey(s,a,c){return a=Ji(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function DI(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gr(0),this.expirationTimes=gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ty(s,a,c,p,y,E,A,B,z){return s=new DI(s,a,c,B,z),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Ji(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(E),s}function RI(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function CE(s){if(!s)return Yi;s=s._reactInternals;e:{if(Nn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(vr(c))return fh(s,c,a)}return a}function xE(s,a,c,p,y,E,A,B,z){return s=ty(c,p,!0,s,y,E,A,B,z),s.context=CE(null),c=s.current,p=Ur(),y=Ua(c),E=gs(p,y),E.callback=a??null,ys(c,E,y),s.current.lanes=y,wi(s,y,p),ii(s,p),s}function Oh(s,a,c,p){var y=a.current,E=Ur(),A=Ua(y);return c=CE(c),a.context===null?a.context=c:a.pendingContext=c,a=gs(E,A),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=ys(y,a,A),s!==null&&(Es(s,y,A,E),lc(s,y,A)),A}function Mh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function IE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ny(s,a){IE(s,a),(s=s.alternate)&&IE(s,a)}var DE=typeof reportError=="function"?reportError:function(s){console.error(s)};function ry(s){this._internalRoot=s}Lh.prototype.render=ry.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Oh(s,a,null,null)},Lh.prototype.unmount=ry.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;eu(function(){Oh(null,s,null,null)}),a[hs]=null}};function Lh(s){this._internalRoot=s}Lh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fu();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ti.length&&a!==0&&a<Ti[c].priority;c++);Ti.splice(c,0,s),c===0&&Io(s)}};function iy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function RE(){}function AI(s,a,c,p,y){if(y){if(typeof p=="function"){var E=p;p=function(){var te=Mh(A);E.call(te)}}var A=xE(a,p,s,0,null,!1,!1,"",RE);return s._reactRootContainer=A,s[hs]=A.current,Uo(s.nodeType===8?s.parentNode:s),eu(),A}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var B=p;p=function(){var te=Mh(z);B.call(te)}}var z=ty(s,0,!1,null,null,!1,!1,"",RE);return s._reactRootContainer=z,s[hs]=z.current,Uo(s.nodeType===8?s.parentNode:s),eu(function(){Oh(a,z,c,p)}),z}function Vh(s,a,c,p,y){var E=c._reactRootContainer;if(E){var A=E;if(typeof y=="function"){var B=y;y=function(){var z=Mh(A);B.call(z)}}Oh(a,A,s,y)}else A=AI(c,a,s,y,p);return Mh(A)}wa=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=on(a.pendingLanes);c!==0&&(Vi(a,c|1),ii(a,Pt()),!(Et&6)&&(pc=Pt()+500,Ks()))}break;case 13:eu(function(){var p=ti(s,1);if(p!==null){var y=Ur();Es(p,s,1,y)}}),ny(s,1)}},xo=function(s){if(s.tag===13){var a=ti(s,134217728);if(a!==null){var c=Ur();Es(a,s,134217728,c)}ny(s,134217728)}},Yr=function(s){if(s.tag===13){var a=Ua(s),c=ti(s,a);if(c!==null){var p=Ur();Es(c,s,a,p)}ny(s,a)}},Fu=function(){return ot},Ei=function(s,a){var c=ot;try{return ot=s,a()}finally{ot=c}},is=function(s,a,c){switch(a){case"input":if(ci(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=qi(p);if(!y)throw Error(t(90));Dr(p),ci(p,y)}}}break;case"textarea":qr(s,c);break;case"select":a=c.value,a!=null&&fi(s,!!c.multiple,a,!1)}},So=Qg,Li=eu;var PI={usingClientEntryPoint:!1,Events:[$o,Wo,qi,Mi,Cl,Qg]},Od={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=fn(s),s===null?null:s.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Os=jh.inject(NI),pr=jh}catch{}}return si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI,si.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(a))throw Error(t(200));return RI(s,a,null,c)},si.createRoot=function(s,a){if(!iy(s))throw Error(t(299));var c=!1,p="",y=DE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=ty(s,1,!1,null,null,c,!1,p,y),s[hs]=a.current,Uo(s.nodeType===8?s.parentNode:s),new ry(a)},si.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=fn(a),s=s===null?null:s.stateNode,s},si.flushSync=function(s){return eu(s)},si.hydrate=function(s,a,c){if(!Fh(a))throw Error(t(200));return Vh(null,s,a,!0,c)},si.hydrateRoot=function(s,a,c){if(!iy(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,E="",A=DE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=xE(a,null,s,1,c??null,y,!1,E,A),s[hs]=a.current,Uo(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Lh(a)},si.render=function(s,a,c){if(!Fh(a))throw Error(t(200));return Vh(null,s,a,!1,c)},si.unmountComponentAtNode=function(s){if(!Fh(s))throw Error(t(40));return s._reactRootContainer?(eu(function(){Vh(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},si.unstable_batchedUpdates=Qg,si.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Fh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Vh(s,a,c,!1,p)},si.version="18.3.1-next-f1338f8080-20240426",si}var VE;function DS(){if(VE)return ay.exports;VE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ay.exports=HI(),ay.exports}var jE;function zI(){if(jE)return Uh;jE=1;var r=DS();return Uh.createRoot=r.createRoot,Uh.hydrateRoot=r.hydrateRoot,Uh}var qI=zI(),Ld={},UE;function YI(){if(UE)return Ld;UE=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.parse=l,Ld.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,T){const C=new o,D=v.length;if(D<2)return C;const R=(T==null?void 0:T.decode)||g;let L=0;do{const j=v.indexOf("=",L);if(j===-1)break;const W=v.indexOf(";",L),G=W===-1?D:W;if(j>G){L=v.lastIndexOf(";",j-1)+1;continue}const re=u(v,L,j),ce=d(v,j,re),F=v.slice(re,ce);if(C[F]===void 0){let N=u(v,j+1,G),M=d(v,G,N);const U=R(v.slice(N,M));C[F]=U}L=G+1}while(L<D);return C}function u(v,T,C){do{const D=v.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<C);return C}function d(v,T,C){for(;T>C;){const D=v.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return C}function h(v,T,C){const D=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=D(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let L=v+"="+R;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Ld}YI();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BE="popstate";function KI(r={}){function e(n,i){let{pathname:o,search:l,hash:u}=n.location;return qy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:af(i)}return GI(e,t,null,r)}function Xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ts(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QI(){return Math.random().toString(36).substring(2,10)}function $E(r,e){return{usr:r.state,key:r.key,idx:e}}function qy(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Yc(e):e,state:t,key:e&&e.key||n||QI()}}function af({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Yc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function GI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function _(){u="POP";let R=g(),L=R==null?null:R-h;h=R,d&&d({action:u,location:D.location,delta:L})}function v(R,L){u="PUSH";let j=qy(D.location,R,L);h=g()+1;let W=$E(j,h),G=D.createHref(j);try{l.pushState(W,"",G)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;i.location.assign(G)}o&&d&&d({action:u,location:D.location,delta:1})}function T(R,L){u="REPLACE";let j=qy(D.location,R,L);h=g();let W=$E(j,h),G=D.createHref(j);l.replaceState(W,"",G),o&&d&&d({action:u,location:D.location,delta:0})}function C(R){let L=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof R=="string"?R:af(R);return j=j.replace(/ $/,"%20"),Xt(L,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,L)}let D={get action(){return u},get location(){return r(i,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(BE,_),d=R,()=>{i.removeEventListener(BE,_),d=null}},createHref(R){return e(i,R)},createURL:C,encodeLocation(R){let L=C(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:T,go(R){return l.go(R)}};return D}function RS(r,e,t="/"){return XI(r,e,t,!1)}function XI(r,e,t,n){let i=typeof e=="string"?Yc(e):e,o=al(i.pathname||"/",t);if(o==null)return null;let l=AS(r);JI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=uD(o);u=aD(l[d],h,n)}return u}function AS(r,e=[],t=[],n=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let h=Xo([n,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),AS(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:sD(h,o.index),routesMeta:g})};return r.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of PS(o.path))i(o,l,d)}),e}function PS(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=PS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function JI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:oD(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var ZI=/^:[\w-]+$/,eD=3,tD=2,nD=1,rD=10,iD=-2,WE=r=>r==="*";function sD(r,e){let t=r.split("/"),n=t.length;return t.some(WE)&&(n+=iD),e&&(n+=tD),t.filter(i=>!WE(i)).reduce((i,o)=>i+(ZI.test(o)?eD:o===""?nD:rD),n)}function oD(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function aD(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Cp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),v=d.route;if(!_&&h&&t&&!n[n.length-1].route.index&&(_=Cp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Xo([o,_.pathname]),pathnameBase:hD(Xo([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Xo([o,_.pathnameBase]))}return l}function Cp(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=lD(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:g,isOptional:_},v)=>{if(g==="*"){let C=u[v]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[v];return _&&!T?h[g]=void 0:h[g]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function lD(r,e=!1,t=!0){Ts(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ts(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function al(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function cD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Yc(r):r;return{pathname:t?t.startsWith("/")?t:dD(t,e):e,search:pD(n),hash:mD(i)}}function dD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j_(r){let e=fD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function U_(r,e,t,n=!1){let i;typeof r=="string"?i=Yc(r):(i={...r},Xt(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}u=_>=0?e[_]:"/"}let d=cD(i,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var Xo=r=>r.join("/").replace(/\/\/+/g,"/"),hD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var NS=["POST","PUT","PATCH","DELETE"];new Set(NS);var yD=["GET",...NS];new Set(yD);var Kc=x.createContext(null);Kc.displayName="DataRouter";var pm=x.createContext(null);pm.displayName="DataRouterState";var OS=x.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var _D=x.createContext(new Map);_D.displayName="Fetchers";var vD=x.createContext(null);vD.displayName="Await";var xs=x.createContext(null);xs.displayName="Navigation";var bf=x.createContext(null);bf.displayName="Location";var Is=x.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var B_=x.createContext(null);B_.displayName="RouteError";function wD(r,{relative:e}={}){Xt(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=x.useContext(xs),{hash:i,pathname:o,search:l}=Sf(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Xo([t,o])),n.createHref({pathname:u,search:l,hash:i})}function Qc(){return x.useContext(bf)!=null}function gl(){return Xt(Qc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(bf).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LS(r){x.useContext(xs).static||x.useLayoutEffect(r)}function Tf(){let{isDataRoute:r}=x.useContext(Is);return r?ND():ED()}function ED(){Xt(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(Kc),{basename:e,navigator:t}=x.useContext(xs),{matches:n}=x.useContext(Is),{pathname:i}=gl(),o=JSON.stringify(j_(n)),l=x.useRef(!1);return LS(()=>{l.current=!0}),x.useCallback((d,h={})=>{if(Ts(l.current,MS),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=U_(d,JSON.parse(o),i,h.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xo([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,i,r])}x.createContext(null);function $_(){let{matches:r}=x.useContext(Is),e=r[r.length-1];return e?e.params:{}}function Sf(r,{relative:e}={}){let{matches:t}=x.useContext(Is),{pathname:n}=gl(),i=JSON.stringify(j_(t));return x.useMemo(()=>U_(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function bD(r,e){return FS(r,e)}function FS(r,e,t,n){var L;Xt(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(xs),{matches:o}=x.useContext(Is),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let j=g&&g.path||"";VS(d,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=gl(),v;if(e){let j=typeof e=="string"?Yc(e):e;Xt(h==="/"||((L=j.pathname)==null?void 0:L.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=_;let T=v.pathname||"/",C=T;if(h!=="/"){let j=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=RS(r,{pathname:C});Ts(g||D!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ts(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=xD(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Xo([h,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Xo([h,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,n);return e&&R?x.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function TD(){let r=PD(),e=gD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,l)}var SD=x.createElement(TD,null),kD=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?x.createElement(Is.Provider,{value:this.props.routeContext},x.createElement(B_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CD({routeContext:r,match:e,children:t}){let n=x.useContext(Kc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Is.Provider,{value:r},t)}function xD(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:_}=t,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!_||_[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,g)=>{let _,v=!1,T=null,C=null;t&&(_=o&&h.route.id?o[h.route.id]:void 0,T=h.route.errorElement||SD,l&&(u<0&&g===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):u===g&&(v=!0,C=h.route.hydrateFallbackElement||null)));let D=e.concat(i.slice(0,g+1)),R=()=>{let L;return _?L=T:v?L=C:h.route.Component?L=x.createElement(h.route.Component,null):h.route.element?L=h.route.element:L=d,x.createElement(CD,{match:h,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:L})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(kD,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function W_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(r){let e=x.useContext(Kc);return Xt(e,W_(r)),e}function DD(r){let e=x.useContext(pm);return Xt(e,W_(r)),e}function RD(r){let e=x.useContext(Is);return Xt(e,W_(r)),e}function H_(r){let e=RD(r),t=e.matches[e.matches.length-1];return Xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function AD(){return H_("useRouteId")}function PD(){var n;let r=x.useContext(B_),e=DD("useRouteError"),t=H_("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function ND(){let{router:r}=ID("useNavigate"),e=H_("useNavigate"),t=x.useRef(!1);return LS(()=>{t.current=!0}),x.useCallback(async(i,o={})=>{Ts(t.current,MS),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var HE={};function VS(r,e,t){!e&&!HE[r]&&(HE[r]=!0,Ts(!1,t))}x.memo(OD);function OD({routes:r,future:e,state:t}){return FS(r,void 0,t,e)}function zE({to:r,replace:e,state:t,relative:n}){Xt(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(xs);Ts(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Is),{pathname:l}=gl(),u=Tf(),d=U_(r,j_(o),l,n==="path"),h=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:n})},[u,h,n,e,t]),null}function Di(r){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MD({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){Xt(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Yc(t));let{pathname:d="/",search:h="",hash:g="",state:_=null,key:v="default"}=t,T=x.useMemo(()=>{let C=al(d,l);return C==null?null:{location:{pathname:C,search:h,hash:g,state:_,key:v},navigationType:n}},[l,d,h,g,_,v,n]);return Ts(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:x.createElement(xs.Provider,{value:u},x.createElement(bf.Provider,{children:e,value:T}))}function LD({children:r,location:e}){return bD(Yy(r),e)}function Yy(r,e=[]){let t=[];return x.Children.forEach(r,(n,i)=>{if(!x.isValidElement(n))return;let o=[...e,i];if(n.type===x.Fragment){t.push.apply(t,Yy(n.props.children,o));return}Xt(n.type===Di,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Yy(n.props.children,o)),t.push(l)}),t}var rp="get",ip="application/x-www-form-urlencoded";function mm(r){return r!=null&&typeof r.tagName=="string"}function FD(r){return mm(r)&&r.tagName.toLowerCase()==="button"}function VD(r){return mm(r)&&r.tagName.toLowerCase()==="form"}function jD(r){return mm(r)&&r.tagName.toLowerCase()==="input"}function UD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BD(r,e){return r.button===0&&(!e||e==="_self")&&!UD(r)}var Bh=null;function $D(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var WD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dy(r){return r!=null&&!WD.has(r)?(Ts(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ip}"`),null):r}function HD(r,e){let t,n,i,o,l;if(VD(r)){let u=r.getAttribute("action");n=u?al(u,e):null,t=r.getAttribute("method")||rp,i=dy(r.getAttribute("enctype"))||ip,o=new FormData(r)}else if(FD(r)||jD(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||u.getAttribute("action");if(n=d?al(d,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||rp,i=dy(r.getAttribute("formenctype"))||dy(u.getAttribute("enctype"))||ip,o=new FormData(u,r),!$D()){let{name:h,type:g,value:_}=r;if(g==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,_)}}else{if(mm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rp,n=null,i=ip,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function z_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function zD(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YD(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await zD(o,t);return l.links?l.links():[]}return[]}));return XD(n.flat(1).filter(qD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qE(r,e,t,n,i,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var g;return t[h].pathname!==d.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var _;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KD(r,e){return QD(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function QD(r){return[...new Set(r)]}function GD(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function XD(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(GD(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function JD(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZD(){let r=x.useContext(Kc);return z_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eR(){let r=x.useContext(pm);return z_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var q_=x.createContext(void 0);q_.displayName="FrameworkContext";function jS(){let r=x.useContext(q_);return z_(r,"You must render this element inside a <HydratedRouter> element"),r}function tR(r,e){let t=x.useContext(q_),[n,i]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:_}=e,v=x.useRef(null);x.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let D=L=>{L.forEach(j=>{l(j.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[r]),x.useEffect(()=>{if(n){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[n]);let T=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,v,{}]:[o,v,{onFocus:Fd(u,T),onBlur:Fd(d,C),onMouseEnter:Fd(h,T),onMouseLeave:Fd(g,C),onTouchStart:Fd(_,T)}]:[!1,v,{}]}function Fd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function nR({page:r,...e}){let{router:t}=ZD(),n=x.useMemo(()=>RS(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?x.createElement(iR,{page:r,matches:n,...e}):null}function rR(r){let{manifest:e,routeModules:t}=jS(),[n,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return YD(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function iR({page:r,matches:e,...t}){let n=gl(),{manifest:i,routeModules:o}=jS(),{loaderData:l,matches:u}=eR(),d=x.useMemo(()=>qE(r,e,u,i,n,"data"),[r,e,u,i,n]),h=x.useMemo(()=>qE(r,e,u,i,n,"assets"),[r,e,u,i,n]),g=x.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,C=!1;if(e.forEach(R=>{var j;let L=i.routes[R.route.id];!L||!L.hasLoader||(!d.some(W=>W.route.id===R.route.id)&&R.route.id in l&&((j=o[R.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?C=!0:T.add(R.route.id))}),T.size===0)return[];let D=JD(r);return C&&T.size>0&&D.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[D.pathname+D.search]},[l,n,i,d,e,r,o]),_=x.useMemo(()=>KD(h,i),[h,i]),v=rR(h);return x.createElement(x.Fragment,null,g.map(T=>x.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>x.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:C})=>x.createElement("link",{key:T,...C})))}function sR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.1.3")}catch{}function oR({basename:r,children:e,window:t}){let n=x.useRef();n.current==null&&(n.current=KI({window:t,v5Compat:!0}));let i=n.current,[o,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(MD,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jo=x.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:g,viewTransition:_,...v},T){let{basename:C}=x.useContext(xs),D=typeof h=="string"&&BS.test(h),R,L=!1;if(typeof h=="string"&&D&&(R=h,US))try{let M=new URL(window.location.href),U=h.startsWith("//")?new URL(M.protocol+h):new URL(h),$=al(U.pathname,C);U.origin===M.origin&&$!=null?h=$+U.search+U.hash:L=!0}catch{Ts(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=wD(h,{relative:i}),[W,G,re]=tR(n,v),ce=uR(h,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:_});function F(M){e&&e(M),M.defaultPrevented||ce(M)}let N=x.createElement("a",{...v,...re,href:R||j,onClick:L||o?e:F,ref:sR(T,G),target:d,"data-discover":!D&&t==="render"?"true":void 0});return W&&!D?x.createElement(x.Fragment,null,N,x.createElement(nR,{page:j})):N});Jo.displayName="Link";var qa=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},g){let _=Sf(l,{relative:h.relative}),v=gl(),T=x.useContext(pm),{navigator:C,basename:D}=x.useContext(xs),R=T!=null&&pR(_)&&u===!0,L=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=v.pathname,W=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(j=j.toLowerCase(),W=W?W.toLowerCase():null,L=L.toLowerCase()),W&&D&&(W=al(W,D)||W);const G=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let re=j===L||!i&&j.startsWith(L)&&j.charAt(G)==="/",ce=W!=null&&(W===L||!i&&W.startsWith(L)&&W.charAt(L.length)==="/"),F={isActive:re,isPending:ce,isTransitioning:R},N=re?e:void 0,M;typeof n=="function"?M=n(F):M=[n,re?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(F):o;return x.createElement(Jo,{...h,"aria-current":N,className:M,ref:g,style:U,to:l,viewTransition:u},typeof d=="function"?d(F):d)});qa.displayName="NavLink";var aR=x.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=rp,action:u,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:_,...v},T)=>{let C=fR(),D=hR(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&BS.test(u),j=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let G=W.nativeEvent.submitter,re=(G==null?void 0:G.getAttribute("formmethod"))||l;C(G||W.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:i,state:o,relative:h,preventScrollReset:g,viewTransition:_})};return x.createElement("form",{ref:T,method:R,action:D,onSubmit:n?d:j,...v,"data-discover":!L&&r==="render"?"true":void 0})});aR.displayName="Form";function lR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(r){let e=x.useContext(Kc);return Xt(e,lR(r)),e}function uR(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Tf(),d=gl(),h=Sf(r,{relative:o});return x.useCallback(g=>{if(BD(g,e)){g.preventDefault();let _=t!==void 0?t:af(d)===af(h);u(r,{replace:_,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,t,n,e,r,i,o,l])}var cR=0,dR=()=>`__${String(++cR)}__`;function fR(){let{router:r}=$S("useSubmit"),{basename:e}=x.useContext(xs),t=AD();return x.useCallback(async(n,i={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=HD(n,e);if(i.navigate===!1){let g=i.fetcherKey||dR();await r.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function hR(r,{relative:e}={}){let{basename:t}=x.useContext(xs),n=x.useContext(Is);Xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Sf(r||".",{relative:e})},l=gl();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let g=u.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xo([t,o.pathname])),af(o)}function pR(r,e={}){let t=x.useContext(OS);Xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=$S("useViewTransitionState"),i=Sf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=al(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=al(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Cp(i.pathname,l)!=null||Cp(i.pathname,o)!=null}new TextEncoder;var WS=DS();const uu=hm(WS),HS=x.createContext(void 0),mR=({children:r})=>{const[e,t]=x.useState("cleveland");return k.jsx(HS.Provider,{value:{selectedMuseum:e,setSelectedMuseum:t},children:r})},gm=()=>{const r=x.useContext(HS);if(!r)throw new Error("useMuseum must be used within a MuseumProvider");return r},zS=x.createContext(void 0),Y_=()=>x.useContext(zS),gR=({children:r})=>{const[e,t]=x.useState("");return k.jsx(zS.Provider,{value:{query:e,setQuery:t},children:r})},qS=x.createContext(void 0),YS=()=>x.useContext(qS),yR=({children:r})=>{const[e,t]=x.useState("artist");return k.jsx(qS.Provider,{value:{type:e,setType:t},children:r})};var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_R=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],u=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,u=l?r[i+1]:0,d=i+2<r.length,h=d?r[i+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(v=64)),n.push(t[g],t[_],t[v],t[T])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(KS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_R(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||u==null||h==null||_==null)throw new vR;const v=o<<2|u>>4;if(n.push(v),h!==64){const T=u<<4&240|h>>2;if(n.push(T),_!==64){const C=h<<6&192|_;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(r){const e=KS(r);return QS.encodeByteArray(e,!0)},xp=function(r){return wR(r).replace(/\./g,"")},GS=function(r){try{return QS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>ER().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof YE>"u")return;const r=YE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&GS(r[1]);return e&&JSON.parse(e)},ym=()=>{try{return bR()||TR()||SR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},XS=r=>{var e,t;return(t=(e=ym())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},kR=r=>{const e=XS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},JS=()=>{var r;return(r=ym())===null||r===void 0?void 0:r.config},ZS=r=>{var e;return(e=ym())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xp(JSON.stringify(t)),xp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function DR(){var r;const e=(r=ym())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const r=Ir();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class Ds extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=FR,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kf.prototype.create)}}class kf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?VR(o,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ds(i,u,n)}}function VR(r,e){return r.replace(jR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const jR=/\{\$([^}]+)}/g;function UR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ip(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(KE(o)&&KE(l)){if(!Ip(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function KE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Wd(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hd(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function BR(r,e){const t=new $R(r,e);return t.subscribe.bind(t)}class $R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");WR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class Eu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new CR;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qR(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zR(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(r){return r===su?void 0:r}function qR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pt||(pt={}));const KR={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},QR=pt.INFO,GR={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},XR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=GR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const JR=(r,e)=>e.some(t=>r instanceof t);let QE,GE;function ZR(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eA(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ek=new WeakMap,Ky=new WeakMap,tk=new WeakMap,hy=new WeakMap,Q_=new WeakMap;function tA(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(tl(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ek.set(t,r)}).catch(()=>{}),Q_.set(e,r),e}function nA(r){if(Ky.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Ky.set(r,e)}let Qy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ky.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tk.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return tl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rA(r){Qy=r(Qy)}function iA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(py(this),e,...t);return tk.set(n,e.sort?e.sort():[e]),tl(n)}:eA().includes(r)?function(...e){return r.apply(py(this),e),tl(ek.get(this))}:function(...e){return tl(r.apply(py(this),e))}}function sA(r){return typeof r=="function"?iA(r):(r instanceof IDBTransaction&&nA(r),JR(r,ZR())?new Proxy(r,Qy):r)}function tl(r){if(r instanceof IDBRequest)return tA(r);if(hy.has(r))return hy.get(r);const e=sA(r);return e!==r&&(hy.set(r,e),Q_.set(e,r)),e}const py=r=>Q_.get(r);function oA(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),u=tl(l);return n&&l.addEventListener("upgradeneeded",d=>{n(tl(l.result),d.oldVersion,d.newVersion,tl(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const aA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],my=new Map;function XE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=lA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||aA.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return my.set(e,o),o}rA(r=>({...r,get:(e,t,n)=>XE(e,t)||r.get(e,t,n),has:(e,t)=>!!XE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function cA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gy="@firebase/app",JE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new K_("@firebase/app"),dA="@firebase/app-compat",fA="@firebase/analytics-compat",hA="@firebase/analytics",pA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",yA="@firebase/auth-compat",_A="@firebase/database",vA="@firebase/data-connect",wA="@firebase/database-compat",EA="@firebase/functions",bA="@firebase/functions-compat",TA="@firebase/installations",SA="@firebase/installations-compat",kA="@firebase/messaging",CA="@firebase/messaging-compat",xA="@firebase/performance",IA="@firebase/performance-compat",DA="@firebase/remote-config",RA="@firebase/remote-config-compat",AA="@firebase/storage",PA="@firebase/storage-compat",NA="@firebase/firestore",OA="@firebase/vertexai",MA="@firebase/firestore-compat",LA="firebase",FA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",VA={[Gy]:"fire-core",[dA]:"fire-core-compat",[hA]:"fire-analytics",[fA]:"fire-analytics-compat",[mA]:"fire-app-check",[pA]:"fire-app-check-compat",[gA]:"fire-auth",[yA]:"fire-auth-compat",[_A]:"fire-rtdb",[vA]:"fire-data-connect",[wA]:"fire-rtdb-compat",[EA]:"fire-fn",[bA]:"fire-fn-compat",[TA]:"fire-iid",[SA]:"fire-iid-compat",[kA]:"fire-fcm",[CA]:"fire-fcm-compat",[xA]:"fire-perf",[IA]:"fire-perf-compat",[DA]:"fire-rc",[RA]:"fire-rc-compat",[AA]:"fire-gcs",[PA]:"fire-gcs-compat",[NA]:"fire-fst",[MA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,jA=new Map,Jy=new Map;function ZE(r,e){try{r.container.addComponent(e)}catch(t){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Nc(r){const e=r.name;if(Jy.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,r);for(const t of Dp.values())ZE(t,r);for(const t of jA.values())ZE(t,r);return!0}function G_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ao(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new kf("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=FA;function nk(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(t||(t=JS()),!t)throw nl.create("no-options");const o=Dp.get(i);if(o){if(Ip(t,o.options)&&Ip(n,o.config))return o;throw nl.create("duplicate-app",{appName:i})}const l=new YR(i);for(const d of Jy.values())l.addComponent(d);const u=new BA(t,n,l);return Dp.set(i,u),u}function rk(r=Xy){const e=Dp.get(r);if(!e&&r===Xy&&JS())return nk();if(!e)throw nl.create("no-app",{appName:r});return e}function rl(r,e,t){var n;let i=(n=VA[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(u.join(" "));return}Nc(new Eu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebase-heartbeat-database",WA=1,lf="firebase-heartbeat-store";let gy=null;function ik(){return gy||(gy=oA($A,WA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lf)}catch(t){console.warn(t)}}}}).catch(r=>{throw nl.create("idb-open",{originalErrorMessage:r.message})})),gy}async function HA(r){try{const t=(await ik()).transaction(lf),n=await t.objectStore(lf).get(sk(r));return await t.done,n}catch(e){if(e instanceof Ds)oa.warn(e.message);else{const t=nl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(t.message)}}}async function eb(r,e){try{const n=(await ik()).transaction(lf,"readwrite");await n.objectStore(lf).put(e,sk(r)),await n.done}catch(t){if(t instanceof Ds)oa.warn(t.message);else{const n=nl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oa.warn(n.message)}}}function sk(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1024,qA=30*24*60*60*1e3;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=qA}),this._storage.overwrite(this._heartbeatsCache))}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tb(),{heartbeatsToSend:n,unsentEntries:i}=KA(this._heartbeatsCache.heartbeats),o=xp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oa.warn(t),""}}}function tb(){return new Date().toISOString().substring(0,10)}function KA(r,e=zA){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),nb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nb(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nb(r){return xp(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r){Nc(new Eu("platform-logger",e=>new uA(e),"PRIVATE")),Nc(new Eu("heartbeat",e=>new YA(e),"PRIVATE")),rl(Gy,JE,r),rl(Gy,JE,"esm2017"),rl("fire-js","")}GA("");var XA="firebase",JA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl(XA,JA,"app");function X_(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function ok(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZA=ok,ak=new kf("auth","Firebase",ok());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new K_("@firebase/auth");function eP(r,...e){Rp.logLevel<=pt.WARN&&Rp.warn(`Auth (${Gc}): ${r}`,...e)}function sp(r,...e){Rp.logLevel<=pt.ERROR&&Rp.error(`Auth (${Gc}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,...e){throw J_(r,...e)}function uo(r,...e){return J_(r,...e)}function lk(r,e,t){const n=Object.assign(Object.assign({},ZA()),{[e]:t});return new kf("auth","Firebase",n).create(e,{appName:r.name})}function Zo(r){return lk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J_(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return ak.create(r,...e)}function Ge(r,e,...t){if(!r)throw J_(e,...t)}function Ko(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sp(e),new Error(e)}function aa(r,e){r||Ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function tP(){return rb()==="http:"||rb()==="https:"}function rb(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tP()||AR()||"connection"in navigator)?navigator.onLine:!0}function rP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.shortDelay=e,this.longDelay=t,aa(t>e,"Short delay should be less than long delay!"),this.isMobile=IR()||PR()}get(){return nP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r,e){aa(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new xf(3e4,6e4);function yl(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _l(r,e,t,n,i={}){return ck(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const u=Cf(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const h=Object.assign({method:e,headers:d},o);return RR()||(h.referrerPolicy="no-referrer"),uk.fetch()(dk(r,r.config.apiHost,t,u),h)})}async function ck(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},iP),e);try{const i=new aP(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw $h(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw $h(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw $h(r,"user-disabled",l);const g=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw lk(r,g,h);Ss(r,g)}}catch(i){if(i instanceof Ds)throw i;Ss(r,"network-request-failed",{message:String(i)})}}async function If(r,e,t,n,i={}){const o=await _l(r,e,t,n,i);return"mfaPendingCredential"in o&&Ss(r,"multi-factor-auth-required",{_serverResponse:o}),o}function dk(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Z_(r.config,i):`${r.config.apiScheme}://${i}`}function oP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(uo(this.auth,"network-request-failed")),sP.get())})}}function $h(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=uo(r,e,n);return i.customData._tokenResponse=t,i}function ib(r){return r!==void 0&&r.enterprise!==void 0}class lP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uP(r,e){return _l(r,"GET","/v2/recaptchaConfig",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(r,e){return _l(r,"POST","/v1/accounts:delete",e)}async function fk(r,e){return _l(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dP(r,e=!1){const t=Kn(r),n=await t.getIdToken(e),i=ev(n);Ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Zd(yy(i.auth_time)),issuedAtTime:Zd(yy(i.iat)),expirationTime:Zd(yy(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yy(r){return Number(r)*1e3}function ev(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=GS(t);return i?JSON.parse(i):(sp("Failed to decode base64 JWT payload"),null)}catch(i){return sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sb(r){const e=ev(r);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ds&&fP(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function fP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(r){var e;const t=r.auth,n=await r.getIdToken(),i=await uf(r,fk(t,{idToken:n}));Ge(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hk(o.providerUserInfo):[],u=mP(r.providerData,l),d=r.isAnonymous,h=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=d?h:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new e_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function pP(r){const e=Kn(r);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mP(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function hk(r){return r.map(e=>{var{providerId:t}=e,n=X_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(r,e){const t=await ck(r,{},async()=>{const n=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=dk(r,i,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",uk.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yP(r,e){return _l(r,"POST","/v2/accounts:revokeToken",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=sb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await gP(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new xc;return n&&(Ge(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(r,e){Ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qo{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=X_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new e_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uf(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dP(this,e)}reload(){return pP(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ap(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ao(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await uf(this,cP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,u,d,h,g;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,D=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:G,isAnonymous:re,providerData:ce,stsTokenManager:F}=t;Ge(W&&F,e,"internal-error");const N=xc.fromJSON(this.name,F);Ge(typeof W=="string",e,"internal-error"),Ha(_,e.name),Ha(v,e.name),Ge(typeof G=="boolean",e,"internal-error"),Ge(typeof re=="boolean",e,"internal-error"),Ha(T,e.name),Ha(C,e.name),Ha(D,e.name),Ha(R,e.name),Ha(L,e.name),Ha(j,e.name);const M=new Qo({uid:W,auth:e,email:v,emailVerified:G,displayName:_,isAnonymous:re,photoURL:C,phoneNumber:T,tenantId:D,stsTokenManager:N,createdAt:L,lastLoginAt:j});return ce&&Array.isArray(ce)&&(M.providerData=ce.map(U=>Object.assign({},U))),R&&(M._redirectEventId=R),M}static async _fromIdTokenResponse(e,t,n=!1){const i=new xc;i.updateFromServerResponse(t);const o=new Qo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ap(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new xc;u.updateFromIdToken(n);const d=new Qo({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new e_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;function Go(r){aa(r instanceof Function,"Expected a class definition");let e=ob.get(r);return e?(aa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ob.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pk.type="NONE";const ab=pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r,e,t){return`firebase:${r}:${e}:${t}`}class Ic{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,o),this.fullPersistenceKey=op("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ic(Go(ab),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Go(ab);const l=op(n,e.config.apiKey,e.name);let u=null;for(const h of t)try{const g=await h._get(l);if(g){const _=Qo._fromJSON(e,g);h!==o&&(u=_),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ic(o,e,n):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Ic(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wk(e))return"Blackberry";if(Ek(e))return"Webos";if(gk(e))return"Safari";if((e.includes("chrome/")||yk(e))&&!e.includes("edge/"))return"Chrome";if(vk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function mk(r=Ir()){return/firefox\//i.test(r)}function gk(r=Ir()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yk(r=Ir()){return/crios\//i.test(r)}function _k(r=Ir()){return/iemobile/i.test(r)}function vk(r=Ir()){return/android/i.test(r)}function wk(r=Ir()){return/blackberry/i.test(r)}function Ek(r=Ir()){return/webos/i.test(r)}function tv(r=Ir()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _P(r=Ir()){var e;return tv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vP(){return NR()&&document.documentMode===10}function bk(r=Ir()){return tv(r)||vk(r)||Ek(r)||wk(r)||/windows phone/i.test(r)||_k(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(r,e=[]){let t;switch(r){case"Browser":t=lb(Ir());break;case"Worker":t=`${lb(Ir())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(r,e={}){return _l(r,"GET","/v2/passwordPolicy",yl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=6;class TP{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:bP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ub(this),this.idTokenSubscription=new ub(this),this.beforeStateQueue=new wP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Go(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fk(this,{idToken:e}),n=await Qo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ao(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ao(this.app))return Promise.reject(Zo(this));const t=e?Kn(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ao(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ao(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EP(this),t=new TP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await yP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Go(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[Go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Du(r){return Kn(r)}class ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kP(r){_m=r}function Sk(r){return _m.loadJS(r)}function CP(){return _m.recaptchaEnterpriseScript}function xP(){return _m.gapiScript}function IP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DP{constructor(){this.enterprise=new RP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AP="recaptcha-enterprise",kk="NO_RECAPTCHA";class PP{constructor(e){this.type=AP,this.auth=Du(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{uP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new lP(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;ib(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(kk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(u=>{if(!t&&ib(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CP();d.length!==0&&(d+=u),Sk(d).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function cb(r,e,t,n=!1,i=!1){const o=new PP(r);let l;if(i)l=kk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function t_(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cb(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await cb(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(r,e){const t=G_(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ip(o,e??{}))return i;Ss(i,"already-initialized")}return t.initialize({options:e})}function OP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Go);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function MP(r,e,t){const n=Du(r);Ge(n._canInitEmulator,n,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Ck(e),{host:l,port:u}=LP(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),FP()}function Ck(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LP(r){const e=Ck(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:db(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:db(l)}}}function db(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function FP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ko("not implemented")}_getIdTokenResponse(e){return Ko("not implemented")}_linkToIdToken(e,t){return Ko("not implemented")}_getReauthenticationResolver(e){return Ko("not implemented")}}async function VP(r,e){return _l(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(r,e){return If(r,"POST","/v1/accounts:signInWithPassword",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(r,e){return If(r,"POST","/v1/accounts:signInWithEmailLink",yl(r,e))}async function BP(r,e){return If(r,"POST","/v1/accounts:signInWithEmailLink",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends nv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new cf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,t,"signInWithPassword",jP);case"emailLink":return UP(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,n,"signUpPassword",VP);case"emailLink":return BP(e,{idToken:t,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(r,e){return If(r,"POST","/v1/accounts:signInWithIdp",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="http://localhost";class bu extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ss("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=X_(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new bu(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dc(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dc(e,t)}buildRequest(){const e={requestUri:$P,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HP(r){const e=Wd(Hd(r)).link,t=e?Wd(Hd(e)).deep_link_id:null,n=Wd(Hd(r)).deep_link_id;return(n?Wd(Hd(n)).link:null)||n||t||e||r}class rv{constructor(e){var t,n,i,o,l,u;const d=Wd(Hd(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(n=d.oobCode)!==null&&n!==void 0?n:null,_=WP((i=d.mode)!==null&&i!==void 0?i:null);Ge(h&&g&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=HP(e);try{return new rv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.providerId=Xc.PROVIDER_ID}static credential(e,t){return cf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rv.parseLink(t);return Ge(n,"argument-error"),cf._fromEmailAndCode(e,n.code,n.tenantId)}}Xc.PROVIDER_ID="password";Xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends xk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Df{constructor(){super("facebook.com")}static credential(e){return bu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bu._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Qa.credential(t,n)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Df{constructor(){super("github.com")}static credential(e){return bu._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Df{constructor(){super("twitter.com")}static credential(e,t){return bu._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xa.credential(t,n)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(r,e){return If(r,"POST","/v1/accounts:signUp",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Qo._fromIdTokenResponse(e,n,i),l=fb(n);return new Tu({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=fb(n);return new Tu({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function fb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Ds{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Pp(e,t,n,i)}}function Ik(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Pp._fromErrorAndOperation(r,o,e,n):o})}async function qP(r,e,t=!1){const n=await uf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Tu._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(r,e,t=!1){const{auth:n}=r;if(ao(n.app))return Promise.reject(Zo(n));const i="reauthenticate";try{const o=await uf(r,Ik(n,i,e,r),t);Ge(o.idToken,n,"internal-error");const l=ev(o.idToken);Ge(l,n,"internal-error");const{sub:u}=l;return Ge(r.uid===u,n,"user-mismatch"),Tu._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ss(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(r,e,t=!1){if(ao(r.app))return Promise.reject(Zo(r));const n="signIn",i=await Ik(r,n,e),o=await Tu._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function KP(r,e){return Dk(Du(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(r){const e=Du(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QP(r,e,t){if(ao(r.app))return Promise.reject(Zo(r));const n=Du(r),l=await t_(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Rk(r),d}),u=await Tu._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function GP(r,e,t){return ao(r.app)?Promise.reject(Zo(r)):KP(Kn(r),Xc.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Rk(r),n})}function XP(r,e,t,n){return Kn(r).onIdTokenChanged(e,t,n)}function JP(r,e,t){return Kn(r).beforeAuthStateChanged(e,t)}function ZP(r){return Kn(r).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1e3,tN=10;class Pk extends Ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);vP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tN):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pk.type="LOCAL";const nN=Pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk extends Ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nk.type="SESSION";const Ok=Nk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new vm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,o)),d=await rN(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=iv("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(){return window}function sN(r){co().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof co().WorkerGlobalScope<"u"&&typeof co().importScripts=="function"}async function oN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lN(){return Mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebaseLocalStorageDb",uN=1,Op="firebaseLocalStorage",Fk="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wm(r,e){return r.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function cN(){const r=indexedDB.deleteDatabase(Lk);return new Rf(r).toPromise()}function n_(){const r=indexedDB.open(Lk,uN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Op,{keyPath:Fk})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Op)?e(n):(n.close(),await cN(),e(await n_()))})})}async function hb(r,e,t){const n=wm(r,!0).put({[Fk]:e,value:t});return new Rf(n).toPromise()}async function dN(r,e){const t=wm(r,!1).get(e),n=await new Rf(t).toPromise();return n===void 0?null:n.value}function pb(r,e){const t=wm(r,!0).delete(e);return new Rf(t).toPromise()}const fN=800,hN=3;class Vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>hN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(lN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new iN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await hb(e,Np,"1"),await pb(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>dN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wm(i,!1).getAll();return new Rf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vk.type="LOCAL";const pN=Vk;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r,e){return e?Go(e):(Ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gN(r){return Dk(r.auth,new sv(r),r.bypassAuthState)}function yN(r){const{auth:e,user:t}=r;return Ge(t,e,"internal-error"),YP(t,new sv(r),r.bypassAuthState)}async function _N(r){const{auth:e,user:t}=r;return Ge(t,e,"internal-error"),qP(t,new sv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gN;case"linkViaPopup":case"linkViaRedirect":return _N;case"reauthViaPopup":case"reauthViaRedirect":return yN;default:Ss(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new xf(2e3,1e4);class kc extends jk{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,kc.currentPopupAction&&kc.currentPopupAction.cancel(),kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vN.get())};e()}}kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="pendingRedirect",ap=new Map;class EN extends jk{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const n=await bN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bN(r,e){const t=kN(e),n=SN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function TN(r,e){ap.set(r._key(),e)}function SN(r){return Go(r._redirectPersistence)}function kN(r){return op(wN,r.config.apiKey,r.name)}async function CN(r,e,t=!1){if(ao(r.app))return Promise.reject(Zo(r));const n=Du(r),i=mN(n,e),l=await new EN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=10*60*1e3;class IN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Uk(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Uk({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uk(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e={}){return _l(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function NN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RN(r);for(const t of e)try{if(ON(t))return}catch{}Ss(r,"unauthorized-domain")}function ON(r){const e=Zy(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!PN.test(t))return!1;if(AN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new xf(3e4,6e4);function gb(){const r=co().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function LN(r){return new Promise((e,t)=>{var n,i,o;function l(){gb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gb(),t(uo(r,"network-request-failed"))},timeout:MN.get()})}if(!((i=(n=co().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=co().gapi)===null||o===void 0)&&o.load)l();else{const u=IP("iframefcb");return co()[u]=()=>{gapi.load?l():t(uo(r,"network-request-failed"))},Sk(`${xP()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw lp=null,e})}let lp=null;function FN(r){return lp=lp||LN(r),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new xf(5e3,15e3),jN="__/auth/iframe",UN="emulator/auth/iframe",BN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WN(r){const e=r.config;Ge(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Z_(e,UN):`https://${r.config.authDomain}/${jN}`,n={apiKey:e.apiKey,appName:r.name,v:Gc},i=$N.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Cf(n).slice(1)}`}async function HN(r){const e=await FN(r),t=co().gapi;return Ge(t,r,"internal-error"),e.open({where:document.body,url:WN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=uo(r,"network-request-failed"),u=co().setTimeout(()=>{o(l)},VN.get());function d(){co().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qN=500,YN=600,KN="_blank",QN="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GN(r,e,t,n=qN,i=YN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},zN),{width:n.toString(),height:i.toString(),top:o,left:l}),h=Ir().toLowerCase();t&&(u=yk(h)?KN:t),mk(h)&&(e=e||QN,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,C])=>`${v}${T}=${C},`,"");if(_P(h)&&u!=="_self")return XN(e||"",u),new yb(null);const _=window.open(e||"",u,g);Ge(_,r,"popup-blocked");try{_.focus()}catch{}return new yb(_)}function XN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__/auth/handler",ZN="emulator/auth/handler",e1=encodeURIComponent("fac");async function _b(r,e,t,n,i,o){Ge(r.config.authDomain,r,"auth-domain-config-required"),Ge(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Gc,eventId:i};if(e instanceof xk){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",UR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Df){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await r._getAppCheckToken(),h=d?`#${e1}=${encodeURIComponent(d)}`:"";return`${t1(r)}?${Cf(u).slice(1)}${h}`}function t1({config:r}){return r.emulator?Z_(r,ZN):`https://${r.authDomain}/${JN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class n1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ok,this._completeRedirectFn=CN,this._overrideRedirectResult=TN}async _openPopup(e,t,n,i){var o;aa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _b(e,t,n,Zy(),i);return GN(e,l,iv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await _b(e,t,n,Zy(),i);return sN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(aa(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await HN(e),n=new IN(e);return t.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_y,{type:_y},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_y];l!==void 0&&t(!!l),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bk()||gk()||tv()}}const r1=n1;var vb="@firebase/auth",wb="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o1(r){Nc(new Eu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tk(r)},h=new SP(n,i,o,d);return OP(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Nc(new Eu("auth-internal",e=>{const t=Du(e.getProvider("auth").getImmediate());return(n=>new i1(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rl(vb,wb,s1(r)),rl(vb,wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=5*60,l1=ZS("authIdTokenMaxAge")||a1;let Eb=null;const u1=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>l1)return;const i=t==null?void 0:t.token;Eb!==i&&(Eb=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c1(r=rk()){const e=G_(r,"auth");if(e.isInitialized())return e.getImmediate();const t=NP(r,{popupRedirectResolver:r1,persistence:[pN,nN,Ok]}),n=ZS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=u1(o.toString());JP(t,l,()=>l(t.currentUser)),XP(t,u=>l(u))}}const i=XS("auth");return i&&MP(t,`http://${i}`),t}function d1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}kP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=uo("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",d1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o1("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var il,Bk;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,N){function M(){}M.prototype=N.prototype,F.D=N.prototype,F.prototype=new M,F.prototype.constructor=F,F.C=function(U,$,H){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return N.prototype[$].apply(U,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,N,M){M||(M=0);var U=Array(16);if(typeof N=="string")for(var $=0;16>$;++$)U[$]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for($=0;16>$;++$)U[$]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=F.g[0],M=F.g[1],$=F.g[2];var H=F.g[3],V=N+(H^M&($^H))+U[0]+3614090360&4294967295;N=M+(V<<7&4294967295|V>>>25),V=H+($^N&(M^$))+U[1]+3905402710&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(M^H&(N^M))+U[2]+606105819&4294967295,$=H+(V<<17&4294967295|V>>>15),V=M+(N^$&(H^N))+U[3]+3250441966&4294967295,M=$+(V<<22&4294967295|V>>>10),V=N+(H^M&($^H))+U[4]+4118548399&4294967295,N=M+(V<<7&4294967295|V>>>25),V=H+($^N&(M^$))+U[5]+1200080426&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(M^H&(N^M))+U[6]+2821735955&4294967295,$=H+(V<<17&4294967295|V>>>15),V=M+(N^$&(H^N))+U[7]+4249261313&4294967295,M=$+(V<<22&4294967295|V>>>10),V=N+(H^M&($^H))+U[8]+1770035416&4294967295,N=M+(V<<7&4294967295|V>>>25),V=H+($^N&(M^$))+U[9]+2336552879&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(M^H&(N^M))+U[10]+4294925233&4294967295,$=H+(V<<17&4294967295|V>>>15),V=M+(N^$&(H^N))+U[11]+2304563134&4294967295,M=$+(V<<22&4294967295|V>>>10),V=N+(H^M&($^H))+U[12]+1804603682&4294967295,N=M+(V<<7&4294967295|V>>>25),V=H+($^N&(M^$))+U[13]+4254626195&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(M^H&(N^M))+U[14]+2792965006&4294967295,$=H+(V<<17&4294967295|V>>>15),V=M+(N^$&(H^N))+U[15]+1236535329&4294967295,M=$+(V<<22&4294967295|V>>>10),V=N+($^H&(M^$))+U[1]+4129170786&4294967295,N=M+(V<<5&4294967295|V>>>27),V=H+(M^$&(N^M))+U[6]+3225465664&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^M&(H^N))+U[11]+643717713&4294967295,$=H+(V<<14&4294967295|V>>>18),V=M+(H^N&($^H))+U[0]+3921069994&4294967295,M=$+(V<<20&4294967295|V>>>12),V=N+($^H&(M^$))+U[5]+3593408605&4294967295,N=M+(V<<5&4294967295|V>>>27),V=H+(M^$&(N^M))+U[10]+38016083&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^M&(H^N))+U[15]+3634488961&4294967295,$=H+(V<<14&4294967295|V>>>18),V=M+(H^N&($^H))+U[4]+3889429448&4294967295,M=$+(V<<20&4294967295|V>>>12),V=N+($^H&(M^$))+U[9]+568446438&4294967295,N=M+(V<<5&4294967295|V>>>27),V=H+(M^$&(N^M))+U[14]+3275163606&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^M&(H^N))+U[3]+4107603335&4294967295,$=H+(V<<14&4294967295|V>>>18),V=M+(H^N&($^H))+U[8]+1163531501&4294967295,M=$+(V<<20&4294967295|V>>>12),V=N+($^H&(M^$))+U[13]+2850285829&4294967295,N=M+(V<<5&4294967295|V>>>27),V=H+(M^$&(N^M))+U[2]+4243563512&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^M&(H^N))+U[7]+1735328473&4294967295,$=H+(V<<14&4294967295|V>>>18),V=M+(H^N&($^H))+U[12]+2368359562&4294967295,M=$+(V<<20&4294967295|V>>>12),V=N+(M^$^H)+U[5]+4294588738&4294967295,N=M+(V<<4&4294967295|V>>>28),V=H+(N^M^$)+U[8]+2272392833&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^M)+U[11]+1839030562&4294967295,$=H+(V<<16&4294967295|V>>>16),V=M+($^H^N)+U[14]+4259657740&4294967295,M=$+(V<<23&4294967295|V>>>9),V=N+(M^$^H)+U[1]+2763975236&4294967295,N=M+(V<<4&4294967295|V>>>28),V=H+(N^M^$)+U[4]+1272893353&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^M)+U[7]+4139469664&4294967295,$=H+(V<<16&4294967295|V>>>16),V=M+($^H^N)+U[10]+3200236656&4294967295,M=$+(V<<23&4294967295|V>>>9),V=N+(M^$^H)+U[13]+681279174&4294967295,N=M+(V<<4&4294967295|V>>>28),V=H+(N^M^$)+U[0]+3936430074&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^M)+U[3]+3572445317&4294967295,$=H+(V<<16&4294967295|V>>>16),V=M+($^H^N)+U[6]+76029189&4294967295,M=$+(V<<23&4294967295|V>>>9),V=N+(M^$^H)+U[9]+3654602809&4294967295,N=M+(V<<4&4294967295|V>>>28),V=H+(N^M^$)+U[12]+3873151461&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^M)+U[15]+530742520&4294967295,$=H+(V<<16&4294967295|V>>>16),V=M+($^H^N)+U[2]+3299628645&4294967295,M=$+(V<<23&4294967295|V>>>9),V=N+($^(M|~H))+U[0]+4096336452&4294967295,N=M+(V<<6&4294967295|V>>>26),V=H+(M^(N|~$))+U[7]+1126891415&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~M))+U[14]+2878612391&4294967295,$=H+(V<<15&4294967295|V>>>17),V=M+(H^($|~N))+U[5]+4237533241&4294967295,M=$+(V<<21&4294967295|V>>>11),V=N+($^(M|~H))+U[12]+1700485571&4294967295,N=M+(V<<6&4294967295|V>>>26),V=H+(M^(N|~$))+U[3]+2399980690&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~M))+U[10]+4293915773&4294967295,$=H+(V<<15&4294967295|V>>>17),V=M+(H^($|~N))+U[1]+2240044497&4294967295,M=$+(V<<21&4294967295|V>>>11),V=N+($^(M|~H))+U[8]+1873313359&4294967295,N=M+(V<<6&4294967295|V>>>26),V=H+(M^(N|~$))+U[15]+4264355552&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~M))+U[6]+2734768916&4294967295,$=H+(V<<15&4294967295|V>>>17),V=M+(H^($|~N))+U[13]+1309151649&4294967295,M=$+(V<<21&4294967295|V>>>11),V=N+($^(M|~H))+U[4]+4149444226&4294967295,N=M+(V<<6&4294967295|V>>>26),V=H+(M^(N|~$))+U[11]+3174756917&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~M))+U[2]+718787259&4294967295,$=H+(V<<15&4294967295|V>>>17),V=M+(H^($|~N))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+N&4294967295,F.g[1]=F.g[1]+($+(V<<21&4294967295|V>>>11))&4294967295,F.g[2]=F.g[2]+$&4294967295,F.g[3]=F.g[3]+H&4294967295}n.prototype.u=function(F,N){N===void 0&&(N=F.length);for(var M=N-this.blockSize,U=this.B,$=this.h,H=0;H<N;){if($==0)for(;H<=M;)i(this,F,H),H+=this.blockSize;if(typeof F=="string"){for(;H<N;)if(U[$++]=F.charCodeAt(H++),$==this.blockSize){i(this,U),$=0;break}}else for(;H<N;)if(U[$++]=F[H++],$==this.blockSize){i(this,U),$=0;break}}this.h=$,this.o+=N},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var N=1;N<F.length-8;++N)F[N]=0;var M=8*this.o;for(N=F.length-8;N<F.length;++N)F[N]=M&255,M/=256;for(this.u(F),F=Array(16),N=M=0;4>N;++N)for(var U=0;32>U;U+=8)F[M++]=this.g[N]>>>U&255;return F};function o(F,N){var M=u;return Object.prototype.hasOwnProperty.call(M,F)?M[F]:M[F]=N(F)}function l(F,N){this.h=N;for(var M=[],U=!0,$=F.length-1;0<=$;$--){var H=F[$]|0;U&&H==N||(M[$]=H,U=!1)}this.g=M}var u={};function d(F){return-128<=F&&128>F?o(F,function(N){return new l([N|0],0>N?-1:0)}):new l([F|0],0>F?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return _;if(0>F)return R(h(-F));for(var N=[],M=1,U=0;F>=M;U++)N[U]=F/M|0,M*=4294967296;return new l(N,0)}function g(F,N){if(F.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(F.charAt(0)=="-")return R(g(F.substring(1),N));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(N,8)),U=_,$=0;$<F.length;$+=8){var H=Math.min(8,F.length-$),V=parseInt(F.substring($,$+H),N);8>H?(H=h(Math.pow(N,H)),U=U.j(H).add(h(V))):(U=U.j(M),U=U.add(h(V)))}return U}var _=d(0),v=d(1),T=d(16777216);r=l.prototype,r.m=function(){if(D(this))return-R(this).m();for(var F=0,N=1,M=0;M<this.g.length;M++){var U=this.i(M);F+=(0<=U?U:4294967296+U)*N,N*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(C(this))return"0";if(D(this))return"-"+R(this).toString(F);for(var N=h(Math.pow(F,6)),M=this,U="";;){var $=G(M,N).g;M=L(M,$.j(N));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(F);if(M=$,C(M))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function C(F){if(F.h!=0)return!1;for(var N=0;N<F.g.length;N++)if(F.g[N]!=0)return!1;return!0}function D(F){return F.h==-1}r.l=function(F){return F=L(this,F),D(F)?-1:C(F)?0:1};function R(F){for(var N=F.g.length,M=[],U=0;U<N;U++)M[U]=~F.g[U];return new l(M,~F.h).add(v)}r.abs=function(){return D(this)?R(this):this},r.add=function(F){for(var N=Math.max(this.g.length,F.g.length),M=[],U=0,$=0;$<=N;$++){var H=U+(this.i($)&65535)+(F.i($)&65535),V=(H>>>16)+(this.i($)>>>16)+(F.i($)>>>16);U=V>>>16,H&=65535,V&=65535,M[$]=V<<16|H}return new l(M,M[M.length-1]&-2147483648?-1:0)};function L(F,N){return F.add(R(N))}r.j=function(F){if(C(this)||C(F))return _;if(D(this))return D(F)?R(this).j(R(F)):R(R(this).j(F));if(D(F))return R(this.j(R(F)));if(0>this.l(T)&&0>F.l(T))return h(this.m()*F.m());for(var N=this.g.length+F.g.length,M=[],U=0;U<2*N;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var $=0;$<F.g.length;$++){var H=this.i(U)>>>16,V=this.i(U)&65535,Ae=F.i($)>>>16,je=F.i($)&65535;M[2*U+2*$]+=V*je,j(M,2*U+2*$),M[2*U+2*$+1]+=H*je,j(M,2*U+2*$+1),M[2*U+2*$+1]+=V*Ae,j(M,2*U+2*$+1),M[2*U+2*$+2]+=H*Ae,j(M,2*U+2*$+2)}for(U=0;U<N;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=N;U<2*N;U++)M[U]=0;return new l(M,0)};function j(F,N){for(;(F[N]&65535)!=F[N];)F[N+1]+=F[N]>>>16,F[N]&=65535,N++}function W(F,N){this.g=F,this.h=N}function G(F,N){if(C(N))throw Error("division by zero");if(C(F))return new W(_,_);if(D(F))return N=G(R(F),N),new W(R(N.g),R(N.h));if(D(N))return N=G(F,R(N)),new W(R(N.g),N.h);if(30<F.g.length){if(D(F)||D(N))throw Error("slowDivide_ only works with positive integers.");for(var M=v,U=N;0>=U.l(F);)M=re(M),U=re(U);var $=ce(M,1),H=ce(U,1);for(U=ce(U,2),M=ce(M,2);!C(U);){var V=H.add(U);0>=V.l(F)&&($=$.add(M),H=V),U=ce(U,1),M=ce(M,1)}return N=L(F,$.j(N)),new W($,N)}for($=_;0<=F.l(N);){for(M=Math.max(1,Math.floor(F.m()/N.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=h(M),V=H.j(N);D(V)||0<V.l(F);)M-=U,H=h(M),V=H.j(N);C(H)&&(H=v),$=$.add(H),F=L(F,V)}return new W($,F)}r.A=function(F){return G(this,F).h},r.and=function(F){for(var N=Math.max(this.g.length,F.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)&F.i(U);return new l(M,this.h&F.h)},r.or=function(F){for(var N=Math.max(this.g.length,F.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)|F.i(U);return new l(M,this.h|F.h)},r.xor=function(F){for(var N=Math.max(this.g.length,F.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)^F.i(U);return new l(M,this.h^F.h)};function re(F){for(var N=F.g.length+1,M=[],U=0;U<N;U++)M[U]=F.i(U)<<1|F.i(U-1)>>>31;return new l(M,F.h)}function ce(F,N){var M=N>>5;N%=32;for(var U=F.g.length-M,$=[],H=0;H<U;H++)$[H]=0<N?F.i(H+M)>>>N|F.i(H+M+1)<<32-N:F.i(H+M);return new l($,F.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Bk=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,il=l}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $k,zd,Wk,up,r_,Hk,zk,qk;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,S){return f==Array.prototype||f==Object.prototype||(f[w]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var w=0;w<f.length;++w){var S=f[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var n=t(this);function i(f,w){if(w)e:{var S=n;f=f.split(".");for(var O=0;O<f.length-1;O++){var J=f[O];if(!(J in S))break e;S=S[J]}f=f[f.length-1],O=S[f],w=w(O),w!=O&&w!=null&&e(S,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var S=0,O=!1,J={next:function(){if(!O&&S<f.length){var se=S++;return{value:w(se,f[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,S){return f.call.apply(f.bind,arguments)}function _(f,w,S){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),f.apply(w,J)}}return function(){return f.apply(w,arguments)}}function v(f,w,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(f,w){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,w){function S(){}S.prototype=w.prototype,f.aa=w.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(O,J,se){for(var ve=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ve[Ct-2]=arguments[Ct];return w.prototype[J].apply(O,ve)}}function D(f){const w=f.length;if(0<w){const S=Array(w);for(let O=0;O<w;O++)S[O]=f[O];return S}return[]}function R(f,w){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(d(O)){const J=f.length||0,se=O.length||0;f.length=J+se;for(let ve=0;ve<se;ve++)f[J+ve]=O[ve]}else f.push(O)}}class L{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function j(f){return/^[\s\xa0]*$/.test(f)}function W(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var re=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ce(f,w,S){for(const O in f)w.call(S,f[O],O,f)}function F(f,w){for(const S in f)w.call(void 0,f[S],S,f)}function N(f){const w={};for(const S in f)w[S]=f[S];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,w){let S,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(S in O)f[S]=O[S];for(let se=0;se<M.length;se++)S=M[se],Object.prototype.hasOwnProperty.call(O,S)&&(f[S]=O[S])}}function $(f){var w=1;f=f.split(":");const S=[];for(;0<w&&f.length;)S.push(f.shift()),w--;return f.length&&S.push(f.join(":")),S}function H(f){u.setTimeout(()=>{throw f},0)}function V(){var f=be;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class Ae{constructor(){this.h=this.g=null}add(w,S){const O=je.get();O.set(w,S),this.h?this.h.next=O:this.g=O,this.h=O}}var je=new L(()=>new Ee,f=>f.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,be=new Ae,Q=()=>{const f=u.Promise.resolve(void 0);we=()=>{f.then(Y)}};var Y=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(S){H(S)}var w=je;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}ie=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,w),u.removeEventListener("test",S,w)}catch{}return f}();function Ke(f,w){if(ke.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(re){e:{try{G(w.nodeName);var J=!0;break e}catch{}J=!1}J||(w=null)}}else S=="mouseover"?w=f.fromElement:S=="mouseout"&&(w=f.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Qe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ke.aa.h.call(this)}}C(Ke,ke);var Qe={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ct(f,w,S,O,J){this.listener=f,this.proxy=null,this.src=w,this.type=S,this.capture=!!O,this.ha=J,this.key=++ye,this.da=this.fa=!1}function $t(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cr(f){this.src=f,this.g={},this.h=0}cr.prototype.add=function(f,w,S,O,J){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var ve=wn(f,w,O,J);return-1<ve?(w=f[ve],S||(w.fa=!1)):(w=new ct(w,this.src,se,!!O,J),w.fa=S,f.push(w)),w};function Dr(f,w){var S=w.type;if(S in f.g){var O=f.g[S],J=Array.prototype.indexOf.call(O,w,void 0),se;(se=0<=J)&&Array.prototype.splice.call(O,J,1),se&&($t(w),f.g[S].length==0&&(delete f.g[S],f.h--))}}function wn(f,w,S,O){for(var J=0;J<f.length;++J){var se=f[J];if(!se.da&&se.listener==w&&se.capture==!!S&&se.ha==O)return J}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),dt={};function Xn(f,w,S,O,J){if(Array.isArray(w)){for(var se=0;se<w.length;se++)Xn(f,w[se],S,O,J);return null}return S=dr(S),f&&f[st]?f.K(w,S,h(O)?!!O.capture:!1,J):ci(f,w,S,!1,O,J)}function ci(f,w,S,O,J,se){if(!w)throw Error("Invalid event type");var ve=h(J)?!!J.capture:!!J,Ct=Ps(f);if(Ct||(f[Gn]=Ct=new cr(f)),S=Ct.add(w,S,O,ve,se),S.proxy)return S;if(O=pa(),S.proxy=O,O.src=f,O.listener=S,f.addEventListener)Be||(J=ve),J===void 0&&(J=!1),f.addEventListener(w.toString(),O,J);else if(f.attachEvent)f.attachEvent(fi(w.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function pa(){function f(S){return w.call(f.src,f.listener,S)}const w=wo;return f}function As(f,w,S,O,J){if(Array.isArray(w))for(var se=0;se<w.length;se++)As(f,w[se],S,O,J);else O=h(O)?!!O.capture:!!O,S=dr(S),f&&f[st]?(f=f.i,w=String(w).toString(),w in f.g&&(se=f.g[w],S=wn(se,S,O,J),-1<S&&($t(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete f.g[w],f.h--)))):f&&(f=Ps(f))&&(w=f.g[w.toString()],f=-1,w&&(f=wn(w,S,O,J)),(S=-1<f?w[f]:null)&&di(S))}function di(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[st])Dr(w.i,f);else{var S=f.type,O=f.proxy;w.removeEventListener?w.removeEventListener(S,O,f.capture):w.detachEvent?w.detachEvent(fi(S),O):w.addListener&&w.removeListener&&w.removeListener(O),(S=Ps(w))?(Dr(S,f),S.h==0&&(S.src=null,w[Gn]=null)):$t(f)}}}function fi(f){return f in dt?dt[f]:dt[f]="on"+f}function wo(f,w){if(f.da)f=!0;else{w=new Ke(w,this);var S=f.listener,O=f.ha||f.src;f.fa&&di(f),f=S.call(O,w)}return f}function Ps(f){return f=f[Gn],f instanceof cr?f:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(f){return typeof f=="function"?f:(f[qr]||(f[qr]=function(w){return f.handleEvent(w)}),f[qr])}function ze(){le.call(this),this.i=new cr(this),this.M=this,this.F=null}C(ze,le),ze.prototype[st]=!0,ze.prototype.removeEventListener=function(f,w,S,O){As(this,f,w,S,O)};function Tt(f,w){var S,O=f.F;if(O)for(S=[];O;O=O.F)S.push(O);if(f=f.M,O=w.type||w,typeof w=="string")w=new ke(w,f);else if(w instanceof ke)w.target=w.target||f;else{var J=w;w=new ke(O,f),U(w,J)}if(J=!0,S)for(var se=S.length-1;0<=se;se--){var ve=w.g=S[se];J=Cn(ve,O,!0,w)&&J}if(ve=w.g=f,J=Cn(ve,O,!0,w)&&J,J=Cn(ve,O,!1,w)&&J,S)for(se=0;se<S.length;se++)ve=w.g=S[se],J=Cn(ve,O,!1,w)&&J}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var S=f.g[w],O=0;O<S.length;O++)$t(S[O]);delete f.g[w],f.h--}}this.F=null},ze.prototype.K=function(f,w,S,O){return this.i.add(String(f),w,!1,S,O)},ze.prototype.L=function(f,w,S,O){return this.i.add(String(f),w,!0,S,O)};function Cn(f,w,S,O){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,se=0;se<w.length;++se){var ve=w[se];if(ve&&!ve.da&&ve.capture==S){var Ct=ve.listener,pn=ve.ha||ve.src;ve.fa&&Dr(f.i,ve),J=Ct.call(pn,O)!==!1&&J}}return J&&!O.defaultPrevented}function Oi(f,w,S){if(typeof f=="function")S&&(f=v(f,S));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function hi(f){f.g=Oi(()=>{f.g=null,f.i&&(f.i=!1,hi(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Eo extends le{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(f){le.call(this),this.h=f,this.g={}}C(rs,le);var El=[];function bl(f){ce(f.g,function(w,S){this.g.hasOwnProperty(S)&&di(w)},f),f.g={}}rs.prototype.N=function(){rs.aa.N.call(this),bl(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tl=u.JSON.stringify,Sl=u.JSON.parse,kl=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function bo(){}bo.prototype.h=null;function To(f){return f.h||(f.h=f.i())}function is(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ke.call(this,"d")}C(pi,ke);function ma(){ke.call(this,"c")}C(ma,ke);var Mi={},Cl=null;function So(){return Cl=Cl||new ze}Mi.La="serverreachability";function Li(f){ke.call(this,Mi.La,f)}C(Li,ke);function Ar(f){const w=So();Tt(w,new Li(w))}Mi.STAT_EVENT="statevent";function xl(f,w){ke.call(this,Mi.STAT_EVENT,f),this.stat=w}C(xl,ke);function Jt(f){const w=So();Tt(w,new xl(w,f))}Mi.Ma="timingevent";function ga(f,w){ke.call(this,Mi.Ma,f),this.size=w}C(ga,ke);function mi(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function ss(f,w,S,O,J,se){f.info(function(){if(f.g)if(se)for(var ve="",Ct=se.split("&"),pn=0;pn<Ct.length;pn++){var ft=Ct[pn].split("=");if(1<ft.length){var Nt=ft[0];ft=ft[1];var tn=Nt.split("_");ve=2<=tn.length&&tn[1]=="type"?ve+(Nt+"="+ft+"&"):ve+(Nt+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+w+`
`+S+`
`+ve})}function gi(f,w,S,O,J,se,ve){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+w+`
`+S+`
`+se+" "+ve})}function fr(f,w,S,O){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Dl(f,S)+(O?" "+O:"")})}function Il(f,w){f.info(function(){return"TIMEOUT: "+w})}ko.prototype.info=function(){};function Dl(f,w){if(!f.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var O=S[f];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return Tl(S)}catch{return w}}var ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function Zt(){}C(Zt,bo),Zt.prototype.g=function(){return new XMLHttpRequest},Zt.prototype.i=function(){return{}},Nn=new Zt;function Kt(f,w,S,O){this.j=f,this.i=w,this.l=S,this.R=O||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var fn={},os={};function yi(f,w,S){f.L=1,f.v=Vi(Zn(w)),f.m=S,f.P=!0,_i(f,null)}function _i(f,w){f.F=Date.now(),Pt(f),f.A=Zn(f.v);var S=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),us(S.i,"t",O),f.C=0,S=f.j.J,f.h=new On,f.g=Hu(f.j,S?w:null,!f.m),0<f.O&&(f.M=new Eo(v(f.Y,f,f.g),f.O)),w=f.U,S=f.g,O=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(El[0]=J.toString()),J=El);for(var se=0;se<J.length;se++){var ve=Xn(S,J[se],O||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Ar(),ss(f.i,f.u,f.A,f.l,f.R,f.m)}Kt.prototype.ca=function(f){f=f.target;const w=this.M;w&&nr(f)==3?w.j():this.Y(f)},Kt.prototype.Y=function(f){try{if(f==this.g)e:{const tn=nr(this.g);var w=this.g.Ba();const Lr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||tn!=4||w==7||(w==8||0>=Lr?Ar(3):Ar(2)),Ns(this);var S=this.g.Z();this.X=S;t:if(as(this)){var O=Ta(this.g);f="";var J=O.length,se=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),Fi(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,f+=this.h.i.decode(O[w],{stream:!(se&&w==J-1)});O.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=S==200,gi(this.i,this.u,this.A,this.l,this.R,tn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,pn=this.g;if((Ct=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ct)){var ft=Ct;break t}}ft=null}if(S=ft)fr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,S);else{this.o=!1,this.s=3,Jt(12),hr(this),Fi(this);break e}}if(this.P){S=!0;let yr;for(;!this.J&&this.C<ve.length;)if(yr=Lu(this,ve),yr==os){tn==4&&(this.s=4,Jt(14),S=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==fn){this.s=4,Jt(15),fr(this.i,this.l,ve,"[Invalid Chunk]"),S=!1;break}else fr(this.i,this.l,yr,null),_a(this,yr);if(as(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ve.length!=0||this.h.h||(this.s=1,Jt(16),S=!1),this.o=this.o&&S,!S)fr(this.i,this.l,ve,"[Invalid Chunked Response]"),hr(this),Fi(this);else if(0<ve.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ca(Nt),Nt.M=!0,Jt(11))}}else fr(this.i,this.l,ve,null),_a(this,ve);tn==4&&hr(this),this.o&&!this.J&&(tn==4?js(this.j,this):(this.o=!1,Pt(this)))}else Po(this.g),S==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),hr(this),Fi(this)}}}catch{}finally{}};function as(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Lu(f,w){var S=f.C,O=w.indexOf(`
`,S);return O==-1?os:(S=Number(w.substring(S,O)),isNaN(S)?fn:(O+=1,O+S>w.length?os:(w=w.slice(O,O+S),f.C=O+S,w)))}Kt.prototype.cancel=function(){this.J=!0,hr(this)};function Pt(f){f.S=Date.now()+f.I,ls(f,f.I)}function ls(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mi(v(f.ba,f),w)}function Ns(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Kt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Il(this.i,this.A),this.L!=2&&(Ar(),Jt(17)),hr(this),this.s=2,Fi(this)):ls(this,this.S-f)};function Fi(f){f.j.G==0||f.J||js(f.j,f)}function hr(f){Ns(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,bl(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function _a(f,w){try{var S=f.j;if(S.G!=0&&(S.g==f||Mn(S.h,f))){if(!f.K&&Mn(S.h,f)&&S.G==3){try{var O=S.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Xr(S),Qr(S);else break e;Vs(S),Jt(18)}}else S.za=J[1],0<S.za-S.T&&37500>J[2]&&S.F&&S.v==0&&!S.C&&(S.C=mi(v(S.Za,S),6e3));if(1>=Al(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Bi(S,11)}else if((f.K||S.g==f)&&Xr(S),!j(w))for(J=S.Da.g.parse(w),w=0;w<J.length;w++){let ft=J[w];if(S.T=ft[0],ft=ft[1],S.G==2)if(ft[0]=="c"){S.K=ft[1],S.ia=ft[2];const Nt=ft[3];Nt!=null&&(S.la=Nt,S.j.info("VER="+S.la));const tn=ft[4];tn!=null&&(S.Aa=tn,S.j.info("SVER="+S.Aa));const Lr=ft[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(O=1.5*Lr,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const yr=f.g;if(yr){const Lo=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var se=O.h;se.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(va(se,se.h),se.h=null))}if(O.D){const xa=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(O.ya=xa,yt(O.I,O.D,xa))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var ve=f;if(O.qa=Wu(O,O.J?O.ia:null,O.W),ve.K){Pl(O.h,ve);var Ct=ve,pn=O.L;pn&&(Ct.I=pn),Ct.B&&(Ns(Ct),Pt(Ct)),O.g=ve}else Oo(O);0<S.i.length&&Ui(S)}else ft[0]!="stop"&&ft[0]!="close"||Bi(S,7);else S.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Bi(S,7):hn(S):ft[0]!="noop"&&S.l&&S.l.ta(ft),S.v=0)}}Ar(4)}catch{}}var Rl=class{constructor(f,w){this.g=f,this.map=w}};function Os(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Al(f){return f.h?1:f.g?f.g.size:0}function Mn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function va(f,w){f.g?f.g.add(w):f.h=w}function Pl(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Os.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const S of f.g.values())w=w.concat(S.D);return w}return D(f.i)}function Co(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],S=f.length,O=0;O<S;O++)w.push(f[O]);return w}w=[],S=0;for(O in f)w[S++]=f[O];return w}function Jn(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var S=0;S<f;S++)w.push(S);return w}w=[],S=0;for(const O in f)w[S++]=O;return w}}}function on(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var S=Jn(f),O=Co(f),J=O.length,se=0;se<J;se++)w.call(void 0,O[se],S&&S[se],f)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(f,w){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var O=f[S].indexOf("="),J=null;if(0<=O){var se=f[S].substring(0,O);J=f[S].substring(O+1)}else se=f[S];w(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function vi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vi){this.h=f.h,Ln(this,f.j),this.o=f.o,this.g=f.g,gr(this,f.s),this.l=f.l;var w=f.i,S=new bi;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),wi(this,S),this.m=f.m}else f&&(w=String(f).match(Pr))?(this.h=!1,Ln(this,w[1]||"",!0),this.o=ot(w[2]||""),this.g=ot(w[3]||"",!0),gr(this,w[4]),this.l=ot(w[5]||"",!0),wi(this,w[6]||"",!0),this.m=ot(w[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}vi.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Nr(w,xo,!0),":");var S=this.g;return(S||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Nr(w,xo,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Nr(S,S.charAt(0)=="/"?Fu:Yr,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Nr(S,Ms)),f.join("")};function Zn(f){return new vi(f)}function Ln(f,w,S){f.j=S?ot(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function gr(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function wi(f,w,S){w instanceof bi?(f.i=w,Ti(f.i,f.h)):(S||(w=Nr(w,Ei)),f.i=new bi(w,f.h))}function yt(f,w,S){f.i.set(w,S)}function Vi(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ot(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Nr(f,w,S){return typeof f=="string"?(f=encodeURI(f).replace(w,wa),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wa(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xo=/[#\/\?@]/g,Yr=/[#\?:]/g,Fu=/[#\?]/g,Ei=/[#\?@]/g,Ms=/#/g;function bi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&mr(f.i,function(w,S){f.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}r=bi.prototype,r.add=function(f,w){en(this),this.i=null,f=Mr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(w),this.h+=1,this};function Or(f,w){en(f),w=Mr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function er(f,w){return en(f),w=Mr(f,w),f.g.has(w)}r.forEach=function(f,w){en(this),this.g.forEach(function(S,O){S.forEach(function(J){f.call(w,J,O,this)},this)},this)},r.na=function(){en(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let O=0;O<w.length;O++){const J=f[O];for(let se=0;se<J.length;se++)S.push(w[O])}return S},r.V=function(f){en(this);let w=[];if(typeof f=="string")er(this,f)&&(w=w.concat(this.g.get(Mr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)w=w.concat(f[S])}return w},r.set=function(f,w){return en(this),this.i=null,f=Mr(this,f),er(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},r.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function us(f,w,S){Or(f,w),0<S.length&&(f.i=null,f.g.set(Mr(f,w),D(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var O=w[S];const se=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var J=se;ve[O]!==""&&(J+="="+encodeURIComponent(String(ve[O]))),f.push(J)}}return this.i=f.join("&")};function Mr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Ti(f,w){w&&!f.j&&(en(f),f.i=null,f.g.forEach(function(S,O){var J=O.toLowerCase();O!=J&&(Or(this,O),us(this,J,S))},f)),f.j=w}function Ls(f,w){const S=new ko;if(u.Image){const O=new Image;O.onload=T(tr,S,"TestLoadImage: loaded",!0,w,O),O.onerror=T(tr,S,"TestLoadImage: error",!1,w,O),O.onabort=T(tr,S,"TestLoadImage: abort",!1,w,O),O.ontimeout=T(tr,S,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else w(!1)}function Vu(f,w){const S=new ko,O=new AbortController,J=setTimeout(()=>{O.abort(),tr(S,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:O.signal}).then(se=>{clearTimeout(J),se.ok?tr(S,"TestPingServer: ok",!0,w):tr(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),tr(S,"TestPingServer: error",!1,w)})}function tr(f,w,S,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(S)}catch{}}function Ol(){this.g=new kl}function Io(f,w,S){const O=S||"";try{on(f,function(J,se){let ve=J;h(J)&&(ve=Tl(J)),w.push(O+se+"="+encodeURIComponent(ve))})}catch(J){throw w.push(O+"type="+encodeURIComponent("_badmap")),J}}function Si(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Si,bo),Si.prototype.g=function(){return new Do(this.l,this.j)},Si.prototype.i=function(f){return function(){return f}}({});function Do(f,w){ze.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Do,ze),r=Do.prototype,r.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Kr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ki(this):Kr(this),this.readyState==3&&Ro(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ki(this))},r.Qa=function(f){this.g&&(this.response=f,ki(this))},r.ga=function(){this.g&&ki(this)};function ki(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Kr(f)}r.setRequestHeader=function(f,w){this.u.append(f,w)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=w.next();return f.join(`\r
`)};function Kr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ci(f){let w="";return ce(f,function(S,O){w+=O,w+=":",w+=S,w+=`\r
`}),w}function ji(f,w,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=Ci(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):yt(f,w,S))}function Wt(f){ze.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Wt,ze);var ju=/^https?$/i,cs=["POST","PUT"];r=Wt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,w,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?To(this.o):To(Nn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(se){ds(this,se);return}if(f=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)S.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())S.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),J=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(cs,w,void 0))||O||J||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of S)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){ds(this,se)}};function ds(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Ao(f),En(f)}function Ao(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Tt(this,"complete"),Tt(this,"abort"),En(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),Wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(f){if(f.h&&typeof l<"u"&&(!f.v[1]||nr(f)!=4||f.Z()!=2)){if(f.u&&nr(f)==4)Oi(f.Ea,0,f);else if(Tt(f,"readystatechange"),nr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var O;if(O=ve===0){var J=String(f.D).match(Pr)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),O=!ju.test(J?J.toLowerCase():"")}S=O}if(S)Tt(f,"complete"),Tt(f,"success");else{f.m=6;try{var se=2<nr(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Ao(f)}}finally{En(f)}}}}function En(f,w){if(f.g){ba(f);const S=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Tt(f,"ready");try{S.onreadystatechange=O}catch{}}}function ba(f){f.I&&(u.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function nr(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Sl(w)}};function Ta(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(f){const w={};f=(f.g&&2<=nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(j(f[O]))continue;var S=$(f[O]);const J=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=w[J]||[];w[J]=se,se.push(S)}F(w,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(f,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||w}function Sa(f){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,f),this.cb=xi("retryDelaySeedMs",1e4,f),this.Wa=xi("forwardChannelMaxRetries",2,f),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(f&&f.concurrentRequestLimit),this.Da=new Ol,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(f,w,S,O){Jt(0),this.W=f,this.H=w||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=Wu(this,null,this.W),Ui(this)};function hn(f){if(ka(f),f.G==3){var w=f.U++,S=Zn(f.I);if(yt(S,"SID",f.K),yt(S,"RID",w),yt(S,"TYPE","terminate"),Gr(f,S),w=new Kt(f,f.j,w),w.L=2,w.v=Vi(Zn(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=w.v,S=!0),S||(w.g=Hu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Pt(w)}$u(f)}function Qr(f){f.g&&(Ca(f),f.g.cancel(),f.g=null)}function ka(f){Qr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Xr(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ui(f){if(!pr(f.h)&&!f.s){f.s=!0;var w=f.Ga;we||Q(),ie||(we(),ie=!0),be.add(w,f),f.B=0}}function Uu(f,w){return Al(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mi(v(f.Ga,f,w),Bu(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new Kt(this,this.j,f);let se=this.o;if(this.S&&(se?(se=N(se),U(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Fs(this,J,w),S=Zn(this.I),yt(S,"RID",f),yt(S,"CVER",22),this.D&&yt(S,"X-HTTP-Session-Id",this.D),Gr(this,S),se&&(this.O?w="headers="+encodeURIComponent(String(Ci(se)))+"&"+w:this.m&&ji(S,this.m,se)),va(this.h,J),this.Ua&&yt(S,"TYPE","init"),this.P?(yt(S,"$req",w),yt(S,"SID","null"),J.T=!0,yi(J,S,null)):yi(J,S,w),this.G=2}}else this.G==3&&(f?No(this,f):this.i.length==0||pr(this.h)||No(this))};function No(f,w){var S;w?S=w.l:S=f.U++;const O=Zn(f.I);yt(O,"SID",f.K),yt(O,"RID",S),yt(O,"AID",f.T),Gr(f,O),f.m&&f.o&&ji(O,f.m,f.o),S=new Kt(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Fs(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),va(f.h,S),yi(S,O,w)}function Gr(f,w){f.H&&ce(f.H,function(S,O){yt(w,O,S)}),f.l&&on({},function(S,O){yt(w,O,S)})}function Fs(f,w,S){S=Math.min(f.i.length,S);var O=f.l?v(f.l.Na,f.l,f):null;e:{var J=f.i;let se=-1;for(;;){const ve=["count="+S];se==-1?0<S?(se=J[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Ct=!0;for(let pn=0;pn<S;pn++){let ft=J[pn].g;const Nt=J[pn].map;if(ft-=se,0>ft)se=Math.max(0,J[pn].g-100),Ct=!1;else try{Io(Nt,ve,"req"+ft+"_")}catch{O&&O(Nt)}}if(Ct){O=ve.join("&");break e}}}return f=f.i.splice(0,S),w.D=f,O}function Oo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;we||Q(),ie||(we(),ie=!0),be.add(w,f),f.v=0}}function Vs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mi(v(f.Fa,f),Bu(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mi(v(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Qr(this),Ml(this))};function Ca(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Ml(f){f.g=new Kt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Zn(f.qa);yt(w,"RID","rpc"),yt(w,"SID",f.K),yt(w,"AID",f.T),yt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(w,"TO",f.ja),yt(w,"TYPE","xmlhttp"),Gr(f,w),f.m&&f.o&&ji(w,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Vi(Zn(w)),S.m=null,S.P=!0,_i(S,f)}r.Za=function(){this.C!=null&&(this.C=null,Qr(this),Vs(this),Jt(19))};function Xr(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function js(f,w){var S=null;if(f.g==w){Xr(f),Ca(f),f.g=null;var O=2}else if(Mn(f.h,w))S=w.D,Pl(f.h,w),O=1;else return;if(f.G!=0){if(w.o)if(O==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var J=f.B;O=So(),Tt(O,new ga(O,S)),Ui(f)}else Oo(f);else if(J=w.s,J==3||J==0&&0<w.X||!(O==1&&Uu(f,w)||O==2&&Vs(f)))switch(S&&0<S.length&&(w=f.h,w.i=w.i.concat(S)),J){case 1:Bi(f,5);break;case 4:Bi(f,10);break;case 3:Bi(f,6);break;default:Bi(f,2)}}}function Bu(f,w){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*w}function Bi(f,w){if(f.j.info("Error code "+w),w==2){var S=v(f.fb,f),O=f.Xa;const J=!O;O=new vi(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ln(O,"https"),Vi(O),J?Ls(O.toString(),S):Vu(O.toString(),S)}else Jt(2);f.G=0,f.l&&f.l.sa(w),$u(f),ka(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function $u(f){if(f.G=0,f.ka=[],f.l){const w=Nl(f.h);(w.length!=0||f.i.length!=0)&&(R(f.ka,w),R(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function Wu(f,w,S){var O=S instanceof vi?Zn(S):new vi(S);if(O.g!="")w&&(O.g=w+"."+O.g),gr(O,O.s);else{var J=u.location;O=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var se=new vi(null);O&&Ln(se,O),w&&(se.g=w),J&&gr(se,J),S&&(se.l=S),O=se}return S=f.D,w=f.ya,S&&w&&yt(O,S,w),yt(O,"VER",f.la),Gr(f,O),O}function Hu(f,w,S){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Wt(new Si({eb:S})):new Wt(f.pa),w.Ha(f.J),w}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ll(){}r=Ll.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Mo(){}Mo.prototype.g=function(f,w){return new Fn(f,w)};function Fn(f,w){ze.call(this),this.g=new Sa(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!j(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Vn(this)}C(Fn,ze),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){hn(this.g)},Fn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Tl(f),f=S);w.i.push(new Rl(w.Ya++,f)),w.G==3&&Ui(w)},Fn.prototype.N=function(){this.g.l=null,delete this.j,hn(this.g),delete this.g,Fn.aa.N.call(this)};function zu(f){pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const S in w){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}C(zu,pi);function fs(){ma.call(this),this.status=1}C(fs,ma);function Vn(f){this.g=f}C(Vn,Ll),Vn.prototype.ua=function(){Tt(this.g,"a")},Vn.prototype.ta=function(f){Tt(this.g,new zu(f))},Vn.prototype.sa=function(f){Tt(this.g,new fs)},Vn.prototype.ra=function(){Tt(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,qk=function(){return new Mo},zk=function(){return So()},Hk=Mi,r_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,up=ya,Mu.COMPLETE="complete",Wk=Mu,is.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ze.prototype.listen=ze.prototype.K,zd=is,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,$k=Wt}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const Tb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new K_("@firebase/firestore");function wc(){return Su.logLevel}function Ne(r,...e){if(Su.logLevel<=pt.DEBUG){const t=e.map(ov);Su.debug(`Firestore (${Jc}): ${r}`,...t)}}function la(r,...e){if(Su.logLevel<=pt.ERROR){const t=e.map(ov);Su.error(`Firestore (${Jc}): ${r}`,...t)}}function Oc(r,...e){if(Su.logLevel<=pt.WARN){const t=e.map(ov);Su.warn(`Firestore (${Jc}): ${r}`,...t)}}function ov(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(r="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+r;throw la(e),new Error(e)}function Mt(r,e){r||Ze()}function nt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ds{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sr.UNAUTHENTICATED))}shutdown(){}}class h1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class p1{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mt(typeof n.accessToken=="string"),new Yk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string"),new Sr(e)}}class m1{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class g1{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new m1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Mt(this.o===void 0);const n=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt(typeof t.token=="string"),this.R=t.token,new y1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=v1(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function gt(r,e){return r<e?-1:r>e?1:0}function Mc(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new kn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new kn(0,0))}static max(){return new tt(new kn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ze(),n===void 0?n=e.length-t:n>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return no.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=no.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=no.isNumericId(e),i=no.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?no.extractNumericId(e).compare(no.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return il.fromString(e.substring(4,e.length-2))}}class Qt extends no{construct(e,t,n){return new Qt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends no{construct(e,t,n){return new ar(e,t,n)}static isValidIdentifier(e){return w1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Me(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Me(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(o(),i++)}if(o(),l)throw new Me(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Qt.fromString(e))}static fromName(e){return new He(Qt.fromString(e).popFirst(5))}static empty(){return new He(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Qt(e.slice()))}}function E1(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(n===1e9?new kn(t+1,0):new kn(t,n));return new ll(i,He.empty(),e)}function b1(r){return new ll(r.readTime,r.key,-1)}class ll{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ll(tt.min(),He.empty(),-1)}static max(){return new ll(tt.max(),He.empty(),-1)}}function T1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(r.documentKey,e.documentKey),t!==0?t:gt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==S1)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,n)=>{t(e)})}static reject(e){return new de((t,n)=>{n(e)})}static waitFor(e){return new de((t,n)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=de.resolve(!1);for(const n of e)t=t.next(i=>i?de.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new de((n,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(g=>{l[h]=g,++u,u===o&&n(l)},g=>i(g))}})}static doWhile(e,t){return new de((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function C1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ed(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Em.oe=-1;function bm(r){return r==null}function Mp(r){return r===0&&1/r==-1/0}function x1(r){return typeof r=="number"&&Number.isInteger(r)&&!Mp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sb(e)),e=D1(r.get(t),e);return Sb(e)}function D1(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Sb(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Qk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.comparator=e,this.root=t||or.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??or.RED,this.left=i??or.EMPTY,this.right=o??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new or(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,t,n,i,o){return this}insert(e,t,n){return new or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new Pn(ar.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gk("Invalid base64 string: "+o):o}}(e);return new ur(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const R1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(r){if(Mt(!!r),typeof r=="string"){let e=0;const t=R1.exec(r);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:yn(r.seconds),nanos:yn(r.nanos)}}function yn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cl(r){return typeof r=="string"?ur.fromBase64String(r):ur.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Tm(r){const e=r.mapValue.fields.__previous_value__;return av(e)?Tm(e):e}function df(r){const e=ul(r.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,n,i,o,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?av(r)?4:N1(r)?9007199254740991:P1(r)?10:11:Ze()}function yo(r,e){if(r===e)return!0;const t=dl(r);if(t!==dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return df(r).isEqual(df(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ul(i.timestampValue),u=ul(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return cl(i.bytesValue).isEqual(cl(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return yn(i.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yn(i.integerValue)===yn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=yn(i.doubleValue),u=yn(o.doubleValue);return l===u?Mp(l)===Mp(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return Mc(r.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(kb(l)!==kb(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!yo(l[d],u[d])))return!1;return!0}(r,e);default:return Ze()}}function hf(r,e){return(r.values||[]).find(t=>yo(t,e))!==void 0}function Lc(r,e){if(r===e)return 0;const t=dl(r),n=dl(e);if(t!==n)return gt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return gt(r.booleanValue,e.booleanValue);case 2:return function(o,l){const u=yn(o.integerValue||o.doubleValue),d=yn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(r,e);case 3:return xb(r.timestampValue,e.timestampValue);case 4:return xb(df(r),df(e));case 5:return gt(r.stringValue,e.stringValue);case 6:return function(o,l){const u=cl(o),d=cl(l);return u.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const g=gt(u[h],d[h]);if(g!==0)return g}return gt(u.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const u=gt(yn(o.latitude),yn(l.latitude));return u!==0?u:gt(yn(o.longitude),yn(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ib(r.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,g;const _=o.fields||{},v=l.fields||{},T=(u=_.value)===null||u===void 0?void 0:u.arrayValue,C=(d=v.value)===null||d===void 0?void 0:d.arrayValue,D=gt(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:Ib(T,C)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===zh.mapValue&&l===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(l===zh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=gt(d[_],g[_]);if(v!==0)return v;const T=Lc(u[d[_]],h[g[_]]);if(T!==0)return T}return gt(d.length,g.length)}(r.mapValue,e.mapValue);default:throw Ze()}}function xb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return gt(r,e);const t=ul(r),n=ul(e),i=gt(t.seconds,n.seconds);return i!==0?i:gt(t.nanos,n.nanos)}function Ib(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Lc(t[i],n[i]);if(o)return o}return gt(t.length,n.length)}function Fc(r){return i_(r)}function i_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ul(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return cl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return He.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=i_(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${i_(t.fields[l])}`;return i+"}"}(r.mapValue):Ze()}function cp(r){switch(dl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(r);return e?16+cp(e):16;case 5:return 2*r.stringValue.length;case 6:return cl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+cp(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return vl(n.fields,(o,l)=>{i+=o.length+cp(l)}),i}(r.mapValue);default:throw Ze()}}function Db(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function s_(r){return!!r&&"integerValue"in r}function lv(r){return!!r&&"arrayValue"in r}function Rb(r){return!!r&&"nullValue"in r}function Ab(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dp(r){return!!r&&"mapValue"in r}function P1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ef(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vl(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=ef(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ef(r.arrayValue.values[t]);return e}return Object.assign({},r)}function N1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(t)}setAll(e){let t=ar.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=ef(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){vl(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new ai(ef(this.value))}}function Xk(r){const e=[];return vl(r.fields,(t,n)=>{const i=new ar([t]);if(dp(n)){const o=Xk(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t,n,i,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new kr(e,0,tt.min(),tt.min(),tt.min(),ai.empty(),0)}static newFoundDocument(e,t,n,i){return new kr(e,1,t,tt.min(),n,i,0)}static newNoDocument(e,t){return new kr(e,2,t,tt.min(),tt.min(),ai.empty(),0)}static newUnknownDocument(e,t){return new kr(e,3,t,tt.min(),tt.min(),ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.position=e,this.inclusive=t}}function Pb(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=He.comparator(He.fromName(l.referenceValue),t.key):n=Lc(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Nb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!yo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t="asc"){this.field=e,this.dir=t}}function O1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{}class Sn extends Jk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new L1(e,t,n):t==="array-contains"?new j1(e,n):t==="in"?new U1(e,n):t==="not-in"?new B1(e,n):t==="array-contains-any"?new $1(e,n):new Sn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new F1(e,n):new V1(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Lc(t,this.value)):t!==null&&dl(this.value)===dl(t)&&this.matchesComparison(Lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends Jk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ks(e,t)}matches(e){return Zk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zk(r){return r.op==="and"}function eC(r){return M1(r)&&Zk(r)}function M1(r){for(const e of r.filters)if(e instanceof ks)return!1;return!0}function o_(r){if(r instanceof Sn)return r.field.canonicalString()+r.op.toString()+Fc(r.value);if(eC(r))return r.filters.map(e=>o_(e)).join(",");{const e=r.filters.map(t=>o_(t)).join(",");return`${r.op}(${e})`}}function tC(r,e){return r instanceof Sn?function(n,i){return i instanceof Sn&&n.op===i.op&&n.field.isEqual(i.field)&&yo(n.value,i.value)}(r,e):r instanceof ks?function(n,i){return i instanceof ks&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,u)=>o&&tC(l,i.filters[u]),!0):!1}(r,e):void Ze()}function nC(r){return r instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Fc(t.value)}`}(r):r instanceof ks?function(t){return t.op.toString()+" {"+t.getFilters().map(nC).join(" ,")+"}"}(r):"Filter"}class L1 extends Sn{constructor(e,t,n){super(e,t,n),this.key=He.fromName(n.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class F1 extends Sn{constructor(e,t){super(e,"in",t),this.keys=rC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class V1 extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=rC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rC(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>He.fromName(n.referenceValue))}class j1 extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&hf(t.arrayValue,this.value)}}class U1 extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hf(this.value.arrayValue,t)}}class B1 extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hf(this.value.arrayValue,t)}}class $1 extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>hf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t=null,n=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function Ob(r,e=null,t=[],n=[],i=null,o=null,l=null){return new W1(r,e,t,n,i,o,l)}function uv(r){const e=nt(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>o_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),bm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Fc(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Fc(n)).join(",")),e.ue=t}return e.ue}function cv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!O1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!tC(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Nb(r.startAt,e.startAt)&&Nb(r.endAt,e.endAt)}function a_(r){return He.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t=null,n=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H1(r,e,t,n,i,o,l,u){return new Af(r,e,t,n,i,o,l,u)}function Sm(r){return new Af(r)}function Mb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iC(r){return r.collectionGroup!==null}function tf(r){const e=nt(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Pn(ar.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fp(o,n))}),t.has(ar.keyField().canonicalString())||e.ce.push(new Fp(ar.keyField(),n))}return e.ce}function fo(r){const e=nt(r);return e.le||(e.le=z1(e,tf(r))),e.le}function z1(r,e){if(r.limitType==="F")return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fp(i.field,o)});const t=r.endAt?new Lp(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Lp(r.startAt.position,r.startAt.inclusive):null;return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function l_(r,e){const t=r.filters.concat([e]);return new Af(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function u_(r,e,t){return new Af(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function km(r,e){return cv(fo(r),fo(e))&&r.limitType===e.limitType}function sC(r){return`${uv(fo(r))}|lt:${r.limitType}`}function Ec(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>nC(i)).join(", ")}]`),bm(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Fc(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Fc(i)).join(",")),`Target(${n})`}(fo(r))}; limitType=${r.limitType})`}function Cm(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):He.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of tf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,u,d){const h=Pb(l,u,d);return l.inclusive?h<=0:h<0}(n.startAt,tf(n),i)||n.endAt&&!function(l,u,d){const h=Pb(l,u,d);return l.inclusive?h>=0:h>0}(n.endAt,tf(n),i))}(r,e)}function q1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oC(r){return(e,t)=>{let n=!1;for(const i of tf(r)){const o=Y1(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Y1(r,e,t){const n=r.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?Lc(d,h):Ze()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return Qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new sn(He.comparator);function ua(){return K1}const aC=new sn(He.comparator);function qd(...r){let e=aC;for(const t of r)e=e.insert(t.key,t);return e}function lC(r){let e=aC;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function cu(){return nf()}function uC(){return nf()}function nf(){return new Ru(r=>r.toString(),(r,e)=>r.isEqual(e))}const Q1=new sn(He.comparator),G1=new Pn(He.comparator);function mt(...r){let e=G1;for(const t of r)e=e.add(t);return e}const X1=new Pn(gt);function J1(){return X1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function cC(r){return{integerValue:""+r}}function Z1(r,e){return x1(e)?cC(e):dv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function eO(r,e,t){return r instanceof pf?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&av(o)&&(o=Tm(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof mf?fC(r,e):r instanceof gf?hC(r,e):function(i,o){const l=dC(i,o),u=Lb(l)+Lb(i.Pe);return s_(l)&&s_(i.Pe)?cC(u):dv(i.serializer,u)}(r,e)}function tO(r,e,t){return r instanceof mf?fC(r,e):r instanceof gf?hC(r,e):t}function dC(r,e){return r instanceof Vp?function(n){return s_(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class pf extends xm{}class mf extends xm{constructor(e){super(),this.elements=e}}function fC(r,e){const t=pC(e);for(const n of r.elements)t.some(i=>yo(i,n))||t.push(n);return{arrayValue:{values:t}}}class gf extends xm{constructor(e){super(),this.elements=e}}function hC(r,e){let t=pC(e);for(const n of r.elements)t=t.filter(i=>!yo(i,n));return{arrayValue:{values:t}}}class Vp extends xm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Lb(r){return yn(r.integerValue||r.doubleValue)}function pC(r){return lv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.field=e,this.transform=t}}function rO(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof mf&&i instanceof mf||n instanceof gf&&i instanceof gf?Mc(n.elements,i.elements,yo):n instanceof Vp&&i instanceof Vp?yo(n.Pe,i.Pe):n instanceof pf&&i instanceof pf}(r.transform,e.transform)}class iO{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fp(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Im{}function mC(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fv(r.key,ts.none()):new Pf(r.key,r.data,ts.none());{const t=r.data,n=ai.empty();let i=new Pn(ar.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new wl(r.key,n,new Ai(i.toArray()),ts.none())}}function sO(r,e,t){r instanceof Pf?function(i,o,l){const u=i.value.clone(),d=Vb(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof wl?function(i,o,l){if(!fp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Vb(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(gC(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function rf(r,e,t,n){return r instanceof Pf?function(o,l,u,d){if(!fp(o.precondition,l))return u;const h=o.value.clone(),g=jb(o.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof wl?function(o,l,u,d){if(!fp(o.precondition,l))return u;const h=jb(o.fieldTransforms,d,l),g=l.data;return g.setAll(gC(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,l,u){return fp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function oO(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=dC(n.transform,i||null);o!=null&&(t===null&&(t=ai.empty()),t.set(n.field,o))}return t||null}function Fb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Mc(n,i,(o,l)=>rO(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pf extends Im{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends Im{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gC(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Vb(r,e,t){const n=new Map;Mt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,u=e.data.field(o.field);n.set(o.field,tO(l,u,t[i]))}return n}function jb(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,eO(o,l,e))}return n}class fv extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sO(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=mC(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(tt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,(t,n)=>Fb(t,n))&&Mc(this.baseMutations,e.baseMutations,(t,n)=>Fb(t,n))}}class hv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Mt(e.mutations.length===n.length);let i=function(){return Q1}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new hv(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,vt;function dO(r){switch(r){default:return Ze();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function yC(r){if(r===void 0)return la("GRPC error has no .code"),fe.UNKNOWN;switch(r){case Tn.OK:return fe.OK;case Tn.CANCELLED:return fe.CANCELLED;case Tn.UNKNOWN:return fe.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return fe.INTERNAL;case Tn.UNAVAILABLE:return fe.UNAVAILABLE;case Tn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Tn.NOT_FOUND:return fe.NOT_FOUND;case Tn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Tn.ABORTED:return fe.ABORTED;case Tn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Tn.DATA_LOSS:return fe.DATA_LOSS;default:return Ze()}}(vt=Tn||(Tn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new il([4294967295,4294967295],0);function Ub(r){const e=fO().encode(r),t=new Bk;return t.update(e),new Uint8Array(t.digest())}function Bb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new il([t,n],0),new il([i,o],0)]}class pv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Yd(`Invalid padding: ${t}`);if(n<0)throw new Yd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=il.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(il.fromNumber(n)));return i.compare(hO)===1&&(i=new il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ub(e),[n,i]=Bb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new pv(o,i,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=Ub(e),[n,i]=Bb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Dm(tt.min(),i,new sn(gt),ua(),mt())}}class Nf{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Nf(n,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class _C{constructor(e,t){this.targetId=e,this.me=t}}class vC{constructor(e,t,n=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class $b{constructor(){this.fe=0,this.ge=Wb(),this.pe=ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mt(),t=mt(),n=mt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ze()}}),new Nf(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Wb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pO{constructor(e){this.Be=e,this.Le=new Map,this.ke=ua(),this.qe=qh(),this.Qe=qh(),this.Ke=new sn(gt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(a_(o))if(n===0){const l=new He(o.path);this.We(t,l,kr.newNoDocument(l,tt.min()))}else Mt(n===1);else{const l=this.Ze(t);if(l!==n){const u=this.Xe(e),d=u?this.et(u,e,l):1;if(d!==0){this.He(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=cl(n).toUint8Array()}catch(d){if(d instanceof Gk)return Oc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new pv(l,i,o)}catch(d){return Oc(d instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Te===0?null:u}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&a_(u.target)){const d=new He(u.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,kr.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=mt();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Dm(e,t,this.Ke,this.ke,n);return this.ke=ua(),this.qe=qh(),this.Qe=qh(),this.Ke=new sn(gt),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new $b,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Pn(gt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pn(gt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new $b),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function qh(){return new sn(He.comparator)}function Wb(){return new sn(He.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yO={and:"AND",or:"OR"};class _O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function c_(r,e){return r.useProto3Json||bm(e)?e:{value:e}}function jp(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wC(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vO(r,e){return jp(r,e.toTimestamp())}function ho(r){return Mt(!!r),tt.fromTimestamp(function(t){const n=ul(t);return new kn(n.seconds,n.nanos)}(r))}function mv(r,e){return d_(r,e).canonicalString()}function d_(r,e){const t=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function EC(r){const e=Qt.fromString(r);return Mt(CC(e)),e}function f_(r,e){return mv(r.databaseId,e.path)}function vy(r,e){const t=EC(e);if(t.get(1)!==r.databaseId.projectId)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new He(TC(t))}function bC(r,e){return mv(r.databaseId,e)}function wO(r){const e=EC(r);return e.length===4?Qt.emptyPath():TC(e)}function h_(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TC(r){return Mt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Hb(r,e,t){return{name:f_(r,e),fields:t.value.mapValue.fields}}function EO(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Mt(g===void 0||typeof g=="string"),ur.fromBase64String(g||"")):(Mt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ur.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const g=h.code===void 0?fe.UNKNOWN:yC(h.code);return new Me(g,h.message||"")}(l);t=new vC(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=vy(r,n.document.name),o=ho(n.document.updateTime),l=n.document.createTime?ho(n.document.createTime):tt.min(),u=new ai({mapValue:{fields:n.document.fields}}),d=kr.newFoundDocument(i,o,l,u),h=n.targetIds||[],g=n.removedTargetIds||[];t=new hp(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=vy(r,n.document),o=n.readTime?ho(n.readTime):tt.min(),l=kr.newNoDocument(i,o),u=n.removedTargetIds||[];t=new hp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=vy(r,n.document),o=n.removedTargetIds||[];t=new hp([],o,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new cO(i,o),u=n.targetId;t=new _C(u,l)}}return t}function bO(r,e){let t;if(e instanceof Pf)t={update:Hb(r,e.key,e.value)};else if(e instanceof fv)t={delete:f_(r,e.key)};else if(e instanceof wl)t={update:Hb(r,e.key,e.data),updateMask:AO(e.fieldMask)};else{if(!(e instanceof aO))return Ze();t={verify:f_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const u=l.transform;if(u instanceof pf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vp)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Ze()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze()}(r,e.precondition)),t}function TO(r,e){return r&&r.length>0?(Mt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ho(i.updateTime):ho(o);return l.isEqual(tt.min())&&(l=ho(o)),new iO(l,i.transformResults||[])}(t,e))):[]}function SO(r,e){return{documents:[bC(r,e.path)]}}function kO(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=bC(r,i);const o=function(h){if(h.length!==0)return kC(ks.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(v){return{field:bc(v.field),direction:IO(v.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=c_(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:i}}function CO(r){let e=wO(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Mt(n===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=SC(_);return v instanceof ks&&eC(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(v=>function(C){return new Fp(Tc(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,bm(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new Lp(T,v)}(t.startAt));let h=null;return t.endAt&&(h=function(_){const v=!_.before,T=_.values||[];return new Lp(T,v)}(t.endAt)),H1(e,i,l,o,u,"F",d,h)}function xO(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SC(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Tc(t.unaryFilter.field);return Sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Tc(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tc(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tc(t.unaryFilter.field);return Sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(r):r.fieldFilter!==void 0?function(t){return Sn.create(Tc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ks.create(t.compositeFilter.filters.map(n=>SC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(r):Ze()}function IO(r){return mO[r]}function DO(r){return gO[r]}function RO(r){return yO[r]}function bc(r){return{fieldPath:r.canonicalString()}}function Tc(r){return ar.fromServerFormat(r.fieldPath)}function kC(r){return r instanceof Sn?function(t){if(t.op==="=="){if(Ab(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NAN"}};if(Rb(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ab(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NAN"}};if(Rb(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(t.field),op:DO(t.op),value:t.value}}}(r):r instanceof ks?function(t){const n=t.getFilters().map(i=>kC(i));return n.length===1?n[0]:{compositeFilter:{op:RO(t.op),filters:n}}}(r):Ze()}function AO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,n,i,o=tt.min(),l=tt.min(),u=ur.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.ht=e}}function NO(r){const e=CO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.ln=new MO}addToCollectionParentIndex(e,t){return this.ln.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(ll.min())}updateCollectionGroup(e,t,n){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class MO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Pn(Qt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Pn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(41943040,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Vc(0)}static Qn(){return new Vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb([r,e],[t,n]){const i=gt(r,t);return i===0?gt(e,n):i}class LO{constructor(e){this.Gn=e,this.buffer=new Pn(qb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();qb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ed(t)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zc(t)}await this.Yn(3e5)})}}class VO{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Em.oe);const n=new LO(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(zb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,u,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(n=_,u=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(h=Date.now(),wc()<=pt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function jO(r,e){return new VO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.changes=new Ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?de.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&rf(n.mutation,i,Ai.empty(),kn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,mt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=mt()){const i=cu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=qd();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=cu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,mt()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,i){let o=ua();const l=nf(),u=function(){return nf()}();return t.forEach((d,h)=>{const g=n.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof wl)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),rf(g.mutation,h,g.mutation.getFieldMask(),kn.now())):l.set(h.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,g)=>l.set(h,g)),t.forEach((h,g)=>{var _;return u.set(h,new BO(g,(_=l.get(h))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const n=nf();let i=new sn((l,u)=>l-u),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let g=n.get(d)||Ai.empty();g=u.applyToLocalView(h,g),n.set(d,g);const _=(i.get(u.batchId)||mt()).add(d);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,g=d.value,_=uC();g.forEach(v=>{if(!o.has(v)){const T=mC(t.get(v),n.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,_))}return de.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):de.resolve(cu());let u=-1,d=o;return l.next(h=>de.forEach(h,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,mt())).next(g=>({batchId:u,changes:lC(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(n=>{let i=qd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=qd();return this.indexManager.getCollectionParents(e,o).next(u=>de.forEach(u,d=>{const h=function(_,v){return new Af(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(g=>{g.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,kr.newInvalidDocument(g)))});let u=qd();return l.forEach((d,h)=>{const g=o.get(d);g!==void 0&&rf(g.mutation,h,Ai.empty(),kn.now()),Cm(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return de.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:NO(i.bundledQuery),readTime:ho(i.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.overlays=new sn(He.comparator),this.dr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cu();return de.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),de.resolve()}getOverlaysForCollection(e,t,n){const i=cu(),o=t.length+1,l=new He(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new sn((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let g=o.get(h.largestBatchId);g===null&&(g=cu(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=cu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=i)););return de.resolve(u)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new uO(t,n));let o=this.dr.get(t);o===void 0&&(o=mt(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Er=new Pn(qn.Ar),this.Rr=new Pn(qn.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new qn(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new qn(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new He(new Qt([])),n=new qn(t,e),i=new qn(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new He(new Qt([])),n=new qn(t,e),i=new qn(t,e+1);let o=mt();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new qn(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class qn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return He.comparator(e.key,t.key)||gt(e.br,t.br)}static Vr(e,t){return gt(e.br,t.br)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pn(qn.Ar)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lO(o,t,n,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new qn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,t){return de.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qn(t,0),i=new qn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const u=this.Cr(l.br);o.push(u)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pn(gt);return t.forEach(i=>{const o=new qn(i,0),l=new qn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{n=n.add(u.br)})}),de.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;He.isDocumentKey(o)||(o=o.child(""));const l=new qn(new He(o),0);let u=new Pn(gt);return this.vr.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.br)),!0)},l),de.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Mt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return de.forEach(t.mutations,i=>{const o=new qn(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new qn(t,0),i=this.vr.firstAfterOrEqual(n);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.Nr=e,this.docs=function(){return new sn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return de.resolve(n?n.document.mutableCopy():kr.newInvalidDocument(t))}getEntries(e,t){let n=ua();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),de.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=ua();const l=t.path,u=new He(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||T1(b1(g),n)<=0||(i.has(g.key)||Cm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ze()}Br(e,t){return de.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new KO(this)}getSize(e){return de.resolve(this.size)}}class KO extends UO{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),de.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.Lr=new Ru(t=>uv(t),cv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.kr=0,this.qr=new gv,this.targetCount=0,this.Qr=Vc.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),de.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Vc(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Un(t),de.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return de.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),de.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return de.resolve(n)}containsKey(e,t){return de.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Em(0),this.Ur=!1,this.Ur=!0,this.Wr=new zO,this.referenceDelegate=e(this),this.Gr=new QO(this),this.indexManager=new OO,this.remoteDocumentCache=function(i){return new YO(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new PO(t),this.jr=new WO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new qO(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new GO(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return de.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class GO extends k1{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Zr=new gv,this.Xr=null}static ei(e){return new yv(e)}get ti(){if(this.Xr)return this.Xr;throw Ze()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),de.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),de.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ti,n=>{const i=He.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,tt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return de.or([()=>de.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Up{constructor(e,t){this.persistence=e,this.ri=new Ru(n=>I1(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=jO(this,t)}static ei(e,t){return new Up(e,t)}Hr(){}Jr(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return de.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?de.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(u=>{u||(n++,o.removeEntry(l,tt.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cp(e.data.value)),t}ir(e,t,n){return de.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return de.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=mt(),i=mt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _v(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return OR()?8:C1(Ir())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new XO;return this.ts(e,t,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(wc()<=pt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),de.resolve()):(wc()<=pt.DEBUG&&Ne("QueryEngine","Query:",Ec(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(wc()<=pt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(t))):de.resolve())}Xi(e,t){if(Mb(t))return de.resolve(null);let n=fo(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=u_(t,null,"F"),n=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=mt(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.rs(t,u);return this.ss(t,h,l,d.readTime)?this.Xi(e,u_(t,null,"F")):this.os(e,h,t,d)}))})))}es(e,t,n,i){return Mb(t)||i.isEqual(tt.min())?de.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?de.resolve(null):(wc()<=pt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ec(t)),this.os(e,l,t,E1(i,-1)).next(u=>u))})}rs(e,t){let n=new Pn(oC(e));return t.forEach((i,o)=>{Cm(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return wc()<=pt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ec(t)),this.Zi.getDocumentsMatchingQuery(e,t,ll.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new sn(gt),this.cs=new Ru(o=>uv(o),cv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function eM(r,e,t,n){return new ZO(r,e,t,n)}async function IC(r,e){const t=nt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],u=[];let d=mt();for(const h of i){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of o){u.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(n,d).next(h=>({Ts:h,removedBatchIds:l,addedBatchIds:u}))})})}function tM(r,e){const t=nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,g){const _=h.batch,v=_.keys();let T=de.resolve();return v.forEach(C=>{T=T.next(()=>g.getEntry(d,C)).next(D=>{const R=h.docVersions.get(C);Mt(R!==null),D.version.compareTo(R)<0&&(_.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),g.addEntry(D)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=mt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function DC(r){const e=nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function nM(r,e){const t=nt(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;u.push(t.Gr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Gr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(ur.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,n)),i=i.insert(_,T),function(D,R,L){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,T,g)&&u.push(t.Gr.updateTargetData(o,T))});let d=ua(),h=mt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(rM(o,l,e.documentUpdates).next(g=>{d=g.Is,h=g.ds})),!n.isEqual(tt.min())){const g=t.Gr.getLastRemoteSnapshotVersion(o).next(_=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));u.push(g)}return de.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.us=i,o))}function rM(r,e,t){let n=mt(),i=mt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=ua();return t.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Is:l,ds:i}})}function iM(r,e){const t=nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function sM(r,e){const t=nt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,de.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Za(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function p_(r,e,t){const n=nt(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ed(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function Yb(r,e,t){const n=nt(r);let i=tt.min(),o=mt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,g){const _=nt(d),v=_.cs.get(g);return v!==void 0?de.resolve(_.us.get(v)):_.Gr.getTargetData(h,g)}(n,l,fo(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?o:mt())).next(u=>(oM(n,q1(e),u),{documents:u,Es:o})))}function oM(r,e,t){let n=r.ls.get(e)||tt.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class Kb{constructor(){this.activeTargetIds=J1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(){this._o=new Kb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function wy(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class dM extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const u=wy(),d=this.No(t,n.toUriEncodedString());Ne("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(h,o,l),this.Lo(t,d,h,i).then(g=>(Ne("RestConnection",`Received RPC '${t}' ${u}: `,g),g),g=>{throw Oc("RestConnection",`RPC '${t}' ${u} failed with error: `,g,"url: ",d,"request:",i),g})}ko(t,n,i,o,l,u){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=uM[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=wy();return new Promise((l,u)=>{const d=new $k;d.setWithCredentials(!0),d.listenOnce(Wk.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case up.NO_ERROR:const g=d.getResponseJson();Ne(Tr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case up.TIMEOUT:Ne(Tr,`RPC '${e}' ${o} timed out`),u(new Me(fe.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const _=d.getStatus();if(Ne(Tr,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const C=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(L)>=0?L:fe.UNKNOWN}(T.status);u(new Me(C,T.message))}else u(new Me(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Me(fe.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ne(Tr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Ne(Tr,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,n,15)})}qo(e,t,n){const i=wy(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qk(),u=zk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const g=o.join("");Ne(Tr,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=l.createWebChannel(g,d);let v=!1,T=!1;const C=new cM({Eo:R=>{T?Ne(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(Ne(Tr,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),Ne(Tr,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Ao:()=>_.close()}),D=(R,L,j)=>{R.listen(L,W=>{try{j(W)}catch(G){setTimeout(()=>{throw G},0)}})};return D(_,zd.EventType.OPEN,()=>{T||(Ne(Tr,`RPC '${e}' stream ${i} transport opened.`),C.So())}),D(_,zd.EventType.CLOSE,()=>{T||(T=!0,Ne(Tr,`RPC '${e}' stream ${i} transport closed`),C.Do())}),D(_,zd.EventType.ERROR,R=>{T||(T=!0,Oc(Tr,`RPC '${e}' stream ${i} transport errored:`,R),C.Do(new Me(fe.UNAVAILABLE,"The operation could not be completed")))}),D(_,zd.EventType.MESSAGE,R=>{var L;if(!T){const j=R.data[0];Mt(!!j);const W=j,G=(W==null?void 0:W.error)||((L=W[0])===null||L===void 0?void 0:L.error);if(G){Ne(Tr,`RPC '${e}' stream ${i} received error:`,G);const re=G.status;let ce=function(M){const U=Tn[M];if(U!==void 0)return yC(U)}(re),F=G.message;ce===void 0&&(ce=fe.INTERNAL,F="Unknown error status: "+re+" with message "+G.message),T=!0,C.Do(new Me(ce,F)),_.close()}else Ne(Tr,`RPC '${e}' stream ${i} received:`,j),C.vo(j)}}),D(u,Hk.STAT_EVENT,R=>{R.stat===r_.PROXY?Ne(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===r_.NOPROXY&&Ne(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r){return new _O(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,n,i,o,l,u,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new RC(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new Me(fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fM extends AC{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=EO(this.serializer,e),n=function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ho(l.readTime):tt.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=h_(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=a_(d)?{documents:SO(o,d)}:{query:kO(o,d).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=wC(o,l.resumeToken);const h=c_(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=jp(o,l.snapshotVersion.toTimestamp());const h=c_(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const n=xO(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=h_(this.serializer),t.removeTarget=e,this.c_(t)}}class hM extends AC{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=TO(e.writeResults,e.commitTime),n=ho(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=h_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>bO(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,d_(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(fe.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,d_(t,n),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(fe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class mM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(la(t),this.C_=!1):Ne("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{Au(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=nt(d);h.k_.add(4),await Of(h),h.K_.set("Unknown"),h.k_.delete(4),await Am(h)}(this))})}),this.K_=new mM(n,i)}}async function Am(r){if(Au(r))for(const e of r.q_)await e(!0)}async function Of(r){for(const e of r.q_)await e(!1)}function PC(r,e){const t=nt(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),bv(t)?Ev(t):td(t).s_()&&wv(t,e))}function vv(r,e){const t=nt(r),n=td(t);t.L_.delete(e),n.s_()&&NC(t,e),t.L_.size===0&&(n.s_()?n.a_():Au(t)&&t.K_.set("Unknown"))}function wv(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}td(r).V_(e)}function NC(r,e){r.U_.xe(e),td(r).m_(e)}function Ev(r){r.U_=new pO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),td(r).start(),r.K_.F_()}function bv(r){return Au(r)&&!td(r).i_()&&r.L_.size>0}function Au(r){return nt(r).k_.size===0}function OC(r){r.U_=void 0}async function yM(r){r.K_.set("Online")}async function _M(r){r.L_.forEach((e,t)=>{wv(r,e)})}async function vM(r,e){OC(r),bv(r)?(r.K_.O_(e),Ev(r)):r.K_.set("Unknown")}async function wM(r,e,t){if(r.K_.set("Online"),e instanceof vC&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.L_.delete(u),i.U_.removeTarget(u))}(r,e)}catch(n){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Bp(r,n)}else if(e instanceof hp?r.U_.$e(e):e instanceof _C?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(tt.min()))try{const n=await DC(r.localStore);t.compareTo(n)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.L_.get(h);g&&o.L_.set(h,g.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const g=o.L_.get(d);if(!g)return;o.L_.set(d,g.withResumeToken(ur.EMPTY_BYTE_STRING,g.snapshotVersion)),NC(o,d);const _=new Za(g.target,d,h,g.sequenceNumber);wv(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){Ne("RemoteStore","Failed to raise snapshot:",n),await Bp(r,n)}}async function Bp(r,e,t){if(!ed(e))throw e;r.k_.add(1),await Of(r),r.K_.set("Offline"),t||(t=()=>DC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Am(r)})}function MC(r,e){return e().catch(t=>Bp(r,t,e))}async function Pm(r){const e=nt(r),t=fl(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;EM(e);)try{const i=await iM(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,bM(e,i)}catch(i){await Bp(e,i)}LC(e)&&FC(e)}function EM(r){return Au(r)&&r.B_.length<10}function bM(r,e){r.B_.push(e);const t=fl(r);t.s_()&&t.f_&&t.g_(e.mutations)}function LC(r){return Au(r)&&!fl(r).i_()&&r.B_.length>0}function FC(r){fl(r).start()}async function TM(r){fl(r).w_()}async function SM(r){const e=fl(r);for(const t of r.B_)e.g_(t.mutations)}async function kM(r,e,t){const n=r.B_.shift(),i=hv.from(n,e,t);await MC(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Pm(r)}async function CM(r,e){e&&fl(r).f_&&await async function(n,i){if(function(l){return dO(l)&&l!==fe.ABORTED}(i.code)){const o=n.B_.shift();fl(n).__(),await MC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Pm(n)}}(r,e),LC(r)&&FC(r)}async function Gb(r,e){const t=nt(r);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const n=Au(t);t.k_.add(3),await Of(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Am(t)}async function xM(r,e){const t=nt(r);e?(t.k_.delete(2),await Am(t)):e||(t.k_.add(2),await Of(t),t.K_.set("Unknown"))}function td(r){return r.W_||(r.W_=function(t,n,i){const o=nt(t);return o.b_(),new fM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:yM.bind(null,r),mo:_M.bind(null,r),po:vM.bind(null,r),R_:wM.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),bv(r)?Ev(r):r.K_.set("Unknown")):(await r.W_.stop(),OC(r))})),r.W_}function fl(r){return r.G_||(r.G_=function(t,n,i){const o=nt(t);return o.b_(),new hM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:TM.bind(null,r),po:CM.bind(null,r),p_:SM.bind(null,r),y_:kM.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Pm(r)):(await r.G_.stop(),r.B_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,u=new Tv(e,t,l,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(r,e){if(la("AsyncQueue",`${e}: ${r}`),ed(r))return new Me(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{static emptySet(e){return new Rc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||He.comparator(t.key,n.key):(t,n)=>He.comparator(t.key,n.key),this.keyedMap=qd(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Rc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.z_=new sn(He.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ze():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class jc{constructor(e,t,n,i,o,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new jc(e,t,Rc.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class DM{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=nt(t),o=i.queries;i.queries=Jb(),o.forEach((l,u)=>{for(const d of u.J_)d.onError(n)})})(this,new Me(fe.ABORTED,"Firestore shutting down"))}}function Jb(){return new Ru(r=>sC(r),km)}async function kv(r,e){const t=nt(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new IM,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Sv(l,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&xv(t)}async function Cv(r,e){const t=nt(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function RM(r,e){const t=nt(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(n=!0);l.H_=i}}n&&xv(t)}function AM(r,e,t){const n=nt(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function xv(r){r.X_.forEach(e=>{e.next()})}var m_,Zb;(Zb=m_||(m_={})).na="default",Zb.Cache="cache";class Iv{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new jc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==m_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.key=e}}class jC{constructor(e){this.key=e}}class PM{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=mt(),this.mutatedKeys=mt(),this.Va=oC(e),this.ma=new Rc(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new Xb,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Cm(this.query,_)?_:null,C=!!v&&this.mutatedKeys.has(v.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;v&&T?v.data.isEqual(T.data)?C!==D&&(n.track({type:3,doc:T}),R=!0):this.ya(v,T)||(n.track({type:2,doc:T}),R=!0,(d&&this.Va(T,d)>0||h&&this.Va(T,h)<0)&&(u=!0)):!v&&T?(n.track({type:0,doc:T}),R=!0):v&&!T&&(n.track({type:1,doc:v}),R=!0,(d||h)&&(u=!0)),R&&(T?(l=l.add(T),o=D?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),n.track({type:1,doc:g})}return{ma:l,pa:n,ss:u,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(T,C){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return D(T)-D(C)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(n),i=i!=null&&i;const u=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,h=d!==this.Aa;return this.Aa=d,l.length!==0||h?{snapshot:new jc(this.query,e.ma,o,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Xb,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=mt(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new jC(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new VC(n))}),t}va(e){this.Ea=e.Es,this.Ra=mt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return jc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class NM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class OM{constructor(e){this.key=e,this.Fa=!1}}class MM{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ru(u=>sC(u),km),this.Oa=new Map,this.Na=new Set,this.Ba=new sn(He.comparator),this.La=new Map,this.ka=new gv,this.qa={},this.Qa=new Map,this.Ka=Vc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function LM(r,e,t=!0){const n=zC(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await UC(n,e,t,!0),i}async function FM(r,e){const t=zC(r);await UC(t,e,!0,!1)}async function UC(r,e,t,n){const i=await sM(r.localStore,fo(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await VM(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&PC(r.remoteStore,i),u}async function VM(r,e,t,n,i){r.Ua=(_,v,T)=>async function(D,R,L,j){let W=R.view.ga(L);W.ss&&(W=await Yb(D.localStore,R.query,!1).then(({documents:F})=>R.view.ga(F,W)));const G=j&&j.targetChanges.get(R.targetId),re=j&&j.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(W,D.isPrimaryClient,G,re);return tT(D,R.targetId,ce.ba),ce.snapshot}(r,_,v,T);const o=await Yb(r.localStore,e,!0),l=new PM(e,o.Es),u=l.ga(o.documents),d=Nf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=l.applyChanges(u,r.isPrimaryClient,d);tT(r,t,h.ba);const g=new NM(e,t,l);return r.xa.set(e,g),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),h.snapshot}async function jM(r,e,t){const n=nt(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!km(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await p_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&vv(n.remoteStore,i.targetId),g_(n,i.targetId)}).catch(Zc)):(g_(n,i.targetId),await p_(n.localStore,i.targetId,!0))}async function UM(r,e){const t=nt(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vv(t.remoteStore,n.targetId))}async function BM(r,e,t){const n=KM(r);try{const i=await function(l,u){const d=nt(l),h=kn.now(),g=u.reduce((T,C)=>T.add(C.key),mt());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=ua(),D=mt();return d.hs.getEntries(T,g).next(R=>{C=R,C.forEach((L,j)=>{j.isValidDocument()||(D=D.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,C)).next(R=>{_=R;const L=[];for(const j of u){const W=oO(j,_.get(j.key).overlayedDocument);W!=null&&L.push(new wl(j.key,W,Xk(W.value.mapValue),ts.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,L,u)}).next(R=>{v=R;const L=R.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(T,R.batchId,L)})}).then(()=>({batchId:v.batchId,changes:lC(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.qa[l.currentUser.toKey()];h||(h=new sn(gt)),h=h.insert(u,d),l.qa[l.currentUser.toKey()]=h}(n,i.batchId,t),await Mf(n,i.changes),await Pm(n.remoteStore)}catch(i){const o=Sv(i,"Failed to persist write");t.reject(o)}}async function BC(r,e){const t=nt(r);try{const n=await nM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Mt(l.Fa):i.removedDocuments.size>0&&(Mt(l.Fa),l.Fa=!1))}),await Mf(t,n,e)}catch(n){await Zc(n)}}function eT(r,e,t){const n=nt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=nt(l);d.onlineState=u;let h=!1;d.queries.forEach((g,_)=>{for(const v of _.J_)v.ea(u)&&(h=!0)}),h&&xv(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function $M(r,e,t){const n=nt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new sn(He.comparator);l=l.insert(o,kr.newNoDocument(o,tt.min()));const u=mt().add(o),d=new Dm(tt.min(),new Map,new sn(gt),l,u);await BC(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),Dv(n)}else await p_(n.localStore,e,!1).then(()=>g_(n,e,t)).catch(Zc)}async function WM(r,e){const t=nt(r),n=e.batch.batchId;try{const i=await tM(t.localStore,e);WC(t,n,null),$C(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Mf(t,i)}catch(i){await Zc(i)}}async function HM(r,e,t){const n=nt(r);try{const i=await function(l,u){const d=nt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,u).next(_=>(Mt(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(h,_))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(n.localStore,e);WC(n,e,t),$C(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Mf(n,i)}catch(i){await Zc(i)}}function $C(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function WC(r,e,t){const n=nt(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function g_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||HC(r,n)})}function HC(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(vv(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),Dv(r))}function tT(r,e,t){for(const n of t)n instanceof VC?(r.ka.addReference(n.key,e),zM(r,n)):n instanceof jC?(Ne("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||HC(r,n.key)):Ze()}function zM(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(Ne("SyncEngine","New document in limbo: "+t),r.Na.add(n),Dv(r))}function Dv(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new He(Qt.fromString(e)),n=r.Ka.next();r.La.set(n,new OM(t)),r.Ba=r.Ba.insert(t,n),PC(r.remoteStore,new Za(fo(Sm(t.path)),n,"TargetPurposeLimboResolution",Em.oe))}}async function Mf(r,e,t){const n=nt(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((u,d)=>{l.push(n.Ua(d,e,t).then(h=>{var g;if((h||t)&&n.isPrimaryClient){const _=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(h){i.push(h);const _=_v.zi(d.targetId,h);o.push(_)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,h){const g=nt(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>de.forEach(h,v=>de.forEach(v.Wi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>de.forEach(v.Gi,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!ed(_))throw _;Ne("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const T=g.us.get(v),C=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(C);g.us=g.us.insert(v,D)}}}(n.localStore,o))}async function qM(r,e){const t=nt(r);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const n=await IC(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(d=>{d.reject(new Me(fe.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Mf(t,n.Ts)}}function YM(r,e){const t=nt(r),n=t.La.get(e);if(n&&n.Fa)return mt().add(n.key);{let i=mt();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function zC(r){const e=nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$M.bind(null,e),e.Ma.R_=RM.bind(null,e.eventManager),e.Ma.Wa=AM.bind(null,e.eventManager),e}function KM(r){const e=nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,e),e}class $p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return eM(this.persistence,new JO,e.initialUser,this.serializer)}ja(e){return new xC(yv.ei,this.serializer)}za(e){return new aM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$p.provider={build:()=>new $p};class QM extends $p{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Mt(this.persistence.referenceDelegate instanceof Up);const n=this.persistence.referenceDelegate.garbageCollector;return new FO(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new xC(n=>Up.ei(n,t),this.serializer)}}class y_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>eT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DM}()}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),n=function(o){return new dM(o)}(e.databaseInfo);return function(o,l,u,d){return new pM(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,u){return new gM(n,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>eT(this.syncEngine,t,0),function(){return Qb.p()?new Qb:new lM}())}createSyncEngine(e,t){return function(i,o,l,u,d,h,g){const _=new MM(i,o,l,u,d,h);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=nt(i);Ne("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Of(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=Kk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{Ne("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function by(r,e){r.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await IC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function nT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await XM(r);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Gb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>Gb(e.remoteStore,i)),r._onlineComponents=e}async function XM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await by(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Oc("Error using user provided cache. Falling back to memory cache: "+t),await by(r,new $p)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await by(r,new QM(void 0));return r._offlineComponents}async function qC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await nT(r,r._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await nT(r,new y_))),r._onlineComponents}function JM(r){return qC(r).then(e=>e.syncEngine)}async function Wp(r){const e=await qC(r),t=e.eventManager;return t.onListen=LM.bind(null,e.syncEngine),t.onUnlisten=jM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UM.bind(null,e.syncEngine),t}function ZM(r,e,t={}){const n=new ea;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const g=new Rv({next:v=>{g.eu(),l.enqueueAndForget(()=>Cv(o,_));const T=v.docs.has(u);!T&&v.fromCache?h.reject(new Me(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?h.reject(new Me(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new Iv(Sm(u.path),g,{includeMetadataChanges:!0,ua:!0});return kv(o,_)}(await Wp(r),r.asyncQueue,e,t,n)),n.promise}function eL(r,e,t={}){const n=new ea;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const g=new Rv({next:v=>{g.eu(),l.enqueueAndForget(()=>Cv(o,_)),v.fromCache&&d.source==="server"?h.reject(new Me(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new Iv(u,g,{includeMetadataChanges:!0,ua:!0});return kv(o,_)}(await Wp(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r,e,t){if(!t)throw new Me(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tL(r,e,t,n){if(e===!0&&n===!0)throw new Me(fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function iT(r){if(!He.isDocumentKey(r))throw new Me(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sT(r){if(He.isDocumentKey(r))throw new Me(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ze()}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Me(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nm(r);throw new Me(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new f1;switch(n.type){case"firstParty":return new g1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=rT.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),rT.delete(t),n.terminate())}(this),Promise.resolve()}}function nL(r,e,t,n={}){var i;const o=(r=li(r,Om))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Sr.MOCK_USER;else{u=xR(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Me(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Sr(h)}r._authCredentials=new h1(new Yk(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pu(this.firestore,e,this._query)}}class xr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class sl extends Pu{constructor(e,t,n){super(e,t,Sm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new He(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function pu(r,e,...t){if(r=Kn(r),KC("collection","path",e),r instanceof Om){const n=Qt.fromString(e,...t);return sT(n),new sl(r,null,n)}{if(!(r instanceof xr||r instanceof sl))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Qt.fromString(e,...t));return sT(n),new sl(r.firestore,null,n)}}function Wr(r,e,...t){if(r=Kn(r),arguments.length===1&&(e=Kk.newId()),KC("doc","path",e),r instanceof Om){const n=Qt.fromString(e,...t);return iT(n),new xr(r,null,new He(n))}{if(!(r instanceof xr||r instanceof sl))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Qt.fromString(e,...t));return iT(n),new xr(r.firestore,r instanceof sl?r.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new RC(this,"async_queue_retry"),this.fu=()=>{const n=Ey();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=Ey();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Ey();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new ea;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ed(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw la("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Tv.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ze()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function lT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class ca extends Om{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new aT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function rL(r,e){const t=typeof r=="object"?r:rk(),n=typeof r=="string"?r:"(default)",i=G_(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=kR("firestore");o&&nL(i,...o)}return i}function Mm(r){if(r._terminated)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iL(r),r._firestoreClient}function iL(r){var e,t,n;const i=r._freezeSettings(),o=function(u,d,h,g){return new A1(u,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,YC(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new GM(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(ur.fromBase64String(e))}catch(t){throw new Me(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uc(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^__.*__$/;class oL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pf(e,this.data,t,this.fieldTransforms)}}class QC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Nv{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Hp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(GC(this.Mu)&&sL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class aL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rm(e)}$u(e,t,n,i=!1){return new Nv({Mu:e,methodName:t,Ku:n,path:ar.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(r){const e=r._freezeSettings(),t=Rm(r._databaseId);return new aL(r._databaseId,!!e.ignoreUndefinedProperties,t)}function XC(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);Mv("Data must be an object, but it was:",l,n);const u=JC(n,l);let d,h;if(o.merge)d=new Ai(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=__(e,_,t);if(!l.contains(v))throw new Me(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ex(g,v)||g.push(v)}d=new Ai(g),h=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,h=l.fieldTransforms;return new oL(new ai(u),d,h)}class jm extends Fm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}class Ov extends Fm{_toFieldTransform(e){return new nO(e.path,new pf)}isEqual(e){return e instanceof Ov}}function lL(r,e,t,n){const i=r.$u(1,e,t);Mv("Data must be an object, but it was:",i,n);const o=[],l=ai.empty();vl(n,(d,h)=>{const g=Lv(e,d,t);h=Kn(h);const _=i.Lu(g);if(h instanceof jm)o.push(g);else{const v=Lf(h,_);v!=null&&(o.push(g),l.set(g,v))}});const u=new Ai(o);return new QC(l,u,i.fieldTransforms)}function uL(r,e,t,n,i,o){const l=r.$u(1,e,t),u=[__(e,n,t)],d=[i];if(o.length%2!=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(__(e,o[v])),d.push(o[v+1]);const h=[],g=ai.empty();for(let v=u.length-1;v>=0;--v)if(!ex(h,u[v])){const T=u[v];let C=d[v];C=Kn(C);const D=l.Lu(T);if(C instanceof jm)h.push(T);else{const R=Lf(C,D);R!=null&&(h.push(T),g.set(T,R))}}const _=new Ai(h);return new QC(g,_,l.fieldTransforms)}function cL(r,e,t,n=!1){return Lf(t,r.$u(n?4:3,e))}function Lf(r,e){if(ZC(r=Kn(r)))return Mv("Unsupported field value:",e,r),JC(r,e);if(r instanceof Fm)return function(n,i){if(!GC(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const u of n){let d=Lf(u,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Z1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=kn.fromDate(n);return{timestampValue:jp(i.serializer,o)}}if(n instanceof kn){const o=new kn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jp(i.serializer,o)}}if(n instanceof Av)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uc)return{bytesValue:wC(i.serializer,n._byteString)};if(n instanceof xr){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Pv)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.qu("VectorValues must only contain numeric values.");return dv(u.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${Nm(n)}`)}(r,e)}function JC(r,e){const t={};return Qk(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(r,(n,i)=>{const o=Lf(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function ZC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof kn||r instanceof Av||r instanceof Uc||r instanceof xr||r instanceof Fm||r instanceof Pv)}function Mv(r,e,t){if(!ZC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Nm(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function __(r,e,t){if((e=Kn(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return Lv(r,e);throw Hp("Field path arguments must be of type string or ",r,!1,void 0,t)}const dL=new RegExp("[~\\*/\\[\\]]");function Lv(r,e,t){if(e.search(dL)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Lm(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Hp(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Me(fe.INVALID_ARGUMENT,u+r+d)}function ex(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fL extends tx{data(){return super.data()}}function Fv(r,e){return typeof e=="string"?Lv(r,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Me(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class hL extends Vv{}function zp(r,e,...t){let n=[];e instanceof Vv&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof jv).length,u=o.filter(d=>d instanceof Um).length;if(l>1||l>0&&u>0)throw new Me(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Um extends hL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Um(e,t,n)}_apply(e){const t=this._parse(e);return rx(e._query,t),new Pu(e.firestore,e.converter,l_(e._query,t))}_parse(e){const t=Vm(e.firestore);return function(o,l,u,d,h,g,_){let v;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){cT(_,g);const T=[];for(const C of _)T.push(uT(d,o,C));v={arrayValue:{values:T}}}else v=uT(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||cT(_,g),v=cL(u,l,_,g==="in"||g==="not-in");return Sn.create(h,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sf(r,e,t){const n=e,i=Fv("where",r);return Um._create(i,n,t)}class jv extends Vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jv(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:ks.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)rx(l,d),l=l_(l,d)}(e._query,t),new Pu(e.firestore,e.converter,l_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uT(r,e,t){if(typeof(t=Kn(t))=="string"){if(t==="")throw new Me(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iC(e)&&t.indexOf("/")!==-1)throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Qt.fromString(t));if(!He.isDocumentKey(n))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Db(r,new He(n))}if(t instanceof xr)return Db(r,t._key);throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(t)}.`)}function cT(r,e){if(!Array.isArray(r)||r.length===0)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rx(r,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Me(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pL{convertValue(e,t="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return vl(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>yn(l.doubleValue));return new Pv(o)}convertGeoPoint(e){return new Av(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Tm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const t=ul(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qt.fromString(e);Mt(CC(n));const i=new ff(n.get(1),n.get(3)),o=new He(n.popFirst(5));return i.isEqual(t)||la(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sx extends tx{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pp extends sx{data(e={}){return super.data(e)}}class ox{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new pp(this._firestore,this._userDataWriter,n.key,n,new Kd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new pp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new pp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:mL(u.type),doc:d,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){r=li(r,xr);const e=li(r.firestore,ca);return ZM(Mm(e),r._key).then(t=>lx(e,r,t))}class Uv extends pL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,t)}}function qp(r){r=li(r,Pu);const e=li(r.firestore,ca),t=Mm(e),n=new Uv(e);return nx(r._query),eL(t,r._query).then(i=>new ox(e,n,r,i))}function dT(r,e,t){r=li(r,xr);const n=li(r.firestore,ca),i=ix(r.converter,e);return Bm(n,[XC(Vm(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ts.none())])}function mp(r,e,t,...n){r=li(r,xr);const i=li(r.firestore,ca),o=Vm(i);let l;return l=typeof(e=Kn(e))=="string"||e instanceof Lm?uL(o,"updateDoc",r._key,e,t,n):lL(o,"updateDoc",r._key,e),Bm(i,[l.toMutation(r._key,ts.exists(!0))])}function Bv(r){return Bm(li(r.firestore,ca),[new fv(r._key,ts.none())])}function ax(r,e){const t=li(r.firestore,ca),n=Wr(r),i=ix(r.converter,e);return Bm(t,[XC(Vm(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ts.exists(!1))]).then(()=>n)}function gL(r,...e){var t,n,i;r=Kn(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||lT(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lT(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,h,g;if(r instanceof xr)h=li(r.firestore,ca),g=Sm(r._key.path),d={next:_=>{e[l]&&e[l](lx(h,r,_))},error:e[l+1],complete:e[l+2]};else{const _=li(r,Pu);h=li(_.firestore,ca),g=_._query;const v=new Uv(h);d={next:T=>{e[l]&&e[l](new ox(h,v,_,T))},error:e[l+1],complete:e[l+2]},nx(r._query)}return function(v,T,C,D){const R=new Rv(D),L=new Iv(T,R,C);return v.asyncQueue.enqueueAndForget(async()=>kv(await Wp(v),L)),()=>{R.eu(),v.asyncQueue.enqueueAndForget(async()=>Cv(await Wp(v),L))}}(Mm(h),g,u,d)}function Bm(r,e){return function(n,i){const o=new ea;return n.asyncQueue.enqueueAndForget(async()=>BM(await JM(n),i,o)),o.promise}(Mm(r),e)}function lx(r,e,t){const n=t.docs.get(e._key),i=new Uv(r);return new sx(r,i,e._key,n,new Kd(t.hasPendingWrites,t.fromCache),e.converter)}function yL(){return new Ov("serverTimestamp")}(function(e,t=!0){(function(i){Jc=i})(Gc),Nc(new Eu("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new ca(new p1(n.getProvider("auth-internal")),new _1(n.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(h.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),rl(Tb,"4.7.6",e),rl(Tb,"4.7.6","esm2017")})();const _L={apiKey:"AIzaSyCw25yBHWnOZ0_HBZWBPuXUEf_occK4FpQ",authDomain:"artvoyage-469a7.firebaseapp.com",projectId:"artvoyage-469a7",storageBucket:"artvoyage-469a7.firebasestorage.app",messagingSenderId:"541351917404",appId:"1:541351917404:web:54160b1d171846a9b5b399"},ux=nk(_L),du=c1(ux),Yn=rL(ux),cx=x.createContext(void 0),vL=({children:r})=>{const[e,t]=x.useState(null),[n,i]=x.useState(!0);x.useEffect(()=>{const h=du.onAuthStateChanged(async g=>{try{g?(await o(g),t(g)):t(null)}catch(_){console.error("Error during auth state change:",_)}finally{i(!1)}});return()=>h()},[]);const o=async h=>{const g=Wr(Yn,"users",h.uid);(await Cc(g)).exists()||await dT(g,{uid:h.uid,email:h.email})},l=async(h,g,_,v)=>{i(!0);try{const C=(await QP(du,h,g)).user,D=Wr(Yn,"users",C.uid);await dT(D,{uid:C.uid,email:C.email,firstName:_,lastName:v}),t(C)}catch(T){throw console.error("Error during registration:",T),T}finally{i(!1)}},u=async(h,g)=>{i(!0);try{const v=(await GP(du,h,g)).user;await o(v),t(v)}catch(_){throw console.error("Error during login:",_),_}finally{i(!1)}},d=async()=>{i(!0);try{await ZP(du),t(null)}catch(h){throw console.error("Error signing out:",h),h}finally{i(!1)}};return k.jsx(cx.Provider,{value:{user:e,register:l,login:u,logout:d,loading:n},children:!n&&r})},Nu=()=>{const r=x.useContext(cx);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},wL="/assets/exhibition1-BW6NN6oe.jpg",EL="/assets/exhibition2-Bp82pQTc.jpg",bL="/assets/exhibition3-CUGk1TBl.jpg",TL="/assets/exhibition4-CXiZda6W.jpg",SL="/assets/exhibition5-D8QkfkG0.jpg",kL="/assets/exhibition6-CzllBLVx.webp",CL="/assets/exhibition7-_6taQLDR.webp",xL="/assets/exhibition8-DiC_I8PB.jpg",fT=[wL,EL,bL,TL,SL,kL,CL,xL],IL=()=>{const r=Math.floor(Math.random()*fT.length);return fT[r]},DL=()=>{const{user:r,loading:e}=Nu(),[t,n]=x.useState([]),[i,o]=x.useState(!0),l=(v,T)=>{throw console.error("Firestore Error:",v),new Error(v.message||T)};return x.useEffect(()=>{e||(async()=>{if(!r){o(!1);return}const T=Wr(Yn,"users",r.uid);if((await Cc(T)).exists()){const D=zp(pu(Yn,"exhibitions"),sf("userId","==",r.uid)),R=gL(D,L=>{o(!1);const j=L.docs.map(W=>({id:W.id,...W.data()}));n(j)},L=>{o(!1),l(L,"Failed to fetch exhibitions.")});return()=>{R()}}})().catch(T=>{o(!1),l(T,"Failed to fetch user exhibitions.")})},[r,e]),{exhibitions:t,addExhibition:async v=>{if(r)try{const T=zp(pu(Yn,"exhibitions"),sf("name","==",v.name),sf("userId","==",r.uid));if(!(await qp(T)).empty)throw new Error("An exhibition with this name already exists. Please try another name");const D=IL(),R=await ax(pu(Yn,"exhibitions"),{...v,image:D,userId:r.uid,createdAt:yL()});n(L=>[...L,{id:R.id,...v,image:D,userId:r.uid}])}catch(T){l(T,"An error occurred while adding the exhibition.")}else throw new Error("User not authenticated.")},addArtworkToExhibition:async(v,T)=>{var C;if(r)try{const D=Wr(Yn,"exhibitions",v),R=await Cc(D);if(R.exists()){const L=((C=R.data())==null?void 0:C.artworks)||[];if(L.some(W=>W.id===T.id))throw new Error("This artwork has already been added to this exhibition. Please choose a different artwork or a different exhibition");await mp(D,{artworks:[...L,T]})}else throw new Error("Exhibition not found.")}catch(D){l(D,"An error occurred while adding the artwork.")}else throw new Error("User not authenticated.")},editExhibition:async(v,T)=>{if(r)try{const C=Wr(Yn,"exhibitions",v);if((await Cc(C)).exists())await mp(C,T),n(R=>R.map(L=>L.id===v?{...L,...T}:L));else throw new Error("Exhibition not found.")}catch(C){l(C,"An error occurred while editing the exhibition.")}else throw new Error("User not authenticated.")},deleteArtworkFromExhibition:async(v,T)=>{var C;if(r)try{const D=Wr(Yn,"exhibitions",v),R=await Cc(D);if(R.exists()){const j=(((C=R.data())==null?void 0:C.artworks)||[]).filter(W=>W.id!==T);await mp(D,{artworks:j}),n(W=>W.map(G=>G.id===v?{...G,artworks:j}:G))}else throw new Error("Exhibition not found.")}catch(D){l(D,"An error occurred while deleting the artwork.")}else throw new Error("User not authenticated.")},deleteExhibition:async v=>{if(r)try{await Bv(Wr(Yn,"exhibitions",v)),n(T=>T.filter(C=>C.id!==v))}catch(T){l(T,"An error occurred while deleting the exhibition.")}else throw new Error("User not authenticated.")},loading:i}},dx=x.createContext(void 0),RL=({children:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:u}=DL();return k.jsx(dx.Provider,{value:{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:u},children:r})},$v=()=>{const r=x.useContext(dx);if(!r)throw new Error("useExhibitions must be used within an ExhibitionProvider");return r},fx=x.createContext(void 0),AL=({children:r})=>{const[e,t]=x.useState([]);return k.jsx(fx.Provider,{value:{artworks:e,setArtworks:t},children:r})},Wv=()=>{const r=x.useContext(fx);if(!r)throw new Error("useArtworksContext must be used within an ArtworksProvider");return r},hx=()=>{const[r,e]=x.useState([]),[t,n]=x.useState(!1),{user:i,loading:o}=Nu(),{setArtworks:l}=Wv(),u=(g,_)=>{throw console.error("Firestore Error:",g),new Error(g.message||_)};return x.useEffect(()=>{o||(async()=>{if(!i)throw n(!1),new Error("User not authenticated.");n(!0);try{const _=Wr(Yn,"collections",i.uid),v=pu(_,"artworks"),C=(await qp(v)).docs.map(D=>({...D.data(),firestoreId:D.id}));e(C),l(C)}catch(_){u(_,"Error loading user collection.")}finally{n(!1)}})()},[i,o]),{collectionState:r,addToCollection:async g=>{if(!i)throw new Error("User not authenticated.");n(!0);try{if(r.some(C=>C.id===g.id))throw new Error("This artwork is already in your collection.");const v=Wr(Yn,"collections",i.uid),T=pu(v,"artworks");await ax(T,g),e(C=>[...C,g])}catch(_){u(_,"Error adding artwork to collection.")}finally{n(!1)}},removeFromCollection:async g=>{if(!i)throw new Error("User not authenticated.");n(!0);try{const _=Wr(Yn,"collections",i.uid),v=pu(_,"artworks"),T=zp(v,sf("id","==",g)),C=await qp(T);if(C.empty)throw new Error("Artwork not found in your collection.");const D=C.docs[0].id,R=Wr(Yn,"collections",i.uid,"artworks",D);await Bv(R),e(L=>L.filter(j=>j.id!==g))}catch(_){u(_,"Error removing artwork from collection.")}finally{n(!1)}},loadingCollection:t}},px=x.createContext(void 0),PL=({children:r})=>{const{collectionState:e,addToCollection:t,removeFromCollection:n,loadingCollection:i}=hx();return k.jsx(px.Provider,{value:{collection:e,addToCollection:t,removeFromCollection:n,loadingCollection:i},children:r})},NL=()=>{const r=x.useContext(px);if(!r)throw new Error("useCollection must be used within a CollectionProvider");return r},OL=({children:r})=>k.jsx(vL,{children:k.jsx(mR,{children:k.jsx(AL,{children:k.jsx(gR,{children:k.jsx(yR,{children:k.jsx(PL,{children:k.jsx(RL,{children:r})})})})})})}),ML=()=>{const{user:r,logout:e}=Nu(),t=Tf(),n=async()=>{try{await e(),t("/auth"),window.location.reload()}catch(i){console.error("Sign out error:",i)}};return k.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#6A4C9C"},children:k.jsxs("div",{className:"container-fluid",children:[k.jsx(qa,{className:"navbar-brand",to:"/home",children:"ArtVoyage"}),k.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:k.jsx("span",{className:"navbar-toggler-icon"})}),k.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:k.jsxs("ul",{className:"navbar-nav ms-auto",children:[k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/home",children:"Home"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/search",children:"Search"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/collection",children:"My Collection"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/exhibitions",children:"My Exhibitions"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/profile",children:"Profile"})}),r?k.jsx("li",{className:"nav-item ms-3",children:k.jsx("button",{className:"btn btn-outline-light",onClick:n,"aria-label":"Sign out",children:"Sign Out"})}):k.jsx("li",{className:"nav-item ms-3",children:k.jsx(qa,{className:"nav-link",to:"/auth",children:"Login/Register"})})]})})]})})},LL=()=>k.jsx("div",{className:"container my-5",children:k.jsx("h1",{children:"Welcome!"})}),FL=()=>{const{setSelectedMuseum:r}=gm(),{setQuery:e}=Y_(),t=n=>{e(""),r(n)};return k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"Choose a museum to start searching:"}),k.jsxs("div",{className:"d-flex justify-content-center",children:[k.jsx("div",{className:"card homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx(Jo,{to:"/search/museum/cleveland",onClick:()=>t("cleveland"),className:"text-decoration-none",children:k.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/74/Logo_Cleveland_Museum_of_Art.svg",className:"card-img-top",alt:"Cleveland Museum of Art ",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),k.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx(Jo,{to:"/search/museum/chicago",onClick:()=>t("chicago"),className:"text-decoration-none",children:k.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Art_Institute_of_Chicago_Logo.png",className:"card-img-top",alt:"Art Institute of Chicago",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),k.jsx(Jo,{to:"/search/collection",onClick:()=>t(""),className:"text-decoration-none",children:k.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx("p",{children:"Collection"})})})]})]})},VL=r=>{const[e,t]=x.useState(null),[n,i]=x.useState(!1),[o,l]=x.useState(null),u=()=>{const _=du.currentUser;if(!_||_.uid!==r)throw new Error("Unauthorized access")},d=x.useCallback(async()=>{if(r){i(!0),l(null);try{u();const _=Wr(Yn,"users",r),v=await Cc(_);v.exists()?t(v.data()):(t(null),console.warn(`No user data found for userId: ${r}`))}catch(_){l("Error fetching user data."),console.error(_)}finally{i(!1)}}},[r]),h=async _=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{u();const v=Wr(Yn,"users",r);await mp(v,_),t(T=>({...T,..._}))}catch(v){l("Error updating user data."),console.error(v)}finally{i(!1)}},g=async()=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{u();const _=Wr(Yn,"users",r);await Bv(_),t(null)}catch(_){l("Error deleting user data."),console.error(_)}finally{i(!1)}};return x.useEffect(()=>{d()},[d]),{userData:e,fetchUserData:d,editUserData:h,deleteUserData:g,loading:n,error:o}};var Ty={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hT;function jL(){return hT||(hT=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(Ty)),Ty.exports}var UL=jL();const Bt=hm(UL);function v_(){return v_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},v_.apply(null,arguments)}function mx(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function pT(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function BL(r){var e=$L(r,"string");return typeof e=="symbol"?e:String(e)}function $L(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function WL(r,e,t){var n=x.useRef(r!==void 0),i=x.useState(e),o=i[0],l=i[1],u=r!==void 0,d=n.current;return n.current=u,!u&&d&&o!==e&&l(e),[u?r:o,x.useCallback(function(h){for(var g=arguments.length,_=new Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];t&&t.apply(void 0,[h].concat(_)),l(h)},[t])]}function HL(r,e){return Object.keys(e).reduce(function(t,n){var i,o=t,l=o[pT(n)],u=o[n],d=mx(o,[pT(n),n].map(BL)),h=e[n],g=WL(u,l,r[h]),_=g[0],v=g[1];return v_({},d,(i={},i[n]=_,i[h]=v,i))},r)}function w_(r,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},w_(r,e)}function zL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,w_(r,e)}const qL=["xxl","xl","lg","md","sm","xs"],YL="xs",$m=x.createContext({prefixes:{},breakpoints:qL,minBreakpoint:YL});function cn(r,e){const{prefixes:t}=x.useContext($m);return r||t[e]||e}function KL(){const{breakpoints:r}=x.useContext($m);return r}function QL(){const{minBreakpoint:r}=x.useContext($m);return r}function GL(){const{dir:r}=x.useContext($m);return r==="rtl"}function Wm(r){return r&&r.ownerDocument||document}function XL(r){var e=Wm(r);return e&&e.defaultView||window}function JL(r,e){return XL(r).getComputedStyle(r,e)}var ZL=/([A-Z])/g;function eF(r){return r.replace(ZL,"-$1").toLowerCase()}var tF=/^ms-/;function Kh(r){return eF(r).replace(tF,"-ms-")}var nF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rF(r){return!!(r&&nF.test(r))}function mu(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(Kh(e))||JL(r).getPropertyValue(Kh(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?r.style.removeProperty(Kh(i)):rF(i)?n+=i+"("+o+") ":t+=Kh(i)+": "+o+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var Sy={exports:{}},ky,mT;function iF(){if(mT)return ky;mT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ky=r,ky}var Cy,gT;function sF(){if(gT)return Cy;gT=1;var r=iF();function e(){}function t(){}return t.resetWarningCache=e,Cy=function(){function n(l,u,d,h,g,_){if(_!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Cy}var yT;function oF(){return yT||(yT=1,Sy.exports=sF()()),Sy.exports}var aF=oF();const ta=hm(aF),_T={disabled:!1},gx=ae.createContext(null);var lF=function(e){return e.scrollTop},Qd="unmounted",ou="exited",Ya="entering",lu="entered",E_="exiting",ha=function(r){zL(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var l=i,u=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?u?(d=ou,o.appearStatus=Ya):d=lu:n.unmountOnExit||n.mountOnEnter?d=Qd:d=ou,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Qd?{status:ou}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ya&&l!==lu&&(o=Ya):(l===Ya||l===lu)&&(o=E_)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ya){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:uu.findDOMNode(this);l&&lF(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ou&&this.setState({status:Qd})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[uu.findDOMNode(this),u],h=d[0],g=d[1],_=this.getTimeouts(),v=u?_.appear:_.enter;if(!i&&!l||_T.disabled){this.safeSetState({status:lu},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Ya},function(){o.props.onEntering(h,g),o.onTransitionEnd(v,function(){o.safeSetState({status:lu},function(){o.props.onEntered(h,g)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:uu.findDOMNode(this);if(!o||_T.disabled){this.safeSetState({status:ou},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:E_},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:ou},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:uu.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],g=d[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Qd)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=mx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(gx.Provider,{value:null},typeof l=="function"?l(i,u):ae.cloneElement(ae.Children.only(l),u))},e}(ae.Component);ha.contextType=gx;ha.propTypes={};function gc(){}ha.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gc,onEntering:gc,onEntered:gc,onExit:gc,onExiting:gc,onExited:gc};ha.UNMOUNTED=Qd;ha.EXITED=ou;ha.ENTERING=Ya;ha.ENTERED=lu;ha.EXITING=E_;function uF(r){return r.code==="Escape"||r.keyCode===27}function cF(){const r=x.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function yx(r){if(!r||typeof r=="function")return null;const{major:e}=cF();return e>=19?r.props.ref:r.ref}const nd=!!(typeof window<"u"&&window.document&&window.document.createElement);var b_=!1,T_=!1;try{var xy={get passive(){return b_=!0},get once(){return T_=b_=!0}};nd&&(window.addEventListener("test",xy,xy),window.removeEventListener("test",xy,!0))}catch{}function _x(r,e,t,n){if(n&&typeof n!="boolean"&&!T_){var i=n.once,o=n.capture,l=t;!T_&&i&&(l=t.__once||function u(d){this.removeEventListener(e,u,o),t.call(this,d)},t.__once=l),r.addEventListener(e,l,b_?n:o)}r.addEventListener(e,t,n)}function S_(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function Yp(r,e,t,n){return _x(r,e,t,n),function(){S_(r,e,t,n)}}function dF(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function fF(r){var e=mu(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function hF(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||dF(r,"transitionend",!0)},e+t),o=Yp(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),o()}}function vx(r,e,t,n){t==null&&(t=fF(r)||0);var i=hF(r,t,n),o=Yp(r,"transitionend",e);return function(){i(),o()}}function vT(r,e){const t=mu(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function pF(r,e){const t=vT(r,"transitionDuration"),n=vT(r,"transitionDelay"),i=vx(r,o=>{o.target===r&&(i(),e(o))},t+n)}function mF(r){r.offsetHeight}const wT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function gF(r,e){const t=wT(r),n=wT(e);return i=>{t&&t(i),n&&n(i)}}function wx(r,e){return x.useMemo(()=>gF(r,e),[r,e])}function yF(r){return r&&"setState"in r?uu.findDOMNode(r):r??null}const _F=ae.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:d,...h},g)=>{const _=x.useRef(null),v=wx(_,d),T=ce=>{v(yF(ce))},C=ce=>F=>{ce&&_.current&&ce(_.current,F)},D=x.useCallback(C(r),[r]),R=x.useCallback(C(e),[e]),L=x.useCallback(C(t),[t]),j=x.useCallback(C(n),[n]),W=x.useCallback(C(i),[i]),G=x.useCallback(C(o),[o]),re=x.useCallback(C(l),[l]);return k.jsx(ha,{ref:g,...h,onEnter:D,onEntered:L,onEntering:R,onExit:j,onExited:G,onExiting:W,addEndListener:re,nodeRef:_,children:typeof u=="function"?(ce,F)=>u(ce,{...F,ref:T}):ae.cloneElement(u,{ref:T})})});function vF(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function Kp(r){const e=vF(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Ex=r=>x.forwardRef((e,t)=>k.jsx("div",{...e,ref:t,className:Bt(e.className,r)})),bx=Ex("h4");bx.displayName="DivStyledAsH4";const Tx=x.forwardRef(({className:r,bsPrefix:e,as:t=bx,...n},i)=>(e=cn(e,"alert-heading"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Tx.displayName="AlertHeading";function wF(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function Ja(r){const e=wF(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function EF(){const r=x.useRef(!0),e=x.useRef(()=>r.current);return x.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function bF(r){const e=x.useRef(null);return x.useEffect(()=>{e.current=r}),e.current}const TF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SF=typeof document<"u",ET=SF||TF?x.useLayoutEffect:x.useEffect,kF=["as","disabled"];function CF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function xF(r){return!r||r.trim()==="#"}function Hv({tagName:r,disabled:e,href:t,target:n,rel:i,role:o,onClick:l,tabIndex:u=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const h={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},h];const g=v=>{if((e||r==="a"&&xF(t))&&v.preventDefault(),e){v.stopPropagation();return}l==null||l(v)},_=v=>{v.key===" "&&(v.preventDefault(),g(v))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:g,onKeyDown:_},h]}const IF=x.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=CF(r,kF);const[o,{tagName:l}]=Hv(Object.assign({tagName:t,disabled:n},i));return k.jsx(l,Object.assign({},i,o,{ref:e}))});IF.displayName="Button";const DF=["onKeyDown"];function RF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function AF(r){return!r||r.trim()==="#"}const Sx=x.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=RF(r,DF);const[i]=Hv(Object.assign({tagName:"a"},n)),o=Ja(l=>{i.onKeyDown(l),t==null||t(l)});return AF(n.href)||n.role==="button"?k.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:o})):k.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});Sx.displayName="Anchor";const kx=x.forwardRef(({className:r,bsPrefix:e,as:t=Sx,...n},i)=>(e=cn(e,"alert-link"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));kx.displayName="AlertLink";const PF={[Ya]:"show",[lu]:"show"},yf=x.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=x.useCallback((d,h)=>{mF(d),n==null||n(d,h)},[n]);return k.jsx(_F,{ref:o,addEndListener:pF,...l,onEnter:u,childRef:yx(e),children:(d,h)=>x.cloneElement(e,{...h,className:Bt("fade",r,e.props.className,PF[d],t[d])})})});yf.displayName="Fade";const NF={"aria-label":ta.string,onClick:ta.func,variant:ta.oneOf(["white"])},Hm=x.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>k.jsx("button",{ref:i,type:"button",className:Bt("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));Hm.displayName="CloseButton";Hm.propTypes=NF;const Cx=x.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:u,variant:d="primary",onClose:h,dismissible:g,transition:_=yf,...v}=HL(r,{show:"onClose"}),T=cn(t,"alert"),C=Kp(L=>{h&&h(!1,L)}),D=_===!0?yf:_,R=k.jsxs("div",{role:"alert",...D?void 0:v,ref:e,className:Bt(l,T,d&&`${T}-${d}`,g&&`${T}-dismissible`),children:[g&&k.jsx(Hm,{onClick:C,"aria-label":i,variant:o}),u]});return D?k.jsx(D,{unmountOnExit:!0,...v,ref:void 0,in:n,children:R}):n?R:null});Cx.displayName="Alert";const OF=Object.assign(Cx,{Link:kx,Heading:Tx}),Gd=x.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:o=!1,className:l,...u},d)=>{const h=cn(e,"btn"),[g,{tagName:_}]=Hv({tagName:r,disabled:o,...u}),v=_;return k.jsx(v,{...g,...u,ref:d,disabled:o,className:Bt(l,h,i&&"active",t&&`${h}-${t}`,n&&`${h}-${n}`,u.href&&o&&"disabled")})});Gd.displayName="Button";function MF(r){const e=x.useRef(r);return e.current=r,e}function LF(r){const e=MF(r);x.useEffect(()=>()=>e.current(),[])}function FF(r,e){return x.Children.toArray(r).some(t=>x.isValidElement(t)&&t.type===e)}function VF({as:r,bsPrefix:e,className:t,...n}){e=cn(e,"col");const i=KL(),o=QL(),l=[],u=[];return i.forEach(d=>{const h=n[d];delete n[d];let g,_,v;typeof h=="object"&&h!=null?{span:g,offset:_,order:v}=h:g=h;const T=d!==o?`-${d}`:"";g&&l.push(g===!0?`${e}${T}`:`${e}${T}-${g}`),v!=null&&u.push(`order${T}-${v}`),_!=null&&u.push(`offset${T}-${_}`)}),[{...n,className:Bt(t,...l,...u)},{as:r,bsPrefix:e,spans:l}]}const xx=x.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:o,spans:l}]=VF(r);return k.jsx(i,{...n,ref:e,className:Bt(t,!l.length&&o)})});xx.displayName="Col";var jF=Function.prototype.bind.call(Function.prototype.call,[].slice);function yc(r,e){return jF(r.querySelectorAll(e))}function bT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const UF="data-rr-ui-";function BF(r){return`${UF}${r}`}const Ix=x.createContext(nd?window:void 0);Ix.Provider;function zv(){return x.useContext(Ix)}const $F={type:ta.string,tooltip:ta.bool,as:ta.elementType},zm=x.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},o)=>k.jsx(r,{...i,ref:o,className:Bt(e,`${t}-${n?"tooltip":"feedback"}`)}));zm.displayName="Feedback";zm.propTypes=$F;const da=x.createContext({}),qv=x.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...u},d)=>{const{controlId:h}=x.useContext(da);return e=cn(e,"form-check-input"),k.jsx(l,{...u,ref:d,type:n,id:r||h,className:Bt(t,e,i&&"is-valid",o&&"is-invalid")})});qv.displayName="FormCheckInput";const Qp=x.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:o}=x.useContext(da);return r=cn(r,"form-check-label"),k.jsx("label",{...n,ref:i,htmlFor:t||o,className:Bt(e,r)})});Qp.displayName="FormCheckLabel";const Dx=x.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:g,className:_,style:v,title:T="",type:C="checkbox",label:D,children:R,as:L="input",...j},W)=>{e=cn(e,"form-check"),t=cn(t,"form-switch");const{controlId:G}=x.useContext(da),re=x.useMemo(()=>({controlId:r||G}),[G,r]),ce=!R&&D!=null&&D!==!1||FF(R,Qp),F=k.jsx(qv,{...j,type:C==="switch"?"checkbox":C,ref:W,isValid:l,isInvalid:u,disabled:o,as:L});return k.jsx(da.Provider,{value:re,children:k.jsx("div",{style:v,className:Bt(_,ce&&e,n&&`${e}-inline`,i&&`${e}-reverse`,C==="switch"&&t),children:R||k.jsxs(k.Fragment,{children:[F,ce&&k.jsx(Qp,{title:T,children:D}),h&&k.jsx(zm,{type:g,tooltip:d,children:h})]})})})});Dx.displayName="FormCheck";const Gp=Object.assign(Dx,{Input:qv,Label:Qp}),Rx=x.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:g="input",..._},v)=>{const{controlId:T}=x.useContext(da);return r=cn(r,"form-control"),k.jsx(g,{..._,type:e,size:n,ref:v,readOnly:h,id:i||T,className:Bt(o,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,l&&"is-valid",u&&"is-invalid")})});Rx.displayName="FormControl";const WF=Object.assign(Rx,{Feedback:zm}),Ax=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"form-floating"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Ax.displayName="FormFloating";const Yv=x.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=x.useMemo(()=>({controlId:r}),[r]);return k.jsx(da.Provider,{value:i,children:k.jsx(e,{...t,ref:n})})});Yv.displayName="FormGroup";const Px=x.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:o,...l},u)=>{const{controlId:d}=x.useContext(da);e=cn(e,"form-label");let h="col-form-label";typeof t=="string"&&(h=`${h} ${h}-${t}`);const g=Bt(i,e,n&&"visually-hidden",t&&h);return o=o||d,t?k.jsx(xx,{ref:u,as:"label",className:g,htmlFor:o,...l}):k.jsx(r,{ref:u,className:g,htmlFor:o,...l})});Px.displayName="FormLabel";const Nx=x.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:o}=x.useContext(da);return r=cn(r,"form-range"),k.jsx("input",{...n,type:"range",ref:i,className:Bt(e,r),id:t||o})});Nx.displayName="FormRange";const Ox=x.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:o=!1,id:l,...u},d)=>{const{controlId:h}=x.useContext(da);return r=cn(r,"form-select"),k.jsx("select",{...u,size:t,ref:d,className:Bt(n,r,e&&`${r}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||h})});Ox.displayName="FormSelect";const Mx=x.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},o)=>(r=cn(r,"form-text"),k.jsx(t,{...i,ref:o,className:Bt(e,r,n&&"text-muted")})));Mx.displayName="FormText";const Lx=x.forwardRef((r,e)=>k.jsx(Gp,{...r,ref:e,type:"switch"}));Lx.displayName="Switch";const HF=Object.assign(Lx,{Input:Gp.Input,Label:Gp.Label}),Fx=x.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...o},l)=>(r=cn(r,"form-floating"),k.jsxs(Yv,{ref:l,className:Bt(e,r),controlId:n,...o,children:[t,k.jsx("label",{htmlFor:n,children:i})]})));Fx.displayName="FloatingLabel";const zF={_ref:ta.any,validated:ta.bool,as:ta.elementType},Kv=x.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>k.jsx(t,{...n,ref:i,className:Bt(r,e&&"was-validated")}));Kv.displayName="Form";Kv.propTypes=zF;const iu=Object.assign(Kv,{Group:Yv,Control:WF,Floating:Ax,Check:Gp,Switch:HF,Label:Px,Text:Mx,Range:Nx,Select:Ox,FloatingLabel:Fx}),TT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function qF(r,e){const t=TT(r),n=TT(e);return i=>{t&&t(i),n&&n(i)}}function Qv(r,e){return x.useMemo(()=>qF(r,e),[r,e])}var Qh;function ST(r){if((!Qh&&Qh!==0||r)&&nd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qh}function YF(){return x.useState(null)}function Iy(r){r===void 0&&(r=Wm());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function KF(r){const e=x.useRef(r);return e.current=r,e}function QF(r){const e=KF(r);x.useEffect(()=>()=>e.current(),[])}function GF(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const kT=BF("modal-open");class Gv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return GF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(mu(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(kT,""),mu(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(kT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Dy=(r,e)=>nd?r==null?(e||Wm()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function XF(r,e){const t=zv(),[n,i]=x.useState(()=>Dy(r,t==null?void 0:t.document));if(!n){const o=Dy(r);o&&i(o)}return x.useEffect(()=>{},[e,n]),x.useEffect(()=>{const o=Dy(r);o!==n&&i(o)},[r,n]),n}function JF({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const o=x.useRef(null),l=x.useRef(e),u=Ja(t);x.useEffect(()=>{e?l.current=!0:u(o.current)},[e,u]);const d=Qv(o,r.ref),h=x.cloneElement(r,{ref:d});return e?h:i||!l.current&&n?null:h}const ZF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function e2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function t2(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:d}=r,h=e2(r,ZF);const g=x.useRef(null),_=Qv(g,yx(d)),v=G=>re=>{G&&g.current&&G(g.current,re)},T=x.useCallback(v(e),[e]),C=x.useCallback(v(t),[t]),D=x.useCallback(v(n),[n]),R=x.useCallback(v(i),[i]),L=x.useCallback(v(o),[o]),j=x.useCallback(v(l),[l]),W=x.useCallback(v(u),[u]);return Object.assign({},h,{nodeRef:g},e&&{onEnter:T},t&&{onEntering:C},n&&{onEntered:D},i&&{onExit:R},o&&{onExiting:L},l&&{onExited:j},u&&{addEndListener:W},{children:typeof d=="function"?(G,re)=>d(G,Object.assign({},re,{ref:_})):x.cloneElement(d,{ref:_})})}const n2=["component"];function r2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}const i2=x.forwardRef((r,e)=>{let{component:t}=r,n=r2(r,n2);const i=t2(n);return k.jsx(t,Object.assign({ref:e},i))});function s2({in:r,onTransition:e}){const t=x.useRef(null),n=x.useRef(!0),i=Ja(e);return ET(()=>{if(!t.current)return;let o=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[r,i]),ET(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function o2({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[o,l]=x.useState(!e);e&&o&&l(!1);const u=s2({in:!!e,onTransition:h=>{const g=()=>{h.isStale()||(h.in?n==null||n(h.element,h.initial):(l(!0),t==null||t(h.element)))};Promise.resolve(i(h)).then(g,_=>{throw h.in||l(!0),_})}}),d=Qv(u,r.ref);return o&&!e?null:x.cloneElement(r,{ref:d})}function CT(r,e,t){return r?k.jsx(i2,Object.assign({},t,{component:r})):e?k.jsx(o2,Object.assign({},t,{transition:e})):k.jsx(JF,Object.assign({},t))}const a2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function l2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}let Ry;function u2(r){return Ry||(Ry=new Gv({ownerDocument:r==null?void 0:r.document})),Ry}function c2(r){const e=zv(),t=r||u2(e),n=x.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:x.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{n.current.backdrop=i},[])})}const Vx=x.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:o,children:l,backdrop:u=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:g,transition:_,runTransition:v,backdropTransition:T,runBackdropTransition:C,autoFocus:D=!0,enforceFocus:R=!0,restoreFocus:L=!0,restoreFocusOptions:j,renderDialog:W,renderBackdrop:G=dt=>k.jsx("div",Object.assign({},dt)),manager:re,container:ce,onShow:F,onHide:N=()=>{},onExit:M,onExited:U,onExiting:$,onEnter:H,onEntering:V,onEntered:Ae}=r,je=l2(r,a2);const Ee=zv(),we=XF(ce),ie=c2(re),be=EF(),Q=bF(t),[Y,le]=x.useState(!t),ke=x.useRef(null);x.useImperativeHandle(e,()=>ie,[ie]),nd&&!Q&&t&&(ke.current=Iy(Ee==null?void 0:Ee.document)),t&&Y&&le(!1);const Be=Ja(()=>{if(ie.add(),$t.current=Yp(document,"keydown",ye),ct.current=Yp(document,"focus",()=>setTimeout(Qe),!0),F&&F(),D){var dt,Xn;const ci=Iy((dt=(Xn=ie.dialog)==null?void 0:Xn.ownerDocument)!=null?dt:Ee==null?void 0:Ee.document);ie.dialog&&ci&&!bT(ie.dialog,ci)&&(ke.current=ci,ie.dialog.focus())}}),Ke=Ja(()=>{if(ie.remove(),$t.current==null||$t.current(),ct.current==null||ct.current(),L){var dt;(dt=ke.current)==null||dt.focus==null||dt.focus(j),ke.current=null}});x.useEffect(()=>{!t||!we||Be()},[t,we,Be]),x.useEffect(()=>{Y&&Ke()},[Y,Ke]),QF(()=>{Ke()});const Qe=Ja(()=>{if(!R||!be()||!ie.isTopModal())return;const dt=Iy(Ee==null?void 0:Ee.document);ie.dialog&&dt&&!bT(ie.dialog,dt)&&ie.dialog.focus()}),st=Ja(dt=>{dt.target===dt.currentTarget&&(h==null||h(dt),u===!0&&N())}),ye=Ja(dt=>{d&&uF(dt)&&ie.isTopModal()&&(g==null||g(dt),dt.defaultPrevented||N())}),ct=x.useRef(),$t=x.useRef(),cr=(...dt)=>{le(!0),U==null||U(...dt)};if(!we)return null;const Dr=Object.assign({role:n,ref:ie.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},je,{style:o,className:i,tabIndex:-1});let wn=W?W(Dr):k.jsx("div",Object.assign({},Dr,{children:x.cloneElement(l,{role:"document"})}));wn=CT(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:M,onExiting:$,onExited:cr,onEnter:H,onEntering:V,onEntered:Ae,children:wn});let Gn=null;return u&&(Gn=G({ref:ie.setBackdropRef,onClick:st}),Gn=CT(T,C,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Gn})),k.jsx(k.Fragment,{children:uu.createPortal(k.jsxs(k.Fragment,{children:[Gn,wn]}),we)})});Vx.displayName="Modal";const d2=Object.assign(Vx,{Manager:Gv});function f2(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function h2(r,e){r.classList?r.classList.add(e):f2(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function xT(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function p2(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=xT(r.className,e):r.setAttribute("class",xT(r.className&&r.className.baseVal||"",e))}const _c={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class m2 extends Gv{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,mu(t,{[e]:`${parseFloat(mu(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],mu(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(h2(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";yc(t,_c.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),yc(t,_c.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),yc(t,_c.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();p2(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";yc(t,_c.FIXED_CONTENT).forEach(o=>this.restore(n,o)),yc(t,_c.STICKY_CONTENT).forEach(o=>this.restore(i,o)),yc(t,_c.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Ay;function g2(r){return Ay||(Ay=new m2(r)),Ay}const jx=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"modal-body"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));jx.displayName="ModalBody";const Ux=x.createContext({onHide(){}}),Xv=x.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:n,size:i,fullscreen:o,children:l,scrollable:u,...d},h)=>{r=cn(r,"modal");const g=`${r}-dialog`,_=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return k.jsx("div",{...d,ref:h,className:Bt(g,e,i&&`${r}-${i}`,n&&`${g}-centered`,u&&`${g}-scrollable`,o&&_),children:k.jsx("div",{className:Bt(`${r}-content`,t),children:l})})});Xv.displayName="ModalDialog";const Bx=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"modal-footer"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Bx.displayName="ModalFooter";const y2=x.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...o},l)=>{const u=x.useContext(Ux),d=Kp(()=>{u==null||u.onHide(),n==null||n()});return k.jsxs("div",{ref:l,...o,children:[i,t&&k.jsx(Hm,{"aria-label":r,variant:e,onClick:d})]})}),$x=x.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},o)=>(r=cn(r,"modal-header"),k.jsx(y2,{ref:o,...i,className:Bt(e,r),closeLabel:t,closeButton:n})));$x.displayName="ModalHeader";const _2=Ex("h4"),Wx=x.forwardRef(({className:r,bsPrefix:e,as:t=_2,...n},i)=>(e=cn(e,"modal-title"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Wx.displayName="ModalTitle";function v2(r){return k.jsx(yf,{...r,timeout:null})}function w2(r){return k.jsx(yf,{...r,timeout:null})}const Hx=x.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:n,contentClassName:i,children:o,dialogAs:l=Xv,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":g,show:_=!1,animation:v=!0,backdrop:T=!0,keyboard:C=!0,onEscapeKeyDown:D,onShow:R,onHide:L,container:j,autoFocus:W=!0,enforceFocus:G=!0,restoreFocus:re=!0,restoreFocusOptions:ce,onEntered:F,onExit:N,onExiting:M,onEnter:U,onEntering:$,onExited:H,backdropClassName:V,manager:Ae,...je},Ee)=>{const[we,ie]=x.useState({}),[be,Q]=x.useState(!1),Y=x.useRef(!1),le=x.useRef(!1),ke=x.useRef(null),[Be,Ke]=YF(),Qe=wx(Ee,Ke),st=Kp(L),ye=GL();r=cn(r,"modal");const ct=x.useMemo(()=>({onHide:st}),[st]);function $t(){return Ae||g2({isRTL:ye})}function cr(ze){if(!nd)return;const Tt=$t().getScrollbarWidth()>0,Cn=ze.scrollHeight>Wm(ze).documentElement.clientHeight;ie({paddingRight:Tt&&!Cn?ST():void 0,paddingLeft:!Tt&&Cn?ST():void 0})}const Dr=Kp(()=>{Be&&cr(Be.dialog)});LF(()=>{S_(window,"resize",Dr),ke.current==null||ke.current()});const wn=()=>{Y.current=!0},Gn=ze=>{Y.current&&Be&&ze.target===Be.dialog&&(le.current=!0),Y.current=!1},dt=()=>{Q(!0),ke.current=vx(Be.dialog,()=>{Q(!1)})},Xn=ze=>{ze.target===ze.currentTarget&&dt()},ci=ze=>{if(T==="static"){Xn(ze);return}if(le.current||ze.target!==ze.currentTarget){le.current=!1;return}L==null||L()},pa=ze=>{C?D==null||D(ze):(ze.preventDefault(),T==="static"&&dt())},As=(ze,Tt)=>{ze&&cr(ze),U==null||U(ze,Tt)},di=ze=>{ke.current==null||ke.current(),N==null||N(ze)},fi=(ze,Tt)=>{$==null||$(ze,Tt),_x(window,"resize",Dr)},wo=ze=>{ze&&(ze.style.display=""),H==null||H(ze),S_(window,"resize",Dr)},Ps=x.useCallback(ze=>k.jsx("div",{...ze,className:Bt(`${r}-backdrop`,V,!v&&"show")}),[v,V,r]),qr={...t,...we};qr.display="block";const dr=ze=>k.jsx("div",{role:"dialog",...ze,style:qr,className:Bt(e,r,be&&`${r}-static`,!v&&"show"),onClick:T?ci:void 0,onMouseUp:Gn,"data-bs-theme":u,"aria-label":g,"aria-labelledby":d,"aria-describedby":h,children:k.jsx(l,{...je,onMouseDown:wn,className:n,contentClassName:i,children:o})});return k.jsx(Ux.Provider,{value:ct,children:k.jsx(d2,{show:_,ref:Qe,backdrop:T,container:j,keyboard:!0,autoFocus:W,enforceFocus:G,restoreFocus:re,restoreFocusOptions:ce,onEscapeKeyDown:pa,onShow:R,onHide:L,onEnter:As,onEntering:fi,onEntered:F,onExit:di,onExiting:M,onExited:wo,manager:$t(),transition:v?v2:void 0,backdropTransition:v?w2:void 0,renderBackdrop:Ps,renderDialog:dr})})});Hx.displayName="Modal";const Br=Object.assign(Hx,{Body:jx,Header:$x,Title:Wx,Footer:Bx,Dialog:Xv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),E2=({user:r})=>{const e=r==null?void 0:r.uid,{userData:t,fetchUserData:n,editUserData:i,deleteUserData:o,loading:l,error:u}=VL(e||null),[d,h]=x.useState(!1),[g,_]=x.useState(!1),[v,T]=x.useState({firstName:"",lastName:""}),[C,D]=x.useState("");x.useEffect(()=>{e&&n()},[e,n]);const R=async()=>{try{await i(v),console.log("User updated successfully!"),h(!1),D("Your profile was updated successfully!"),setTimeout(()=>D(""),5e3)}catch(W){console.error("Error updating user:",W)}},L=async()=>{try{await o(),console.log("User deleted successfully!"),_(!1)}catch(W){console.error("Error deleting user:",W)}},j=()=>{t&&(T({firstName:t.firstName,lastName:t.lastName}),h(!0))};return l?k.jsx("p",{className:"text-center mt-4",children:"Loading..."}):u?k.jsx("p",{className:"text-danger text-center mt-4",children:u}):k.jsxs("div",{className:"container mt-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"User Profile"}),t?k.jsxs("div",{className:"card mx-auto",style:{maxWidth:"600px"},"aria-labelledby":"userProfileCard",children:[k.jsx("div",{className:"card-header text-white",style:{background:"rgba(84, 37, 122, 0.84)"},children:k.jsx("h2",{className:"card-title",id:"userProfileCard",children:"Profile Information"})}),k.jsxs("div",{className:"card-body",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Email:"})," ",t.email]}),k.jsxs("p",{children:[k.jsx("strong",{children:"First Name:"})," ",t.firstName]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Last Name:"})," ",t.lastName]}),k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{className:"btn btn-warning",onClick:j,"aria-label":"Edit User Information",children:"Edit User"}),k.jsx("button",{className:"btn btn-danger",onClick:()=>_(!0),"aria-label":"Delete User Account",children:"Delete User"})]})]})]}):k.jsx("p",{className:"text-center text-muted",children:"No user data available."}),C&&k.jsx(OF,{variant:"success",className:"mt-4 text-center",children:C}),k.jsxs(Br,{show:d,onHide:()=>h(!1),children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsx(Br.Title,{children:"Edit User"})}),k.jsx(Br.Body,{children:k.jsxs(iu,{children:[k.jsxs(iu.Group,{controlId:"formFirstName",children:[k.jsx(iu.Label,{children:"First Name"}),k.jsx(iu.Control,{type:"text",value:v.firstName,onChange:W=>T({...v,firstName:W.target.value})})]}),k.jsxs(iu.Group,{controlId:"formLastName",className:"mt-3",children:[k.jsx(iu.Label,{children:"Last Name"}),k.jsx(iu.Control,{type:"text",value:v.lastName,onChange:W=>T({...v,lastName:W.target.value})})]})]})}),k.jsxs(Br.Footer,{children:[k.jsx(Gd,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),k.jsx(Gd,{variant:"primary",onClick:R,children:"Save Changes"})]})]}),k.jsxs(Br,{show:g,onHide:()=>_(!1),children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsx(Br.Title,{children:"Confirm Delete"})}),k.jsx(Br.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),k.jsxs(Br.Footer,{children:[k.jsx(Gd,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),k.jsx(Gd,{variant:"danger",onClick:L,children:"Delete Account"})]})]})]})};function zx(r,e){return function(){return r.apply(e,arguments)}}const{toString:b2}=Object.prototype,{getPrototypeOf:Jv}=Object,qm=(r=>e=>{const t=b2.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Rs=r=>(r=r.toLowerCase(),e=>qm(e)===r),Ym=r=>e=>typeof e===r,{isArray:rd}=Array,_f=Ym("undefined");function T2(r){return r!==null&&!_f(r)&&r.constructor!==null&&!_f(r.constructor)&&Pi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const qx=Rs("ArrayBuffer");function S2(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&qx(r.buffer),e}const k2=Ym("string"),Pi=Ym("function"),Yx=Ym("number"),Km=r=>r!==null&&typeof r=="object",C2=r=>r===!0||r===!1,gp=r=>{if(qm(r)!=="object")return!1;const e=Jv(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},x2=Rs("Date"),I2=Rs("File"),D2=Rs("Blob"),R2=Rs("FileList"),A2=r=>Km(r)&&Pi(r.pipe),P2=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Pi(r.append)&&((e=qm(r))==="formdata"||e==="object"&&Pi(r.toString)&&r.toString()==="[object FormData]"))},N2=Rs("URLSearchParams"),[O2,M2,L2,F2]=["ReadableStream","Request","Response","Headers"].map(Rs),V2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ff(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),rd(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,r[u],u,r)}}function Kx(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const fu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qx=r=>!_f(r)&&r!==fu;function k_(){const{caseless:r}=Qx(this)&&this||{},e={},t=(n,i)=>{const o=r&&Kx(e,i)||i;gp(e[o])&&gp(n)?e[o]=k_(e[o],n):gp(n)?e[o]=k_({},n):rd(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ff(arguments[n],t);return e}const j2=(r,e,t,{allOwnKeys:n}={})=>(Ff(e,(i,o)=>{t&&Pi(i)?r[o]=zx(i,t):r[o]=i},{allOwnKeys:n}),r),U2=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),B2=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},$2=(r,e,t,n)=>{let i,o,l;const u={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&Jv(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},W2=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},H2=r=>{if(!r)return null;if(rd(r))return r;let e=r.length;if(!Yx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},z2=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Jv(Uint8Array)),q2=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},Y2=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},K2=Rs("HTMLFormElement"),Q2=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),IT=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),G2=Rs("RegExp"),Gx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Ff(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},X2=r=>{Gx(r,(e,t)=>{if(Pi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Pi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},J2=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return rd(r)?n(r):n(String(r).split(e)),t},Z2=()=>{},eV=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Py="abcdefghijklmnopqrstuvwxyz",DT="0123456789",Xx={DIGIT:DT,ALPHA:Py,ALPHA_DIGIT:Py+Py.toUpperCase()+DT},tV=(r=16,e=Xx.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function nV(r){return!!(r&&Pi(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const rV=r=>{const e=new Array(10),t=(n,i)=>{if(Km(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=rd(n)?[]:{};return Ff(n,(l,u)=>{const d=t(l,i+1);!_f(d)&&(o[u]=d)}),e[i]=void 0,o}}return n};return t(r,0)},iV=Rs("AsyncFunction"),sV=r=>r&&(Km(r)||Pi(r))&&Pi(r.then)&&Pi(r.catch),Jx=((r,e)=>r?setImmediate:e?((t,n)=>(fu.addEventListener("message",({source:i,data:o})=>{i===fu&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),fu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Pi(fu.postMessage)),oV=typeof queueMicrotask<"u"?queueMicrotask.bind(fu):typeof process<"u"&&process.nextTick||Jx,oe={isArray:rd,isArrayBuffer:qx,isBuffer:T2,isFormData:P2,isArrayBufferView:S2,isString:k2,isNumber:Yx,isBoolean:C2,isObject:Km,isPlainObject:gp,isReadableStream:O2,isRequest:M2,isResponse:L2,isHeaders:F2,isUndefined:_f,isDate:x2,isFile:I2,isBlob:D2,isRegExp:G2,isFunction:Pi,isStream:A2,isURLSearchParams:N2,isTypedArray:z2,isFileList:R2,forEach:Ff,merge:k_,extend:j2,trim:V2,stripBOM:U2,inherits:B2,toFlatObject:$2,kindOf:qm,kindOfTest:Rs,endsWith:W2,toArray:H2,forEachEntry:q2,matchAll:Y2,isHTMLForm:K2,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:Gx,freezeMethods:X2,toObjectSet:J2,toCamelCase:Q2,noop:Z2,toFiniteNumber:eV,findKey:Kx,global:fu,isContextDefined:Qx,ALPHABET:Xx,generateString:tV,isSpecCompliantForm:nV,toJSONObject:rV,isAsyncFn:iV,isThenable:sV,setImmediate:Jx,asap:oV};function it(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Zx=it.prototype,e0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{e0[r]={value:r}});Object.defineProperties(it,e0);Object.defineProperty(Zx,"isAxiosError",{value:!0});it.from=(r,e,t,n,i,o)=>{const l=Object.create(Zx);return oe.toFlatObject(r,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),it.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const aV=null;function C_(r){return oe.isPlainObject(r)||oe.isArray(r)}function t0(r){return oe.endsWith(r,"[]")?r.slice(0,-2):r}function RT(r,e,t){return r?r.concat(e).map(function(i,o){return i=t0(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function lV(r){return oe.isArray(r)&&!r.some(C_)}const uV=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(r,e,t){if(!oe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,R){return!oe.isUndefined(R[D])});const n=t.metaTokens,i=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(oe.isDate(C))return C.toISOString();if(!d&&oe.isBlob(C))throw new it("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(C)||oe.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,D,R){let L=C;if(C&&!R&&typeof C=="object"){if(oe.endsWith(D,"{}"))D=n?D:D.slice(0,-2),C=JSON.stringify(C);else if(oe.isArray(C)&&lV(C)||(oe.isFileList(C)||oe.endsWith(D,"[]"))&&(L=oe.toArray(C)))return D=t0(D),L.forEach(function(W,G){!(oe.isUndefined(W)||W===null)&&e.append(l===!0?RT([D],G,o):l===null?D:D+"[]",h(W))}),!1}return C_(C)?!0:(e.append(RT(R,D,o),h(C)),!1)}const _=[],v=Object.assign(uV,{defaultVisitor:g,convertValue:h,isVisitable:C_});function T(C,D){if(!oe.isUndefined(C)){if(_.indexOf(C)!==-1)throw Error("Circular reference detected in "+D.join("."));_.push(C),oe.forEach(C,function(L,j){(!(oe.isUndefined(L)||L===null)&&i.call(e,L,oe.isString(j)?j.trim():j,D,v))===!0&&T(L,D?D.concat(j):[j])}),_.pop()}}if(!oe.isObject(r))throw new TypeError("data must be an object");return T(r),e}function AT(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zv(r,e){this._pairs=[],r&&Qm(r,this,e)}const n0=Zv.prototype;n0.append=function(e,t){this._pairs.push([e,t])};n0.toString=function(e){const t=e?function(n){return e.call(this,n,AT)}:AT;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function cV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r0(r,e,t){if(!e)return r;const n=t&&t.encode||cV;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new Zv(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class PT{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const i0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dV=typeof URLSearchParams<"u"?URLSearchParams:Zv,fV=typeof FormData<"u"?FormData:null,hV=typeof Blob<"u"?Blob:null,pV={isBrowser:!0,classes:{URLSearchParams:dV,FormData:fV,Blob:hV},protocols:["http","https","file","blob","url","data"]},ew=typeof window<"u"&&typeof document<"u",x_=typeof navigator=="object"&&navigator||void 0,mV=ew&&(!x_||["ReactNative","NativeScript","NS"].indexOf(x_.product)<0),gV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yV=ew&&window.location.href||"http://localhost",_V=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ew,hasStandardBrowserEnv:mV,hasStandardBrowserWebWorkerEnv:gV,navigator:x_,origin:yV},Symbol.toStringTag,{value:"Module"})),Cr={..._V,...pV};function vV(r,e){return Qm(r,new Cr.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return Cr.isNode&&oe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function wV(r){return oe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function EV(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function s0(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&oe.isArray(i)?i.length:l,d?(oe.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!u):((!i[l]||!oe.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&oe.isArray(i[l])&&(i[l]=EV(i[l])),!u)}if(oe.isFormData(r)&&oe.isFunction(r.entries)){const t={};return oe.forEachEntry(r,(n,i)=>{e(wV(n),i,t,0)}),t}return null}function bV(r,e,t){if(oe.isString(r))try{return(e||JSON.parse)(r),oe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Vf={transitional:i0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(s0(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vV(e,this.formSerializer).toString();if((u=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Qm(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),bV(e)):e}],transformResponse:[function(e){const t=this.transitional||Vf.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?it.from(u,it.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],r=>{Vf.headers[r]={}});const TV=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&TV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},NT=Symbol("internals");function Vd(r){return r&&String(r).trim().toLowerCase()}function yp(r){return r===!1||r==null?r:oe.isArray(r)?r.map(yp):String(r)}function kV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const CV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ny(r,e,t,n,i){if(oe.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(n))return e.indexOf(n)!==-1;if(oe.isRegExp(n))return n.test(e)}}function xV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function IV(r,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class ui{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(u,d,h){const g=Vd(d);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||h===!0||h===void 0&&i[_]!==!1)&&(i[_||d]=yp(u))}const l=(u,d)=>oe.forEach(u,(h,g)=>o(h,g,d));if(oe.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(oe.isString(e)&&(e=e.trim())&&!CV(e))l(SV(e),t);else if(oe.isHeaders(e))for(const[u,d]of e.entries())o(d,u,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Vd(e),e){const n=oe.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return kV(i);if(oe.isFunction(t))return t.call(this,i,n);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vd(e),e){const n=oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Ny(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=Vd(l),l){const u=oe.findKey(n,l);u&&(!t||Ny(n,n[u],u,t))&&(delete n[u],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||Ny(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return oe.forEach(this,(i,o)=>{const l=oe.findKey(n,o);if(l){t[l]=yp(i),delete t[o];return}const u=e?xV(o):String(o).trim();u!==o&&delete t[o],t[u]=yp(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&oe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[NT]=this[NT]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Vd(l);n[u]||(IV(i,l),n[u]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}}ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(ui.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});oe.freezeMethods(ui);function Oy(r,e){const t=this||Vf,n=e||t,i=ui.from(n.headers);let o=n.data;return oe.forEach(r,function(u){o=u.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function o0(r){return!!(r&&r.__CANCEL__)}function id(r,e,t){it.call(this,r??"canceled",it.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(id,it,{__CANCEL__:!0});function a0(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new it("Request failed with status code "+t.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function DV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function RV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),g=n[o];l||(l=h),t[i]=d,n[i]=h;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),h-l<e)return;const T=g&&h-g;return T?Math.round(v*1e3/T):void 0}}function AV(r,e){let t=0,n=1e3/e,i,o;const l=(h,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),r.apply(null,h)};return[(...h)=>{const g=Date.now(),_=g-t;_>=n?l(h,g):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},n-_)))},()=>i&&l(i)]}const Xp=(r,e,t=3)=>{let n=0;const i=RV(50,250);return AV(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,h=i(d),g=l<=u;n=l;const _={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&g?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(_)},t)},OT=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},MT=r=>(...e)=>oe.asap(()=>r(...e)),PV=Cr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Cr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Cr.origin),Cr.navigator&&/(msie|trident)/i.test(Cr.navigator.userAgent)):()=>!0,NV=Cr.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];oe.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),oe.isString(n)&&l.push("path="+n),oe.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function MV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function l0(r,e){return r&&!OV(e)?MV(r,e):e}const LT=r=>r instanceof ui?{...r}:r;function ku(r,e){e=e||{};const t={};function n(h,g,_,v){return oe.isPlainObject(h)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},h,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(h,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(h))return n(void 0,h,_,v)}else return n(h,g,_,v)}function o(h,g){if(!oe.isUndefined(g))return n(void 0,g)}function l(h,g){if(oe.isUndefined(g)){if(!oe.isUndefined(h))return n(void 0,h)}else return n(void 0,g)}function u(h,g,_){if(_ in e)return n(h,g);if(_ in r)return n(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,g,_)=>i(LT(h),LT(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},r,e)),function(g){const _=d[g]||i,v=_(r[g],e[g],g);oe.isUndefined(v)&&_!==u||(t[g]=v)}),t}const u0=r=>{const e=ku({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=ui.from(l),e.url=r0(l0(e.baseURL,e.url),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(oe.isFormData(t)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Cr.hasStandardBrowserEnv&&(n&&oe.isFunction(n)&&(n=n(e)),n||n!==!1&&PV(e.url))){const h=i&&o&&NV.read(o);h&&l.set(i,h)}return e},LV=typeof XMLHttpRequest<"u",FV=LV&&function(r){return new Promise(function(t,n){const i=u0(r);let o=i.data;const l=ui.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,g,_,v,T,C;function D(){T&&T(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let R=new XMLHttpRequest;R.open(i.method.toUpperCase(),i.url,!0),R.timeout=i.timeout;function L(){if(!R)return;const W=ui.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),re={data:!u||u==="text"||u==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:W,config:r,request:R};a0(function(F){t(F),D()},function(F){n(F),D()},re),R=null}"onloadend"in R?R.onloadend=L:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(L)},R.onabort=function(){R&&(n(new it("Request aborted",it.ECONNABORTED,r,R)),R=null)},R.onerror=function(){n(new it("Network Error",it.ERR_NETWORK,r,R)),R=null},R.ontimeout=function(){let G=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const re=i.transitional||i0;i.timeoutErrorMessage&&(G=i.timeoutErrorMessage),n(new it(G,re.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,r,R)),R=null},o===void 0&&l.setContentType(null),"setRequestHeader"in R&&oe.forEach(l.toJSON(),function(G,re){R.setRequestHeader(re,G)}),oe.isUndefined(i.withCredentials)||(R.withCredentials=!!i.withCredentials),u&&u!=="json"&&(R.responseType=i.responseType),h&&([v,C]=Xp(h,!0),R.addEventListener("progress",v)),d&&R.upload&&([_,T]=Xp(d),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=W=>{R&&(n(!W||W.type?new id(null,r,R):W),R.abort(),R=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const j=DV(i.url);if(j&&Cr.protocols.indexOf(j)===-1){n(new it("Unsupported protocol "+j+":",it.ERR_BAD_REQUEST,r));return}R.send(o||null)})},VV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(h){if(!i){i=!0,u();const g=h instanceof Error?h:this.reason;n.abort(g instanceof it?g:new id(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),r=null)};r.forEach(h=>h.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>oe.asap(u),d}},jV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},UV=async function*(r,e){for await(const t of BV(r))yield*jV(t,e)},BV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},FT=(r,e,t,n)=>{const i=UV(r,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:g}=await i.next();if(h){u(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Gm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",c0=Gm&&typeof ReadableStream=="function",$V=Gm&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),d0=(r,...e)=>{try{return!!r(...e)}catch{return!1}},WV=c0&&d0(()=>{let r=!1;const e=new Request(Cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),VT=64*1024,I_=c0&&d0(()=>oe.isReadableStream(new Response("").body)),Jp={stream:I_&&(r=>r.body)};Gm&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jp[e]&&(Jp[e]=oe.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,n)})})})(new Response);const HV=async r=>{if(r==null)return 0;if(oe.isBlob(r))return r.size;if(oe.isSpecCompliantForm(r))return(await new Request(Cr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(r)||oe.isArrayBuffer(r))return r.byteLength;if(oe.isURLSearchParams(r)&&(r=r+""),oe.isString(r))return(await $V(r)).byteLength},zV=async(r,e)=>{const t=oe.toFiniteNumber(r.getContentLength());return t??HV(e)},qV=Gm&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:g,withCredentials:_="same-origin",fetchOptions:v}=u0(r);h=h?(h+"").toLowerCase():"text";let T=VV([i,o&&o.toAbortSignal()],l),C;const D=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let R;try{if(d&&WV&&t!=="get"&&t!=="head"&&(R=await zV(g,n))!==0){let re=new Request(e,{method:"POST",body:n,duplex:"half"}),ce;if(oe.isFormData(n)&&(ce=re.headers.get("content-type"))&&g.setContentType(ce),re.body){const[F,N]=OT(R,Xp(MT(d)));n=FT(re.body,VT,F,N)}}oe.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;C=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:L?_:void 0});let j=await fetch(C);const W=I_&&(h==="stream"||h==="response");if(I_&&(u||W&&D)){const re={};["status","statusText","headers"].forEach(M=>{re[M]=j[M]});const ce=oe.toFiniteNumber(j.headers.get("content-length")),[F,N]=u&&OT(ce,Xp(MT(u),!0))||[];j=new Response(FT(j.body,VT,F,()=>{N&&N(),D&&D()}),re)}h=h||"text";let G=await Jp[oe.findKey(Jp,h)||"text"](j,r);return!W&&D&&D(),await new Promise((re,ce)=>{a0(re,ce,{data:G,headers:ui.from(j.headers),status:j.status,statusText:j.statusText,config:r,request:C})})}catch(L){throw D&&D(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,r,C),{cause:L.cause||L}):it.from(L,L&&L.code,r,C)}}),D_={http:aV,xhr:FV,fetch:qV};oe.forEach(D_,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const jT=r=>`- ${r}`,YV=r=>oe.isFunction(r)||r===null||r===!1,f0={getAdapter:r=>{r=oe.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!YV(t)&&(n=D_[(l=String(t)).toLowerCase()],n===void 0))throw new it(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(jT).join(`
`):" "+jT(o[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:D_};function My(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new id(null,r)}function UT(r){return My(r),r.headers=ui.from(r.headers),r.data=Oy.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),f0.getAdapter(r.adapter||Vf.adapter)(r).then(function(n){return My(r),n.data=Oy.call(r,r.transformResponse,n),n.headers=ui.from(n.headers),n},function(n){return o0(n)||(My(r),n&&n.response&&(n.response.data=Oy.call(r,r.transformResponse,n.response),n.response.headers=ui.from(n.response.headers))),Promise.reject(n)})}const h0="1.7.9",Xm={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Xm[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const BT={};Xm.transitional=function(e,t,n){function i(o,l){return"[Axios v"+h0+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new it(i(l," has been removed"+(t?" in "+t:"")),it.ERR_DEPRECATED);return t&&!BT[l]&&(BT[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Xm.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function KV(r,e,t){if(typeof r!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const u=r[o],d=u===void 0||l(u,o,r);if(d!==!0)throw new it("option "+o+" must be "+d,it.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new it("Unknown option "+o,it.ERR_BAD_OPTION)}}const _p={assertOptions:KV,validators:Xm},to=_p.validators;class gu{constructor(e){this.defaults=e,this.interceptors={request:new PT,response:new PT}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ku(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&_p.assertOptions(n,{silentJSONParsing:to.transitional(to.boolean),forcedJSONParsing:to.transitional(to.boolean),clarifyTimeoutError:to.transitional(to.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:_p.assertOptions(i,{encode:to.function,serialize:to.function},!0)),_p.assertOptions(t,{baseUrl:to.spelling("baseURL"),withXsrfToken:to.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),t.headers=ui.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(t)===!1||(d=d&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});const h=[];this.interceptors.response.forEach(function(D){h.push(D.fulfilled,D.rejected)});let g,_=0,v;if(!d){const C=[UT.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,h),v=C.length,g=Promise.resolve(t);_<v;)g=g.then(C[_++],C[_++]);return g}v=u.length;let T=t;for(_=0;_<v;){const C=u[_++],D=u[_++];try{T=C(T)}catch(R){D.call(this,R);break}}try{g=UT.call(this,T)}catch(C){return Promise.reject(C)}for(_=0,v=h.length;_<v;)g=g.then(h[_++],h[_++]);return g}getUri(e){e=ku(this.defaults,e);const t=l0(e.baseURL,e.url);return r0(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){gu.prototype[e]=function(t,n){return this.request(ku(n||{},{method:e,url:t,data:(n||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(ku(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}gu.prototype[e]=t(),gu.prototype[e+"Form"]=t(!0)});class tw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new id(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tw(function(i){e=i}),cancel:e}}}function QV(r){return function(t){return r.apply(null,t)}}function GV(r){return oe.isObject(r)&&r.isAxiosError===!0}const R_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(R_).forEach(([r,e])=>{R_[e]=r});function p0(r){const e=new gu(r),t=zx(gu.prototype.request,e);return oe.extend(t,gu.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return p0(ku(r,i))},t}const Rt=p0(Vf);Rt.Axios=gu;Rt.CanceledError=id;Rt.CancelToken=tw;Rt.isCancel=o0;Rt.VERSION=h0;Rt.toFormData=Qm;Rt.AxiosError=it;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=QV;Rt.isAxiosError=GV;Rt.mergeConfig=ku;Rt.AxiosHeaders=ui;Rt.formToJSON=r=>s0(oe.isHTMLForm(r)?new FormData(r):r);Rt.getAdapter=f0.getAdapter;Rt.HttpStatusCode=R_;Rt.default=Rt;const m0="https://openaccess-api.clevelandart.org/api/artworks",XV="https://openaccess-api.clevelandart.org/api/creators",JV=async r=>{var e,t,n,i,o;try{const l=await Rt.get(`${m0}/${r}`);if(l.data&&l.data.data){const u=l.data.data,d=((t=(e=u.creators[0])==null?void 0:e.description.match(/\(([^)]+)\)/))==null?void 0:t[1])||"",h=((i=(n=u.creators[0])==null?void 0:n.description.match(/^([^\(]+)/))==null?void 0:i[1])||"Unknown Artist",g=((o=u.creation_date)==null?void 0:o.replace(/\b(c\.|circa)\s?/gi,""))||"";let _="";return typeof u.images=="string"?_=u.images:u.images&&u.images.web&&(_=u.images.web.url),{id:u.id,title:u.title,artist_title:h,artist_bio:d,date:g,medium_display:u.type+" "+u.technique,imageUrl:_,source:"cleveland",objectUrl:u.url,description:u.description,copyright:u.copyright||"The Cleveland Museum of Art"}}else return null}catch(l){if(console.error(l),Rt.isAxiosError(l)){if(l.response&&l.response.status===404)return null;throw new Error(l.message)}else throw new Error("An error occured for this artwork")}},ZV=async(r,e)=>{var t;try{const n=encodeURIComponent(r);let i;if(e==="title"?i=(await Rt.get(`${m0}?title=${n}`)).data.data:e==="artist"&&(i=((t=(await Rt.get(`${XV}?name=${n}`)).data.data[0])==null?void 0:t.artworks)||[]),i){const o=i.map(async u=>await JV(u.id));return(await Promise.all(o)).filter(u=>u!==null)}else throw new Error("No artworks found.")}catch(n){throw Rt.isAxiosError(n)?new Error(`Axios error fetching artworks: ${n.message}`):new Error(`Unexpected error fetching artworks: ${n}`)}},ej="https://api.artic.edu/api/v1/artworks/search",tj="https://www.artic.edu/iiif/2",nj=async(r,e)=>{const t={query:{bool:{must:[{match:{[e]:r}},{term:{is_on_view:!0}}]}}};try{const o=(await Rt.post(ej,t,{headers:{"Content-Type":"application/json"}})).data.data.map(d=>Rt.get(`https://api.artic.edu/api/v1/artworks/${d.id}`,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description,copyright_notice"}}));return(await Promise.all(o)).map(d=>{const h=d.data.data,g=h.image_id?`${tj}/${h.image_id}/full/843,/0/default.jpg`:"",_=h.artist_display.match(/\(([^)]+)\)/),v=_?_[1]:null;return{id:h.id,title:h.title,artist_title:h.artist_title,artist_bio:v,date:h.date_display,medium_display:h.medium_display,imageUrl:g||"",source:"chicago",objectUrl:"https://www.artic.edu/collection",description:h.description,copyright:h.copyright_notice||"The Chicago Art Institute"}})}catch(n){throw Rt.isAxiosError(n)?new Error(`Axios error fetching artworks from Chicago: ${n.message}
        `):new Error(`Unexpected error fetching artworks from Chicago: ${n} `)}},rj=(r,e,t,n)=>{const[i,o]=x.useState(!1),[l,u]=x.useState(null),{user:d}=Nu(),{artworks:h,setArtworks:g}=Wv();return x.useEffect(()=>{e?(async()=>{var v,T;if(o(!0),u(null),n&&d)(async()=>{try{const D=pu(Yn,"user_artworks",d.uid,"artworks"),R=await qp(D);console.log("fetching search from collection");const L=R.docs.map(G=>G.data()),j=zp(D,sf(t,"==",e)),W=L.filter(G=>{var re;return(re=G[t])==null?void 0:re.toLowerCase().includes(e.toLowerCase())});g(W)}catch(D){u("Error loading collection: "+D.message)}finally{o(!1)}})();else{const C={artist:r==="cleveland"?"artist":"artist_display",title:"title"};try{const D=r==="cleveland"?await ZV(e,C[t]||"artist"):await nj(e,C[t]||"artist_display");g(D)}catch(D){u(((T=(v=D.response)==null?void 0:v.data)==null?void 0:T.error)||"An error occurred while fetching artworks. Please try again.")}finally{o(!1)}}})():g([])},[e,t,r,n,d,g]),{artworks:h,loading:i,error:l,setArtworks:g}},ij=({sortOption:r,setSortOption:e,sortDirection:t,setSortDirection:n})=>{const[i,o]=x.useState(null),{setQuery:l}=Y_(),{setType:u}=YS(),[d,h]=x.useState(""),[g,_]=x.useState(""),v=()=>{if(d.trim()===""){o("Please enter an artist name.");return}l(d),u("artist_title"),o(null),h("")},T=()=>{if(g.trim()===""){o("Please enter a title.");return}l(g),u("title"),o(null),_("")},C=D=>{n(R=>({...R,[D]:R[D]==="asc"?"desc":"asc"}))};return k.jsxs("div",{className:"container my-3",children:[k.jsxs("div",{className:"row justify-content-center",children:[k.jsx("div",{className:"col-md-4 mb-3",children:k.jsx("input",{type:"text",className:"form-control",value:d,onChange:D=>h(D.target.value),placeholder:"Search by Artist","aria-label":"Search by Artist"})}),k.jsx("div",{className:"col-md-2 mb-3",children:k.jsx("button",{className:"btn btn-primary w-100",onClick:v,"aria-label":"Search by Artist",children:"Search by Artist"})})]}),k.jsxs("div",{className:"row justify-content-center",children:[k.jsx("div",{className:"col-md-4 mb-3",children:k.jsx("input",{type:"text",className:"form-control",value:g,onChange:D=>_(D.target.value),placeholder:"Search by Title","aria-label":"Search by Title"})}),k.jsx("div",{className:"col-md-2 mb-3",children:k.jsx("button",{className:"btn btn-secondary w-100",onClick:T,"aria-label":"Search by Title",children:"Search by Title"})})]}),k.jsx("div",{className:"row justify-content-center",children:k.jsx("div",{className:"col-md-4 mb-3",children:k.jsxs("div",{className:"input-group",children:[k.jsxs("select",{className:"form-select",value:r,onChange:D=>e(D.target.value),"aria-label":"Sort by",children:[k.jsx("option",{value:"artist",children:"Sort by Artist"}),k.jsx("option",{value:"title",children:"Sort by Title"}),k.jsx("option",{value:"date",children:"Sort by Date"})]}),k.jsx("button",{className:"btn btn-info",onClick:()=>C(r),"aria-label":"Toggle Sort Direction",children:t[r]==="asc"?"↑":"↓"})]})})}),i&&k.jsx("div",{className:"text-danger mt-2",children:i})]})};function g0(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=g0(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function lr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=g0(r))&&(n&&(n+=" "),n+=e);return n}function Re(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function jt(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function bs(r,e){const t=Re(r);return isNaN(e)?jt(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Cs(r,e){const t=Re(r);if(isNaN(e))return jt(r,NaN);if(!e)return t;const n=t.getDate(),i=jt(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function nw(r,e){const t=+Re(r);return jt(r,t+e)}const y0=6048e5,sj=864e5,Jm=6e4,Zm=36e5,oj=1e3;function aj(r,e){return nw(r,e*Zm)}let lj={};function Ou(){return lj}function fa(r,e){var u,d,h,g;const t=Ou(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,i=Re(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Bc(r){return fa(r,{weekStartsOn:1})}function _0(r){const e=Re(r),t=e.getFullYear(),n=jt(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=Bc(n),o=jt(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=Bc(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Cu(r){const e=Re(r);return e.setHours(0,0,0,0),e}function Zp(r){const e=Re(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function $c(r,e){const t=Cu(r),n=Cu(e),i=+t-Zp(t),o=+n-Zp(n);return Math.round((i-o)/sj)}function uj(r){const e=_0(r),t=jt(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Bc(t)}function A_(r,e){return nw(r,e*Jm)}function rw(r,e){const t=e*3;return Cs(r,t)}function cj(r,e){return nw(r,e*1e3)}function em(r,e){const t=e*7;return bs(r,t)}function na(r,e){return Cs(r,e*12)}function $T(r){let e;return r.forEach(function(t){const n=Re(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function WT(r){let e;return r.forEach(t=>{const n=Re(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function dj(r,e){const t=Cu(r),n=Cu(e);return+t==+n}function ra(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function tm(r){if(!ra(r)&&typeof r!="number")return!1;const e=Re(r);return!isNaN(Number(e))}function nm(r,e){const t=Re(r),n=Re(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function yu(r){const e=Re(r);return Math.trunc(e.getMonth()/3)+1}function rm(r,e){const t=Re(r),n=Re(e),i=t.getFullYear()-n.getFullYear(),o=yu(t)-yu(n);return i*4+o}function im(r,e){const t=Re(r),n=Re(e);return t.getFullYear()-n.getFullYear()}function fj(r,e){const t=Re(r),n=Re(e),i=HT(t,n),o=Math.abs($c(t,n));t.setDate(t.getDate()-i*o);const l=+(HT(t,n)===-i),u=i*(o-l);return u===0?0:u}function HT(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function v0(r){const e=Re(r);return e.setHours(23,59,59,999),e}function w0(r){const e=Re(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function P_(r){const e=Re(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function E0(r){const e=Re(r);return e.setDate(1),e.setHours(0,0,0,0),e}function b0(r){const e=Re(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function eg(r){const e=Re(r),t=jt(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function hj(r,e){var u,d;const t=Ou(),n=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Re(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const pj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mj=(r,e,t)=>{let n;const i=pj[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ly(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const gj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_j={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vj={date:Ly({formats:gj,defaultWidth:"full"}),time:Ly({formats:yj,defaultWidth:"full"}),dateTime:Ly({formats:_j,defaultWidth:"full"})},wj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ej=(r,e,t,n)=>wj[r];function jd(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=r.formattingValues[u]||r.formattingValues[l]}else{const l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[u]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const bj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ij=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Dj={ordinalNumber:Ij,era:jd({values:bj,defaultWidth:"wide"}),quarter:jd({values:Tj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:jd({values:Sj,defaultWidth:"wide"}),day:jd({values:kj,defaultWidth:"wide"}),dayPeriod:jd({values:Cj,defaultWidth:"wide",formattingValues:xj,defaultFormattingWidth:"wide"})};function Ud(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(u)?Aj(u,_=>_.test(l)):Rj(u,_=>_.test(l));let h;h=r.valueCallback?r.valueCallback(d):d,h=t.valueCallback?t.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function Rj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Aj(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Pj(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const Nj=/^(\d+)(th|st|nd|rd)?/i,Oj=/\d+/i,Mj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lj={any:[/^b/i,/^(a|c)/i]},Fj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vj={any:[/1/i,/2/i,/3/i,/4/i]},jj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$j={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zj={ordinalNumber:Pj({matchPattern:Nj,parsePattern:Oj,valueCallback:r=>parseInt(r,10)}),era:Ud({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Lj,defaultParseWidth:"any"}),quarter:Ud({matchPatterns:Fj,defaultMatchWidth:"wide",parsePatterns:Vj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ud({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:Uj,defaultParseWidth:"any"}),day:Ud({matchPatterns:Bj,defaultMatchWidth:"wide",parsePatterns:$j,defaultParseWidth:"any"}),dayPeriod:Ud({matchPatterns:Wj,defaultMatchWidth:"any",parsePatterns:Hj,defaultParseWidth:"any"})},T0={code:"en-US",formatDistance:mj,formatLong:vj,formatRelative:Ej,localize:Dj,match:zj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qj(r){const e=Re(r);return $c(e,eg(e))+1}function iw(r){const e=Re(r),t=+Bc(e)-+uj(e);return Math.round(t/y0)+1}function sw(r,e){var g,_,v,T;const t=Re(r),n=t.getFullYear(),i=Ou(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(v=i.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,l=jt(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const u=fa(l,e),d=jt(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=fa(d,e);return t.getTime()>=u.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function Yj(r,e){var u,d,h,g;const t=Ou(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=sw(r,e),o=jt(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),fa(o,e)}function S0(r,e){const t=Re(r),n=+fa(t,e)-+Yj(t,e);return Math.round(n/y0)+1}function Vt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const za={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Vt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Vt(t+1,2)},d(r,e){return Vt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Vt(r.getHours()%12||12,e.length)},H(r,e){return Vt(r.getHours(),e.length)},m(r,e){return Vt(r.getMinutes(),e.length)},s(r,e){return Vt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Vt(i,e.length)}},vc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zT={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return za.y(r,e)},Y:function(r,e,t,n){const i=sw(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Vt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Vt(o,e.length)},R:function(r,e){const t=_0(r);return Vt(t,e.length)},u:function(r,e){const t=r.getFullYear();return Vt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Vt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Vt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return za.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Vt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=S0(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Vt(i,e.length)},I:function(r,e,t){const n=iw(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Vt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):za.d(r,e)},D:function(r,e,t){const n=qj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Vt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Vt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Vt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Vt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=vc.noon:n===0?i=vc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=vc.evening:n>=12?i=vc.afternoon:n>=4?i=vc.morning:i=vc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return za.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):za.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):za.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):za.s(r,e)},S:function(r,e){return za.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return YT(n);case"XXXX":case"XX":return au(n);case"XXXXX":case"XXX":default:return au(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return YT(n);case"xxxx":case"xx":return au(n);case"xxxxx":case"xxx":default:return au(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qT(n,":");case"OOOO":default:return"GMT"+au(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qT(n,":");case"zzzz":default:return"GMT"+au(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return Vt(n,e.length)},T:function(r,e,t){const n=r.getTime();return Vt(n,e.length)}};function qT(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+Vt(o,2)}function YT(r,e){return r%60===0?(r>0?"-":"+")+Vt(Math.abs(r)/60,2):au(r,e)}function au(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Vt(Math.trunc(n/60),2),o=Vt(n%60,2);return t+i+e+o}const KT=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},k0=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Kj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return KT(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",KT(n,e)).replace("{{time}}",k0(i,e))},sm={p:k0,P:Kj},Qj=/^D+$/,Gj=/^Y+$/,Xj=["D","DD","YY","YYYY"];function C0(r){return Qj.test(r)}function x0(r){return Gj.test(r)}function N_(r,e,t){const n=Jj(r,e,t);if(console.warn(n),Xj.includes(r))throw new RangeError(n)}function Jj(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tU=/^'([^]*?)'?$/,nU=/''/g,rU=/[a-zA-Z]/;function QT(r,e,t){var g,_,v,T,C,D,R,L;const n=Ou(),i=(t==null?void 0:t.locale)??n.locale??T0,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((T=(v=n.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((D=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:D.weekStartsOn)??n.weekStartsOn??((L=(R=n.locale)==null?void 0:R.options)==null?void 0:L.weekStartsOn)??0,u=Re(r);if(!tm(u))throw new RangeError("Invalid time value");let d=e.match(eU).map(j=>{const W=j[0];if(W==="p"||W==="P"){const G=sm[W];return G(j,i.formatLong)}return j}).join("").match(Zj).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const W=j[0];if(W==="'")return{isToken:!1,value:iU(j)};if(zT[W])return{isToken:!0,value:j};if(W.match(rU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(j=>{if(!j.isToken)return j.value;const W=j.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&x0(W)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&C0(W))&&N_(W,e,String(r));const G=zT[W[0]];return G(u,W,i.localize,h)}).join("")}function iU(r){const e=r.match(tU);return e?e[1].replace(nU,"'"):r}function GT(r){return Re(r).getDate()}function sU(r){return Re(r).getDay()}function oU(r){const e=Re(r),t=e.getFullYear(),n=e.getMonth(),i=jt(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function aU(){return Object.assign({},Ou())}function po(r){return Re(r).getHours()}function lU(r){let t=Re(r).getDay();return t===0&&(t=7),t}function mo(r){return Re(r).getMinutes()}function Hr(r){return Re(r).getMonth()}function ia(r){return Re(r).getSeconds()}function O_(r){return Re(r).getTime()}function ut(r){return Re(r).getFullYear()}function hl(r,e){const t=Re(r),n=Re(e);return t.getTime()>n.getTime()}function xu(r,e){const t=Re(r),n=Re(e);return+t<+n}function uU(r,e){const t=Re(r),n=Re(e);return+t==+n}function cU(r,e){const t=e instanceof Date?jt(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const dU=10;class I0{constructor(){Pe(this,"subPriority",0)}validate(e,t){return!0}}class fU extends I0{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class hU extends I0{constructor(){super(...arguments);Pe(this,"priority",dU);Pe(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:jt(t,cU(t,Date))}}class At{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new fU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class pU extends At{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const _n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},so={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vn(r,e){return r&&{value:e(r.value),rest:r.rest}}function rn(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function oo(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Zm+o*Jm+l*oj),rest:e.slice(t[0].length)}}function D0(r){return rn(_n.anyDigitsSigned,r)}function dn(r,e){switch(r){case 1:return rn(_n.singleDigit,e);case 2:return rn(_n.twoDigits,e);case 3:return rn(_n.threeDigits,e);case 4:return rn(_n.fourDigits,e);default:return rn(new RegExp("^\\d{1,"+r+"}"),e)}}function om(r,e){switch(r){case 1:return rn(_n.singleDigitSigned,e);case 2:return rn(_n.twoDigitsSigned,e);case 3:return rn(_n.threeDigitsSigned,e);case 4:return rn(_n.fourDigitsSigned,e);default:return rn(new RegExp("^-?\\d{1,"+r+"}"),e)}}function ow(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function R0(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,u=r>=o%100;i=r+l-(u?100:0)}return t?i:1-i}function A0(r){return r%400===0||r%4===0&&r%100!==0}class mU extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return vn(dn(4,t),o);case"yo":return vn(i.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const u=R0(i.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class gU extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return vn(dn(4,t),o);case"Yo":return vn(i.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=sw(t,o);if(i.isTwoDigitYear){const d=R0(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,o)}const u=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,o)}}class yU extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return om(n==="R"?4:n.length,t)}set(t,n,i){const o=jt(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Bc(o)}}class _U extends At{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return om(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class vU extends At{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return dn(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class wU extends At{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return dn(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class EU extends At{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return vn(rn(_n.month,t),o);case"MM":return vn(dn(2,t),o);case"Mo":return vn(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class bU extends At{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return vn(rn(_n.month,t),o);case"LL":return vn(dn(2,t),o);case"Lo":return vn(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function TU(r,e,t){const n=Re(r),i=S0(n,t)-e;return n.setDate(n.getDate()-i*7),n}class SU extends At{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return rn(_n.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return fa(TU(t,i,o),o)}}function kU(r,e){const t=Re(r),n=iw(t)-e;return t.setDate(t.getDate()-n*7),t}class CU extends At{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return rn(_n.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Bc(kU(t,i))}}const xU=[31,28,31,30,31,30,31,31,30,31,30,31],IU=[31,29,31,30,31,30,31,31,30,31,30,31];class DU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return rn(_n.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return dn(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=A0(i),l=t.getMonth();return o?n>=1&&n<=IU[l]:n>=1&&n<=xU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class RU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return rn(_n.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return dn(n.length,t)}}validate(t,n){const i=t.getFullYear();return A0(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function aw(r,e,t){var _,v,T,C;const n=Ou(),i=(t==null?void 0:t.weekStartsOn)??((v=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((C=(T=n.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??0,o=Re(r),l=o.getDay(),d=(e%7+7)%7,h=7-i,g=e<0||e>6?e-(l+h)%7:(d+h)%7-(l+h)%7;return bs(o,g)}class AU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}class PU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return vn(dn(n.length,t),l);case"eo":return vn(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}class NU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return vn(dn(n.length,t),l);case"co":return vn(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}function OU(r,e){const t=Re(r),n=lU(t),i=e-n;return bs(t,i)}class MU extends At{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return dn(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return vn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return vn(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=OU(t,i),t.setHours(0,0,0,0),t}}class LU extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class FU extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class VU extends At{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class jU extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return rn(_n.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class UU extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return rn(_n.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class BU extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return rn(_n.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class $U extends At{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return rn(_n.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class WU extends At{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return rn(_n.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class HU extends At{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return rn(_n.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class zU extends At{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return vn(dn(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class qU extends At{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return oo(so.basicOptionalMinutes,t);case"XX":return oo(so.basic,t);case"XXXX":return oo(so.basicOptionalSeconds,t);case"XXXXX":return oo(so.extendedOptionalSeconds,t);case"XXX":default:return oo(so.extended,t)}}set(t,n,i){return n.timestampIsSet?t:jt(t,t.getTime()-Zp(t)-i)}}class YU extends At{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return oo(so.basicOptionalMinutes,t);case"xx":return oo(so.basic,t);case"xxxx":return oo(so.basicOptionalSeconds,t);case"xxxxx":return oo(so.extendedOptionalSeconds,t);case"xxx":default:return oo(so.extended,t)}}set(t,n,i){return n.timestampIsSet?t:jt(t,t.getTime()-Zp(t)-i)}}class KU extends At{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(t){return D0(t)}set(t,n,i){return[jt(t,i*1e3),{timestampIsSet:!0}]}}class QU extends At{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(t){return D0(t)}set(t,n,i){return[jt(t,i),{timestampIsSet:!0}]}}const GU={G:new pU,y:new mU,Y:new gU,R:new yU,u:new _U,Q:new vU,q:new wU,M:new EU,L:new bU,w:new SU,I:new CU,d:new DU,D:new RU,E:new AU,e:new PU,c:new NU,i:new MU,a:new LU,b:new FU,B:new VU,h:new jU,H:new UU,K:new BU,k:new $U,m:new WU,s:new HU,S:new zU,X:new qU,x:new YU,t:new KU,T:new QU},XU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZU=/^'([^]*?)'?$/,e4=/''/g,t4=/\S/,n4=/[a-zA-Z]/;function Fy(r,e,t,n){var D,R,L,j,W,G,re,ce;const i=aU(),o=(n==null?void 0:n.locale)??i.locale??T0,l=(n==null?void 0:n.firstWeekContainsDate)??((R=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:R.firstWeekContainsDate)??i.firstWeekContainsDate??((j=(L=i.locale)==null?void 0:L.options)==null?void 0:j.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((G=(W=n==null?void 0:n.locale)==null?void 0:W.options)==null?void 0:G.weekStartsOn)??i.weekStartsOn??((ce=(re=i.locale)==null?void 0:re.options)==null?void 0:ce.weekStartsOn)??0;if(e==="")return r===""?Re(t):jt(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:u,locale:o},h=[new hU],g=e.match(JU).map(F=>{const N=F[0];if(N in sm){const M=sm[N];return M(F,o.formatLong)}return F}).join("").match(XU),_=[];for(let F of g){!(n!=null&&n.useAdditionalWeekYearTokens)&&x0(F)&&N_(F,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&C0(F)&&N_(F,e,r);const N=F[0],M=GU[N];if(M){const{incompatibleTokens:U}=M;if(Array.isArray(U)){const H=_.find(V=>U.includes(V.token)||V.token===N);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${F}\` at the same time`)}else if(M.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);_.push({token:N,fullToken:F});const $=M.run(r,F,o.match,d);if(!$)return jt(t,NaN);h.push($.setter),r=$.rest}else{if(N.match(n4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(F==="''"?F="'":N==="'"&&(F=r4(F)),r.indexOf(F)===0)r=r.slice(F.length);else return jt(t,NaN)}}if(r.length>0&&t4.test(r))return jt(t,NaN);const v=h.map(F=>F.priority).sort((F,N)=>N-F).filter((F,N,M)=>M.indexOf(F)===N).map(F=>h.filter(N=>N.priority===F).sort((N,M)=>M.subPriority-N.subPriority)).map(F=>F[0]);let T=Re(t);if(isNaN(T.getTime()))return jt(t,NaN);const C={};for(const F of v){if(!F.validate(T,d))return jt(t,NaN);const N=F.set(T,C,d);Array.isArray(N)?(T=N[0],Object.assign(C,N[1])):T=N}return jt(t,T)}function r4(r){return r.match(ZU)[1].replace(e4,"'")}function i4(r,e){const t=Re(r),n=Re(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function s4(r,e){const t=P_(r),n=P_(e);return+t==+n}function o4(r,e){const t=Re(r),n=Re(e);return t.getFullYear()===n.getFullYear()}function vf(r,e){const t=+Re(r),[n,i]=[+Re(e.start),+Re(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function a4(r,e){return bs(r,-1)}function l4(r,e){const n=f4(r);let i;if(n.date){const d=h4(n.date,2);i=p4(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,u;if(n.time&&(l=m4(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(u=g4(n.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+u)}const Gh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f4(r){const e={},t=r.split(Gh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Gh.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Gh.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Gh.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function h4(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function p4(r,e){if(e===null)return new Date(NaN);const t=r.match(u4);if(!t)return new Date(NaN);const n=!!t[4],i=Bd(t[1]),o=Bd(t[2])-1,l=Bd(t[3]),u=Bd(t[4]),d=Bd(t[5])-1;if(n)return E4(e,u,d)?y4(e,u,d):new Date(NaN);{const h=new Date(0);return!v4(e,o,l)||!w4(e,i)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(i,l)),h)}}function Bd(r){return r?parseInt(r):1}function m4(r){const e=r.match(c4);if(!e)return NaN;const t=Vy(e[1]),n=Vy(e[2]),i=Vy(e[3]);return b4(t,n,i)?t*Zm+n*Jm+i*1e3:NaN}function Vy(r){return r&&parseFloat(r.replace(",","."))||0}function g4(r){if(r==="Z")return 0;const e=r.match(d4);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return T4(n,i)?t*(n*Zm+i*Jm):NaN}function y4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const _4=[31,null,31,30,31,30,31,31,30,31,30,31];function P0(r){return r%400===0||r%4===0&&r%100!==0}function v4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(_4[e]||(P0(r)?29:28))}function w4(r,e){return e>=1&&e<=(P0(r)?366:365)}function E4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function b4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function T4(r,e){return e>=0&&e<=59}function Ri(r,e){const t=Re(r),n=t.getFullYear(),i=t.getDate(),o=jt(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=oU(o);return t.setMonth(e,Math.min(i,l)),t}function S4(r,e){let t=Re(r);return isNaN(+t)?jt(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Ri(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function vp(r,e){const t=Re(r);return t.setHours(e),t}function wp(r,e){const t=Re(r);return t.setMinutes(e),t}function Sc(r,e){const t=Re(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return Ri(t,t.getMonth()+i*3)}function Ep(r,e){const t=Re(r);return t.setSeconds(e),t}function ro(r,e){const t=Re(r);return isNaN(+t)?jt(r,NaN):(t.setFullYear(e),t)}function _u(r,e){return Cs(r,-e)}function N0(r,e){return rw(r,-1)}function XT(r,e){return em(r,-1)}function Wc(r,e){return na(r,-e)}function tg(){return typeof window<"u"}function sd(r){return O0(r)?(r.nodeName||"").toLowerCase():"#document"}function Ni(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function vo(r){var e;return(e=(O0(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function O0(r){return tg()?r instanceof Node||r instanceof Ni(r).Node:!1}function zr(r){return tg()?r instanceof Element||r instanceof Ni(r).Element:!1}function _o(r){return tg()?r instanceof HTMLElement||r instanceof Ni(r).HTMLElement:!1}function JT(r){return!tg()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ni(r).ShadowRoot}function jf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=ns(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function k4(r){return["table","td","th"].includes(sd(r))}function ng(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function lw(r){const e=uw(),t=zr(r)?ns(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function C4(r){let e=pl(r);for(;_o(e)&&!Hc(e);){if(lw(e))return e;if(ng(e))return null;e=pl(e)}return null}function uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hc(r){return["html","body","#document"].includes(sd(r))}function ns(r){return Ni(r).getComputedStyle(r)}function rg(r){return zr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function pl(r){if(sd(r)==="html")return r;const e=r.assignedSlot||r.parentNode||JT(r)&&r.host||vo(r);return JT(e)?e.host:e}function M0(r){const e=pl(r);return Hc(e)?r.ownerDocument?r.ownerDocument.body:r.body:_o(e)&&jf(e)?e:M0(e)}function wf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=M0(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Ni(i);if(o){const u=M_(l);return e.concat(l,l.visualViewport||[],jf(i)?i:[],u&&t?wf(u):[])}return e.concat(i,wf(i,[],t))}function M_(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const zc=Math.min,vu=Math.max,am=Math.round,Xh=Math.floor,go=r=>({x:r,y:r}),x4={left:"right",right:"left",bottom:"top",top:"bottom"},I4={start:"end",end:"start"};function D4(r,e,t){return vu(r,zc(e,t))}function ig(r,e){return typeof r=="function"?r(e):r}function qc(r){return r.split("-")[0]}function Uf(r){return r.split("-")[1]}function R4(r){return r==="x"?"y":"x"}function cw(r){return r==="y"?"height":"width"}function Ef(r){return["top","bottom"].includes(qc(r))?"y":"x"}function dw(r){return R4(Ef(r))}function A4(r,e,t){t===void 0&&(t=!1);const n=Uf(r),i=dw(r),o=cw(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=lm(l)),[l,lm(l)]}function P4(r){const e=lm(r);return[L_(r),e,L_(e)]}function L_(r){return r.replace(/start|end/g,e=>I4[e])}function N4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function O4(r,e,t,n){const i=Uf(r);let o=N4(qc(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(L_)))),o}function lm(r){return r.replace(/left|right|bottom|top/g,e=>x4[e])}function M4(r){return{top:0,right:0,bottom:0,left:0,...r}}function L0(r){return typeof r!="number"?M4(r):{top:r,right:r,bottom:r,left:r}}function um(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function ZT(r,e,t){let{reference:n,floating:i}=r;const o=Ef(e),l=dw(e),u=cw(l),d=qc(e),h=o==="y",g=n.x+n.width/2-i.width/2,_=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let T;switch(d){case"top":T={x:g,y:n.y-i.height};break;case"bottom":T={x:g,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:_};break;case"left":T={x:n.x-i.width,y:_};break;default:T={x:n.x,y:n.y}}switch(Uf(e)){case"start":T[l]-=v*(t&&h?-1:1);break;case"end":T[l]+=v*(t&&h?-1:1);break}return T}const L4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:g,y:_}=ZT(h,n,d),v=n,T={},C=0;for(let D=0;D<u.length;D++){const{name:R,fn:L}=u[D],{x:j,y:W,data:G,reset:re}=await L({x:g,y:_,initialPlacement:n,placement:v,strategy:i,middlewareData:T,rects:h,platform:l,elements:{reference:r,floating:e}});g=j??g,_=W??_,T={...T,[R]:{...T[R],...G}},re&&C<=50&&(C++,typeof re=="object"&&(re.placement&&(v=re.placement),re.rects&&(h=re.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):re.rects),{x:g,y:_}=ZT(h,v,d)),D=-1)}return{x:g,y:_,placement:v,strategy:i,middlewareData:T}};async function F4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=r,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:v=!1,padding:T=0}=ig(e,r),C=L0(T),R=u[v?_==="floating"?"reference":"floating":_],L=um(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(R)))==null||t?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:d})),j=_==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),G=await(o.isElement==null?void 0:o.isElement(W))?await(o.getScale==null?void 0:o.getScale(W))||{x:1,y:1}:{x:1,y:1},re=um(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:W,strategy:d}):j);return{top:(L.top-re.top+C.top)/G.y,bottom:(re.bottom-L.bottom+C.bottom)/G.y,left:(L.left-re.left+C.left)/G.x,right:(re.right-L.right+C.right)/G.x}}const V4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=e,{element:h,padding:g=0}=ig(r,e)||{};if(h==null)return{};const _=L0(g),v={x:t,y:n},T=dw(i),C=cw(T),D=await l.getDimensions(h),R=T==="y",L=R?"top":"left",j=R?"bottom":"right",W=R?"clientHeight":"clientWidth",G=o.reference[C]+o.reference[T]-v[T]-o.floating[C],re=v[T]-o.reference[T],ce=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let F=ce?ce[W]:0;(!F||!await(l.isElement==null?void 0:l.isElement(ce)))&&(F=u.floating[W]||o.floating[C]);const N=G/2-re/2,M=F/2-D[C]/2-1,U=zc(_[L],M),$=zc(_[j],M),H=U,V=F-D[C]-$,Ae=F/2-D[C]/2+N,je=D4(H,Ae,V),Ee=!d.arrow&&Uf(i)!=null&&Ae!==je&&o.reference[C]/2-(Ae<H?U:$)-D[C]/2<0,we=Ee?Ae<H?Ae-H:Ae-V:0;return{[T]:v[T]+we,data:{[T]:je,centerOffset:Ae-je-we,...Ee&&{alignmentOffset:we}},reset:Ee}}}),j4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:v,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:D=!0,...R}=ig(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const L=qc(i),j=Ef(u),W=qc(u)===u,G=await(d.isRTL==null?void 0:d.isRTL(h.floating)),re=v||(W||!D?[lm(u)]:P4(u)),ce=C!=="none";!v&&ce&&re.push(...O4(u,D,C,G));const F=[u,...re],N=await F4(e,R),M=[];let U=((n=o.flip)==null?void 0:n.overflows)||[];if(g&&M.push(N[L]),_){const Ae=A4(i,l,G);M.push(N[Ae[0]],N[Ae[1]])}if(U=[...U,{placement:i,overflows:M}],!M.every(Ae=>Ae<=0)){var $,H;const Ae=((($=o.flip)==null?void 0:$.index)||0)+1,je=F[Ae];if(je)return{data:{index:Ae,overflows:U},reset:{placement:je}};let Ee=(H=U.filter(we=>we.overflows[0]<=0).sort((we,ie)=>we.overflows[1]-ie.overflows[1])[0])==null?void 0:H.placement;if(!Ee)switch(T){case"bestFit":{var V;const we=(V=U.filter(ie=>{if(ce){const be=Ef(ie.placement);return be===j||be==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(be=>be>0).reduce((be,Q)=>be+Q,0)]).sort((ie,be)=>ie[1]-be[1])[0])==null?void 0:V[0];we&&(Ee=we);break}case"initialPlacement":Ee=u;break}if(i!==Ee)return{reset:{placement:Ee}}}return{}}}};async function U4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=qc(t),u=Uf(t),d=Ef(t)==="y",h=["left","top"].includes(l)?-1:1,g=o&&d?-1:1,_=ig(e,r);let{mainAxis:v,crossAxis:T,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return u&&typeof C=="number"&&(T=u==="end"?C*-1:C),d?{x:T*g,y:v*h}:{x:v*h,y:T*g}}const B4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:u}=e,d=await U4(e,r);return l===((t=u.offset)==null?void 0:t.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function F0(r){const e=ns(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=_o(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,u=am(t)!==o||am(n)!==l;return u&&(t=o,n=l),{width:t,height:n,$:u}}function fw(r){return zr(r)?r:r.contextElement}function Ac(r){const e=fw(r);if(!_o(e))return go(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=F0(e);let l=(o?am(t.width):t.width)/n,u=(o?am(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const $4=go(0);function V0(r){const e=Ni(r);return!uw()||!e.visualViewport?$4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ni(r)?!1:e}function Iu(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=fw(r);let l=go(1);e&&(n?zr(n)&&(l=Ac(n)):l=Ac(r));const u=W4(o,t,n)?V0(o):go(0);let d=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,g=i.width/l.x,_=i.height/l.y;if(o){const v=Ni(o),T=n&&zr(n)?Ni(n):n;let C=v,D=M_(C);for(;D&&n&&T!==C;){const R=Ac(D),L=D.getBoundingClientRect(),j=ns(D),W=L.left+(D.clientLeft+parseFloat(j.paddingLeft))*R.x,G=L.top+(D.clientTop+parseFloat(j.paddingTop))*R.y;d*=R.x,h*=R.y,g*=R.x,_*=R.y,d+=W,h+=G,C=Ni(D),D=M_(C)}}return um({width:g,height:_,x:d,y:h})}function hw(r,e){const t=rg(r).scrollLeft;return e?e.left+t:Iu(vo(r)).left+t}function j0(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:hw(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function H4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=vo(n),u=e?ng(e.floating):!1;if(n===l||u&&o)return t;let d={scrollLeft:0,scrollTop:0},h=go(1);const g=go(0),_=_o(n);if((_||!_&&!o)&&((sd(n)!=="body"||jf(l))&&(d=rg(n)),_o(n))){const T=Iu(n);h=Ac(n),g.x=T.x+n.clientLeft,g.y=T.y+n.clientTop}const v=l&&!_&&!o?j0(l,d,!0):go(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+g.x+v.x,y:t.y*h.y-d.scrollTop*h.y+g.y+v.y}}function z4(r){return Array.from(r.getClientRects())}function q4(r){const e=vo(r),t=rg(r),n=r.ownerDocument.body,i=vu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=vu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+hw(r);const u=-t.scrollTop;return ns(n).direction==="rtl"&&(l+=vu(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}function Y4(r,e){const t=Ni(r),n=vo(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const h=uw();(!h||h&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}function K4(r,e){const t=Iu(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=_o(r)?Ac(r):go(1),l=r.clientWidth*o.x,u=r.clientHeight*o.y,d=i*o.x,h=n*o.y;return{width:l,height:u,x:d,y:h}}function eS(r,e,t){let n;if(e==="viewport")n=Y4(r,t);else if(e==="document")n=q4(vo(r));else if(zr(e))n=K4(e,t);else{const i=V0(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return um(n)}function U0(r,e){const t=pl(r);return t===e||!zr(t)||Hc(t)?!1:ns(t).position==="fixed"||U0(t,e)}function Q4(r,e){const t=e.get(r);if(t)return t;let n=wf(r,[],!1).filter(u=>zr(u)&&sd(u)!=="body"),i=null;const o=ns(r).position==="fixed";let l=o?pl(r):r;for(;zr(l)&&!Hc(l);){const u=ns(l),d=lw(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jf(l)&&!d&&U0(r,l))?n=n.filter(g=>g!==l):i=u,l=pl(l)}return e.set(r,n),n}function G4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?ng(e)?[]:Q4(e,this._c):[].concat(t),n],u=l[0],d=l.reduce((h,g)=>{const _=eS(e,g,i);return h.top=vu(_.top,h.top),h.right=zc(_.right,h.right),h.bottom=zc(_.bottom,h.bottom),h.left=vu(_.left,h.left),h},eS(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function X4(r){const{width:e,height:t}=F0(r);return{width:e,height:t}}function J4(r,e,t){const n=_o(e),i=vo(e),o=t==="fixed",l=Iu(r,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=go(0);if(n||!n&&!o)if((sd(e)!=="body"||jf(i))&&(u=rg(e)),n){const v=Iu(e,!0,o,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&(d.x=hw(i));const h=i&&!n&&!o?j0(i,u):go(0),g=l.left+u.scrollLeft-d.x-h.x,_=l.top+u.scrollTop-d.y-h.y;return{x:g,y:_,width:l.width,height:l.height}}function jy(r){return ns(r).position==="static"}function tS(r,e){if(!_o(r)||ns(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return vo(r)===t&&(t=t.ownerDocument.body),t}function B0(r,e){const t=Ni(r);if(ng(r))return t;if(!_o(r)){let i=pl(r);for(;i&&!Hc(i);){if(zr(i)&&!jy(i))return i;i=pl(i)}return t}let n=tS(r,e);for(;n&&k4(n)&&jy(n);)n=tS(n,e);return n&&Hc(n)&&jy(n)&&!lw(n)?t:n||C4(r)||t}const Z4=async function(r){const e=this.getOffsetParent||B0,t=this.getDimensions,n=await t(r.floating);return{reference:J4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eB(r){return ns(r).direction==="rtl"}const tB={convertOffsetParentRelativeRectToViewportRelativeRect:H4,getDocumentElement:vo,getClippingRect:G4,getOffsetParent:B0,getElementRects:Z4,getClientRects:z4,getDimensions:X4,getScale:Ac,isElement:zr,isRTL:eB};function $0(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function nB(r,e){let t=null,n;const i=vo(r);function o(){var u;clearTimeout(n),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=r.getBoundingClientRect(),{left:g,top:_,width:v,height:T}=h;if(u||e(),!v||!T)return;const C=Xh(_),D=Xh(i.clientWidth-(g+v)),R=Xh(i.clientHeight-(_+T)),L=Xh(g),W={rootMargin:-C+"px "+-D+"px "+-R+"px "+-L+"px",threshold:vu(0,zc(1,d))||1};let G=!0;function re(ce){const F=ce[0].intersectionRatio;if(F!==d){if(!G)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!$0(h,r.getBoundingClientRect())&&l(),G=!1}try{t=new IntersectionObserver(re,{...W,root:i.ownerDocument})}catch{t=new IntersectionObserver(re,W)}t.observe(r)}return l(!0),o}function rB(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=fw(r),g=i||o?[...h?wf(h):[],...wf(e)]:[];g.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),o&&L.addEventListener("resize",t)});const _=h&&u?nB(h,t):null;let v=-1,T=null;l&&(T=new ResizeObserver(L=>{let[j]=L;j&&j.target===h&&T&&(T.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var W;(W=T)==null||W.observe(e)})),t()}),h&&!d&&T.observe(h),T.observe(e));let C,D=d?Iu(r):null;d&&R();function R(){const L=Iu(r);D&&!$0(D,L)&&t(),D=L,C=requestAnimationFrame(R)}return t(),()=>{var L;g.forEach(j=>{i&&j.removeEventListener("scroll",t),o&&j.removeEventListener("resize",t)}),_==null||_(),(L=T)==null||L.disconnect(),T=null,d&&cancelAnimationFrame(C)}}const iB=B4,sB=j4,nS=V4,oB=(r,e,t)=>{const n=new Map,i={platform:tB,...t},o={...i.platform,_c:n};return L4(r,e,{...i,platform:o})};var bp=typeof document<"u"?x.useLayoutEffect:x.useEffect;function cm(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!cm(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!cm(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function W0(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function rS(r,e){const t=W0(r);return Math.round(e*t)/t}function Uy(r){const e=x.useRef(r);return bp(()=>{e.current=r}),e}function aB(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=r,[g,_]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,T]=x.useState(n);cm(v,n)||T(n);const[C,D]=x.useState(null),[R,L]=x.useState(null),j=x.useCallback(ie=>{ie!==ce.current&&(ce.current=ie,D(ie))},[]),W=x.useCallback(ie=>{ie!==F.current&&(F.current=ie,L(ie))},[]),G=o||C,re=l||R,ce=x.useRef(null),F=x.useRef(null),N=x.useRef(g),M=d!=null,U=Uy(d),$=Uy(i),H=Uy(h),V=x.useCallback(()=>{if(!ce.current||!F.current)return;const ie={placement:e,strategy:t,middleware:v};$.current&&(ie.platform=$.current),oB(ce.current,F.current,ie).then(be=>{const Q={...be,isPositioned:H.current!==!1};Ae.current&&!cm(N.current,Q)&&(N.current=Q,WS.flushSync(()=>{_(Q)}))})},[v,e,t,$,H]);bp(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,_(ie=>({...ie,isPositioned:!1})))},[h]);const Ae=x.useRef(!1);bp(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]),bp(()=>{if(G&&(ce.current=G),re&&(F.current=re),G&&re){if(U.current)return U.current(G,re,V);V()}},[G,re,V,U,M]);const je=x.useMemo(()=>({reference:ce,floating:F,setReference:j,setFloating:W}),[j,W]),Ee=x.useMemo(()=>({reference:G,floating:re}),[G,re]),we=x.useMemo(()=>{const ie={position:t,left:0,top:0};if(!Ee.floating)return ie;const be=rS(Ee.floating,g.x),Q=rS(Ee.floating,g.y);return u?{...ie,transform:"translate("+be+"px, "+Q+"px)",...W0(Ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:Q}},[t,u,Ee.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:V,refs:je,elements:Ee,floatingStyles:we}),[g,V,je,Ee,we])}const lB=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?nS({element:n.current,padding:i}).fn(t):{}:n?nS({element:n,padding:i}).fn(t):{}}}},uB=(r,e)=>({...iB(r),options:[r,e]}),cB=(r,e)=>({...sB(r),options:[r,e]}),dB=(r,e)=>({...lB(r),options:[r,e]}),H0={...BI},fB=H0.useInsertionEffect,hB=fB||(r=>r());function pB(r){const e=x.useRef(()=>{});return hB(()=>{e.current=r}),x.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var dm=typeof document<"u"?x.useLayoutEffect:x.useEffect;let iS=!1,mB=0;const sS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mB++;function gB(){const[r,e]=x.useState(()=>iS?sS():void 0);return dm(()=>{r==null&&e(sS())},[]),x.useEffect(()=>{iS=!0},[]),r}const yB=H0.useId,z0=yB||gB,_B=x.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:u=14,height:d=7,tipRadius:h=0,strokeWidth:g=0,staticOffset:_,stroke:v,d:T,style:{transform:C,...D}={},...R}=e,L=z0(),[j,W]=x.useState(!1);if(dm(()=>{if(!i)return;ns(i).direction==="rtl"&&W(!0)},[i]),!i)return null;const[G,re]=n.split("-"),ce=G==="top"||G==="bottom";let F=_;(ce&&l!=null&&l.x||!ce&&l!=null&&l.y)&&(F=null);const N=g*2,M=N/2,U=u/2*(h/-8+1),$=d/2*h/4,H=!!T,V=F&&re==="end"?"bottom":"top";let Ae=F&&re==="end"?"right":"left";F&&j&&(Ae=re==="end"?"left":"right");const je=(o==null?void 0:o.x)!=null?F||o.x:"",Ee=(o==null?void 0:o.y)!=null?F||o.y:"",we=T||"M0,0"+(" H"+u)+(" L"+(u-U)+","+(d-$))+(" Q"+u/2+","+d+" "+U+","+(d-$))+" Z",ie={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[G];return k.jsxs("svg",{...R,"aria-hidden":!0,ref:t,width:H?u:u+N,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Ae]:je,[V]:Ee,[G]:ce||H?"100%":"calc(100% - "+N/2+"px)",transform:[ie,C].filter(be=>!!be).join(" "),...D},children:[N>0&&k.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:v,strokeWidth:N+(T?0:1),d:we}),k.jsx("path",{stroke:N&&!T?R.fill:"none",d:we}),k.jsx("clipPath",{id:L,children:k.jsx("rect",{x:-M,y:M*(H?-1:1),width:u+N,height:u})})]})});function vB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const wB=x.createContext(null),EB=x.createContext(null),bB=()=>{var r;return((r=x.useContext(wB))==null?void 0:r.id)||null},TB=()=>x.useContext(EB);function SB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=z0(),o=x.useRef({}),[l]=x.useState(()=>vB()),u=bB()!=null,[d,h]=x.useState(n.reference),g=pB((T,C,D)=>{o.current.openEvent=T?C:void 0,l.emit("openchange",{open:T,event:C,reason:D,nested:u}),t==null||t(T,C,D)}),_=x.useMemo(()=>({setPositionReference:h}),[]),v=x.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:v,events:l,floatingId:i,refs:_}),[e,g,v,l,i,_])}function kB(r){r===void 0&&(r={});const{nodeId:e}=r,t=SB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=x.useState(null),[u,d]=x.useState(null),g=(i==null?void 0:i.domReference)||o,_=x.useRef(null),v=TB();dm(()=>{g&&(_.current=g)},[g]);const T=aB({...r,elements:{...i,...u&&{reference:u}}}),C=x.useCallback(W=>{const G=zr(W)?{getBoundingClientRect:()=>W.getBoundingClientRect(),contextElement:W}:W;d(G),T.refs.setReference(G)},[T.refs]),D=x.useCallback(W=>{(zr(W)||W===null)&&(_.current=W,l(W)),(zr(T.refs.reference.current)||T.refs.reference.current===null||W!==null&&!zr(W))&&T.refs.setReference(W)},[T.refs]),R=x.useMemo(()=>({...T.refs,setReference:D,setPositionReference:C,domReference:_}),[T.refs,D,C]),L=x.useMemo(()=>({...T.elements,domReference:g}),[T.elements,g]),j=x.useMemo(()=>({...T,...n,refs:R,elements:L,nodeId:e}),[T,R,L,e,n]);return dm(()=>{n.dataRef.current.floatingContext=j;const W=v==null?void 0:v.nodesRef.current.find(G=>G.id===e);W&&(W.context=j)}),x.useMemo(()=>({...T,context:j,refs:R,elements:L}),[T,R,L,j])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var F_=function(e,t){return F_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},F_(e,t)};function Qn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F_(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var bt=function(){return bt=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},bt.apply(this,arguments)};function lo(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var CB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ae.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},xB=function(r,e){var t=x.useRef(null),n=x.useRef(r);n.current=r;var i=x.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},sg=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,u=xB(t,l);return ae.createElement("div",{className:n,style:o,ref:function(d){u.current=d,i&&(i.current=d)}},e)},Se;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(Se||(Se={}));function q0(){var r=typeof window<"u"?window:globalThis;return r}var Bf=12,IB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ut(r){if(r==null)return new Date;var e=typeof r=="string"?l4(r):Re(r);return Yo(e)?e:new Date}function By(r,e,t,n,i){var o,l=null,u=wu(t)||wu(of()),d=!0;if(Array.isArray(e))return e.forEach(function(g){var _=Fy(r,g,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Yo(_,i)&&r===Gt(_,g,t)),Yo(_,i)&&d&&(l=_)}),l;if(l=Fy(r,e,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Yo(l)&&r===Gt(l,e,t);else if(!Yo(l)){var h=((o=e.match(IB))!==null&&o!==void 0?o:[]).map(function(g){var _=g[0];if(_==="p"||_==="P"){var v=sm[_];return u?v(g,u.formatLong):_}return g}).join("");r.length>0&&(l=Fy(r,h.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Yo(l)||(l=new Date(r))}return Yo(l)&&d?l:null}function Yo(r,e){return tm(r)&&!xu(r,e??new Date("1/1/1800"))}function Gt(r,e,t){if(t==="en")return QT(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?wu(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&of()&&wu(of())&&(n=wu(of())),QT(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Zi(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Gt(r,i,n)||""}function DB(r,e,t){if(!r)return"";var n=Zi(r,t),i=e?Zi(e,t):"";return"".concat(n," - ").concat(i)}function RB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Zi(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Zi(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function $y(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,u=l===void 0?0:l;return vp(wp(Ep(r,u),o),n)}function AB(r){return iw(r)}function PB(r,e){return Gt(r,"ddd",e)}function Tp(r){return Cu(r)}function ol(r,e,t){var n=wu(e||of());return fa(r,{locale:n,weekStartsOn:t})}function sa(r){return E0(r)}function Xd(r){return eg(r)}function oS(r){return P_(r)}function aS(){return Cu(Ut())}function lS(r){return v0(r)}function NB(r){return hj(r)}function OB(r){return w0(r)}function io(r,e){return r&&e?o4(r,e):!r&&!e}function $r(r,e){return r&&e?i4(r,e):!r&&!e}function fm(r,e){return r&&e?s4(r,e):!r&&!e}function wt(r,e){return r&&e?dj(r,e):!r&&!e}function hu(r,e){return r&&e?uU(r,e):!r&&!e}function Jd(r,e,t){var n,i=Cu(e),o=v0(t);try{n=vf(r,{start:i,end:o})}catch{n=!1}return n}function of(){var r=q0();return r.__localeId__}function wu(r){if(typeof r=="string"){var e=q0();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function MB(r,e,t){return e(Gt(r,"EEEE",t))}function LB(r,e){return Gt(r,"EEEEEE",e)}function FB(r,e){return Gt(r,"EEE",e)}function pw(r,e){return Gt(Ri(Ut(),r),"LLLL",e)}function Y0(r,e){return Gt(Ri(Ut(),r),"LLL",e)}function VB(r,e){return Gt(Sc(Ut(),r),"QQQ",e)}function es(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,h=t.filterDate;return $f(r,{minDate:n,maxDate:i})||o&&o.some(function(g){return g instanceof Date?wt(r,g):wt(r,g.date)})||l&&l.some(function(g){var _=g.start,v=g.end;return vf(r,{start:_,end:v})})||u&&!u.some(function(g){return wt(r,g)})||d&&!d.some(function(g){var _=g.start,v=g.end;return vf(r,{start:_,end:v})})||h&&!h(Ut(r))||!1}function mw(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,u=o.end;return vf(r,{start:l,end:u})}):n&&n.some(function(o){var l;return o instanceof Date?wt(r,o):wt(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function K0(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return $f(r,{minDate:n?E0(n):void 0,maxDate:i?w0(i):void 0})||(o==null?void 0:o.some(function(d){return $r(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return $r(r,d)})||u&&!u(Ut(r))||!1}function Jh(r,e,t,n){var i=ut(r),o=Hr(r),l=ut(e),u=Hr(e),d=ut(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function jB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return $f(r,{minDate:n,maxDate:i})||o&&o.some(function(u){return $r(u instanceof Date?u:u.date,r)})||l&&!l.some(function(u){return $r(u,r)})||!1}function Zh(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return $f(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return fm(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return fm(r,d)})||u&&!u(Ut(r))||!1}function ep(r,e,t){if(!e||!t||!tm(e)||!tm(t))return!1;var n=ut(e),i=ut(t);return n<=r&&i>=r}function Sp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(r,0,1);return $f(d,{minDate:n?eg(n):void 0,maxDate:i?b0(i):void 0})||(o==null?void 0:o.some(function(h){return io(d,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return io(d,h)})||u&&!u(Ut(d))||!1}function tp(r,e,t,n){var i=ut(r),o=yu(r),l=ut(e),u=yu(e),d=ut(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function $f(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&$c(r,i)<0||o&&$c(r,o)>0)!==null&&t!==void 0?t:!1}function uS(r,e){return e.some(function(t){return po(t)===po(r)&&mo(t)===mo(r)&&ia(t)===ia(r)})}function cS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&uS(r,n)||i&&!uS(r,i)||o&&!o(r)||!1}function dS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Ut();i=vp(i,po(r)),i=wp(i,mo(r)),i=Ep(i,ia(r));var o=Ut();o=vp(o,po(t)),o=wp(o,mo(t)),o=Ep(o,ia(t));var l=Ut();l=vp(l,po(n)),l=wp(l,mo(n)),l=Ep(l,ia(n));var u;try{u=!vf(i,{start:o,end:l})}catch{u=!1}return u}function fS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=_u(r,1);return n&&nm(n,o)>0||i&&i.every(function(l){return nm(l,o)>0})||!1}function hS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Cs(r,1);return n&&nm(o,n)>0||i&&i.every(function(l){return nm(o,l)>0})||!1}function UB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=eg(r),l=N0(o);return n&&rm(n,l)>0||i&&i.every(function(u){return rm(u,l)>0})||!1}function BB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=b0(r),l=rw(o,1);return n&&rm(l,n)>0||i&&i.every(function(u){return rm(l,u)>0})||!1}function pS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Wc(r,1);return n&&im(n,o)>0||i&&i.every(function(l){return im(l,o)>0})||!1}function $B(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Bf:i,l=Xd(Wc(r,o)),u=el(l,o).endPeriod,d=n&&ut(n);return d&&d>u||!1}function mS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=na(r,1);return n&&im(o,n)>0||i&&i.every(function(l){return im(o,l)>0})||!1}function WB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Bf:i,l=na(r,o),u=el(l,o).startPeriod,d=n&&ut(n);return d&&d<u||!1}function Q0(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return $c(i,e)>=0});return WT(n)}else return t?WT(t):e}function G0(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return $c(i,e)<=0});return $T(n)}else return t?$T(t):e}function gS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(ra(l)){var u=Gt(l,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(e)||(d.push(e),n.set(u,d))}else if(typeof l=="object"){var h=Object.keys(l),g=(t=h[0])!==null&&t!==void 0?t:"",_=l[g];if(typeof g=="string"&&Array.isArray(_))for(var v=0,T=_.length;v<T;v++){var C=_[v];if(C){var u=Gt(C,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(g)||(d.push(g),n.set(u,d))}}}}return n}function HB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function zB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(ra(i)){var l=Gt(i,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&HB(u.holidayNames,[o]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?lo(lo([],d,!0),[o],!1):[o],t.set(l,u)}}}),t}function qB(r,e,t,n,i){for(var o=i.length,l=[],u=0;u<o;u++){var d=r,h=i[u];h&&(d=aj(d,po(h)),d=A_(d,mo(h)),d=cj(d,ia(h)));var g=A_(r,(t+1)*n);hl(d,e)&&xu(d,g)&&h!=null&&l.push(h)}return l}function yS(r){return r<10?"0".concat(r):"".concat(r)}function el(r,e){e===void 0&&(e=Bf);var t=Math.ceil(ut(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function YB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function _S(r){var e=r.getSeconds(),t=r.getMilliseconds();return Re(r.getTime()-e*1e3-t)}function KB(r,e){return _S(r).getTime()===_S(e).getTime()}function vS(r){if(!ra(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function wS(r,e){if(!ra(r)||!ra(e))throw new Error("Invalid date received");var t=vS(r),n=vS(e);return xu(t,n)}function X0(r){return r.key===Se.Space}var QB=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ae.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var u=n.props.date,d=u instanceof Date&&!isNaN(+u),h=d?u:new Date;if(i!=null&&i.includes(":")){var g=i.split(":"),_=g[0],v=g[1];h.setHours(Number(_)),h.setMinutes(Number(v))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,h)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,u=o.timeString,d=o.customTimeInput;return d?x.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var h;(h=n.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){n.onTimeChange(h.target.value||u)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(x.Component),GB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return wt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return mw(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return wt(t.props.day,ol(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&wt(n,ol(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=Gt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var u=Gt(o,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Jd(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,u=i.selectsEnd,d=i.selectsRange,h=i.selectsDisabledDaysInRange,g=i.startDate,_=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||u||d)||!v||!h&&t.isDisabled()?!1:l&&_&&(xu(v,_)||hu(v,_))?Jd(o,v,_):u&&g&&(hl(v,g)||hu(v,g))||d&&g&&!_&&(hl(v,g)||hu(v,g))?Jd(o,g,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,u=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u?wt(o,d):wt(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,u=i.selectsEnd,d=i.selectsRange,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u||d?wt(o,h):wt(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(l,i)},t.isWeekend=function(){var n=sU(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Hr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Hr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ut())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return lr("react-datepicker__day",i,"react-datepicker__day--"+PB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=n.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?d:l;return"".concat(h," ").concat(Gt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,u=n.excludeDates,d=Gt(i,"MM.dd.yyyy"),h=[];return l.has(d)&&h.push.apply(h,l.get(d).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(g){return g instanceof Date?wt(g,i):wt(g==null?void 0:g.date,i)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),h.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&wt(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(GT(t.props.day),t.props.day):GT(t.props.day)},t.render=function(){return ae.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ae.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(x.Component),XB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.props.date,t.props.selected)&&wt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||wt(t.props.date,t.props.selected)&&wt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&wt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&wt(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:lr(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(x.Component),JB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,u,d,h=new Date(n),g=0;g<7;g++){var _=new Date(n);_.setDate(_.getDate()+g);var v=!t.isDisabled(_);if(v){h=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,i,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):AB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=bs(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=bs(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(ae.createElement(XB,bt({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var d=bs(n,u);return ae.createElement(GB,bt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return ol(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.startOfWeek(),t.props.selected)&&wt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":wt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:lr(t)},this.renderDays())},e}(x.Component),$d,ZB=6,Pc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Wy=($d={},$d[Pc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$d[Pc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$d[Pc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$d),np=1;function ES(r,e){return r?Pc.FOUR_COLUMNS:e?Pc.TWO_COLUMNS:Pc.THREE_COLUMNS}var e$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=lo([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=lo([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(n){return es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return mw(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:$r(Ri(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:fm(Sc(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:$r(Ri(o,n),u)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:fm(Sc(o,n),u)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,g=o.startDate,_=o.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||h)||!v?!1:u&&_?Jh(v,_,n,l):d&&g||h&&g&&!_?Jh(g,v,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.startDate,d=o.selectsStart,h=Ri(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?$r(h,g):$r(h,u)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.endDate,d=o.selectsEnd,h=o.selectsRange,g=Ri(l,n),_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||h?$r(g,_):$r(g,u)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,g=o.startDate,_=o.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||h)||!v?!1:u&&_?tp(v,_,n,l):d&&g||h&&g&&!_?tp(g,v,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=bs(n,6);return $r(n,i)||$r(o,i)},t.isCurrentMonth=function(n,i){return ut(n)===ut(Ut())&&i===Hr(Ut())},t.isCurrentQuarter=function(n,i){return ut(n)===ut(Ut())&&i===yu(Ut())},t.isSelectedMonth=function(n,i,o){return Hr(o)===i&&ut(n)===ut(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return yu(n)===i&&ut(n)===ut(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,u=ol(sa(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(C){return t.props.showWeekPicker?ol(C,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(C){return t.props.showWeekPicker?ol(C,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?h(t.props.selected):void 0,_=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ae.createElement(JB,bt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:Hr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=em(u,1);var v=i&&o>=ZB,T=!i&&!t.isWeekInMonth(u);if(v||T)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick(sa(u),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(sa(l))},t.handleMonthNavigation=function(n,i){var o,l,u,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,u=t.props,d=u.selected,h=u.preSelection,g=u.setPreSelection,_=u.minDate,v=u.maxDate,T=u.showFourColumnMonthYearPicker,C=u.showTwoColumnMonthYearPicker;if(h){var D=ES(T,C),R=t.getVerticalOffset(D),L=(l=Wy[D])===null||l===void 0?void 0:l.grid,j=function(F,N,M){var U,$,H=N,V=M;switch(F){case Se.ArrowRight:H=Cs(N,np),V=M===11?0:M+np;break;case Se.ArrowLeft:H=_u(N,np),V=M===0?11:M-np;break;case Se.ArrowUp:H=_u(N,R),V=!((U=L==null?void 0:L[0])===null||U===void 0)&&U.includes(M)?M+12-R:M-R;break;case Se.ArrowDown:H=Cs(N,R),V=!(($=L==null?void 0:L[L.length-1])===null||$===void 0)&&$.includes(M)?M-12+R:M+R;break}return{newCalculatedDate:H,newCalculatedMonth:V}},W=function(F,N,M){for(var U=40,$=F,H=!1,V=0,Ae=j($,N,M),je=Ae.newCalculatedDate,Ee=Ae.newCalculatedMonth;!H;){if(V>=U){je=N,Ee=M;break}if(_&&je<_){$=Se.ArrowRight;var we=j($,je,Ee);je=we.newCalculatedDate,Ee=we.newCalculatedMonth}if(v&&je>v){$=Se.ArrowLeft;var we=j($,je,Ee);je=we.newCalculatedDate,Ee=we.newCalculatedMonth}if(jB(je,t.props)){var we=j($,je,Ee);je=we.newCalculatedDate,Ee=we.newCalculatedMonth}else H=!0;V++}return{newCalculatedDate:je,newCalculatedMonth:Ee}};if(i===Se.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),g==null||g(d));return}var G=W(i,h,o),re=G.newCalculatedDate,ce=G.newCalculatedMonth;switch(i){case Se.ArrowRight:case Se.ArrowLeft:case Se.ArrowUp:case Se.ArrowDown:t.handleMonthNavigation(ce,re);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=Wy[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,d=n.key;d!==Se.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),u&&u(n)},t.onQuarterClick=function(n,i){var o=Sc(t.props.day,i);Zh(o,t.props)||t.handleDayClick(oS(o),n)},t.onQuarterMouseEnter=function(n){var i=Sc(t.props.day,n);Zh(i,t.props)||t.handleDayMouseEnter(oS(i))},t.handleQuarterNavigation=function(n,i){var o,l,u,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,u=n.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Se.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Se.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,rw(t.props.preSelection,1));break;case Se.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,N0(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,u=o.minDate,d=o.maxDate,h=o.excludeDates,g=o.includeDates,_=Ri(l,n);return{isDisabled:(i=(u||d||h||g)&&K0(_,t.props))!==null&&i!==void 0?i:!1,labelDate:_}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.preSelection,h=i.monthClassName,g=h?h(Ri(o,n)):void 0,_=t.getSelection();return lr("react-datepicker__month-text","react-datepicker__month-".concat(n),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?Jh(l,u,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Hr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=yu(t.props.preSelection),o=Zh(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=i.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,h=i.day,g=i.locale,_=Ri(h,n),v=t.isDisabled(_)||t.isExcluded(_)?d:l;return"".concat(v," ").concat(Gt(_,"MMMM yyyy",g))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.selected,h=i.minDate,g=i.maxDate,_=i.excludeDates,v=i.includeDates,T=i.filterDate,C=i.preSelection,D=i.disabledKeyboardNavigation,R=(h||g||_||v||T)&&Zh(Sc(o,n),t.props);return lr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":R,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!D&&C&&t.isSelectedQuarter(o,n,C)&&!R,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?tp(l,u,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,u=i.locale,d=i.day,h=Y0(n,u),g=pw(n,u);return l?l(n,h,g,d):o?g:h},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,u=o.locale,d=VB(n,u);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,h=(n=Wy[ES(l,o)])===null||n===void 0?void 0:n.grid;return h==null?void 0:h.map(function(g,_){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:_},g.map(function(v,T){return ae.createElement("div",{ref:t.MONTH_REFS[v],key:T,onClick:function(C){t.onMonthClick(C,v)},onKeyDown:function(C){X0(C)&&(C.preventDefault(),C.key=Se.Enter),t.onMonthKeyDown(C,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(u,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return ae.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(i,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(i,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,d=n.showQuarterYearPicker,h=n.showWeekPicker;return lr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Gt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(x.Component),t$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ae.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ae.createElement(sg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),n$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return ae.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return ae.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ae.createElement(t$,bt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Y0(o,t.props.locale)}:function(o){return pw(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(x.Component);function r$(r,e){for(var t=[],n=sa(r),i=sa(e);!hl(n,i);)t.push(Ut(n)),n=Cs(n,1);return t}var i$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=O_(i),l=io(n.props.date,i)&&$r(n.props.date,i);return ae.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Gt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:r$(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=lr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(sg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),s$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=sa(t.props.minDate),i=sa(t.props.maxDate),o=[];!hl(n,i);){var l=O_(n);o.push(ae.createElement("option",{key:l,value:l},Gt(n,t.props.dateFormat,t.props.locale))),n=Cs(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:O_(sa(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Gt(t.props.date,t.props.dateFormat,t.props.locale);return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ae.createElement(i$,bt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Ut(n);io(t.props.date,i)&&$r(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),o$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&dS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&KB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&dS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(po(n)*3600+mo(n)*60+ia(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(n.key===Se.ArrowUp||n.key===Se.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Se.ArrowDown||n.key===Se.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Se.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Ut(),d=Tp(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(R,L){return R.getTime()-L.getTime()}),g=60*YB(u),_=g/l,v=0;v<_;v++){var T=A_(d,v*l);if(i.push(T),h){var C=qB(d,T,v,l,h);i=i.concat(C)}}var D=i.reduce(function(R,L){return L.getTime()<=u.getTime()?L:R},i[0]);return i.map(function(R){return ae.createElement("li",{key:R.valueOf(),onClick:t.handleClick.bind(t,R),className:t.liClasses(R),ref:function(L){R===D&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,R)},tabIndex:R===D?0:-1,role:"option","aria-selected":t.isSelectedTime(R)?"true":void 0,"aria-disabled":t.isDisabledTime(R)?"true":void 0},Gt(R,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ae.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(x.Component),bS=3,a$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=lo([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(i){return es(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return mw(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,u;(u=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,u,d,h,g=n.props,_=g.date,v=g.yearItemNumber;if(!(_===void 0||v===void 0)){var T=el(_,v).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,o),i-T<0?n.updateFocusOnPaginate(v-(T-i)):i-T>=v?n.updateFocusOnPaginate(Math.abs(v-(i-T))):(h=(d=n.YEAR_REFS[i-T])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus())}},n.isSameDay=function(i,o){return wt(i,o)},n.isCurrentYear=function(i){return i===ut(Ut())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&io(ro(Ut(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&io(ro(Ut(),i),n.props.endDate)},n.isInRange=function(i){return ep(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,u=o.selectsEnd,d=o.selectsRange,h=o.startDate,g=o.endDate;return!(l||u||d)||!n.selectingDate()?!1:l&&g?ep(i,n.selectingDate(),g):u&&h||d&&h&&!g?ep(i,h,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.startDate,d=l.selectsStart,h=ro(Ut(),i);return d?io(h,(o=n.selectingDate())!==null&&o!==void 0?o:null):io(h,u??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.endDate,d=l.selectsEnd,h=l.selectsRange,g=ro(Ut(),i);return d||h?io(g,(o=n.selectingDate())!==null&&o!==void 0?o:null):io(g,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,u=o.maxDate,d=o.excludeDates,h=o.includeDates,g=o.filterDate,_=Xd(ro(n.props.date,i)),v=(l||u||d||h||g)&&Sp(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!wt(_,Xd(n.props.selected))&&wt(_,Xd(n.props.preSelection))&&!v}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Xd(ro(l,o)),i)},n.onYearKeyDown=function(i,o){var l,u,d=i.key,h=n.props,g=h.date,_=h.yearItemNumber,v=h.handleOnKeyDown;if(d!==Se.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case Se.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case Se.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,na(n.props.preSelection,1));break;case Se.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Wc(n.props.preSelection,1));break;case Se.ArrowUp:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var T=el(g,_).startPeriod,C=bS,D=o-C;if(D<T){var R=_%C;o>=T&&o<T+R?C=R:C+=R,D=o-C}n.handleYearNavigation(D,Wc(n.props.preSelection,C));break}case Se.ArrowDown:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var L=el(g,_).endPeriod,C=bS,D=o+C;if(D>L){var R=_%C;o<=L&&o>L-R?C=R:C+=R,D=o+C}n.handleYearNavigation(D,na(n.props.preSelection,C));break}}v&&v(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,u=o.minDate,d=o.maxDate,h=o.selected,g=o.excludeDates,_=o.includeDates,v=o.filterDate,T=o.yearClassName;return lr("react-datepicker__year-text","react-datepicker__year-".concat(i),l?T==null?void 0:T(ro(l,i)):void 0,{"react-datepicker__year-text--selected":h?i===ut(h):void 0,"react-datepicker__year-text--disabled":(u||d||g||_||v)&&Sp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=ut(n.props.preSelection),l=Sp(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,u=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var h=el(o,l),g=h.startPeriod,_=h.endPeriod,v=function(D){n.push(ae.createElement("div",{ref:T.YEAR_REFS[D-g],onClick:function(R){t.onYearClick(R,D)},onKeyDown:function(R){X0(R)&&(R.preventDefault(),R.key=Se.Enter),t.onYearKeyDown(R,D)},tabIndex:Number(T.getYearTabIndex(D)),className:T.getYearClassNames(D),onMouseEnter:T.props.usePointerEvent?void 0:function(R){return u(R,D)},onPointerEnter:T.props.usePointerEvent?function(R){return u(R,D)}:void 0,onMouseLeave:T.props.usePointerEvent?void 0:function(R){return d(R,D)},onPointerLeave:T.props.usePointerEvent?function(R){return d(R,D)}:void 0,key:D,"aria-current":T.isCurrentYear(D)?"date":void 0},T.getYearContent(D)))},T=this,C=g;C<=_;C++)v(C);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(x.Component);function l$(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,u=!0;t&&(u=ut(t)<=l),n&&u&&(u=ut(n)>=l),u&&i.push(l)}return i}var u$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var u=n.props.year,d=n.state.yearsList.map(function(_){return ae.createElement("div",{className:u===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":u===_?"true":void 0},u===_?ae.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",_)}),h=n.props.minDate?ut(n.props.minDate):null,g=n.props.maxDate?ut(n.props.maxDate):null;return(!g||!n.state.yearsList.find(function(_){return _===g}))&&d.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!n.state.yearsList.find(function(_){return _===h}))&&d.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var d=n.state.yearsList.map(function(h){return h+u});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:l$(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=lr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(sg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),c$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?ut(t.props.minDate):1900,i=t.props.maxDate?ut(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(ae.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ae.createElement(u$,bt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),d$=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],f$=function(r){var e=(r.className||"").split(/\s+/);return d$.some(function(t){return e.indexOf(t)>=0})},h$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;f$(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,u=i.openToDate,d=Q0(n.props),h=G0(n.props),g=Ut(),_=u||l||o;return _||(d&&xu(g,d)?d:h&&hl(g,h)?h:g)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Cs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:_u(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ro(Ut(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,u,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!es(i,n.props))return i;for(var o=sa(i),l=OB(i),u=fj(l,o),d=null,h=0;h<=u;h++){var g=bs(o,h);if(!es(g,n.props)){d=g;break}}return d},n.handleMonthChange=function(i){var o,l,u,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:ro(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:Ri(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:ro(Ri(l,Hr(i)),ut(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=ol(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=bs(o,u),h=n.formatWeekday(d,n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ae.createElement("div",{key:u,"aria-label":Gt(d,"EEEE",n.props.locale),className:lr("react-datepicker__day-name",g)},h)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?MB(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?FB(i,o):LB(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Wc(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,h=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,g=_u(n.state.date,h),_;switch(!0){case n.props.showMonthYearPicker:_=pS(n.state.date,n.props);break;case n.props.showYearPicker:_=$B(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=UB(n.state.date,n.props);break;default:_=fS(g,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],T=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(T.push("react-datepicker__navigation--previous--disabled"),C=void 0);var D=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,R=n.props,L=R.previousMonthButtonLabel,j=L===void 0?e.defaultProps.previousMonthButtonLabel:L,W=R.previousYearButtonLabel,G=W===void 0?e.defaultProps.previousYearButtonLabel:W,re=n.props,ce=re.previousMonthAriaLabel,F=ce===void 0?typeof j=="string"?j:"Previous Month":ce,N=re.previousYearAriaLabel,M=N===void 0?typeof G=="string"?G:"Previous Year":N;return ae.createElement("button",{type:"button",className:T.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":D?M:F},ae.createElement("span",{className:v.join(" ")},D?G:j))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:na(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=mS(n.state.date,n.props);break;case n.props.showYearPicker:o=WB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=BB(n.state.date,n.props);break;default:o=hS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,_=g.nextMonthButtonLabel,v=_===void 0?e.defaultProps.nextMonthButtonLabel:_,T=g.nextYearButtonLabel,C=T===void 0?e.defaultProps.nextYearButtonLabel:T,D=n.props,R=D.nextMonthAriaLabel,L=R===void 0?typeof v=="string"?v:"Next Month":R,j=D.nextYearAriaLabel,W=j===void 0?typeof C=="string"?C:"Next Year":j;return ae.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":h?W:L},ae.createElement("span",{className:u.join(" ")},h?C:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:o.join(" ")},Gt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ae.createElement(c$,bt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ut(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ae.createElement(n$,bt({},e.defaultProps,n.props,{month:Hr(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ae.createElement(s$,bt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(aS(),i),n.props.setPreSelection&&n.props.setPreSelection(aS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,u=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var h=fS(n.state.date,n.props),g=hS(n.state.date,n.props),_=pS(n.state.date,n.props),v=mS(n.state.date,n.props),T=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,bt(bt({},n.state),{customHeaderCount:d,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:g,prevYearButtonDisabled:_,nextYearButtonDisabled:v})),T&&ae.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,u=l.showYearPicker,d=l.yearItemNumber,h=d===void 0?e.defaultProps.yearItemNumber:d,g=el(o,h),_=g.startPeriod,v=g.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(_," - ").concat(v):ut(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,u=l===void 0?0:l,d={monthDate:o,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?na(n.state.date,d):_u(n.state.date,d),g=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,_=0;_<u;++_){var v=_-g+d,T=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?na(h,v):Cs(h,v),C="month-".concat(_),D=_<u-1,R=_>0;l.push(ae.createElement("div",{key:C,ref:function(L){n.monthContainer=L??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:T,i:_}),ae.createElement(e$,bt({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:T,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:R}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ae.createElement(a$,bt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ae.createElement(o$,bt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Yo(i)&&!!n.props.selected,l=o?"".concat(yS(i.getHours()),":").concat(yS(i.getMinutes())):"";if(n.props.showTimeInput)return ae.createElement(QB,bt({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=el(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=ut(n.state.date):d="".concat(pw(Hr(n.state.date),n.props.locale)," ").concat(ut(n.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Bf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!wt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!$r(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!wt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||CB;return ae.createElement(sg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement(t,{className:lr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(x.Component),p$=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?ae.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):ae.isValidElement(e)?ae.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):ae.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},J0=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return uu.createPortal(this.props.children,this.el)},e}(x.Component),m$="[tabindex], a, button, input, select, textarea",g$=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Z0=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(m$),1,-1).filter(g$)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=x.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(x.Component);function y$(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=x.useRef(null),l=kB(bt({open:!i,whileElementsMounted:rB,placement:t.popperPlacement,middleware:lo([cB({padding:15}),uB(10),dB({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),u=bt(bt({},t),{hidePopper:i,popperProps:bt(bt({},l),{arrowRef:o})});return ae.createElement(r,bt({},u))};return e}var _$=function(r){Qn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,d=t.targetComponent,h=t.enableTabLoop,g=t.popperOnKeyDown,_=t.portalId,v=t.portalHost,T=t.popperProps,C=t.showArrow,D=void 0;if(!l){var R=lr("react-datepicker-popper",n);D=ae.createElement(Z0,{enableTabLoop:h},ae.createElement("div",{ref:T.refs.setFloating,style:T.floatingStyles,className:R,"data-placement":T.placement,onKeyDown:g},u,C&&ae.createElement(_B,{ref:T.arrowRef,context:T.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(D=x.createElement(this.props.popperContainer,{},D)),_&&!l&&(D=ae.createElement(J0,{portalId:_,portalHost:v},D));var L=lr("react-datepicker-wrapper",i);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:T.refs.setReference,className:L},d),D)},e}(x.Component),v$=y$(_$),TS="react-datepicker-ignore-onclickoutside";function w$(r,e){return r&&e?Hr(r)!==Hr(e)||ut(r)!==ut(e):r!==e}var Hy="Date input not valid.",eI=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ut()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var u=new Date(l.date);return Yo(u)?lo(lo([],o,!0),[bt(bt({},l),{date:u})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=Q0(n.props),u=G0(n.props),d=l&&xu(o,Tp(l))?l:u&&hl(o,lS(u))?u:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:gS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(bt(bt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(bt(bt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:zy},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ra(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,u=n.state.wasHidden,d=u?n.state.open:!0;u&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:E$});var h=n.props,g=h.dateFormat,_=g===void 0?e.defaultProps.dateFormat:g,v=h.strictParsing,T=v===void 0?e.defaultProps.strictParsing:v,C=h.selectsRange,D=h.startDate,R=h.endDate,L=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(C){var j=L.split("-",2).map(function(U){return U.trim()}),W=j[0],G=j[1],re=By(W??"",_,n.props.locale,T),ce=By(G??"",_,n.props.locale,T),F=(D==null?void 0:D.getTime())!==(re==null?void 0:re.getTime()),N=(R==null?void 0:R.getTime())!==(ce==null?void 0:ce.getTime());if(!F&&!N||re&&es(re,n.props)||ce&&es(ce,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[re,ce],d)}else{var M=By(L,_,n.props.locale,T,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&M&&!wt(M,n.props.selected)&&(M=S4(n.props.selected,{hours:po(M),minutes:mo(M),seconds:ia(M)})),(M||!L)&&n.setSelected(M,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,d=u.startDate,h=u.endDate;d&&!h&&(n.props.swapRange||!wS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,u){var d,h,g=i;if(n.props.showYearPicker){if(g!==null&&Sp(ut(g),n.props))return}else if(n.props.showMonthYearPicker){if(g!==null&&K0(g,n.props))return}else if(g!==null&&es(g,n.props))return;var _=n.props,v=_.onChange,T=_.selectsRange,C=_.startDate,D=_.endDate,R=_.selectsMultiple,L=_.selectedDates,j=_.minTime,W=_.swapRange;if(!hu(n.props.selected,g)||n.props.allowSameDay||T||R)if(g!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(g=$y(g,{hour:po(n.props.selected),minute:mo(n.props.selected),second:ia(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&j&&(g=$y(g,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),n.props.inline||n.setState({preSelection:g}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),T){var G=!C&&!D,re=C&&!D,ce=C&&D;G?v==null||v([g,null],o):re&&(g===null?v==null||v([null,null],o):wS(g,C)?W?v==null||v([g,C],o):v==null||v([g,null],o):v==null||v([C,g],o)),ce&&(v==null||v([g,null],o))}else if(R){if(g!==null)if(!(L!=null&&L.length))v==null||v([g],o);else{var F=L.some(function(M){return wt(M,g)});if(F){var N=L.filter(function(M){return!wt(M,g)});v==null||v(N,o)}else v==null||v(lo(lo([],L,!0),[g],!1),o)}}else v==null||v(g,o);l||((h=(d=n.props).onSelect)===null||h===void 0||h.call(d,g,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=ra(n.props.minDate),l=ra(n.props.maxDate),u=!0;if(i){var d=Tp(i);if(o&&l)u=Jd(i,n.props.minDate,n.props.maxDate);else if(o){var h=Tp(n.props.minDate);u=hl(i,h)||hu(d,h)}else if(l){var g=lS(n.props.maxDate);u=xu(i,g)||hu(d,g)}}u&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:$y(u,{hour:po(i),minute:mo(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,u,d,h,g;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var _=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===Se.ArrowDown||_===Se.ArrowUp||_===Se.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(_===Se.ArrowDown||_===Se.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',T=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);T instanceof HTMLElement&&T.focus({preventScroll:!0});return}var C=Ut(n.state.preSelection);_===Se.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===zy?(n.handleSelect(C,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):_===Se.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===Se.Tab&&n.setOpen(!1),n.inputOk()||(g=(h=n.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Hy})}},n.onPortalKeyDown=function(i){var o=i.key;o===Se.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,u,d,h,g,_=n.props,v=_.minDate,T=_.maxDate,C=_.disabledKeyboardNavigation,D=_.showWeekPicker,R=_.shouldCloseOnSelect,L=_.locale,j=_.calendarStartDay,W=_.adjustDateOnChange,G=_.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!C){var re=i.key,ce=i.shiftKey,F=Ut(n.state.preSelection),N=function(je,Ee){var we=Ee;switch(je){case Se.ArrowRight:we=D?em(Ee,1):bs(Ee,1);break;case Se.ArrowLeft:we=D?XT(Ee):a4(Ee);break;case Se.ArrowUp:we=XT(Ee);break;case Se.ArrowDown:we=em(Ee,1);break;case Se.PageUp:we=ce?Wc(Ee,1):_u(Ee,1);break;case Se.PageDown:we=ce?na(Ee,1):Cs(Ee,1);break;case Se.Home:we=ol(Ee,L,j);break;case Se.End:we=NB(Ee);break}return we},M=function(je,Ee){for(var we=40,ie=je,be=!1,Q=0,Y=N(je,Ee);!be;){if(Q>=we){Y=Ee;break}v&&Y<v&&(ie=Se.ArrowRight,Y=es(v,n.props)?N(ie,Y):v),T&&Y>T&&(ie=Se.ArrowLeft,Y=es(T,n.props)?N(ie,Y):T),es(Y,n.props)?((ie===Se.PageUp||ie===Se.Home)&&(ie=Se.ArrowRight),(ie===Se.PageDown||ie===Se.End)&&(ie=Se.ArrowLeft),Y=N(ie,Y)):be=!0,Q++}return Y};if(re===Se.Enter){i.preventDefault(),n.handleSelect(F,i),!R&&n.setPreSelection(F);return}else if(re===Se.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Hy});return}var U=null;switch(re){case Se.ArrowLeft:case Se.ArrowRight:case Se.ArrowUp:case Se.ArrowDown:case Se.PageUp:case Se.PageDown:case Se.Home:case Se.End:U=M(re,F);break}if(!U){(g=(h=n.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Hy});return}if(i.preventDefault(),n.setState({lastPreSelectChange:zy}),W&&n.setSelected(U),n.setPreSelection(U),G){var $=Hr(F),H=Hr(U),V=ut(F),Ae=ut(U);$!==H||V!==Ae?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===Se.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],i):u==null||u(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:ae.createElement(h$,bt({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:zB(n.modifyHolidays()),outsideClickIgnoreClass:TS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,h=d?"PPPPp":"PPPP",g;return n.props.selectsRange?g="Selected start date: ".concat(Zi(n.props.startDate,{dateFormat:h,locale:u}),". ").concat(n.props.endDate?"End date: "+Zi(n.props.endDate,{dateFormat:h,locale:u}):""):n.props.showTimeSelectOnly?g="Selected time: ".concat(Zi(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?g="Selected year: ".concat(Zi(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?g="Selected month: ".concat(Zi(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?g="Selected quarter: ".concat(Zi(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(Zi(n.props.selected,{dateFormat:h,locale:u})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},n.renderDateInput=function(){var i,o,l,u=lr(n.props.className,(i={},i[TS]=n.state.open,i)),d=n.props.customInput||ae.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",g=n.props,_=g.dateFormat,v=_===void 0?e.defaultProps.dateFormat:_,T=g.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?DB(n.props.startDate,n.props.endDate,{dateFormat:v,locale:T}):n.props.selectsMultiple?RB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:T}):Zi(n.props.selected,{dateFormat:v,locale:T});return x.cloneElement(d,(o={},o[h]=function(D){n.input=D},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=lr(d.props.className,u),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,u=i.selected,d=i.startDate,h=i.endDate,g=i.clearButtonTitle,_=i.clearButtonClassName,v=_===void 0?"":_,T=i.ariaLabelClose,C=T===void 0?"Close":T,D=i.selectedDates;return o&&(u!=null||d!=null||h!=null||D!=null&&D.length)?ae.createElement("button",{type:"button",className:lr("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":C,onClick:n.onClearClick,title:g,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Bf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,u;t.inline&&w$(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gS(this.props.highlightDates)}),!n.focused&&!hu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ae.createElement(p$,bt({icon:i,className:lr(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ae.createElement(Z0,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ae.createElement(J0,bt({portalId:this.props.portalId},this.props),n)),ae.createElement("div",null,this.renderInputContainer(),n)}return ae.createElement(v$,bt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(x.Component),E$="input",zy="navigate";const b$=r=>{const e=["th","st","nd","rd"],t=r%10,n=t>=1&&t<=3&&Math.floor(r/10)!==1?e[t]:e[0];return`${r}${n}`},SS=r=>{const[e,t,n]=r.split("T")[0].split("-"),i=b$(Number(n)),o=new Date(`${e}-${t}`).toLocaleString("en-GB",{month:"long"});return{formattedDay:i,monthName:o,year:e}},tI=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{formattedDay:t,monthName:n,year:i}=SS(r),{formattedDay:o,monthName:l,year:u}=SS(e);let d=`From the ${t}`;return n===l&&i===u?d+=` to the ${o} of ${n} of ${i}`:i===u?d+=` of ${n} to the ${o} of ${l} of ${i}`:d+=` of ${n} of ${i} to the ${o} of ${l} of ${u}`,d},kS=r=>{const[e,t,n]=r.split("T")[0].split("-");return{day:n,month:t,year:e}},T$=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{day:t,month:n,year:i}=kS(r),{day:o,month:l,year:u}=kS(e);return`(${t}/${n}/${i} - ${o}/${l}/${u})`},S$=r=>{const e=r instanceof kn?new Date(r.seconds*1e3):new Date(r);return`${e.toLocaleTimeString("en-GB")} on the ${e.toLocaleDateString("en-GB")}`},k$=({exhibitions:r,selectedExhibitionId:e,setSelectedExhibitionId:t,newExhibitionName:n,setNewExhibitionName:i,newExhibitionStartDate:o,newExhibitionEndDate:l,handleDateChange:u,handleSubmit:d,loading:h,setIsFormVisible:g,successMessage:_})=>{const v=!!e,T=()=>{if(!v){if(!n.trim())return alert("Exhibition name is required."),!1;if(!o||!l)return alert("Both start and end dates are required."),!1;if(o>l)return alert("Start date must be before the end date."),!1}return!0},C=D=>{D.preventDefault(),T()&&d(D)};return k.jsxs("form",{onSubmit:C,className:"mt-4 p-4 rounded shadow-sm",style:{background:"rgba(204, 173, 227, 0.84)"},children:[_&&k.jsx("div",{className:"alert alert-success",role:"alert",children:_}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"existingExhibition",className:"form-label fw-bold",children:"Select one of your exhibitions:"}),k.jsxs("select",{id:"existingExhibition",className:"form-select",onChange:D=>t(D.target.value),value:e||"","aria-label":"Select one of your exhibitions",children:[k.jsx("option",{value:"",children:"Select an exhibition"}),r.map(D=>k.jsxs("option",{value:D.id,children:[D.name," ",T$(D.startDate,D.endDate)]},D.id))]})]}),k.jsxs("fieldset",{disabled:v,children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"newExhibitionName",className:"form-label fw-bold",children:"Create a new exhibition:"}),k.jsx("input",{type:"text",id:"newExhibitionName",className:"form-control",placeholder:"Exhibition name",value:n,onChange:D=>i(D.target.value),required:!v,"aria-required":!v})]}),k.jsx("div",{className:"mb-4",children:k.jsx(eI,{selected:o,onChange:u,startDate:o,endDate:l,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates",required:!v})})]}),k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{type:"submit",className:"btn btn-success",disabled:h,children:h?"Submitting...":"Add"}),k.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),"aria-label":"Cancel and close form",children:"Cancel"})]})]})},ml="/assets/imageUrlNotAvailable-C1kBwTfL.jpg",C$=({artwork:r})=>{const[e,t]=x.useState(!1),[n,i]=x.useState(null),[o,l]=x.useState(""),[u,d]=x.useState(null),[h,g]=x.useState(null),[_,v]=x.useState(null),[T,C]=x.useState(null),[D,R]=x.useState(!1),[L,j]=x.useState(!1),{exhibitions:W,addExhibition:G,addArtworkToExhibition:re,loading:ce}=$v(),{loadingCollection:F,addToCollection:N}=NL(),M=()=>{t(!0),C(null)},U=(Ae,je)=>(console.error("Firestore Error:",Ae),Ae.message.includes("permission-denied")?"You do not have permission to perform this action.":Ae.message.includes("network-request-failed")?"Network error. Please check your internet connection.":Ae.message||je),$=async Ae=>{Ae.preventDefault(),v(null);const je=du.currentUser;if(!je){v("User is not authenticated.");return}try{if(n)await re(n,r);else if(o&&u&&h){const Ee=new Date(u).toISOString(),we=new Date(h).toISOString(),ie={name:o,startDate:Ee,endDate:we,artworks:[r],userId:je.uid,createdAt:new Date};await G(ie)}else{v("Please fill in all the required fields.");return}t(!1),l(""),d(null),g(null),i(null),C("Artwork added to the exhibition successfully!"),setTimeout(()=>C(null),5e3)}catch(Ee){const we=U(Ee,"An unexpected error occurred. Please try again.");v(we)}},H=Ae=>{const[je,Ee]=Ae;d(je),g(Ee)},V=async()=>{try{await N(r),C("Artwork added to the collection successfully!"),setTimeout(()=>C(null),5e3)}catch(Ae){const je=U(Ae,"Error adding to collection. Please try again.");v(je)}};return console.log(r.imageUrl),k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${r.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${r.title}"`,children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:r.title}),(r.imageUrl||ml)&&k.jsx("img",{src:r.imageUrl&&r.imageUrl.trim()!==""?r.imageUrl:ml,alt:`Artwork titled "${r.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:r.artist_title})," in ",r.date]}),k.jsx("p",{className:"mb-2",children:r.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",r.copyright]})]}),k.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[k.jsx("button",{onClick:M,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:"btn btn-primary",style:{backgroundColor:D?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to an exhibition",children:"Add to an Exhibition"}),k.jsx("button",{onClick:V,disabled:e||F,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:"btn btn-primary",style:{backgroundColor:L?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to your collection",children:F?"Adding...":"Add to Collection"})]}),e&&k.jsx(k$,{exhibitions:W,selectedExhibitionId:n,setSelectedExhibitionId:i,newExhibitionName:o,setNewExhibitionName:l,newExhibitionStartDate:u,newExhibitionEndDate:h,handleDateChange:H,handleSubmit:$,loading:ce,setIsFormVisible:t,successMessage:T}),_&&k.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:_}),!_&&T&&k.jsx("div",{className:"alert alert-success mt-3",role:"alert",style:{maxWidth:"400px",margin:"0 auto"},children:T})]})},x$=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},i=()=>{r<e&&t(r+1)},o=()=>t(1),l=()=>t(e),u=()=>{const d=[];for(let h=Math.max(1,r-1);h<=Math.min(e,r+1);h++)d.push(k.jsx("li",{className:`page-item ${h===r?"active":""}`,children:k.jsx("button",{className:"page-link",onClick:()=>t(h),disabled:h===r,children:h})},h));return d};return k.jsx("nav",{"aria-label":"Pagination",className:"my-4",children:k.jsxs("ul",{className:"pagination justify-content-center",children:[k.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:o,disabled:r===1,children:"First"})}),k.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:n,disabled:r===1,children:"« Previous"})}),u(),k.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:i,disabled:r===e,children:"Next »"})}),k.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:l,disabled:r===e,children:"Last"})})]})})},I$=({sortOption:r,sortDirection:e})=>{const{artworks:t}=Wv(),[n,i]=x.useState(1),o=10,l=[...t].sort((_,v)=>{if(r==="artist"){const T=_.artist_title||"",C=v.artist_title||"";return e.artist==="asc"?T.localeCompare(C):C.localeCompare(T)}else if(r==="title"){const T=_.title||"",C=v.title||"";return e.title==="asc"?T.localeCompare(C):C.localeCompare(T)}else if(r==="date"){const T=new Date(_.date).getTime(),C=new Date(v.date).getTime();return e.date==="asc"?T-C:C-T}return 0}),u=n*o,d=u-o,h=l.slice(d,u),g=Math.ceil(t.length/o);return k.jsxs("div",{className:"container my-4",children:[h.length>0?k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:h.map(_=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:v=>{v.currentTarget.style.transform="scale(1.03)"},onMouseLeave:v=>{v.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${_.title}`,tabIndex:0,onKeyDown:v=>{v.key==="Enter"&&(window.location.href=`/artwork/${_.id}`)},children:k.jsx(C$,{artwork:_})},_.id))}):k.jsx("p",{children:"Start your search here "}),g>1&&k.jsxs(k.Fragment,{children:[k.jsx(x$,{currentPage:n,totalPages:g,onPageChange:i}),k.jsx("div",{className:"text-center mt-2",children:k.jsxs("small",{className:"text-muted",children:["Page ",n," of ",g]})})]})]})},CS=()=>{const{museumName:r}=$_(),{query:e,setQuery:t}=Y_(),{type:n,setType:i}=YS(),{setSelectedMuseum:o}=gm(),[l,u]=x.useState(""),[d,h]=x.useState("artist"),[g,_]=x.useState({artist:"asc",title:"asc",date:"asc"}),v=r===void 0||r==="collection",{artworks:T,loading:C,error:D,setArtworks:R}=rj(r||"",e,n,v);return x.useEffect(()=>{u((j=>j?{cleveland:"The Cleveland Museum of Art",chicago:"The Art Institute of Chicago"}[j]||"Unknown Museum":"Collection")(r))},[r]),x.useEffect(()=>{t(""),i("artist_title"),h("artist"),_({artist:"asc",title:"asc",date:"asc"}),R([]),r&&o(r)},[t,i,h,_,R,o,r]),k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center mb-5 fs-1 py-5",children:l||"Collection"}),k.jsx(ij,{sortOption:d,setSortOption:h,sortDirection:g,setSortDirection:_}),C&&k.jsx("div",{className:"text-center mt-3",children:"Loading..."}),D&&k.jsxs("div",{className:"alert alert-danger mt-3",children:[k.jsxs("p",{children:["Error: ",D]}),k.jsx("button",{onClick:()=>t(e),children:"Retry"})]}),!C&&!D&&k.jsx(I$,{sortOption:d,sortDirection:g})]})},D$=()=>{const{exhibitions:r,loading:e}=$v(),t=Tf();return x.useEffect(()=>{du.currentUser||t("/login")},[t]),e?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center fs-1 mb-4",children:"Exhibitions"}),r.length>0?k.jsx("div",{className:"row g-4",children:r.map(n=>k.jsx("div",{className:"col-md-6 col-lg-4",children:k.jsx(Jo,{to:`/exhibition/${n.id}`,className:"btn btn-outline-secondary mt-3","aria-label":`Manage exhibition ${n.name}`,children:k.jsx("div",{className:"card h-100 shadow-sm",children:k.jsxs("div",{className:"card-body d-flex flex-column",children:[k.jsx("h2",{className:"card-title text-decoration-underline text-center py-3 fs-2",children:n.name}),k.jsx("p",{className:"card-text text-center text-muted",children:tI(n.startDate,n.endDate)}),k.jsx("img",{src:n.image,alt:`Exhibition titled "${n.name}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),k.jsxs("ul",{className:"list-group list-group-flush",children:[k.jsx("h5",{className:"text-decoration-underline",children:"What you will be seeing:"}),n.artworks.map(i=>k.jsx("li",{className:"list-group-item justify-content-between mb-3",children:k.jsx("div",{children:k.jsxs("span",{className:"ms-2 d-block",children:['"',i.title,'" by ',k.jsx("i",{children:i.artist_title})]})})},i.id))]}),k.jsxs("p",{className:"card-text text-center text-muted",children:["Created at ",S$(n.createdAt)]})]})})})},n.id))}):k.jsx("p",{className:"text-center",children:"No exhibitions found."})]})},R$=()=>{const{login:r,loading:e}=Nu(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,u]=x.useState(null),d=g=>{switch(g.code){case"auth/user-not-found":return{field:"email",message:"No user found with this email."};case"auth/wrong-password":return{field:"password",message:"Incorrect password. Please try again."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};case"auth/user-disabled":return{field:"form",message:"This user account has been disabled."};default:return{field:"form",message:"Failed to login. Please try again later."}}},h=async g=>{g.preventDefault(),u(null);try{await r(t,i)}catch(_){_ instanceof Ds?u(d(_)):u({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to login:",_)}};return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[k.jsx("h2",{className:"text-center mb-4 fs-1",children:"Login"}),l&&l.field==="form"&&k.jsx("div",{className:"alert alert-danger",children:l.message}),k.jsxs("form",{onSubmit:h,children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),k.jsx("input",{type:"email",id:"email",className:`form-control ${(l==null?void 0:l.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:g=>n(g.target.value),required:!0}),(l==null?void 0:l.field)==="email"&&k.jsx("div",{className:"invalid-feedback",children:l.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),k.jsx("input",{type:"password",id:"password",className:`form-control ${(l==null?void 0:l.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:g=>o(g.target.value),required:!0}),(l==null?void 0:l.field)==="password"&&k.jsx("div",{className:"invalid-feedback",children:l.message})]}),k.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Logging in...":"Login"})]})]})})})},A$=()=>{const{register:r,loading:e}=Nu(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[g,_]=x.useState(null),v=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L),T=L=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(L),C=L=>/^[A-Za-z- ]+$/.test(L),D=L=>{switch(L.code){case"auth/email-already-in-use":return{field:"email",message:"This email is already in use. Please use a different email."};case"auth/weak-password":return{field:"password",message:"The password is too weak."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};default:return{field:"form",message:"Failed to register. Please try again later."}}},R=async L=>{if(L.preventDefault(),_(null),!l||!d){_({field:"name",message:"Please provide both first name and last name."});return}if(!C(l)||!C(d)){_({field:"name",message:"First name and last name can only contain letters, hyphens, and spaces."});return}if(!v(t)){_({field:"email",message:"Please enter a valid email address."});return}if(!T(i)){_({field:"password",message:"Password must include: <ul><li>At least 8 characters</li><li>One uppercase letter</li><li>One lowercase letter</li><li>One number</li></ul>"});return}try{await r(t,i,l,d)}catch(j){j instanceof Ds?_(D(j)):_({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to register:",j)}};return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[k.jsx("h2",{className:"text-center mb-4 fs-1",children:"Register"}),g&&g.field==="form"&&k.jsx("div",{className:"alert alert-danger",children:g.message}),k.jsxs("form",{onSubmit:R,children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),k.jsx("input",{type:"text",id:"firstName",className:`form-control ${(g==null?void 0:g.field)==="name"?"is-invalid":""}`,placeholder:"Enter your first name",value:l,onChange:L=>u(L.target.value),required:!0}),(g==null?void 0:g.field)==="name"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),k.jsx("input",{type:"text",id:"lastName",className:`form-control ${(g==null?void 0:g.field)==="name"?"is-invalid":""}`,placeholder:"Enter your last name",value:d,onChange:L=>h(L.target.value),required:!0}),(g==null?void 0:g.field)==="name"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),k.jsx("input",{type:"email",id:"email",className:`form-control ${(g==null?void 0:g.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:L=>n(L.target.value),required:!0}),(g==null?void 0:g.field)==="email"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),k.jsx("input",{type:"password",id:"password",className:`form-control ${(g==null?void 0:g.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:L=>o(L.target.value),required:!0}),(g==null?void 0:g.field)==="password"&&k.jsx("div",{className:"invalid-feedback",dangerouslySetInnerHTML:{__html:g.message}})]}),k.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Registering...":"Register"})]})]})})})},P$=()=>{const[r,e]=x.useState(!0);return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-sm-10 col-md-6 col-lg-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"Welcome to ArtVoyage"}),k.jsxs("div",{className:"d-flex justify-content-center mb-4",role:"group","aria-label":"Login and Register options",children:[k.jsx("button",{className:`btn custom-btn ${r?"active-btn":"inactive-btn"} me-2`,onClick:()=>e(!0),"aria-pressed":r,children:"Login"}),k.jsx("button",{className:`btn custom-btn ${r?"inactive-btn":"active-btn"}`,onClick:()=>e(!1),"aria-pressed":!r,children:"Register"})]}),k.jsx("div",{className:"card authcard shadow",children:k.jsx("div",{className:"card-body",children:r?k.jsxs("div",{children:[k.jsx(R$,{}),k.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",k.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!1),role:"button","aria-label":"Go to Register form",children:"Register here."})]})]}):k.jsxs("div",{children:[k.jsx(A$,{}),k.jsxs("p",{className:"text-center mt-3",children:["Already have an account?"," ",k.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!0),role:"button","aria-label":"Go to Login form",children:"Login here."})]})]})})})]})})})},xS="https://openaccess-api.clevelandart.org/api/artworks",N$=async r=>{var e,t,n,i,o,l,u,d;try{const h=await Rt.get(`${xS}/${r}`);if(console.log(`${xS}/${r}`,"<---cleveland api"),h.data){const g=h.data.data,_=((t=(e=g.creators[0])==null?void 0:e.description.match(/\(([^)]+)\)/))==null?void 0:t[1])||"",v=((i=(n=g.creators[0])==null?void 0:n.description.match(/^([^\(]+)/))==null?void 0:i[1])||"Unknown Artist",T=((o=g.creation_date)==null?void 0:o.replace(/\b(c\.|circa)\s?/gi,""))||"";return[{id:g.id,title:g.title,artist_title:v,artist_bio:_,date:T,medium_display:g.type+" "+g.technique,imageUrl:((d=(u=(l=g.images)==null?void 0:l[0])==null?void 0:u.web)==null?void 0:d.url)||"",source:"cleveland",objectUrl:g.url,description:g.description,copyright:g.copyright||"The Cleveland Museum of Art"}]}else throw new Error("Artwork not found.")}catch(h){throw Rt.isAxiosError(h)?new Error(`Axios error fetching artwork from Chicago: ${h.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${h.message}`)}},O$="https://www.artic.edu/iiif/2",M$=async r=>{try{const e=await Rt.get("https://api.artic.edu/api/v1/artworks/"+r,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description,copyright_notice"}});if(e.data&&e.data.data){const t=e.data.data,n=t.image_id?`${O$}/${t.image_id}/full/843,/0/default.jpg`:"",i=t.artist_display.match(/\(([^)]+)\)/),o=i?i[1]:null;return[{id:t.id,title:t.title,artist_title:t.artist_title,artist_bio:o,date:t.date_display,medium_display:t.medium_display,imageUrl:n||"",source:"chicago",objectUrl:"https://www.artic.edu/collection",description:t.description,copyright:t.copyright_notice||"The Chicago Art Institute"}]}else throw console.error("Artwork not found."),new Error("Artwork not found.")}catch(e){throw Rt.isAxiosError(e)?new Error(`Axios error fetching artwork from Chicago: ${e.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${e.message}`)}},L$=(r,e)=>{const[t,n]=x.useState(null),[i,o]=x.useState(!1),[l,u]=x.useState(null);return x.useEffect(()=>{if(!e){u("No artwork ID provided.");return}(async()=>{var h,g;o(!0),u(null);try{const _=r==="cleveland"?await N$(e):await M$(e);n(_[0])}catch(_){u(((g=(h=_.response)==null?void 0:h.data)==null?void 0:g.error)||"Error fetching the artwork.")}finally{o(!1)}})()},[e,r]),{artwork:t,setArtwork:n,loading:i,error:l}},F$=()=>{const{selectedMuseum:r,setSelectedMuseum:e}=gm(),{id:t}=$_(),{artwork:n,setArtwork:i,loading:o,error:l}=L$(r,t);return x.useEffect(()=>{i(null),e("")},[i,e]),k.jsxs("div",{className:"container my-5",children:[o&&k.jsx("div",{children:"Loading..."}),l&&k.jsxs("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:["Error fetching artwork: ",l]}),!o&&!l&&!n&&k.jsx("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:"Artwork not found. Please check the ID or return to the home page."}),n&&k.jsx("div",{className:"row justify-content-center",children:k.jsx("div",{className:"col-lg-8",children:k.jsx("div",{className:"card shadow-lg rounded-3",children:k.jsxs("div",{className:"card-body",children:[k.jsx("div",{className:"artwork-image-container mb-4",children:(n.imageUrl||ml)&&k.jsx("img",{src:n.imageUrl&&n.imageUrl.trim()!==""?n.imageUrl:ml,alt:`Artwork titled "${n.title}" by ${n.artist_title}`,className:"img-fluid rounded-3 shadow-lg"})}),k.jsx("h2",{className:"text-center mb-3",children:n.title}),k.jsxs("p",{className:"text-muted text-center",children:[k.jsx("strong",{children:n.artist_title}),n.artist_bio&&k.jsxs("span",{children:[" (",n.artist_bio,")"]})]}),k.jsxs("p",{className:"text-center text-muted",children:["Created in ",n.date]}),k.jsx("p",{className:"font-weight-bold",children:n.medium_display}),n.description&&k.jsx("div",{dangerouslySetInnerHTML:{__html:n.description}}),k.jsxs("div",{className:"text-center mt-4",children:[k.jsx("a",{href:n.objectUrl,className:"btn btn-outline-secondary btn-lg mx-2",target:"_blank",rel:"noopener noreferrer",children:"View on Source"}),k.jsx("button",{className:"btn btn-outline-primary btn-lg mx-2",onClick:()=>window.history.back(),children:"Go Back"})]})]})})})})]})},nI=({show:r,handleClose:e,handleDelete:t,entityType:n,entityId:i})=>{const o=n==="artwork"?"artwork":"exhibition",l=()=>{i!==null&&t(i),e()};return k.jsxs(Br,{show:r,onHide:e,"aria-labelledby":"deleteModalLabel",children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsxs(Br.Title,{id:"deleteModalLabel",children:["Confirm ",o.charAt(0).toUpperCase()+o.slice(1)," ","Deletion"]})}),k.jsx(Br.Body,{children:k.jsxs("p",{children:["Are you sure you want to delete this ",o,"?"]})}),k.jsxs(Br.Footer,{children:[k.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancel"}),k.jsx("button",{className:"btn btn-danger",onClick:l,children:"Confirm"})]})]})},V$=({show:r,handleClose:e,handleEditExhibition:t,exhibition:n})=>{const[i,o]=x.useState(""),[l,u]=x.useState(null),[d,h]=x.useState(null),g=v=>{const[T,C]=v;u(T),h(C)};x.useEffect(()=>{if(n){o(n.name);const v=n.startDate?new Date(n.startDate):null,T=n.endDate?new Date(n.endDate):null;u(v),h(T)}},[n]);const _=()=>{if(!i){alert("Exhibition name is required.");return}if(!l||!d){alert("Both start and end dates are required.");return}if(l&&d&&l>d){alert("Start date must be before the end date.");return}const v=new Date(l).toISOString(),T=new Date(d).toISOString();n&&(t(n.id,{name:i,startDate:v,endDate:T}),e())};return!r||!n?null:k.jsx("div",{className:"modal show d-block",children:k.jsx("div",{className:"modal-dialog",children:k.jsxs("div",{className:"modal-content",children:[k.jsxs("div",{className:"modal-header",children:[k.jsx("h5",{className:"modal-title",children:"Edit Exhibition"}),k.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),k.jsxs("div",{className:"modal-body",children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"exhibition-name",className:"form-label",children:"Name"}),k.jsx("input",{type:"text",id:"exhibition-name",className:"form-control",value:i,onChange:v=>o(v.target.value)})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"newExhibitionDates",className:"form-label",children:"Exhibition Dates:"}),k.jsx("br",{}),k.jsx(eI,{selected:l,onChange:g,startDate:l,endDate:d,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates"})]})]}),k.jsxs("div",{className:"modal-footer",children:[k.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),k.jsx("button",{type:"button",className:"btn btn-primary",onClick:_,children:"Save Changes"})]})]})})})},j$=({exhibition:r,handleDeleteExhibition:e,handleDeleteArtwork:t,handleEditExhibition:n})=>{gm();const[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,h]=x.useState(null),[g,_]=x.useState(null),[v,T]=x.useState(null),C=tI(r.startDate,r.endDate),D=(G,re)=>{_(G),T(re),o(!0)},R=()=>{o(!1),_(null),T(null)},L=G=>{h(G),u(!0)},j=()=>{u(!1),h(null)},W=async G=>{g==="artwork"&&typeof G=="number"?t(r.id,G):g==="exhibition"&&typeof G=="string"&&e(G)};return k.jsxs("div",{className:"container py-5",children:[k.jsx("div",{className:"row mb-4",children:k.jsxs("div",{className:"col-12 text-center text-white py-3",style:{background:"rgba(47, 21, 68, 0.84)"},children:[k.jsx("h1",{children:r.name}),k.jsx("p",{children:C})]})}),k.jsxs("div",{className:"row",children:[k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.artworks.map(G=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:re=>{re.currentTarget.style.transform="scale(1.03)"},onMouseLeave:re=>{re.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${G.title}`,tabIndex:0,onKeyDown:re=>{re.key==="Enter"&&(window.location.href=`/artwork/${G.id}`)},children:k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${G.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${G.title}"`,children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:G.title}),(G.imageUrl||ml)&&k.jsx("img",{src:G.imageUrl&&G.imageUrl.trim()!==""?G.imageUrl:ml,alt:`Artwork titled "${G.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:G.artist_title})," in"," ",G.date]}),k.jsx("p",{className:"mb-2",children:G.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",G.copyright]})]}),k.jsx("button",{className:"btn btn-danger",onClick:()=>D("artwork",G.id),"aria-label":`Delete artwork titled "${G.title}"`,children:"Delete artwork"})]})},G.id))}),k.jsx("div",{className:"col-12 mb-4",children:k.jsx("div",{className:"card p-4",style:{background:"rgba(117, 92, 176, 0.84)"},children:k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{onClick:()=>L(r),className:"btn btn-warning btn-lg","aria-label":`Edit exhibition ${r.name}`,children:"Edit Exhibition"}),k.jsx("button",{onClick:()=>D("exhibition",r.id),className:"btn btn-danger btn-lg","aria-label":`Delete exhibition ${r.name}`,children:"Delete Exhibition"})]})})})]}),k.jsx(V$,{show:l,handleClose:j,handleEditExhibition:n,exhibition:d}),k.jsx(nI,{show:i,handleClose:R,handleDelete:W,entityType:g??"artwork",entityId:v})]})},U$=()=>{const{exhibitionId:r}=$_(),{exhibitions:e,loading:t,editExhibition:n,deleteArtworkFromExhibition:i,deleteExhibition:o}=$v(),[l,u]=x.useState(null),[d,h]=x.useState(null),[g,_]=x.useState(null),v=Tf(),T=(j,W)=>(console.error("Firestore Error:",j),j.message||W);x.useEffect(()=>{if(r){const j=e.find(W=>W.id===r);j?u(j):v("/exhibitions")}},[r,e,v]);const C=()=>{v("/search")},D=x.useCallback(async(j,W)=>{try{await n(j,W),h("Exhibition edited successfully.")}catch(G){const re=T(G,"Failed to edit the exhibition");_(re)}},[n]),R=x.useCallback(async j=>{try{await o(j),h("Exhibition deleted successfully.")}catch(W){const G=T(W,"Failed to delete the exhibition.");_(G)}},[o]),L=x.useCallback(async(j,W)=>{try{await i(j,W),h("Artwork deleted successfully.")}catch(G){const re=T(G,"Failed to delete the artwork.");_(re)}},[i]);return x.useEffect(()=>{if(d){const j=setTimeout(()=>{h(null)},3e3);return()=>clearTimeout(j)}},[d]),t?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):g?k.jsx("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:g}):l?k.jsxs(k.Fragment,{children:[k.jsx(j$,{exhibition:l,handleDeleteExhibition:R,handleDeleteArtwork:L,handleEditExhibition:D}),k.jsx("div",{className:"col-12 mb-5",children:k.jsxs("div",{className:"text-center",children:[k.jsx("button",{onClick:C,className:"btn btn-outline-primary btn-lg mx-2","aria-label":"Add new artwork to the exhibition",style:{maxWidth:"200px"},children:"Add Artwork"}),k.jsx("button",{className:"btn btn-outline-secondary btn-lg mx-2",onClick:()=>window.history.back(),"aria-label":"Go back to the previous page",style:{maxWidth:"200px"},children:"Go Back"})]})})]}):k.jsx("div",{className:"text-center my-5",children:"Exhibition not found."})},B$=()=>{const{collectionState:r,removeFromCollection:e,loadingCollection:t}=hx(),[n,i]=x.useState(!1),[o,l]=x.useState(null),[u,d]=x.useState(null),[h,g]=x.useState(null),_=(D,R)=>(console.error("Firestore Error:",D),D.message||R),v=(D,R)=>{l(D),d(R),i(!0)},T=()=>{i(!1),l(null),d(null)},C=async D=>{if(typeof D=="number")try{await e(D)}catch(R){const L=_(R,"Failed to remove from collection");g(L)}};return t?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):k.jsxs("div",{className:"container my-4",children:[k.jsx("h1",{className:"text-center mb-4",children:"My Collection"}),h&&k.jsx("div",{className:"alert alert-danger text-center",children:h}),r.length===0?k.jsx("p",{className:"text-center",children:"Your collection is empty."}):k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.map(D=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:R=>{R.currentTarget.style.transform="scale(1.03)"},onMouseLeave:R=>{R.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${D.title}`,tabIndex:0,onKeyDown:R=>{R.key==="Enter"&&(window.location.href=`/artwork/${D.id}`)},children:k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${D.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${D.title}"`,children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:D.title}),(D.imageUrl||ml)&&k.jsx("img",{src:D.imageUrl&&D.imageUrl.trim()!==""?D.imageUrl:ml,alt:`Artwork titled "${D.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:D.artist_title})," in"," ",D.date]}),k.jsx("p",{className:"mb-2",children:D.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",D.copyright]})]}),k.jsx("button",{className:"btn btn-danger",onClick:()=>v("artwork",D.id),"aria-label":`Delete artwork titled "${D.title}"`,children:"Delete from my collection"})]})},D.id))}),k.jsx(nI,{show:n,handleClose:T,handleDelete:C,entityType:"artwork",entityId:u})]})},$$=()=>{const{user:r,loading:e}=Nu();return e?k.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",children:k.jsx("div",{children:"Loading..."})}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"app-background vh-100 position-fixed top-0 left-0 w-100"}),k.jsxs("div",{className:"container-fluid d-flex flex-column vh-100",children:[r&&k.jsx(ML,{}),k.jsx("div",{className:"flex-grow-1",children:k.jsx(LD,{children:r?k.jsxs(k.Fragment,{children:[k.jsx(Di,{path:"/home",element:k.jsx(LL,{})}),k.jsx(Di,{path:"/search",element:k.jsx(FL,{})}),k.jsx(Di,{path:"/profile",element:k.jsx(E2,{user:r})}),k.jsx(Di,{path:"/artwork/:id",element:k.jsx(F$,{})}),k.jsx(Di,{path:"/search/museum/:museumName",element:k.jsx(CS,{})}),k.jsx(Di,{path:"/search/collection",element:k.jsx(CS,{})}),k.jsx(Di,{path:"/exhibitions",element:k.jsx(D$,{})}),k.jsx(Di,{path:"/collection",element:k.jsx(B$,{})}),k.jsx(Di,{path:"/exhibition/:exhibitionId",element:k.jsx(U$,{})}),k.jsx(Di,{path:"*",element:k.jsx(zE,{to:"/home"})})]}):k.jsxs(k.Fragment,{children:[k.jsx(Di,{path:"/auth",element:k.jsx(P$,{})}),k.jsx(Di,{path:"*",element:k.jsx(zE,{to:"/auth"})})]})})})]})]})},W$=()=>k.jsx(OL,{children:k.jsx(oR,{children:k.jsx($$,{})})});var kp={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var H$=kp.exports,IS;function z$(){return IS||(IS=1,function(r,e){(function(t,n){r.exports=n()})(H$,function(){const t=new Map,n={set(I,m,b){t.has(I)||t.set(I,new Map);const P=t.get(I);P.has(m)||P.size===0?P.set(m,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(P.keys())[0]}.`)},get:(I,m)=>t.has(I)&&t.get(I).get(m)||null,remove(I,m){if(!t.has(I))return;const b=t.get(I);b.delete(m),b.size===0&&t.delete(I)}},i="transitionend",o=I=>(I&&window.CSS&&window.CSS.escape&&(I=I.replace(/#([^\s"#']+)/g,(m,b)=>`#${CSS.escape(b)}`)),I),l=I=>{I.dispatchEvent(new Event(i))},u=I=>!(!I||typeof I!="object")&&(I.jquery!==void 0&&(I=I[0]),I.nodeType!==void 0),d=I=>u(I)?I.jquery?I[0]:I:typeof I=="string"&&I.length>0?document.querySelector(o(I)):null,h=I=>{if(!u(I)||I.getClientRects().length===0)return!1;const m=getComputedStyle(I).getPropertyValue("visibility")==="visible",b=I.closest("details:not([open])");if(!b)return m;if(b!==I){const P=I.closest("summary");if(P&&P.parentNode!==b||P===null)return!1}return m},g=I=>!I||I.nodeType!==Node.ELEMENT_NODE||!!I.classList.contains("disabled")||(I.disabled!==void 0?I.disabled:I.hasAttribute("disabled")&&I.getAttribute("disabled")!=="false"),_=I=>{if(!document.documentElement.attachShadow)return null;if(typeof I.getRootNode=="function"){const m=I.getRootNode();return m instanceof ShadowRoot?m:null}return I instanceof ShadowRoot?I:I.parentNode?_(I.parentNode):null},v=()=>{},T=I=>{I.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],R=()=>document.documentElement.dir==="rtl",L=I=>{var m;m=()=>{const b=C();if(b){const P=I.NAME,q=b.fn[P];b.fn[P]=I.jQueryInterface,b.fn[P].Constructor=I,b.fn[P].noConflict=()=>(b.fn[P]=q,I.jQueryInterface)}},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of D)b()}),D.push(m)):m()},j=(I,m=[],b=I)=>typeof I=="function"?I(...m):b,W=(I,m,b=!0)=>{if(!b)return void j(I);const P=(ne=>{if(!ne)return 0;let{transitionDuration:ue,transitionDelay:ge}=window.getComputedStyle(ne);const xe=Number.parseFloat(ue),Ie=Number.parseFloat(ge);return xe||Ie?(ue=ue.split(",")[0],ge=ge.split(",")[0],1e3*(Number.parseFloat(ue)+Number.parseFloat(ge))):0})(m)+5;let q=!1;const X=({target:ne})=>{ne===m&&(q=!0,m.removeEventListener(i,X),j(I))};m.addEventListener(i,X),setTimeout(()=>{q||l(m)},P)},G=(I,m,b,P)=>{const q=I.length;let X=I.indexOf(m);return X===-1?!b&&P?I[q-1]:I[0]:(X+=b?1:-1,P&&(X=(X+q)%q),I[Math.max(0,Math.min(X,q-1))])},re=/[^.]*(?=\..*)\.|.*/,ce=/\..*/,F=/::\d+$/,N={};let M=1;const U={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(I,m){return m&&`${m}::${M++}`||I.uidEvent||M++}function V(I){const m=H(I);return I.uidEvent=m,N[m]=N[m]||{},N[m]}function Ae(I,m,b=null){return Object.values(I).find(P=>P.callable===m&&P.delegationSelector===b)}function je(I,m,b){const P=typeof m=="string",q=P?b:m||b;let X=be(I);return $.has(X)||(X=I),[P,q,X]}function Ee(I,m,b,P,q){if(typeof m!="string"||!I)return;let[X,ne,ue]=je(m,b,P);m in U&&(ne=(De=>function($e){if(!$e.relatedTarget||$e.relatedTarget!==$e.delegateTarget&&!$e.delegateTarget.contains($e.relatedTarget))return De.call(this,$e)})(ne));const ge=V(I),xe=ge[ue]||(ge[ue]={}),Ie=Ae(xe,ne,X?b:null);if(Ie)return void(Ie.oneOff=Ie.oneOff&&q);const Te=H(ne,m.replace(re,"")),We=X?function(Fe,De,$e){return function Xe(xt){const Ot=Fe.querySelectorAll(De);for(let{target:rt}=xt;rt&&rt!==this;rt=rt.parentNode)for(const _t of Ot)if(_t===rt)return Y(xt,{delegateTarget:rt}),Xe.oneOff&&Q.off(Fe,xt.type,De,$e),$e.apply(rt,[xt])}}(I,b,ne):function(Fe,De){return function $e(Xe){return Y(Xe,{delegateTarget:Fe}),$e.oneOff&&Q.off(Fe,Xe.type,De),De.apply(Fe,[Xe])}}(I,ne);We.delegationSelector=X?b:null,We.callable=ne,We.oneOff=q,We.uidEvent=Te,xe[Te]=We,I.addEventListener(ue,We,X)}function we(I,m,b,P,q){const X=Ae(m[b],P,q);X&&(I.removeEventListener(b,X,!!q),delete m[b][X.uidEvent])}function ie(I,m,b,P){const q=m[b]||{};for(const[X,ne]of Object.entries(q))X.includes(P)&&we(I,m,b,ne.callable,ne.delegationSelector)}function be(I){return I=I.replace(ce,""),U[I]||I}const Q={on(I,m,b,P){Ee(I,m,b,P,!1)},one(I,m,b,P){Ee(I,m,b,P,!0)},off(I,m,b,P){if(typeof m!="string"||!I)return;const[q,X,ne]=je(m,b,P),ue=ne!==m,ge=V(I),xe=ge[ne]||{},Ie=m.startsWith(".");if(X===void 0){if(Ie)for(const Te of Object.keys(ge))ie(I,ge,Te,m.slice(1));for(const[Te,We]of Object.entries(xe)){const Fe=Te.replace(F,"");ue&&!m.includes(Fe)||we(I,ge,ne,We.callable,We.delegationSelector)}}else{if(!Object.keys(xe).length)return;we(I,ge,ne,X,q?b:null)}},trigger(I,m,b){if(typeof m!="string"||!I)return null;const P=C();let q=null,X=!0,ne=!0,ue=!1;m!==be(m)&&P&&(q=P.Event(m,b),P(I).trigger(q),X=!q.isPropagationStopped(),ne=!q.isImmediatePropagationStopped(),ue=q.isDefaultPrevented());const ge=Y(new Event(m,{bubbles:X,cancelable:!0}),b);return ue&&ge.preventDefault(),ne&&I.dispatchEvent(ge),ge.defaultPrevented&&q&&q.preventDefault(),ge}};function Y(I,m={}){for(const[b,P]of Object.entries(m))try{I[b]=P}catch{Object.defineProperty(I,b,{configurable:!0,get:()=>P})}return I}function le(I){if(I==="true")return!0;if(I==="false")return!1;if(I===Number(I).toString())return Number(I);if(I===""||I==="null")return null;if(typeof I!="string")return I;try{return JSON.parse(decodeURIComponent(I))}catch{return I}}function ke(I){return I.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const Be={setDataAttribute(I,m,b){I.setAttribute(`data-bs-${ke(m)}`,b)},removeDataAttribute(I,m){I.removeAttribute(`data-bs-${ke(m)}`)},getDataAttributes(I){if(!I)return{};const m={},b=Object.keys(I.dataset).filter(P=>P.startsWith("bs")&&!P.startsWith("bsConfig"));for(const P of b){let q=P.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1,q.length),m[q]=le(I.dataset[P])}return m},getDataAttribute:(I,m)=>le(I.getAttribute(`data-bs-${ke(m)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,b){const P=u(b)?Be.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof P=="object"?P:{},...u(b)?Be.getDataAttributes(b):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,b=this.constructor.DefaultType){for(const[q,X]of Object.entries(b)){const ne=m[q],ue=u(ne)?"element":(P=ne)==null?`${P}`:Object.prototype.toString.call(P).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(X).test(ue))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${ue}" but expected type "${X}".`)}var P}}class Qe extends Ke{constructor(m,b){super(),(m=d(m))&&(this._element=m,this._config=this._getConfig(b),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,b,P=!0){W(m,b,P)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return n.get(d(m),this.DATA_KEY)}static getOrCreateInstance(m,b={}){return this.getInstance(m)||new this(m,typeof b=="object"?b:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const st=I=>{let m=I.getAttribute("data-bs-target");if(!m||m==="#"){let b=I.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),m=b&&b!=="#"?b.trim():null}return m?m.split(",").map(b=>o(b)).join(","):null},ye={find:(I,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,I)),findOne:(I,m=document.documentElement)=>Element.prototype.querySelector.call(m,I),children:(I,m)=>[].concat(...I.children).filter(b=>b.matches(m)),parents(I,m){const b=[];let P=I.parentNode.closest(m);for(;P;)b.push(P),P=P.parentNode.closest(m);return b},prev(I,m){let b=I.previousElementSibling;for(;b;){if(b.matches(m))return[b];b=b.previousElementSibling}return[]},next(I,m){let b=I.nextElementSibling;for(;b;){if(b.matches(m))return[b];b=b.nextElementSibling}return[]},focusableChildren(I){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(m,I).filter(b=>!g(b)&&h(b))},getSelectorFromElement(I){const m=st(I);return m&&ye.findOne(m)?m:null},getElementFromSelector(I){const m=st(I);return m?ye.findOne(m):null},getMultipleElementsFromSelector(I){const m=st(I);return m?ye.find(m):[]}},ct=(I,m="hide")=>{const b=`click.dismiss${I.EVENT_KEY}`,P=I.NAME;Q.on(document,b,`[data-bs-dismiss="${P}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),g(this))return;const X=ye.getElementFromSelector(this)||this.closest(`.${P}`);I.getOrCreateInstance(X)[m]()})},$t=".bs.alert",cr=`close${$t}`,Dr=`closed${$t}`;class wn extends Qe{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,cr).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),Q.trigger(this._element,Dr),this.dispose()}static jQueryInterface(m){return this.each(function(){const b=wn.getOrCreateInstance(this);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m](this)}})}}ct(wn,"close"),L(wn);const Gn='[data-bs-toggle="button"]';class dt extends Qe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const b=dt.getOrCreateInstance(this);m==="toggle"&&b[m]()})}}Q.on(document,"click.bs.button.data-api",Gn,I=>{I.preventDefault();const m=I.target.closest(Gn);dt.getOrCreateInstance(m).toggle()}),L(dt);const Xn=".bs.swipe",ci=`touchstart${Xn}`,pa=`touchmove${Xn}`,As=`touchend${Xn}`,di=`pointerdown${Xn}`,fi=`pointerup${Xn}`,wo={endCallback:null,leftCallback:null,rightCallback:null},Ps={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qr extends Ke{constructor(m,b){super(),this._element=m,m&&qr.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wo}static get DefaultType(){return Ps}static get NAME(){return"swipe"}dispose(){Q.off(this._element,Xn)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),j(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const b=m/this._deltaX;this._deltaX=0,b&&j(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,di,m=>this._start(m)),Q.on(this._element,fi,m=>this._end(m)),this._element.classList.add("pointer-event")):(Q.on(this._element,ci,m=>this._start(m)),Q.on(this._element,pa,m=>this._move(m)),Q.on(this._element,As,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const dr=".bs.carousel",ze=".data-api",Tt="next",Cn="prev",Oi="left",hi="right",Eo=`slide${dr}`,rs=`slid${dr}`,El=`keydown${dr}`,bl=`mouseenter${dr}`,Tl=`mouseleave${dr}`,Sl=`dragstart${dr}`,kl=`load${dr}${ze}`,bo=`click${dr}${ze}`,To="carousel",is="active",Rr=".active",pi=".carousel-item",ma=Rr+pi,Mi={ArrowLeft:hi,ArrowRight:Oi},Cl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},So={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Li extends Qe{constructor(m,b){super(m,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ye.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===To&&this.cycle()}static get Default(){return Cl}static get DefaultType(){return So}static get NAME(){return"carousel"}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Cn)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,rs,()=>this.cycle()):this.cycle())}to(m){const b=this._getItems();if(m>b.length-1||m<0)return;if(this._isSliding)return void Q.one(this._element,rs,()=>this.to(m));const P=this._getItemIndex(this._getActive());if(P===m)return;const q=m>P?Tt:Cn;this._slide(q,b[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&Q.on(this._element,El,m=>this._keydown(m)),this._config.pause==="hover"&&(Q.on(this._element,bl,()=>this.pause()),Q.on(this._element,Tl,()=>this._maybeEnableCycle())),this._config.touch&&qr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of ye.find(".carousel-item img",this._element))Q.on(b,Sl,P=>P.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(Oi)),rightCallback:()=>this._slide(this._directionToOrder(hi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new qr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const b=Mi[m.key];b&&(m.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const b=ye.findOne(Rr,this._indicatorsElement);b.classList.remove(is),b.removeAttribute("aria-current");const P=ye.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);P&&(P.classList.add(is),P.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const b=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(m,b=null){if(this._isSliding)return;const P=this._getActive(),q=m===Tt,X=b||G(this._getItems(),P,q,this._config.wrap);if(X===P)return;const ne=this._getItemIndex(X),ue=Te=>Q.trigger(this._element,Te,{relatedTarget:X,direction:this._orderToDirection(m),from:this._getItemIndex(P),to:ne});if(ue(Eo).defaultPrevented||!P||!X)return;const ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ne),this._activeElement=X;const xe=q?"carousel-item-start":"carousel-item-end",Ie=q?"carousel-item-next":"carousel-item-prev";X.classList.add(Ie),T(X),P.classList.add(xe),X.classList.add(xe),this._queueCallback(()=>{X.classList.remove(xe,Ie),X.classList.add(is),P.classList.remove(is,Ie,xe),this._isSliding=!1,ue(rs)},P,this._isAnimated()),ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ye.findOne(ma,this._element)}_getItems(){return ye.find(pi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return R()?m===Oi?Cn:Tt:m===Oi?Tt:Cn}_orderToDirection(m){return R()?m===Cn?Oi:hi:m===Cn?hi:Oi}static jQueryInterface(m){return this.each(function(){const b=Li.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}}else b.to(m)})}}Q.on(document,bo,"[data-bs-slide], [data-bs-slide-to]",function(I){const m=ye.getElementFromSelector(this);if(!m||!m.classList.contains(To))return;I.preventDefault();const b=Li.getOrCreateInstance(m),P=this.getAttribute("data-bs-slide-to");return P?(b.to(P),void b._maybeEnableCycle()):Be.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),Q.on(window,kl,()=>{const I=ye.find('[data-bs-ride="carousel"]');for(const m of I)Li.getOrCreateInstance(m)}),L(Li);const Ar=".bs.collapse",xl=`show${Ar}`,Jt=`shown${Ar}`,ga=`hide${Ar}`,mi=`hidden${Ar}`,ko=`click${Ar}.data-api`,ss="show",gi="collapse",fr="collapsing",Il=`:scope .${gi} .${gi}`,Dl='[data-bs-toggle="collapse"]',ya={parent:null,toggle:!0},Mu={parent:"(null|element)",toggle:"boolean"};class Nn extends Qe{constructor(m,b){super(m,b),this._isTransitioning=!1,this._triggerArray=[];const P=ye.find(Dl);for(const q of P){const X=ye.getSelectorFromElement(q),ne=ye.find(X).filter(ue=>ue===this._element);X!==null&&ne.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ya}static get DefaultType(){return Mu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>Nn.getOrCreateInstance(q,{toggle:!1}))),m.length&&m[0]._isTransitioning||Q.trigger(this._element,xl).defaultPrevented)return;for(const q of m)q.hide();const b=this._getDimension();this._element.classList.remove(gi),this._element.classList.add(fr),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const P=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(gi,ss),this._element.style[b]="",Q.trigger(this._element,Jt)},this._element,!0),this._element.style[b]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,ga).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,T(this._element),this._element.classList.add(fr),this._element.classList.remove(gi,ss);for(const b of this._triggerArray){const P=ye.getElementFromSelector(b);P&&!this._isShown(P)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(gi),Q.trigger(this._element,mi)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(ss)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=d(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(Dl);for(const b of m){const P=ye.getElementFromSelector(b);P&&this._addAriaAndCollapsedClass([b],this._isShown(P))}}_getFirstLevelChildren(m){const b=ye.find(Il,this._config.parent);return ye.find(m,this._config.parent).filter(P=>!b.includes(P))}_addAriaAndCollapsedClass(m,b){if(m.length)for(const P of m)P.classList.toggle("collapsed",!b),P.setAttribute("aria-expanded",b)}static jQueryInterface(m){const b={};return typeof m=="string"&&/show|hide/.test(m)&&(b.toggle=!1),this.each(function(){const P=Nn.getOrCreateInstance(this,b);if(typeof m=="string"){if(P[m]===void 0)throw new TypeError(`No method named "${m}"`);P[m]()}})}}Q.on(document,ko,Dl,function(I){(I.target.tagName==="A"||I.delegateTarget&&I.delegateTarget.tagName==="A")&&I.preventDefault();for(const m of ye.getMultipleElementsFromSelector(this))Nn.getOrCreateInstance(m,{toggle:!1}).toggle()}),L(Nn);var Zt="top",Kt="bottom",On="right",fn="left",os="auto",yi=[Zt,Kt,On,fn],_i="start",as="end",Lu="clippingParents",Pt="viewport",ls="popper",Ns="reference",Fi=yi.reduce(function(I,m){return I.concat([m+"-"+_i,m+"-"+as])},[]),hr=[].concat(yi,[os]).reduce(function(I,m){return I.concat([m,m+"-"+_i,m+"-"+as])},[]),_a="beforeRead",Rl="read",Os="afterRead",pr="beforeMain",Al="main",Mn="afterMain",va="beforeWrite",Pl="write",Nl="afterWrite",Co=[_a,Rl,Os,pr,Al,Mn,va,Pl,Nl];function Jn(I){return I?(I.nodeName||"").toLowerCase():null}function on(I){if(I==null)return window;if(I.toString()!=="[object Window]"){var m=I.ownerDocument;return m&&m.defaultView||window}return I}function Pr(I){return I instanceof on(I).Element||I instanceof Element}function mr(I){return I instanceof on(I).HTMLElement||I instanceof HTMLElement}function vi(I){return typeof ShadowRoot<"u"&&(I instanceof on(I).ShadowRoot||I instanceof ShadowRoot)}const Zn={name:"applyStyles",enabled:!0,phase:"write",fn:function(I){var m=I.state;Object.keys(m.elements).forEach(function(b){var P=m.styles[b]||{},q=m.attributes[b]||{},X=m.elements[b];mr(X)&&Jn(X)&&(Object.assign(X.style,P),Object.keys(q).forEach(function(ne){var ue=q[ne];ue===!1?X.removeAttribute(ne):X.setAttribute(ne,ue===!0?"":ue)}))})},effect:function(I){var m=I.state,b={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,b.popper),m.styles=b,m.elements.arrow&&Object.assign(m.elements.arrow.style,b.arrow),function(){Object.keys(m.elements).forEach(function(P){var q=m.elements[P],X=m.attributes[P]||{},ne=Object.keys(m.styles.hasOwnProperty(P)?m.styles[P]:b[P]).reduce(function(ue,ge){return ue[ge]="",ue},{});mr(q)&&Jn(q)&&(Object.assign(q.style,ne),Object.keys(X).forEach(function(ue){q.removeAttribute(ue)}))})}},requires:["computeStyles"]};function Ln(I){return I.split("-")[0]}var gr=Math.max,wi=Math.min,yt=Math.round;function Vi(){var I=navigator.userAgentData;return I!=null&&I.brands&&Array.isArray(I.brands)?I.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function ot(){return!/^((?!chrome|android).)*safari/i.test(Vi())}function Nr(I,m,b){m===void 0&&(m=!1),b===void 0&&(b=!1);var P=I.getBoundingClientRect(),q=1,X=1;m&&mr(I)&&(q=I.offsetWidth>0&&yt(P.width)/I.offsetWidth||1,X=I.offsetHeight>0&&yt(P.height)/I.offsetHeight||1);var ne=(Pr(I)?on(I):window).visualViewport,ue=!ot()&&b,ge=(P.left+(ue&&ne?ne.offsetLeft:0))/q,xe=(P.top+(ue&&ne?ne.offsetTop:0))/X,Ie=P.width/q,Te=P.height/X;return{width:Ie,height:Te,top:xe,right:ge+Ie,bottom:xe+Te,left:ge,x:ge,y:xe}}function wa(I){var m=Nr(I),b=I.offsetWidth,P=I.offsetHeight;return Math.abs(m.width-b)<=1&&(b=m.width),Math.abs(m.height-P)<=1&&(P=m.height),{x:I.offsetLeft,y:I.offsetTop,width:b,height:P}}function xo(I,m){var b=m.getRootNode&&m.getRootNode();if(I.contains(m))return!0;if(b&&vi(b)){var P=m;do{if(P&&I.isSameNode(P))return!0;P=P.parentNode||P.host}while(P)}return!1}function Yr(I){return on(I).getComputedStyle(I)}function Fu(I){return["table","td","th"].indexOf(Jn(I))>=0}function Ei(I){return((Pr(I)?I.ownerDocument:I.document)||window.document).documentElement}function Ms(I){return Jn(I)==="html"?I:I.assignedSlot||I.parentNode||(vi(I)?I.host:null)||Ei(I)}function bi(I){return mr(I)&&Yr(I).position!=="fixed"?I.offsetParent:null}function en(I){for(var m=on(I),b=bi(I);b&&Fu(b)&&Yr(b).position==="static";)b=bi(b);return b&&(Jn(b)==="html"||Jn(b)==="body"&&Yr(b).position==="static")?m:b||function(P){var q=/firefox/i.test(Vi());if(/Trident/i.test(Vi())&&mr(P)&&Yr(P).position==="fixed")return null;var X=Ms(P);for(vi(X)&&(X=X.host);mr(X)&&["html","body"].indexOf(Jn(X))<0;){var ne=Yr(X);if(ne.transform!=="none"||ne.perspective!=="none"||ne.contain==="paint"||["transform","perspective"].indexOf(ne.willChange)!==-1||q&&ne.willChange==="filter"||q&&ne.filter&&ne.filter!=="none")return X;X=X.parentNode}return null}(I)||m}function Or(I){return["top","bottom"].indexOf(I)>=0?"x":"y"}function er(I,m,b){return gr(I,wi(m,b))}function us(I){return Object.assign({},{top:0,right:0,bottom:0,left:0},I)}function Mr(I,m){return m.reduce(function(b,P){return b[P]=I,b},{})}const Ti={name:"arrow",enabled:!0,phase:"main",fn:function(I){var m,b=I.state,P=I.name,q=I.options,X=b.elements.arrow,ne=b.modifiersData.popperOffsets,ue=Ln(b.placement),ge=Or(ue),xe=[fn,On].indexOf(ue)>=0?"height":"width";if(X&&ne){var Ie=function(St,It){return us(typeof(St=typeof St=="function"?St(Object.assign({},It.rects,{placement:It.placement})):St)!="number"?St:Mr(St,yi))}(q.padding,b),Te=wa(X),We=ge==="y"?Zt:fn,Fe=ge==="y"?Kt:On,De=b.rects.reference[xe]+b.rects.reference[ge]-ne[ge]-b.rects.popper[xe],$e=ne[ge]-b.rects.reference[ge],Xe=en(X),xt=Xe?ge==="y"?Xe.clientHeight||0:Xe.clientWidth||0:0,Ot=De/2-$e/2,rt=Ie[We],_t=xt-Te[xe]-Ie[Fe],et=xt/2-Te[xe]/2+Ot,at=er(rt,et,_t),ht=ge;b.modifiersData[P]=((m={})[ht]=at,m.centerOffset=at-et,m)}},effect:function(I){var m=I.state,b=I.options.element,P=b===void 0?"[data-popper-arrow]":b;P!=null&&(typeof P!="string"||(P=m.elements.popper.querySelector(P)))&&xo(m.elements.popper,P)&&(m.elements.arrow=P)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ls(I){return I.split("-")[1]}var Vu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tr(I){var m,b=I.popper,P=I.popperRect,q=I.placement,X=I.variation,ne=I.offsets,ue=I.position,ge=I.gpuAcceleration,xe=I.adaptive,Ie=I.roundOffsets,Te=I.isFixed,We=ne.x,Fe=We===void 0?0:We,De=ne.y,$e=De===void 0?0:De,Xe=typeof Ie=="function"?Ie({x:Fe,y:$e}):{x:Fe,y:$e};Fe=Xe.x,$e=Xe.y;var xt=ne.hasOwnProperty("x"),Ot=ne.hasOwnProperty("y"),rt=fn,_t=Zt,et=window;if(xe){var at=en(b),ht="clientHeight",St="clientWidth";at===on(b)&&Yr(at=Ei(b)).position!=="static"&&ue==="absolute"&&(ht="scrollHeight",St="scrollWidth"),(q===Zt||(q===fn||q===On)&&X===as)&&(_t=Kt,$e-=(Te&&at===et&&et.visualViewport?et.visualViewport.height:at[ht])-P.height,$e*=ge?1:-1),q!==fn&&(q!==Zt&&q!==Kt||X!==as)||(rt=On,Fe-=(Te&&at===et&&et.visualViewport?et.visualViewport.width:at[St])-P.width,Fe*=ge?1:-1)}var It,zt=Object.assign({position:ue},xe&&Vu),Un=Ie===!0?function(ei,Bn){var xn=ei.x,Fr=ei.y,qt=Bn.devicePixelRatio||1;return{x:yt(xn*qt)/qt||0,y:yt(Fr*qt)/qt||0}}({x:Fe,y:$e},on(b)):{x:Fe,y:$e};return Fe=Un.x,$e=Un.y,ge?Object.assign({},zt,((It={})[_t]=Ot?"0":"",It[rt]=xt?"0":"",It.transform=(et.devicePixelRatio||1)<=1?"translate("+Fe+"px, "+$e+"px)":"translate3d("+Fe+"px, "+$e+"px, 0)",It)):Object.assign({},zt,((m={})[_t]=Ot?$e+"px":"",m[rt]=xt?Fe+"px":"",m.transform="",m))}const Ol={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(I){var m=I.state,b=I.options,P=b.gpuAcceleration,q=P===void 0||P,X=b.adaptive,ne=X===void 0||X,ue=b.roundOffsets,ge=ue===void 0||ue,xe={placement:Ln(m.placement),variation:Ls(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:q,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,tr(Object.assign({},xe,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:ne,roundOffsets:ge})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,tr(Object.assign({},xe,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ge})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Io={passive:!0};const Si={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(I){var m=I.state,b=I.instance,P=I.options,q=P.scroll,X=q===void 0||q,ne=P.resize,ue=ne===void 0||ne,ge=on(m.elements.popper),xe=[].concat(m.scrollParents.reference,m.scrollParents.popper);return X&&xe.forEach(function(Ie){Ie.addEventListener("scroll",b.update,Io)}),ue&&ge.addEventListener("resize",b.update,Io),function(){X&&xe.forEach(function(Ie){Ie.removeEventListener("scroll",b.update,Io)}),ue&&ge.removeEventListener("resize",b.update,Io)}},data:{}};var Do={left:"right",right:"left",bottom:"top",top:"bottom"};function Ro(I){return I.replace(/left|right|bottom|top/g,function(m){return Do[m]})}var ki={start:"end",end:"start"};function Kr(I){return I.replace(/start|end/g,function(m){return ki[m]})}function Ci(I){var m=on(I);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function ji(I){return Nr(Ei(I)).left+Ci(I).scrollLeft}function Wt(I){var m=Yr(I),b=m.overflow,P=m.overflowX,q=m.overflowY;return/auto|scroll|overlay|hidden/.test(b+q+P)}function ju(I){return["html","body","#document"].indexOf(Jn(I))>=0?I.ownerDocument.body:mr(I)&&Wt(I)?I:ju(Ms(I))}function cs(I,m){var b;m===void 0&&(m=[]);var P=ju(I),q=P===((b=I.ownerDocument)==null?void 0:b.body),X=on(P),ne=q?[X].concat(X.visualViewport||[],Wt(P)?P:[]):P,ue=m.concat(ne);return q?ue:ue.concat(cs(Ms(ne)))}function ds(I){return Object.assign({},I,{left:I.x,top:I.y,right:I.x+I.width,bottom:I.y+I.height})}function Ao(I,m,b){return m===Pt?ds(function(P,q){var X=on(P),ne=Ei(P),ue=X.visualViewport,ge=ne.clientWidth,xe=ne.clientHeight,Ie=0,Te=0;if(ue){ge=ue.width,xe=ue.height;var We=ot();(We||!We&&q==="fixed")&&(Ie=ue.offsetLeft,Te=ue.offsetTop)}return{width:ge,height:xe,x:Ie+ji(P),y:Te}}(I,b)):Pr(m)?function(P,q){var X=Nr(P,!1,q==="fixed");return X.top=X.top+P.clientTop,X.left=X.left+P.clientLeft,X.bottom=X.top+P.clientHeight,X.right=X.left+P.clientWidth,X.width=P.clientWidth,X.height=P.clientHeight,X.x=X.left,X.y=X.top,X}(m,b):ds(function(P){var q,X=Ei(P),ne=Ci(P),ue=(q=P.ownerDocument)==null?void 0:q.body,ge=gr(X.scrollWidth,X.clientWidth,ue?ue.scrollWidth:0,ue?ue.clientWidth:0),xe=gr(X.scrollHeight,X.clientHeight,ue?ue.scrollHeight:0,ue?ue.clientHeight:0),Ie=-ne.scrollLeft+ji(P),Te=-ne.scrollTop;return Yr(ue||X).direction==="rtl"&&(Ie+=gr(X.clientWidth,ue?ue.clientWidth:0)-ge),{width:ge,height:xe,x:Ie,y:Te}}(Ei(I)))}function Ea(I){var m,b=I.reference,P=I.element,q=I.placement,X=q?Ln(q):null,ne=q?Ls(q):null,ue=b.x+b.width/2-P.width/2,ge=b.y+b.height/2-P.height/2;switch(X){case Zt:m={x:ue,y:b.y-P.height};break;case Kt:m={x:ue,y:b.y+b.height};break;case On:m={x:b.x+b.width,y:ge};break;case fn:m={x:b.x-P.width,y:ge};break;default:m={x:b.x,y:b.y}}var xe=X?Or(X):null;if(xe!=null){var Ie=xe==="y"?"height":"width";switch(ne){case _i:m[xe]=m[xe]-(b[Ie]/2-P[Ie]/2);break;case as:m[xe]=m[xe]+(b[Ie]/2-P[Ie]/2)}}return m}function En(I,m){m===void 0&&(m={});var b=m,P=b.placement,q=P===void 0?I.placement:P,X=b.strategy,ne=X===void 0?I.strategy:X,ue=b.boundary,ge=ue===void 0?Lu:ue,xe=b.rootBoundary,Ie=xe===void 0?Pt:xe,Te=b.elementContext,We=Te===void 0?ls:Te,Fe=b.altBoundary,De=Fe!==void 0&&Fe,$e=b.padding,Xe=$e===void 0?0:$e,xt=us(typeof Xe!="number"?Xe:Mr(Xe,yi)),Ot=We===ls?Ns:ls,rt=I.rects.popper,_t=I.elements[De?Ot:We],et=function(Bn,xn,Fr,qt){var Vr=xn==="clippingParents"?function(Dt){var In=cs(Ms(Dt)),Dn=["absolute","fixed"].indexOf(Yr(Dt).position)>=0&&mr(Dt)?en(Dt):Dt;return Pr(Dn)?In.filter(function(mn){return Pr(mn)&&xo(mn,Dn)&&Jn(mn)!=="body"}):[]}(Bn):[].concat(xn),rr=[].concat(Vr,[Fr]),Qs=rr[0],ln=rr.reduce(function(Dt,In){var Dn=Ao(Bn,In,qt);return Dt.top=gr(Dn.top,Dt.top),Dt.right=wi(Dn.right,Dt.right),Dt.bottom=wi(Dn.bottom,Dt.bottom),Dt.left=gr(Dn.left,Dt.left),Dt},Ao(Bn,Qs,qt));return ln.width=ln.right-ln.left,ln.height=ln.bottom-ln.top,ln.x=ln.left,ln.y=ln.top,ln}(Pr(_t)?_t:_t.contextElement||Ei(I.elements.popper),ge,Ie,ne),at=Nr(I.elements.reference),ht=Ea({reference:at,element:rt,strategy:"absolute",placement:q}),St=ds(Object.assign({},rt,ht)),It=We===ls?St:at,zt={top:et.top-It.top+xt.top,bottom:It.bottom-et.bottom+xt.bottom,left:et.left-It.left+xt.left,right:It.right-et.right+xt.right},Un=I.modifiersData.offset;if(We===ls&&Un){var ei=Un[q];Object.keys(zt).forEach(function(Bn){var xn=[On,Kt].indexOf(Bn)>=0?1:-1,Fr=[Zt,Kt].indexOf(Bn)>=0?"y":"x";zt[Bn]+=ei[Fr]*xn})}return zt}function ba(I,m){m===void 0&&(m={});var b=m,P=b.placement,q=b.boundary,X=b.rootBoundary,ne=b.padding,ue=b.flipVariations,ge=b.allowedAutoPlacements,xe=ge===void 0?hr:ge,Ie=Ls(P),Te=Ie?ue?Fi:Fi.filter(function(De){return Ls(De)===Ie}):yi,We=Te.filter(function(De){return xe.indexOf(De)>=0});We.length===0&&(We=Te);var Fe=We.reduce(function(De,$e){return De[$e]=En(I,{placement:$e,boundary:q,rootBoundary:X,padding:ne})[Ln($e)],De},{});return Object.keys(Fe).sort(function(De,$e){return Fe[De]-Fe[$e]})}const nr={name:"flip",enabled:!0,phase:"main",fn:function(I){var m=I.state,b=I.options,P=I.name;if(!m.modifiersData[P]._skip){for(var q=b.mainAxis,X=q===void 0||q,ne=b.altAxis,ue=ne===void 0||ne,ge=b.fallbackPlacements,xe=b.padding,Ie=b.boundary,Te=b.rootBoundary,We=b.altBoundary,Fe=b.flipVariations,De=Fe===void 0||Fe,$e=b.allowedAutoPlacements,Xe=m.options.placement,xt=Ln(Xe),Ot=ge||(xt!==Xe&&De?function(Dt){if(Ln(Dt)===os)return[];var In=Ro(Dt);return[Kr(Dt),In,Kr(In)]}(Xe):[Ro(Xe)]),rt=[Xe].concat(Ot).reduce(function(Dt,In){return Dt.concat(Ln(In)===os?ba(m,{placement:In,boundary:Ie,rootBoundary:Te,padding:xe,flipVariations:De,allowedAutoPlacements:$e}):In)},[]),_t=m.rects.reference,et=m.rects.popper,at=new Map,ht=!0,St=rt[0],It=0;It<rt.length;It++){var zt=rt[It],Un=Ln(zt),ei=Ls(zt)===_i,Bn=[Zt,Kt].indexOf(Un)>=0,xn=Bn?"width":"height",Fr=En(m,{placement:zt,boundary:Ie,rootBoundary:Te,altBoundary:We,padding:xe}),qt=Bn?ei?On:fn:ei?Kt:Zt;_t[xn]>et[xn]&&(qt=Ro(qt));var Vr=Ro(qt),rr=[];if(X&&rr.push(Fr[Un]<=0),ue&&rr.push(Fr[qt]<=0,Fr[Vr]<=0),rr.every(function(Dt){return Dt})){St=zt,ht=!1;break}at.set(zt,rr)}if(ht)for(var Qs=function(Dt){var In=rt.find(function(Dn){var mn=at.get(Dn);if(mn)return mn.slice(0,Dt).every(function(Qi){return Qi})});if(In)return St=In,"break"},ln=De?3:1;ln>0&&Qs(ln)!=="break";ln--);m.placement!==St&&(m.modifiersData[P]._skip=!0,m.placement=St,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ta(I,m,b){return b===void 0&&(b={x:0,y:0}),{top:I.top-m.height-b.y,right:I.right-m.width+b.x,bottom:I.bottom-m.height+b.y,left:I.left-m.width-b.x}}function Po(I){return[Zt,On,Kt,fn].some(function(m){return I[m]>=0})}const xi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(I){var m=I.state,b=I.name,P=m.rects.reference,q=m.rects.popper,X=m.modifiersData.preventOverflow,ne=En(m,{elementContext:"reference"}),ue=En(m,{altBoundary:!0}),ge=Ta(ne,P),xe=Ta(ue,q,X),Ie=Po(ge),Te=Po(xe);m.modifiersData[b]={referenceClippingOffsets:ge,popperEscapeOffsets:xe,isReferenceHidden:Ie,hasPopperEscaped:Te},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Ie,"data-popper-escaped":Te})}},Sa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(I){var m=I.state,b=I.options,P=I.name,q=b.offset,X=q===void 0?[0,0]:q,ne=hr.reduce(function(Ie,Te){return Ie[Te]=function(We,Fe,De){var $e=Ln(We),Xe=[fn,Zt].indexOf($e)>=0?-1:1,xt=typeof De=="function"?De(Object.assign({},Fe,{placement:We})):De,Ot=xt[0],rt=xt[1];return Ot=Ot||0,rt=(rt||0)*Xe,[fn,On].indexOf($e)>=0?{x:rt,y:Ot}:{x:Ot,y:rt}}(Te,m.rects,X),Ie},{}),ue=ne[m.placement],ge=ue.x,xe=ue.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=ge,m.modifiersData.popperOffsets.y+=xe),m.modifiersData[P]=ne}},hn={name:"popperOffsets",enabled:!0,phase:"read",fn:function(I){var m=I.state,b=I.name;m.modifiersData[b]=Ea({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})},data:{}},Qr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(I){var m=I.state,b=I.options,P=I.name,q=b.mainAxis,X=q===void 0||q,ne=b.altAxis,ue=ne!==void 0&&ne,ge=b.boundary,xe=b.rootBoundary,Ie=b.altBoundary,Te=b.padding,We=b.tether,Fe=We===void 0||We,De=b.tetherOffset,$e=De===void 0?0:De,Xe=En(m,{boundary:ge,rootBoundary:xe,padding:Te,altBoundary:Ie}),xt=Ln(m.placement),Ot=Ls(m.placement),rt=!Ot,_t=Or(xt),et=_t==="x"?"y":"x",at=m.modifiersData.popperOffsets,ht=m.rects.reference,St=m.rects.popper,It=typeof $e=="function"?$e(Object.assign({},m.rects,{placement:m.placement})):$e,zt=typeof It=="number"?{mainAxis:It,altAxis:It}:Object.assign({mainAxis:0,altAxis:0},It),Un=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,ei={x:0,y:0};if(at){if(X){var Bn,xn=_t==="y"?Zt:fn,Fr=_t==="y"?Kt:On,qt=_t==="y"?"height":"width",Vr=at[_t],rr=Vr+Xe[xn],Qs=Vr-Xe[Fr],ln=Fe?-St[qt]/2:0,Dt=Ot===_i?ht[qt]:St[qt],In=Ot===_i?-St[qt]:-ht[qt],Dn=m.elements.arrow,mn=Fe&&Dn?wa(Dn):{width:0,height:0},Qi=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oc=Qi[xn],wd=Qi[Fr],ti=er(0,ht[qt],mn[qt]),Gs=rt?ht[qt]/2-ln-ti-oc-zt.mainAxis:Dt-ti-oc-zt.mainAxis,Ed=rt?-ht[qt]/2+ln+ti+wd+zt.mainAxis:In+ti+wd+zt.mainAxis,ac=m.elements.arrow&&en(m.elements.arrow),gs=ac?_t==="y"?ac.clientTop||0:ac.clientLeft||0:0,ys=(Bn=Un==null?void 0:Un[_t])!=null?Bn:0,lc=Vr+Ed-ys,bd=er(Fe?wi(rr,Vr+Gs-ys-gs):rr,Vr,Fe?gr(Qs,lc):Qs);at[_t]=bd,ei[_t]=bd-Vr}if(ue){var Yl,ph=_t==="x"?Zt:fn,Kl=_t==="x"?Kt:On,$n=at[et],Xs=et==="y"?"height":"width",La=$n+Xe[ph],Js=$n-Xe[Kl],Ql=[Zt,fn].indexOf(xt)!==-1,Ho=(Yl=Un==null?void 0:Un[et])!=null?Yl:0,Td=Ql?La:$n-ht[Xs]-St[Xs]-Ho+zt.altAxis,uc=Ql?$n+ht[Xs]+St[Xs]-Ho-zt.altAxis:Js,Yt=Fe&&Ql?function(cc,Sd,Gl){var Xl=er(cc,Sd,Gl);return Xl>Gl?Gl:Xl}(Td,$n,uc):er(Fe?Td:La,$n,Fe?uc:Js);at[et]=Yt,ei[et]=Yt-$n}m.modifiersData[P]=ei}},requiresIfExists:["offset"]};function ka(I,m,b){b===void 0&&(b=!1);var P,q,X=mr(m),ne=mr(m)&&function(Te){var We=Te.getBoundingClientRect(),Fe=yt(We.width)/Te.offsetWidth||1,De=yt(We.height)/Te.offsetHeight||1;return Fe!==1||De!==1}(m),ue=Ei(m),ge=Nr(I,ne,b),xe={scrollLeft:0,scrollTop:0},Ie={x:0,y:0};return(X||!X&&!b)&&((Jn(m)!=="body"||Wt(ue))&&(xe=(P=m)!==on(P)&&mr(P)?{scrollLeft:(q=P).scrollLeft,scrollTop:q.scrollTop}:Ci(P)),mr(m)?((Ie=Nr(m,!0)).x+=m.clientLeft,Ie.y+=m.clientTop):ue&&(Ie.x=ji(ue))),{x:ge.left+xe.scrollLeft-Ie.x,y:ge.top+xe.scrollTop-Ie.y,width:ge.width,height:ge.height}}function Ui(I){var m=new Map,b=new Set,P=[];function q(X){b.add(X.name),[].concat(X.requires||[],X.requiresIfExists||[]).forEach(function(ne){if(!b.has(ne)){var ue=m.get(ne);ue&&q(ue)}}),P.push(X)}return I.forEach(function(X){m.set(X.name,X)}),I.forEach(function(X){b.has(X.name)||q(X)}),P}var Uu={placement:"bottom",modifiers:[],strategy:"absolute"};function No(){for(var I=arguments.length,m=new Array(I),b=0;b<I;b++)m[b]=arguments[b];return!m.some(function(P){return!(P&&typeof P.getBoundingClientRect=="function")})}function Gr(I){I===void 0&&(I={});var m=I,b=m.defaultModifiers,P=b===void 0?[]:b,q=m.defaultOptions,X=q===void 0?Uu:q;return function(ne,ue,ge){ge===void 0&&(ge=X);var xe,Ie,Te={placement:"bottom",orderedModifiers:[],options:Object.assign({},Uu,X),modifiersData:{},elements:{reference:ne,popper:ue},attributes:{},styles:{}},We=[],Fe=!1,De={state:Te,setOptions:function(Xe){var xt=typeof Xe=="function"?Xe(Te.options):Xe;$e(),Te.options=Object.assign({},X,Te.options,xt),Te.scrollParents={reference:Pr(ne)?cs(ne):ne.contextElement?cs(ne.contextElement):[],popper:cs(ue)};var Ot,rt,_t=function(et){var at=Ui(et);return Co.reduce(function(ht,St){return ht.concat(at.filter(function(It){return It.phase===St}))},[])}((Ot=[].concat(P,Te.options.modifiers),rt=Ot.reduce(function(et,at){var ht=et[at.name];return et[at.name]=ht?Object.assign({},ht,at,{options:Object.assign({},ht.options,at.options),data:Object.assign({},ht.data,at.data)}):at,et},{}),Object.keys(rt).map(function(et){return rt[et]})));return Te.orderedModifiers=_t.filter(function(et){return et.enabled}),Te.orderedModifiers.forEach(function(et){var at=et.name,ht=et.options,St=ht===void 0?{}:ht,It=et.effect;if(typeof It=="function"){var zt=It({state:Te,name:at,instance:De,options:St});We.push(zt||function(){})}}),De.update()},forceUpdate:function(){if(!Fe){var Xe=Te.elements,xt=Xe.reference,Ot=Xe.popper;if(No(xt,Ot)){Te.rects={reference:ka(xt,en(Ot),Te.options.strategy==="fixed"),popper:wa(Ot)},Te.reset=!1,Te.placement=Te.options.placement,Te.orderedModifiers.forEach(function(It){return Te.modifiersData[It.name]=Object.assign({},It.data)});for(var rt=0;rt<Te.orderedModifiers.length;rt++)if(Te.reset!==!0){var _t=Te.orderedModifiers[rt],et=_t.fn,at=_t.options,ht=at===void 0?{}:at,St=_t.name;typeof et=="function"&&(Te=et({state:Te,options:ht,name:St,instance:De})||Te)}else Te.reset=!1,rt=-1}}},update:(xe=function(){return new Promise(function(Xe){De.forceUpdate(),Xe(Te)})},function(){return Ie||(Ie=new Promise(function(Xe){Promise.resolve().then(function(){Ie=void 0,Xe(xe())})})),Ie}),destroy:function(){$e(),Fe=!0}};if(!No(ne,ue))return De;function $e(){We.forEach(function(Xe){return Xe()}),We=[]}return De.setOptions(ge).then(function(Xe){!Fe&&ge.onFirstUpdate&&ge.onFirstUpdate(Xe)}),De}}var Fs=Gr(),Oo=Gr({defaultModifiers:[Si,hn,Ol,Zn]}),Vs=Gr({defaultModifiers:[Si,hn,Ol,Zn,Sa,nr,Qr,Ti,xi]});const Ca=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Mn,afterRead:Os,afterWrite:Nl,applyStyles:Zn,arrow:Ti,auto:os,basePlacements:yi,beforeMain:pr,beforeRead:_a,beforeWrite:va,bottom:Kt,clippingParents:Lu,computeStyles:Ol,createPopper:Vs,createPopperBase:Fs,createPopperLite:Oo,detectOverflow:En,end:as,eventListeners:Si,flip:nr,hide:xi,left:fn,main:Al,modifierPhases:Co,offset:Sa,placements:hr,popper:ls,popperGenerator:Gr,popperOffsets:hn,preventOverflow:Qr,read:Rl,reference:Ns,right:On,start:_i,top:Zt,variationPlacements:Fi,viewport:Pt,write:Pl},Symbol.toStringTag,{value:"Module"})),Ml="dropdown",Xr=".bs.dropdown",js=".data-api",Bu="ArrowUp",Bi="ArrowDown",$u=`hide${Xr}`,Wu=`hidden${Xr}`,Hu=`show${Xr}`,Ll=`shown${Xr}`,Mo=`click${Xr}${js}`,Fn=`keydown${Xr}${js}`,zu=`keyup${Xr}${js}`,fs="show",Vn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',f=`${Vn}.${fs}`,w=".dropdown-menu",S=R()?"top-end":"top-start",O=R()?"top-start":"top-end",J=R()?"bottom-end":"bottom-start",se=R()?"bottom-start":"bottom-end",ve=R()?"left-start":"right-start",Ct=R()?"right-start":"left-start",pn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ft={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Nt extends Qe{constructor(m,b){super(m,b),this._popper=null,this._parent=this._element.parentNode,this._menu=ye.next(this._element,w)[0]||ye.prev(this._element,w)[0]||ye.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pn}static get DefaultType(){return ft}static get NAME(){return Ml}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!Q.trigger(this._element,Hu,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))Q.on(b,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fs),this._element.classList.add(fs),Q.trigger(this._element,Ll,m)}}hide(){if(g(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!Q.trigger(this._element,$u,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))Q.off(b,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(fs),this._element.classList.remove(fs),this._element.setAttribute("aria-expanded","false"),Be.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,Wu,m)}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!u(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${Ml.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(Ca===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let m=this._element;this._config.reference==="parent"?m=this._parent:u(this._config.reference)?m=d(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const b=this._getPopperConfig();this._popper=Vs(m,this._menu,b)}_isShown(){return this._menu.classList.contains(fs)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return ve;if(m.classList.contains("dropstart"))return Ct;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?b?O:S:b?se:J}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(b=>Number.parseInt(b,10)):typeof m=="function"?b=>m(b,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Be.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...j(this._config.popperConfig,[m])}}_selectMenuItem({key:m,target:b}){const P=ye.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>h(q));P.length&&G(P,b,m===Bi,!P.includes(b)).focus()}static jQueryInterface(m){return this.each(function(){const b=Nt.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const b=ye.find(f);for(const P of b){const q=Nt.getInstance(P);if(!q||q._config.autoClose===!1)continue;const X=m.composedPath(),ne=X.includes(q._menu);if(X.includes(q._element)||q._config.autoClose==="inside"&&!ne||q._config.autoClose==="outside"&&ne||q._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const ue={relatedTarget:q._element};m.type==="click"&&(ue.clickEvent=m),q._completeHide(ue)}}static dataApiKeydownHandler(m){const b=/input|textarea/i.test(m.target.tagName),P=m.key==="Escape",q=[Bu,Bi].includes(m.key);if(!q&&!P||b&&!P)return;m.preventDefault();const X=this.matches(Vn)?this:ye.prev(this,Vn)[0]||ye.next(this,Vn)[0]||ye.findOne(Vn,m.delegateTarget.parentNode),ne=Nt.getOrCreateInstance(X);if(q)return m.stopPropagation(),ne.show(),void ne._selectMenuItem(m);ne._isShown()&&(m.stopPropagation(),ne.hide(),X.focus())}}Q.on(document,Fn,Vn,Nt.dataApiKeydownHandler),Q.on(document,Fn,w,Nt.dataApiKeydownHandler),Q.on(document,Mo,Nt.clearMenus),Q.on(document,zu,Nt.clearMenus),Q.on(document,Mo,Vn,function(I){I.preventDefault(),Nt.getOrCreateInstance(this).toggle()}),L(Nt);const tn="backdrop",Lr="show",yr=`mousedown.bs.${tn}`,Lo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},xa={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class od extends Ke{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return Lo}static get DefaultType(){return xa}static get NAME(){return tn}show(m){if(!this._config.isVisible)return void j(m);this._append();const b=this._getElement();this._config.isAnimated&&T(b),b.classList.add(Lr),this._emulateAnimation(()=>{j(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(Lr),this._emulateAnimation(()=>{this.dispose(),j(m)})):j(m)}dispose(){this._isAppended&&(Q.off(this._element,yr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=d(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),Q.on(m,yr,()=>{j(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){W(m,this._getElement(),this._config.isAnimated)}}const Fl=".bs.focustrap",Wf=`focusin${Fl}`,Ia=`keydown.tab${Fl}`,Hf="backward",og={autofocus:!0,trapElement:null},ag={autofocus:"boolean",trapElement:"element"};class ad extends Ke{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return og}static get DefaultType(){return ag}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,Fl),Q.on(document,Wf,m=>this._handleFocusin(m)),Q.on(document,Ia,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,Fl))}_handleFocusin(m){const{trapElement:b}=this._config;if(m.target===document||m.target===b||b.contains(m.target))return;const P=ye.focusableChildren(b);P.length===0?b.focus():this._lastTabNavDirection===Hf?P[P.length-1].focus():P[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?Hf:"forward")}}const ld=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Da=".sticky-top",Us="padding-right",zf="margin-right";class Ra{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Us,b=>b+m),this._setElementAttributes(ld,Us,b=>b+m),this._setElementAttributes(Da,zf,b=>b-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Us),this._resetElementAttributes(ld,Us),this._resetElementAttributes(Da,zf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,b,P){const q=this.getWidth();this._applyManipulationCallback(m,X=>{if(X!==this._element&&window.innerWidth>X.clientWidth+q)return;this._saveInitialAttribute(X,b);const ne=window.getComputedStyle(X).getPropertyValue(b);X.style.setProperty(b,`${P(Number.parseFloat(ne))}px`)})}_saveInitialAttribute(m,b){const P=m.style.getPropertyValue(b);P&&Be.setDataAttribute(m,b,P)}_resetElementAttributes(m,b){this._applyManipulationCallback(m,P=>{const q=Be.getDataAttribute(P,b);q!==null?(Be.removeDataAttribute(P,b),P.style.setProperty(b,q)):P.style.removeProperty(b)})}_applyManipulationCallback(m,b){if(u(m))b(m);else for(const P of ye.find(m,this._element))b(P)}}const Jr=".bs.modal",qf=`hide${Jr}`,ud=`hidePrevented${Jr}`,qu=`hidden${Jr}`,cd=`show${Jr}`,Yf=`shown${Jr}`,Kf=`resize${Jr}`,lg=`click.dismiss${Jr}`,ug=`mousedown.dismiss${Jr}`,cg=`keydown.dismiss${Jr}`,dg=`click${Jr}.data-api`,Qf="modal-open",Zr="show",Fo="modal-static",Gf={backdrop:!0,focus:!0,keyboard:!0},Xf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Bs extends Qe{constructor(m,b){super(m,b),this._dialog=ye.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ra,this._addEventListeners()}static get Default(){return Gf}static get DefaultType(){return Xf}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||Q.trigger(this._element,cd,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Qf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,qf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Zr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Q.off(window,Jr),Q.off(this._dialog,Jr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new od({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ad({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=ye.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),T(this._element),this._element.classList.add(Zr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,Yf,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,cg,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Q.on(window,Kf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,ug,m=>{Q.one(this._element,lg,b=>{this._element===m.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Qf),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,qu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,ud).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Fo)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(Fo),this._queueCallback(()=>{this._element.classList.remove(Fo),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),P=b>0;if(P&&!m){const q=R()?"paddingLeft":"paddingRight";this._element.style[q]=`${b}px`}if(!P&&m){const q=R()?"paddingRight":"paddingLeft";this._element.style[q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,b){return this.each(function(){const P=Bs.getOrCreateInstance(this,m);if(typeof m=="string"){if(P[m]===void 0)throw new TypeError(`No method named "${m}"`);P[m](b)}})}}Q.on(document,dg,'[data-bs-toggle="modal"]',function(I){const m=ye.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&I.preventDefault(),Q.one(m,cd,P=>{P.defaultPrevented||Q.one(m,qu,()=>{h(this)&&this.focus()})});const b=ye.findOne(".modal.show");b&&Bs.getInstance(b).hide(),Bs.getOrCreateInstance(m).toggle(this)}),ct(Bs),L(Bs);const $i=".bs.offcanvas",Yu=".data-api",fg=`load${$i}${Yu}`,Jf="show",Vo="showing",Ku="hiding",Aa=".offcanvas.show",dd=`show${$i}`,Zf=`shown${$i}`,Qu=`hide${$i}`,jo=`hidePrevented${$i}`,Gu=`hidden${$i}`,eh=`resize${$i}`,Xu=`click${$i}${Yu}`,th=`keydown.dismiss${$i}`,nh={backdrop:!0,keyboard:!0,scroll:!1},rh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wi extends Qe{constructor(m,b){super(m,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nh}static get DefaultType(){return rh}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||Q.trigger(this._element,dd,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ra().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vo),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Jf),this._element.classList.remove(Vo),Q.trigger(this._element,Zf,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,Qu).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ku),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Jf,Ku),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ra().reset(),Q.trigger(this._element,Gu)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new od({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():Q.trigger(this._element,jo)}:null})}_initializeFocusTrap(){return new ad({trapElement:this._element})}_addEventListeners(){Q.on(this._element,th,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():Q.trigger(this._element,jo))})}static jQueryInterface(m){return this.each(function(){const b=Wi.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m](this)}})}}Q.on(document,Xu,'[data-bs-toggle="offcanvas"]',function(I){const m=ye.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this))return;Q.one(m,Gu,()=>{h(this)&&this.focus()});const b=ye.findOne(Aa);b&&b!==m&&Wi.getInstance(b).hide(),Wi.getOrCreateInstance(m).toggle(this)}),Q.on(window,fg,()=>{for(const I of ye.find(Aa))Wi.getOrCreateInstance(I).show()}),Q.on(window,eh,()=>{for(const I of ye.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(I).position!=="fixed"&&Wi.getOrCreateInstance(I).hide()}),ct(Wi),L(Wi);const fd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ih=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$s=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hd=(I,m)=>{const b=I.nodeName.toLowerCase();return m.includes(b)?!ih.has(b)||!!$s.test(I.nodeValue):m.filter(P=>P instanceof RegExp).some(P=>P.test(b))},pd={allowList:fd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pg={entry:"(string|element|function|null)",selector:"(string|element)"};class Vl extends Ke{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return pd}static get DefaultType(){return hg}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[q,X]of Object.entries(this._config.content))this._setContent(m,X,q);const b=m.children[0],P=this._resolvePossibleFunction(this._config.extraClass);return P&&b.classList.add(...P.split(" ")),b}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[b,P]of Object.entries(m))super._typeCheckConfig({selector:b,entry:P},pg)}_setContent(m,b,P){const q=ye.findOne(P,m);q&&((b=this._resolvePossibleFunction(b))?u(b)?this._putElementInTemplate(d(b),q):this._config.html?q.innerHTML=this._maybeSanitize(b):q.textContent=b:q.remove())}_maybeSanitize(m){return this._config.sanitize?function(b,P,q){if(!b.length)return b;if(q&&typeof q=="function")return q(b);const X=new window.DOMParser().parseFromString(b,"text/html"),ne=[].concat(...X.body.querySelectorAll("*"));for(const ue of ne){const ge=ue.nodeName.toLowerCase();if(!Object.keys(P).includes(ge)){ue.remove();continue}const xe=[].concat(...ue.attributes),Ie=[].concat(P["*"]||[],P[ge]||[]);for(const Te of xe)hd(Te,Ie)||ue.removeAttribute(Te.nodeName)}return X.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return j(m,[this])}_putElementInTemplate(m,b){if(this._config.html)return b.innerHTML="",void b.append(m);b.textContent=m.textContent}}const mg=new Set(["sanitize","allowList","sanitizeFn"]),Ju="fade",jl="show",Ht=".modal",Zu="hide.bs.modal",Ws="hover",Uo="focus",sh={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},md={allowList:fd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ul={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Hi extends Qe{constructor(m,b){if(Ca===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(m,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return md}static get DefaultType(){return Ul}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(Ht),Zu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=Q.trigger(this._element,this.constructor.eventName("show")),b=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!b)return;this._disposePopper();const P=this._getTipElement();this._element.setAttribute("aria-describedby",P.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(P),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(P),P.classList.add(jl),"ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))Q.on(X,"mouseover",v);this._queueCallback(()=>{Q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(jl),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))Q.off(m,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[Uo]=!1,this._activeTrigger[Ws]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const b=this._getTemplateFactory(m).toHtml();if(!b)return null;b.classList.remove(Ju,jl),b.classList.add(`bs-${this.constructor.NAME}-auto`);const P=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return b.setAttribute("id",P),this._isAnimated()&&b.classList.add(Ju),b}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new Vl({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ju)}_isShown(){return this.tip&&this.tip.classList.contains(jl)}_createPopper(m){const b=j(this._config.placement,[this,m,this._element]),P=sh[b.toUpperCase()];return Vs(this._element,m,this._getPopperConfig(P))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(b=>Number.parseInt(b,10)):typeof m=="function"?b=>m(b,this._element):m}_resolvePossibleFunction(m){return j(m,[this._element])}_getPopperConfig(m){const b={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:P=>{this._getTipElement().setAttribute("data-popper-placement",P.state.placement)}}]};return{...b,...j(this._config.popperConfig,[b])}}_setListeners(){const m=this._config.trigger.split(" ");for(const b of m)if(b==="click")Q.on(this._element,this.constructor.eventName("click"),this._config.selector,P=>{this._initializeOnDelegatedTarget(P).toggle()});else if(b!=="manual"){const P=b===Ws?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=b===Ws?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,P,this._config.selector,X=>{const ne=this._initializeOnDelegatedTarget(X);ne._activeTrigger[X.type==="focusin"?Uo:Ws]=!0,ne._enter()}),Q.on(this._element,q,this._config.selector,X=>{const ne=this._initializeOnDelegatedTarget(X);ne._activeTrigger[X.type==="focusout"?Uo:Ws]=ne._element.contains(X.relatedTarget),ne._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(Ht),Zu,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,b){clearTimeout(this._timeout),this._timeout=setTimeout(m,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const b=Be.getDataAttributes(this._element);for(const P of Object.keys(b))mg.has(P)&&delete b[P];return m={...b,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:d(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[b,P]of Object.entries(this._config))this.constructor.Default[b]!==P&&(m[b]=P);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const b=Hi.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}}L(Hi);const Pa={...Hi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},oh={...Hi.DefaultType,content:"(null|string|element|function)"};class ec extends Hi{static get Default(){return Pa}static get DefaultType(){return oh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const b=ec.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}}L(ec);const gd=".bs.scrollspy",ah=`activate${gd}`,Bl=`click${gd}`,tc=`load${gd}.data-api`,Hs="active",$l="[href]",nc=".nav-link",yd=`${nc}, .nav-item > ${nc}, .list-group-item`,gg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},lh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Wl extends Qe{constructor(m,b){super(m,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gg}static get DefaultType(){return lh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=d(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(b=>Number.parseFloat(b))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Bl),Q.on(this._config.target,Bl,$l,m=>{const b=this._observableSections.get(m.target.hash);if(b){m.preventDefault();const P=this._rootElement||window,q=b.offsetTop-this._element.offsetTop;if(P.scrollTo)return void P.scrollTo({top:q,behavior:"smooth"});P.scrollTop=q}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),m)}_observerCallback(m){const b=ne=>this._targetLinks.get(`#${ne.target.id}`),P=ne=>{this._previousScrollData.visibleEntryTop=ne.target.offsetTop,this._process(b(ne))},q=(this._rootElement||document.documentElement).scrollTop,X=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const ne of m){if(!ne.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(ne));continue}const ue=ne.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(X&&ue){if(P(ne),!q)return}else X||ue||P(ne)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=ye.find($l,this._config.target);for(const b of m){if(!b.hash||g(b))continue;const P=ye.findOne(decodeURI(b.hash),this._element);h(P)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,P))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(Hs),this._activateParents(m),Q.trigger(this._element,ah,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))ye.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(Hs);else for(const b of ye.parents(m,".nav, .list-group"))for(const P of ye.prev(b,yd))P.classList.add(Hs)}_clearActiveClass(m){m.classList.remove(Hs);const b=ye.find(`${$l}.${Hs}`,m);for(const P of b)P.classList.remove(Hs)}static jQueryInterface(m){return this.each(function(){const b=Wl.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}})}}Q.on(window,tc,()=>{for(const I of ye.find('[data-bs-spy="scroll"]'))Wl.getOrCreateInstance(I)}),L(Wl);const Bo=".bs.tab",_d=`hide${Bo}`,zs=`hidden${Bo}`,uh=`show${Bo}`,Na=`shown${Bo}`,zi=`click${Bo}`,Hl=`keydown${Bo}`,hs=`load${Bo}`,vd="ArrowLeft",ch="ArrowRight",yg="ArrowUp",qs="ArrowDown",$o="Home",Wo="End",qi="active",rc="fade",Ys="show",ps=".dropdown-toggle",Lt=`:not(${ps})`,Ft='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yi=`.nav-link${Lt}, .list-group-item${Lt}, [role="tab"]${Lt}, ${Ft}`,jn=`.${qi}[data-bs-toggle="tab"], .${qi}[data-bs-toggle="pill"], .${qi}[data-bs-toggle="list"]`;class an extends Qe{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,Hl,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const b=this._getActiveElem(),P=b?Q.trigger(b,_d,{relatedTarget:m}):null;Q.trigger(m,uh,{relatedTarget:b}).defaultPrevented||P&&P.defaultPrevented||(this._deactivate(b,m),this._activate(m,b))}_activate(m,b){m&&(m.classList.add(qi),this._activate(ye.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),Q.trigger(m,Na,{relatedTarget:b})):m.classList.add(Ys)},m,m.classList.contains(rc)))}_deactivate(m,b){m&&(m.classList.remove(qi),m.blur(),this._deactivate(ye.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),Q.trigger(m,zs,{relatedTarget:b})):m.classList.remove(Ys)},m,m.classList.contains(rc)))}_keydown(m){if(![vd,ch,yg,qs,$o,Wo].includes(m.key))return;m.stopPropagation(),m.preventDefault();const b=this._getChildren().filter(q=>!g(q));let P;if([$o,Wo].includes(m.key))P=b[m.key===$o?0:b.length-1];else{const q=[ch,qs].includes(m.key);P=G(b,m.target,q,!0)}P&&(P.focus({preventScroll:!0}),an.getOrCreateInstance(P).show())}_getChildren(){return ye.find(Yi,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,b){this._setAttributeIfNotExists(m,"role","tablist");for(const P of b)this._setInitialAttributesOnChild(P)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const b=this._elemIsActive(m),P=this._getOuterElement(m);m.setAttribute("aria-selected",b),P!==m&&this._setAttributeIfNotExists(P,"role","presentation"),b||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const b=ye.getElementFromSelector(m);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,b){const P=this._getOuterElement(m);if(!P.classList.contains("dropdown"))return;const q=(X,ne)=>{const ue=ye.findOne(X,P);ue&&ue.classList.toggle(ne,b)};q(ps,qi),q(".dropdown-menu",Ys),P.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(m,b,P){m.hasAttribute(b)||m.setAttribute(b,P)}_elemIsActive(m){return m.classList.contains(qi)}_getInnerElement(m){return m.matches(Yi)?m:ye.findOne(Yi,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const b=an.getOrCreateInstance(this);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}})}}Q.on(document,zi,Ft,function(I){["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this)||an.getOrCreateInstance(this).show()}),Q.on(window,hs,()=>{for(const I of ye.find(jn))an.getOrCreateInstance(I)}),L(an);const _r=".bs.toast",Oa=`mouseover${_r}`,vr=`mouseout${_r}`,ic=`focusin${_r}`,dh=`focusout${_r}`,fh=`hide${_r}`,sc=`hidden${_r}`,hh=`show${_r}`,ms=`shown${_r}`,zl="hide",Ma="show",ql="showing",_g={animation:"boolean",autohide:"boolean",delay:"number"},Ks={animation:!0,autohide:!0,delay:5e3};class Ki extends Qe{constructor(m,b){super(m,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ks}static get DefaultType(){return _g}static get NAME(){return"toast"}show(){Q.trigger(this._element,hh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(zl),T(this._element),this._element.classList.add(Ma,ql),this._queueCallback(()=>{this._element.classList.remove(ql),Q.trigger(this._element,ms),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,fh).defaultPrevented||(this._element.classList.add(ql),this._queueCallback(()=>{this._element.classList.add(zl),this._element.classList.remove(ql,Ma),Q.trigger(this._element,sc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ma),super.dispose()}isShown(){return this._element.classList.contains(Ma)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,b){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const P=m.relatedTarget;this._element===P||this._element.contains(P)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,Oa,m=>this._onInteraction(m,!0)),Q.on(this._element,vr,m=>this._onInteraction(m,!1)),Q.on(this._element,ic,m=>this._onInteraction(m,!0)),Q.on(this._element,dh,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const b=Ki.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m](this)}})}}return ct(Ki),L(Ki),{Alert:wn,Button:dt,Carousel:Li,Collapse:Nn,Dropdown:Nt,Modal:Bs,Offcanvas:Wi,Popover:ec,ScrollSpy:Wl,Tab:an,Toast:Ki,Tooltip:Hi}})}(kp)),kp.exports}z$();qI.createRoot(document.getElementById("root")).render(k.jsx(x.StrictMode,{children:k.jsx(W$,{})}));
