var SI=Object.defineProperty;var kI=(r,e,t)=>e in r?SI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>kI(r,typeof e!="symbol"?e+"":e,t);function CI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function vh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vm={exports:{}},bu={},jm={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function xI(){if(nE)return je;nE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function b(W,te,_e){this.props=W,this.context=te,this.refs=I,this.updater=_e||T}b.prototype.isReactComponent={},b.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=b.prototype;function F(W,te,_e){this.props=W,this.context=te,this.refs=I,this.updater=_e||T}var j=F.prototype=new N;j.constructor=F,k(j,b.prototype),j.isPureReactComponent=!0;var q=Array.isArray,J=Object.prototype.hasOwnProperty,Z={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function D(W,te,_e){var Re,Oe={},Ve=null,Be=null;if(te!=null)for(Re in te.ref!==void 0&&(Be=te.ref),te.key!==void 0&&(Ve=""+te.key),te)J.call(te,Re)&&!A.hasOwnProperty(Re)&&(Oe[Re]=te[Re]);var He=arguments.length-2;if(He===1)Oe.children=_e;else if(1<He){for(var Je=Array(He),ht=0;ht<He;ht++)Je[ht]=arguments[ht+2];Oe.children=Je}if(W&&W.defaultProps)for(Re in He=W.defaultProps,He)Oe[Re]===void 0&&(Oe[Re]=He[Re]);return{$$typeof:r,type:W,key:Ve,ref:Be,props:Oe,_owner:Z.current}}function P(W,te){return{$$typeof:r,type:W.type,key:te,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function V(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(_e){return te[_e]})}var U=/\/+/g;function M(W,te){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):te.toString(36)}function ke(W,te,_e,Re,Oe){var Ve=typeof W;(Ve==="undefined"||Ve==="boolean")&&(W=null);var Be=!1;if(W===null)Be=!0;else switch(Ve){case"string":case"number":Be=!0;break;case"object":switch(W.$$typeof){case r:case e:Be=!0}}if(Be)return Be=W,Oe=Oe(Be),W=Re===""?"."+M(Be,0):Re,q(Oe)?(_e="",W!=null&&(_e=W.replace(U,"$&/")+"/"),ke(Oe,te,_e,"",function(ht){return ht})):Oe!=null&&(O(Oe)&&(Oe=P(Oe,_e+(!Oe.key||Be&&Be.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+W)),te.push(Oe)),1;if(Be=0,Re=Re===""?".":Re+":",q(W))for(var He=0;He<W.length;He++){Ve=W[He];var Je=Re+M(Ve,He);Be+=ke(Ve,te,_e,Je,Oe)}else if(Je=_(W),typeof Je=="function")for(W=Je.call(W),He=0;!(Ve=W.next()).done;)Ve=Ve.value,Je=Re+M(Ve,He++),Be+=ke(Ve,te,_e,Je,Oe);else if(Ve==="object")throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Be}function De(W,te,_e){if(W==null)return W;var Re=[],Oe=0;return ke(W,Re,"","",function(Ve){return te.call(_e,Ve,Oe++)}),Re}function he(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(_e){(W._status===0||W._status===-1)&&(W._status=1,W._result=_e)},function(_e){(W._status===0||W._status===-1)&&(W._status=2,W._result=_e)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var de={current:null},G={transition:null},ce={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:G,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:De,forEach:function(W,te,_e){De(W,function(){te.apply(this,arguments)},_e)},count:function(W){var te=0;return De(W,function(){te++}),te},toArray:function(W){return De(W,function(te){return te})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},je.Component=b,je.Fragment=t,je.Profiler=i,je.PureComponent=F,je.StrictMode=n,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,je.act=le,je.cloneElement=function(W,te,_e){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Re=k({},W.props),Oe=W.key,Ve=W.ref,Be=W._owner;if(te!=null){if(te.ref!==void 0&&(Ve=te.ref,Be=Z.current),te.key!==void 0&&(Oe=""+te.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(Je in te)J.call(te,Je)&&!A.hasOwnProperty(Je)&&(Re[Je]=te[Je]===void 0&&He!==void 0?He[Je]:te[Je])}var Je=arguments.length-2;if(Je===1)Re.children=_e;else if(1<Je){He=Array(Je);for(var ht=0;ht<Je;ht++)He[ht]=arguments[ht+2];Re.children=He}return{$$typeof:r,type:W.type,key:Oe,ref:Ve,props:Re,_owner:Be}},je.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},je.createElement=D,je.createFactory=function(W){var te=D.bind(null,W);return te.type=W,te},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:c,render:W}},je.isValidElement=O,je.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:he}},je.memo=function(W,te){return{$$typeof:p,type:W,compare:te===void 0?null:te}},je.startTransition=function(W){var te=G.transition;G.transition={};try{W()}finally{G.transition=te}},je.unstable_act=le,je.useCallback=function(W,te){return de.current.useCallback(W,te)},je.useContext=function(W){return de.current.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W){return de.current.useDeferredValue(W)},je.useEffect=function(W,te){return de.current.useEffect(W,te)},je.useId=function(){return de.current.useId()},je.useImperativeHandle=function(W,te,_e){return de.current.useImperativeHandle(W,te,_e)},je.useInsertionEffect=function(W,te){return de.current.useInsertionEffect(W,te)},je.useLayoutEffect=function(W,te){return de.current.useLayoutEffect(W,te)},je.useMemo=function(W,te){return de.current.useMemo(W,te)},je.useReducer=function(W,te,_e){return de.current.useReducer(W,te,_e)},je.useRef=function(W){return de.current.useRef(W)},je.useState=function(W){return de.current.useState(W)},je.useSyncExternalStore=function(W,te,_e){return de.current.useSyncExternalStore(W,te,_e)},je.useTransition=function(){return de.current.useTransition()},je.version="18.3.1",je}var rE;function wy(){return rE||(rE=1,jm.exports=xI()),jm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function bI(){if(iE)return bu;iE=1;var r=wy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},_=null,T=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:T,props:y,_owner:i.current}}return bu.Fragment=t,bu.jsx=l,bu.jsxs=l,bu}var sE;function II(){return sE||(sE=1,Vm.exports=bI()),Vm.exports}var S=II(),C=wy();const ee=vh(C),DI=CI({__proto__:null,default:ee},[C]);var Kd={},Um={exports:{}},An={},Bm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function RI(){return oE||(oE=1,function(r){function e(G,ce){var le=G.length;G.push(ce);e:for(;0<le;){var W=le-1>>>1,te=G[W];if(0<i(te,ce))G[W]=ce,G[le]=te,le=W;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ce=G[0],le=G.pop();if(le!==ce){G[0]=le;e:for(var W=0,te=G.length,_e=te>>>1;W<_e;){var Re=2*(W+1)-1,Oe=G[Re],Ve=Re+1,Be=G[Ve];if(0>i(Oe,le))Ve<te&&0>i(Be,Oe)?(G[W]=Be,G[Ve]=le,W=Ve):(G[W]=Oe,G[Re]=le,W=Re);else if(Ve<te&&0>i(Be,le))G[W]=Be,G[Ve]=le,W=Ve;else break e}}return ce}function i(G,ce){var le=G.sortIndex-ce.sortIndex;return le!==0?le:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,_=3,T=!1,k=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var ce=t(p);ce!==null;){if(ce.callback===null)n(p);else if(ce.startTime<=G)n(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function q(G){if(I=!1,j(G),!k)if(t(d)!==null)k=!0,he(J);else{var ce=t(p);ce!==null&&de(q,ce.startTime-G)}}function J(G,ce){k=!1,I&&(I=!1,N(D),D=-1),T=!0;var le=_;try{for(j(ce),y=t(d);y!==null&&(!(y.expirationTime>ce)||G&&!V());){var W=y.callback;if(typeof W=="function"){y.callback=null,_=y.priorityLevel;var te=W(y.expirationTime<=ce);ce=r.unstable_now(),typeof te=="function"?y.callback=te:y===t(d)&&n(d),j(ce)}else n(d);y=t(d)}if(y!==null)var _e=!0;else{var Re=t(p);Re!==null&&de(q,Re.startTime-ce),_e=!1}return _e}finally{y=null,_=le,T=!1}}var Z=!1,A=null,D=-1,P=5,O=-1;function V(){return!(r.unstable_now()-O<P)}function U(){if(A!==null){var G=r.unstable_now();O=G;var ce=!0;try{ce=A(!0,G)}finally{ce?M():(Z=!1,A=null)}}else Z=!1}var M;if(typeof F=="function")M=function(){F(U)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,De=ke.port2;ke.port1.onmessage=U,M=function(){De.postMessage(null)}}else M=function(){b(U,0)};function he(G){A=G,Z||(Z=!0,M())}function de(G,ce){D=b(function(){G(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){k||T||(k=!0,he(J))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var le=_;_=ce;try{return G()}finally{_=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=_;_=G;try{return ce()}finally{_=le}},r.unstable_scheduleCallback=function(G,ce,le){var W=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,G={id:m++,callback:ce,priorityLevel:G,startTime:le,expirationTime:te,sortIndex:-1},le>W?(G.sortIndex=le,e(p,G),t(d)===null&&G===t(p)&&(I?(N(D),D=-1):I=!0,de(q,le-W))):(G.sortIndex=te,e(d,G),k||T||(k=!0,he(J))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ce=_;return function(){var le=_;_=ce;try{return G.apply(this,arguments)}finally{_=le}}}}($m)),$m}var aE;function PI(){return aE||(aE=1,Bm.exports=RI()),Bm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function AI(){if(lE)return An;lE=1;var r=wy(),e=PI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return d.call(y,s)?!0:d.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,u,h){if(a===null||typeof a>"u"||T(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,u,h,g,w,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,u,h){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,u,g,h)&&(u=null),h||g===null?_(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Z=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),G=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,W;function te(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var _e=!1;function Re(s,a){if(!s||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var h=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){h=K}s.call(a.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),w=h.stack.split(`
`),x=g.length-1,L=w.length-1;1<=x&&0<=L&&g[x]!==w[L];)L--;for(;1<=x&&0<=L;x--,L--)if(g[x]!==w[L]){if(x!==1||L!==1)do if(x--,L--,0>L||g[x]!==w[L]){var B=`
`+g[x].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=x&&0<=L);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?te(s):""}function Oe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case Z:return"Portal";case P:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return a=s.displayName||null,a!==null?a:Ve(s.type)||"Memo";case he:a=s._payload,s=s._init;try{return Ve(s(a))}catch{}}return null}function Be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ht(s){var a=Je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,w.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Tn(s){s._valueTracker||(s._valueTracker=ht(s))}function Vn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Je(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function Sn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function kn(s,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function et(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function jr(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function fr(s,a){jr(s,a);var u=He(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Xi(s,a.type,u):a.hasOwnProperty("defaultValue")&&Xi(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function oa(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Xi(s,a,u){(a!=="number"||Sn(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var hr=Array.isArray;function pr(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Js(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ji(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(hr(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function gi(s,a){var u=He(a.value),h=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Zs(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ie(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ie(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Gn,Fl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Gn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Zi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},to=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(s){to.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),eo[a]=eo[s]})});function Vl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||eo.hasOwnProperty(s)&&eo[s]?(""+a).trim():a+"px"}function jl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Vl(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Ul=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(s,a){if(a){if(Ul[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function $l(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function aa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var la=null,Xn=null,Ur=null;function ua(s){if(s=fu(s)){if(typeof la!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ud(a),la(s.stateNode,s.type,a))}}function Br(s){Xn?Ur?Ur.push(s):Ur=[s]:Xn=s}function Wl(){if(Xn){var s=Xn,a=Ur;if(Ur=Xn=null,ua(s),a)for(s=0;s<a.length;s++)ua(a[s])}}function ro(s,a){return s(a)}function Hl(){}var yi=!1;function zl(s,a,u){if(yi)return s(a,u);yi=!0;try{return ro(s,a,u)}finally{yi=!1,(Xn!==null||Ur!==null)&&(Hl(),Wl())}}function It(s,a){var u=s.stateNode;if(u===null)return null;var h=ud(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ca=!1;if(c)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{ca=!1}function io(s,a,u,h,g,w,x,L,B){var K=Array.prototype.slice.call(arguments,3);try{a.apply(u,K)}catch(se){this.onError(se)}}var so=!1,da=null,gr=!1,ql=null,fp={onError:function(s){so=!0,da=s}};function fa(s,a,u,h,g,w,x,L,B){so=!1,da=null,io.apply(fp,arguments)}function Mc(s,a,u,h,g,w,x,L,B){if(fa.apply(this,arguments),so){if(so){var K=da;so=!1,da=null}else throw Error(t(198));gr||(gr=!0,ql=K)}}function yr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function oo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function _r(s){if(yr(s)!==s)throw Error(t(188))}function Oc(s){var a=s.alternate;if(!a){if(a=yr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return _r(g),s;if(w===h)return _r(g),a;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=w;else{for(var x=!1,L=g.child;L;){if(L===u){x=!0,u=g,h=w;break}if(L===h){x=!0,h=g,u=w;break}L=L.sibling}if(!x){for(L=w.child;L;){if(L===u){x=!0,u=w,h=g;break}if(L===h){x=!0,h=w,u=g;break}L=L.sibling}if(!x)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Yl(s){return s=Oc(s),s!==null?ha(s):null}function ha(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ha(s);if(a!==null)return a;s=s.sibling}return null}var pa=e.unstable_scheduleCallback,Kl=e.unstable_cancelCallback,Lc=e.unstable_shouldYield,hp=e.unstable_requestPaint,ct=e.unstable_now,Fc=e.unstable_getCurrentPriorityLevel,ao=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,Ql=e.unstable_LowPriority,Vc=e.unstable_IdlePriority,lo=null,jn=null;function jc(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(lo,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Bc,Gl=Math.log,Uc=Math.LN2;function Bc(s){return s>>>=0,s===0?32:31-(Gl(s)/Uc|0)|0}var ma=64,ga=4194304;function ts(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uo(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,x=u&268435455;if(x!==0){var L=x&~g;L!==0?h=ts(L):(w&=x,w!==0&&(h=ts(w)))}else x=u&~g,x!==0?h=ts(x):w!==0&&(h=ts(w));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(h&4&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-pn(a),g=1<<u,h|=s[u],a&=~g;return h}function pp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-pn(w),L=1<<x,B=g[x];B===-1?(!(L&u)||L&h)&&(g[x]=pp(L,a)):B<=a&&(s.expiredLanes|=L),w&=~L}}function Un(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function co(){var s=ma;return ma<<=1,!(ma&4194240)&&(ma=64),s}function ns(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function rs(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-pn(a),s[a]=u}function lt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-pn(u),w=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~w}}function is(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-pn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var ze=0;function ss(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var $c,ya,Wc,Hc,zc,Xl=!1,$r=[],Qt=null,vr=null,wr=null,os=new Map,Zn=new Map,Wr=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(s,a){switch(s){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":os.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(a.pointerId)}}function Cn(s,a,u,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},a!==null&&(a=fu(a),a!==null&&ya(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function gp(s,a,u,h,g){switch(a){case"focusin":return Qt=Cn(Qt,s,a,u,h,g),!0;case"dragenter":return vr=Cn(vr,s,a,u,h,g),!0;case"mouseover":return wr=Cn(wr,s,a,u,h,g),!0;case"pointerover":var w=g.pointerId;return os.set(w,Cn(os.get(w)||null,s,a,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Zn.set(w,Cn(Zn.get(w)||null,s,a,u,h,g)),!0}return!1}function Yc(s){var a=go(s.target);if(a!==null){var u=yr(a);if(u!==null){if(a=u.tag,a===13){if(a=oo(u),a!==null){s.blockedOn=a,zc(s.priority,function(){Wc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=_a(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);no=h,u.target.dispatchEvent(h),no=null}else return a=fu(u),a!==null&&ya(a),s.blockedOn=u,!1;a.shift()}return!0}function fo(s,a,u){vi(s)&&u.delete(a)}function Kc(){Xl=!1,Qt!==null&&vi(Qt)&&(Qt=null),vr!==null&&vi(vr)&&(vr=null),wr!==null&&vi(wr)&&(wr=null),os.forEach(fo),Zn.forEach(fo)}function Er(s,a){s.blockedOn===a&&(s.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kc)))}function Tr(s){function a(g){return Er(g,s)}if(0<$r.length){Er($r[0],s);for(var u=1;u<$r.length;u++){var h=$r[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Qt!==null&&Er(Qt,s),vr!==null&&Er(vr,s),wr!==null&&Er(wr,s),os.forEach(a),Zn.forEach(a),u=0;u<Wr.length;u++)h=Wr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Wr.length&&(u=Wr[0],u.blockedOn===null);)Yc(u),u.blockedOn===null&&Wr.shift()}var wi=q.ReactCurrentBatchConfig,as=!0;function _t(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=1,Jl(s,a,u,h)}finally{ze=g,wi.transition=w}}function yp(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=4,Jl(s,a,u,h)}finally{ze=g,wi.transition=w}}function Jl(s,a,u,h){if(as){var g=_a(s,a,u,h);if(g===null)Ip(s,a,h,ho,u),qc(s,h);else if(gp(g,s,a,u,h))h.stopPropagation();else if(qc(s,h),a&4&&-1<mp.indexOf(s)){for(;g!==null;){var w=fu(g);if(w!==null&&$c(w),w=_a(s,a,u,h),w===null&&Ip(s,a,h,ho,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Ip(s,a,h,null,u)}}var ho=null;function _a(s,a,u,h){if(ho=null,s=aa(h),s=go(s),s!==null)if(a=yr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=oo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ho=s,null}function Zl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fc()){case ao:return 1;case es:return 4;case Jn:case Ql:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var Bn=null,va=null,xn=null;function eu(){if(xn)return xn;var s,a=va,u=a.length,h,g="value"in Bn?Bn.value:Bn.textContent,w=g.length;for(s=0;s<u&&a[s]===g[s];s++);var x=u-s;for(h=1;h<=x&&a[u-h]===g[w-h];h++);return xn=g.slice(s,1<h?1-h:void 0)}function wa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Hr(){return!0}function tu(){return!1}function Gt(s){function a(u,h,g,w,x){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Hr:tu,this.isPropagationStopped=tu,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),a}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Gt(Sr),zr=le({},Sr,{view:0,detail:0}),_p=Gt(zr),Ta,Ei,ls,po=le({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ls&&(ls&&s.type==="mousemove"?(Ta=s.screenX-ls.screenX,Ei=s.screenY-ls.screenY):Ei=Ta=0,ls=s),Ta)},movementY:function(s){return"movementY"in s?s.movementY:Ei}}),Sa=Gt(po),nu=le({},po,{dataTransfer:0}),Qc=Gt(nu),ka=le({},zr,{relatedTarget:0}),Ca=Gt(ka),Gc=le({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=Gt(Gc),Xc=le({},Sr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jc=Gt(Xc),Zc=le({},Sr,{data:0}),ru=Gt(Zc),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function td(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ed[s])?!!a[s]:!1}function qr(){return td}var f=le({},zr,{key:function(s){if(s.key){var a=xa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Gt(f),E=le({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Gt(E),H=le({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),Q=Gt(H),ue=le({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=Gt(ue),Vt=le({},po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Gt(Vt),$t=[9,13,27,32],Nt=c&&"CompositionEvent"in window,er=null;c&&"documentMode"in document&&(er=document.documentMode);var $n=c&&"TextEvent"in window&&!er,mo=c&&(!Nt||er&&8<er&&11>=er),ba=" ",G_=!1;function X_(s,a){switch(s){case"keyup":return $t.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function Eb(s,a){switch(s){case"compositionend":return J_(a);case"keypress":return a.which!==32?null:(G_=!0,ba);case"textInput":return s=a.data,s===ba&&G_?null:s;default:return null}}function Tb(s,a){if(Ia)return s==="compositionend"||!Nt&&X_(s,a)?(s=eu(),xn=va=Bn=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mo&&a.locale!=="ko"?null:a.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Sb[s.type]:a==="textarea"}function ev(s,a,u,h){Br(h),a=od(a,"onChange"),0<a.length&&(u=new Ea("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var iu=null,su=null;function kb(s){_v(s,0)}function nd(s){var a=Na(s);if(Vn(a))return s}function Cb(s,a){if(s==="change")return a}var tv=!1;if(c){var vp;if(c){var wp="oninput"in document;if(!wp){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),wp=typeof nv.oninput=="function"}vp=wp}else vp=!1;tv=vp&&(!document.documentMode||9<document.documentMode)}function rv(){iu&&(iu.detachEvent("onpropertychange",iv),su=iu=null)}function iv(s){if(s.propertyName==="value"&&nd(su)){var a=[];ev(a,su,s,aa(s)),zl(kb,a)}}function xb(s,a,u){s==="focusin"?(rv(),iu=a,su=u,iu.attachEvent("onpropertychange",iv)):s==="focusout"&&rv()}function bb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(su)}function Ib(s,a){if(s==="click")return nd(a)}function Db(s,a){if(s==="input"||s==="change")return nd(a)}function Rb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var kr=typeof Object.is=="function"?Object.is:Rb;function ou(s,a){if(kr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(a,g)||!kr(s[g],a[g]))return!1}return!0}function sv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ov(s,a){var u=sv(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=sv(u)}}function av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function lv(){for(var s=window,a=Sn();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Sn(s.document)}return a}function Ep(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Pb(s){var a=lv(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&av(u.ownerDocument.documentElement,u)){if(h!==null&&Ep(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=ov(u,w);var x=ov(u,h);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ab=c&&"documentMode"in document&&11>=document.documentMode,Da=null,Tp=null,au=null,Sp=!1;function uv(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sp||Da==null||Da!==Sn(h)||(h=Da,"selectionStart"in h&&Ep(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),au&&ou(au,h)||(au=h,h=od(Tp,"onSelect"),0<h.length&&(a=new Ea("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Da)))}function rd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ra={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},kp={},cv={};c&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function id(s){if(kp[s])return kp[s];if(!Ra[s])return s;var a=Ra[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in cv)return kp[s]=a[u];return s}var dv=id("animationend"),fv=id("animationiteration"),hv=id("animationstart"),pv=id("transitionend"),mv=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(s,a){mv.set(s,a),o(a,[s])}for(var Cp=0;Cp<gv.length;Cp++){var xp=gv[Cp],Nb=xp.toLowerCase(),Mb=xp[0].toUpperCase()+xp.slice(1);us(Nb,"on"+Mb)}us(dv,"onAnimationEnd"),us(fv,"onAnimationIteration"),us(hv,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(pv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function yv(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,Mc(h,a,void 0,s),s.currentTarget=null}function _v(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var x=h.length-1;0<=x;x--){var L=h[x],B=L.instance,K=L.currentTarget;if(L=L.listener,B!==w&&g.isPropagationStopped())break e;yv(g,L,K),w=B}else for(x=0;x<h.length;x++){if(L=h[x],B=L.instance,K=L.currentTarget,L=L.listener,B!==w&&g.isPropagationStopped())break e;yv(g,L,K),w=B}}}if(gr)throw s=ql,gr=!1,ql=null,s}function pt(s,a){var u=a[Mp];u===void 0&&(u=a[Mp]=new Set);var h=s+"__bubble";u.has(h)||(vv(a,s,2,!1),u.add(h))}function bp(s,a,u){var h=0;a&&(h|=4),vv(u,s,h,a)}var sd="_reactListening"+Math.random().toString(36).slice(2);function uu(s){if(!s[sd]){s[sd]=!0,n.forEach(function(u){u!=="selectionchange"&&(Ob.has(u)||bp(u,!1,s),bp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[sd]||(a[sd]=!0,bp("selectionchange",!1,a))}}function vv(s,a,u,h){switch(Zl(a)){case 1:var g=_t;break;case 4:g=yp;break;default:g=Jl}u=g.bind(null,a,u,s),g=void 0,!ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Ip(s,a,u,h,g){var w=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var L=h.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(x===4)for(x=h.return;x!==null;){var B=x.tag;if((B===3||B===4)&&(B=x.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;x=x.return}for(;L!==null;){if(x=go(L),x===null)return;if(B=x.tag,B===5||B===6){h=w=x;continue e}L=L.parentNode}}h=h.return}zl(function(){var K=w,se=aa(u),oe=[];e:{var ie=mv.get(s);if(ie!==void 0){var pe=Ea,Ee=s;switch(s){case"keypress":if(wa(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":Ee="focus",pe=Ca;break;case"focusout":Ee="blur",pe=Ca;break;case"beforeblur":case"afterblur":pe=Ca;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case dv:case fv:case hv:pe=Ti;break;case pv:pe=rt;break;case"scroll":pe=_p;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=R}var Te=(a&4)!==0,Dt=!Te&&s==="scroll",z=Te?ie!==null?ie+"Capture":null:ie;Te=[];for(var $=K,Y;$!==null;){Y=$;var ae=Y.stateNode;if(Y.tag===5&&ae!==null&&(Y=ae,z!==null&&(ae=It($,z),ae!=null&&Te.push(cu($,ae,Y)))),Dt)break;$=$.return}0<Te.length&&(ie=new pe(ie,Ee,null,u,se),oe.push({event:ie,listeners:Te}))}}if(!(a&7)){e:{if(ie=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ie&&u!==no&&(Ee=u.relatedTarget||u.fromElement)&&(go(Ee)||Ee[Si]))break e;if((pe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(Ee=u.relatedTarget||u.toElement,pe=K,Ee=Ee?go(Ee):null,Ee!==null&&(Dt=yr(Ee),Ee!==Dt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(pe=null,Ee=K),pe!==Ee)){if(Te=Sa,ae="onMouseLeave",z="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Te=R,ae="onPointerLeave",z="onPointerEnter",$="pointer"),Dt=pe==null?ie:Na(pe),Y=Ee==null?ie:Na(Ee),ie=new Te(ae,$+"leave",pe,u,se),ie.target=Dt,ie.relatedTarget=Y,ae=null,go(se)===K&&(Te=new Te(z,$+"enter",Ee,u,se),Te.target=Y,Te.relatedTarget=Dt,ae=Te),Dt=ae,pe&&Ee)t:{for(Te=pe,z=Ee,$=0,Y=Te;Y;Y=Pa(Y))$++;for(Y=0,ae=z;ae;ae=Pa(ae))Y++;for(;0<$-Y;)Te=Pa(Te),$--;for(;0<Y-$;)z=Pa(z),Y--;for(;$--;){if(Te===z||z!==null&&Te===z.alternate)break t;Te=Pa(Te),z=Pa(z)}Te=null}else Te=null;pe!==null&&wv(oe,ie,pe,Te,!1),Ee!==null&&Dt!==null&&wv(oe,Dt,Ee,Te,!0)}}e:{if(ie=K?Na(K):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var Se=Cb;else if(Z_(ie))if(tv)Se=Db;else{Se=bb;var xe=xb}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=Ib);if(Se&&(Se=Se(s,K))){ev(oe,Se,u,se);break e}xe&&xe(s,ie,K),s==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&Xi(ie,"number",ie.value)}switch(xe=K?Na(K):window,s){case"focusin":(Z_(xe)||xe.contentEditable==="true")&&(Da=xe,Tp=K,au=null);break;case"focusout":au=Tp=Da=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,uv(oe,u,se);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":uv(oe,u,se)}var be;if(Nt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ia?X_(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(mo&&u.locale!=="ko"&&(Ia||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ia&&(be=eu()):(Bn=se,va="value"in Bn?Bn.value:Bn.textContent,Ia=!0)),xe=od(K,Ae),0<xe.length&&(Ae=new ru(Ae,s,null,u,se),oe.push({event:Ae,listeners:xe}),be?Ae.data=be:(be=J_(u),be!==null&&(Ae.data=be)))),(be=$n?Eb(s,u):Tb(s,u))&&(K=od(K,"onBeforeInput"),0<K.length&&(se=new ru("onBeforeInput","beforeinput",null,u,se),oe.push({event:se,listeners:K}),se.data=be))}_v(oe,a)})}function cu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function od(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=It(s,u),w!=null&&h.unshift(cu(s,w,g)),w=It(s,a),w!=null&&h.push(cu(s,w,g))),s=s.return}return h}function Pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wv(s,a,u,h,g){for(var w=a._reactName,x=[];u!==null&&u!==h;){var L=u,B=L.alternate,K=L.stateNode;if(B!==null&&B===h)break;L.tag===5&&K!==null&&(L=K,g?(B=It(u,w),B!=null&&x.unshift(cu(u,B,L))):g||(B=It(u,w),B!=null&&x.push(cu(u,B,L)))),u=u.return}x.length!==0&&s.push({event:a,listeners:x})}var Lb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Ev(s){return(typeof s=="string"?s:""+s).replace(Lb,`
`).replace(Fb,"")}function ad(s,a,u){if(a=Ev(a),Ev(s)!==a&&u)throw Error(t(425))}function ld(){}var Dp=null,Rp=null;function Pp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,Vb=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(s){return Tv.resolve(null).then(s).catch(Ub)}:Ap;function Ub(s){setTimeout(function(){throw s})}function Np(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),Tr(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Tr(a)}function cs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Sv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Aa,du="__reactProps$"+Aa,Si="__reactContainer$"+Aa,Mp="__reactEvents$"+Aa,Bb="__reactListeners$"+Aa,$b="__reactHandles$"+Aa;function go(s){var a=s[Yr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Si]||u[Yr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Sv(s);s!==null;){if(u=s[Yr])return u;s=Sv(s)}return a}s=u,u=s.parentNode}return null}function fu(s){return s=s[Yr]||s[Si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ud(s){return s[du]||null}var Op=[],Ma=-1;function ds(s){return{current:s}}function mt(s){0>Ma||(s.current=Op[Ma],Op[Ma]=null,Ma--)}function dt(s,a){Ma++,Op[Ma]=s.current,s.current=a}var fs={},rn=ds(fs),bn=ds(!1),yo=fs;function Oa(s,a){var u=s.type.contextTypes;if(!u)return fs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=a[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function In(s){return s=s.childContextTypes,s!=null}function cd(){mt(bn),mt(rn)}function kv(s,a,u){if(rn.current!==fs)throw Error(t(168));dt(rn,a),dt(bn,u)}function Cv(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Be(s)||"Unknown",g));return le({},u,h)}function dd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fs,yo=rn.current,dt(rn,s),dt(bn,bn.current),!0}function xv(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Cv(s,a,yo),h.__reactInternalMemoizedMergedChildContext=s,mt(bn),mt(rn),dt(rn,s)):mt(bn),dt(bn,u)}var ki=null,fd=!1,Lp=!1;function bv(s){ki===null?ki=[s]:ki.push(s)}function Wb(s){fd=!0,bv(s)}function hs(){if(!Lp&&ki!==null){Lp=!0;var s=0,a=ze;try{var u=ki;for(ze=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}ki=null,fd=!1}catch(g){throw ki!==null&&(ki=ki.slice(s+1)),pa(ao,hs),g}finally{ze=a,Lp=!1}}return null}var La=[],Fa=0,hd=null,pd=0,tr=[],nr=0,_o=null,Ci=1,xi="";function vo(s,a){La[Fa++]=pd,La[Fa++]=hd,hd=s,pd=a}function Iv(s,a,u){tr[nr++]=Ci,tr[nr++]=xi,tr[nr++]=_o,_o=s;var h=Ci;s=xi;var g=32-pn(h)-1;h&=~(1<<g),u+=1;var w=32-pn(a)+g;if(30<w){var x=g-g%5;w=(h&(1<<x)-1).toString(32),h>>=x,g-=x,Ci=1<<32-pn(a)+g|u<<g|h,xi=w+s}else Ci=1<<w|u<<g|h,xi=s}function Fp(s){s.return!==null&&(vo(s,1),Iv(s,1,0))}function Vp(s){for(;s===hd;)hd=La[--Fa],La[Fa]=null,pd=La[--Fa],La[Fa]=null;for(;s===_o;)_o=tr[--nr],tr[nr]=null,xi=tr[--nr],tr[nr]=null,Ci=tr[--nr],tr[nr]=null}var Wn=null,Hn=null,vt=!1,Cr=null;function Dv(s,a){var u=or(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Rv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=cs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=_o!==null?{id:Ci,overflow:xi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=or(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Wn=s,Hn=null,!0):!1;default:return!1}}function jp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Up(s){if(vt){var a=Hn;if(a){var u=a;if(!Rv(s,a)){if(jp(s))throw Error(t(418));a=cs(u.nextSibling);var h=Wn;a&&Rv(s,a)?Dv(h,u):(s.flags=s.flags&-4097|2,vt=!1,Wn=s)}}else{if(jp(s))throw Error(t(418));s.flags=s.flags&-4097|2,vt=!1,Wn=s}}}function Pv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function md(s){if(s!==Wn)return!1;if(!vt)return Pv(s),vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Pp(s.type,s.memoizedProps)),a&&(a=Hn)){if(jp(s))throw Av(),Error(t(418));for(;a;)Dv(s,a),a=cs(a.nextSibling)}if(Pv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Hn=cs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Hn=null}}else Hn=Wn?cs(s.stateNode.nextSibling):null;return!0}function Av(){for(var s=Hn;s;)s=cs(s.nextSibling)}function Va(){Hn=Wn=null,vt=!1}function Bp(s){Cr===null?Cr=[s]:Cr.push(s)}var Hb=q.ReactCurrentBatchConfig;function hu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(x){var L=g.refs;x===null?delete L[w]:L[w]=x},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function gd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Nv(s){var a=s._init;return a(s._payload)}function Mv(s){function a(z,$){if(s){var Y=z.deletions;Y===null?(z.deletions=[$],z.flags|=16):Y.push($)}}function u(z,$){if(!s)return null;for(;$!==null;)a(z,$),$=$.sibling;return null}function h(z,$){for(z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function g(z,$){return z=Es(z,$),z.index=0,z.sibling=null,z}function w(z,$,Y){return z.index=Y,s?(Y=z.alternate,Y!==null?(Y=Y.index,Y<$?(z.flags|=2,$):Y):(z.flags|=2,$)):(z.flags|=1048576,$)}function x(z){return s&&z.alternate===null&&(z.flags|=2),z}function L(z,$,Y,ae){return $===null||$.tag!==6?($=Am(Y,z.mode,ae),$.return=z,$):($=g($,Y),$.return=z,$)}function B(z,$,Y,ae){var Se=Y.type;return Se===A?se(z,$,Y.props.children,ae,Y.key):$!==null&&($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Nv(Se)===$.type)?(ae=g($,Y.props),ae.ref=hu(z,$,Y),ae.return=z,ae):(ae=Ud(Y.type,Y.key,Y.props,null,z.mode,ae),ae.ref=hu(z,$,Y),ae.return=z,ae)}function K(z,$,Y,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Nm(Y,z.mode,ae),$.return=z,$):($=g($,Y.children||[]),$.return=z,$)}function se(z,$,Y,ae,Se){return $===null||$.tag!==7?($=bo(Y,z.mode,ae,Se),$.return=z,$):($=g($,Y),$.return=z,$)}function oe(z,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Am(""+$,z.mode,Y),$.return=z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return Y=Ud($.type,$.key,$.props,null,z.mode,Y),Y.ref=hu(z,null,$),Y.return=z,Y;case Z:return $=Nm($,z.mode,Y),$.return=z,$;case he:var ae=$._init;return oe(z,ae($._payload),Y)}if(hr($)||ce($))return $=bo($,z.mode,Y,null),$.return=z,$;gd(z,$)}return null}function ie(z,$,Y,ae){var Se=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Se!==null?null:L(z,$,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:return Y.key===Se?B(z,$,Y,ae):null;case Z:return Y.key===Se?K(z,$,Y,ae):null;case he:return Se=Y._init,ie(z,$,Se(Y._payload),ae)}if(hr(Y)||ce(Y))return Se!==null?null:se(z,$,Y,ae,null);gd(z,Y)}return null}function pe(z,$,Y,ae,Se){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return z=z.get(Y)||null,L($,z,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return z=z.get(ae.key===null?Y:ae.key)||null,B($,z,ae,Se);case Z:return z=z.get(ae.key===null?Y:ae.key)||null,K($,z,ae,Se);case he:var xe=ae._init;return pe(z,$,Y,xe(ae._payload),Se)}if(hr(ae)||ce(ae))return z=z.get(Y)||null,se($,z,ae,Se,null);gd($,ae)}return null}function Ee(z,$,Y,ae){for(var Se=null,xe=null,be=$,Ae=$=0,zt=null;be!==null&&Ae<Y.length;Ae++){be.index>Ae?(zt=be,be=null):zt=be.sibling;var Ze=ie(z,be,Y[Ae],ae);if(Ze===null){be===null&&(be=zt);break}s&&be&&Ze.alternate===null&&a(z,be),$=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze,be=zt}if(Ae===Y.length)return u(z,be),vt&&vo(z,Ae),Se;if(be===null){for(;Ae<Y.length;Ae++)be=oe(z,Y[Ae],ae),be!==null&&($=w(be,$,Ae),xe===null?Se=be:xe.sibling=be,xe=be);return vt&&vo(z,Ae),Se}for(be=h(z,be);Ae<Y.length;Ae++)zt=pe(be,z,Ae,Y[Ae],ae),zt!==null&&(s&&zt.alternate!==null&&be.delete(zt.key===null?Ae:zt.key),$=w(zt,$,Ae),xe===null?Se=zt:xe.sibling=zt,xe=zt);return s&&be.forEach(function(Ts){return a(z,Ts)}),vt&&vo(z,Ae),Se}function Te(z,$,Y,ae){var Se=ce(Y);if(typeof Se!="function")throw Error(t(150));if(Y=Se.call(Y),Y==null)throw Error(t(151));for(var xe=Se=null,be=$,Ae=$=0,zt=null,Ze=Y.next();be!==null&&!Ze.done;Ae++,Ze=Y.next()){be.index>Ae?(zt=be,be=null):zt=be.sibling;var Ts=ie(z,be,Ze.value,ae);if(Ts===null){be===null&&(be=zt);break}s&&be&&Ts.alternate===null&&a(z,be),$=w(Ts,$,Ae),xe===null?Se=Ts:xe.sibling=Ts,xe=Ts,be=zt}if(Ze.done)return u(z,be),vt&&vo(z,Ae),Se;if(be===null){for(;!Ze.done;Ae++,Ze=Y.next())Ze=oe(z,Ze.value,ae),Ze!==null&&($=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze);return vt&&vo(z,Ae),Se}for(be=h(z,be);!Ze.done;Ae++,Ze=Y.next())Ze=pe(be,z,Ae,Ze.value,ae),Ze!==null&&(s&&Ze.alternate!==null&&be.delete(Ze.key===null?Ae:Ze.key),$=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze);return s&&be.forEach(function(TI){return a(z,TI)}),vt&&vo(z,Ae),Se}function Dt(z,$,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:e:{for(var Se=Y.key,xe=$;xe!==null;){if(xe.key===Se){if(Se=Y.type,Se===A){if(xe.tag===7){u(z,xe.sibling),$=g(xe,Y.props.children),$.return=z,z=$;break e}}else if(xe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Nv(Se)===xe.type){u(z,xe.sibling),$=g(xe,Y.props),$.ref=hu(z,xe,Y),$.return=z,z=$;break e}u(z,xe);break}else a(z,xe);xe=xe.sibling}Y.type===A?($=bo(Y.props.children,z.mode,ae,Y.key),$.return=z,z=$):(ae=Ud(Y.type,Y.key,Y.props,null,z.mode,ae),ae.ref=hu(z,$,Y),ae.return=z,z=ae)}return x(z);case Z:e:{for(xe=Y.key;$!==null;){if($.key===xe)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){u(z,$.sibling),$=g($,Y.children||[]),$.return=z,z=$;break e}else{u(z,$);break}else a(z,$);$=$.sibling}$=Nm(Y,z.mode,ae),$.return=z,z=$}return x(z);case he:return xe=Y._init,Dt(z,$,xe(Y._payload),ae)}if(hr(Y))return Ee(z,$,Y,ae);if(ce(Y))return Te(z,$,Y,ae);gd(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,$!==null&&$.tag===6?(u(z,$.sibling),$=g($,Y),$.return=z,z=$):(u(z,$),$=Am(Y,z.mode,ae),$.return=z,z=$),x(z)):u(z,$)}return Dt}var ja=Mv(!0),Ov=Mv(!1),yd=ds(null),_d=null,Ua=null,$p=null;function Wp(){$p=Ua=_d=null}function Hp(s){var a=yd.current;mt(yd),s._currentValue=a}function zp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Ba(s,a){_d=s,$p=Ua=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Dn=!0),s.firstContext=null)}function rr(s){var a=s._currentValue;if($p!==s)if(s={context:s,memoizedValue:a,next:null},Ua===null){if(_d===null)throw Error(t(308));Ua=s,_d.dependencies={lanes:0,firstContext:s}}else Ua=Ua.next=s;return a}var wo=null;function qp(s){wo===null?wo=[s]:wo.push(s)}function Lv(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,qp(a)):(u.next=g.next,g.next=u),a.interleaved=u,bi(s,h)}function bi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ps=!1;function Yp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ii(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ms(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Ge&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,bi(s,u)}return g=h.interleaved,g===null?(a.next=a,qp(h)):(a.next=g.next,g.next=a),h.interleaved=a,bi(s,u)}function vd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,is(s,u)}}function Vv(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=x:w=w.next=x,u=u.next}while(u!==null);w===null?g=w=a:w=w.next=a}else g=w=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function wd(s,a,u,h){var g=s.updateQueue;ps=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var B=L,K=B.next;B.next=null,x===null?w=K:x.next=K,x=B;var se=s.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==x&&(L===null?se.firstBaseUpdate=K:L.next=K,se.lastBaseUpdate=B))}if(w!==null){var oe=g.baseState;x=0,se=K=B=null,L=w;do{var ie=L.lane,pe=L.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ee=s,Te=L;switch(ie=a,pe=u,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){oe=Ee.call(pe,oe,ie);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,ie=typeof Ee=="function"?Ee.call(pe,oe,ie):Ee,ie==null)break e;oe=le({},oe,ie);break e;case 2:ps=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ie=g.effects,ie===null?g.effects=[L]:ie.push(L))}else pe={eventTime:pe,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(K=se=pe,B=oe):se=se.next=pe,x|=ie;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);if(se===null&&(B=oe),g.baseState=B,g.firstBaseUpdate=K,g.lastBaseUpdate=se,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);So|=x,s.lanes=x,s.memoizedState=oe}}function jv(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var pu={},Kr=ds(pu),mu=ds(pu),gu=ds(pu);function Eo(s){if(s===pu)throw Error(t(174));return s}function Kp(s,a){switch(dt(gu,a),dt(mu,s),dt(Kr,pu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ut(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ut(a,s)}mt(Kr),dt(Kr,a)}function $a(){mt(Kr),mt(mu),mt(gu)}function Uv(s){Eo(gu.current);var a=Eo(Kr.current),u=ut(a,s.type);a!==u&&(dt(mu,s),dt(Kr,u))}function Qp(s){mu.current===s&&(mt(Kr),mt(mu))}var Et=ds(0);function Ed(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gp=[];function Xp(){for(var s=0;s<Gp.length;s++)Gp[s]._workInProgressVersionPrimary=null;Gp.length=0}var Td=q.ReactCurrentDispatcher,Jp=q.ReactCurrentBatchConfig,To=0,Tt=null,jt=null,Wt=null,Sd=!1,yu=!1,_u=0,zb=0;function sn(){throw Error(t(321))}function Zp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!kr(s[u],a[u]))return!1;return!0}function em(s,a,u,h,g,w){if(To=w,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Td.current=s===null||s.memoizedState===null?Qb:Gb,s=u(h,g),yu){w=0;do{if(yu=!1,_u=0,25<=w)throw Error(t(301));w+=1,Wt=jt=null,a.updateQueue=null,Td.current=Xb,s=u(h,g)}while(yu)}if(Td.current=xd,a=jt!==null&&jt.next!==null,To=0,Wt=jt=Tt=null,Sd=!1,a)throw Error(t(300));return s}function tm(){var s=_u!==0;return _u=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Tt.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function ir(){if(jt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=Wt===null?Tt.memoizedState:Wt.next;if(a!==null)Wt=a,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Wt===null?Tt.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function vu(s,a){return typeof a=="function"?a(s):a}function nm(s){var a=ir(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=jt,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var L=x=null,B=null,K=w;do{var se=K.lane;if((To&se)===se)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(L=B=oe,x=h):B=B.next=oe,Tt.lanes|=se,So|=se}K=K.next}while(K!==null&&K!==w);B===null?x=h:B.next=L,kr(h,a.memoizedState)||(Dn=!0),a.memoizedState=h,a.baseState=x,a.baseQueue=B,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do w=g.lane,Tt.lanes|=w,So|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function rm(s){var a=ir(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,w=a.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);kr(w,a.memoizedState)||(Dn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function Bv(){}function $v(s,a){var u=Tt,h=ir(),g=a(),w=!kr(h.memoizedState,g);if(w&&(h.memoizedState=g,Dn=!0),h=h.queue,im(zv.bind(null,u,h,s),[s]),h.getSnapshot!==a||w||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,wu(9,Hv.bind(null,u,h,g,a),void 0,null),Ht===null)throw Error(t(349));To&30||Wv(u,a,g)}return g}function Wv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Hv(s,a,u,h){a.value=u,a.getSnapshot=h,qv(a)&&Yv(s)}function zv(s,a,u){return u(function(){qv(a)&&Yv(s)})}function qv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!kr(s,u)}catch{return!0}}function Yv(s){var a=bi(s,1);a!==null&&Dr(a,s,1,-1)}function Kv(s){var a=Qr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:s},a.queue=s,s=s.dispatch=Kb.bind(null,Tt,s),[a.memoizedState,s]}function wu(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function Qv(){return ir().memoizedState}function kd(s,a,u,h){var g=Qr();Tt.flags|=s,g.memoizedState=wu(1|a,u,void 0,h===void 0?null:h)}function Cd(s,a,u,h){var g=ir();h=h===void 0?null:h;var w=void 0;if(jt!==null){var x=jt.memoizedState;if(w=x.destroy,h!==null&&Zp(h,x.deps)){g.memoizedState=wu(a,u,w,h);return}}Tt.flags|=s,g.memoizedState=wu(1|a,u,w,h)}function Gv(s,a){return kd(8390656,8,s,a)}function im(s,a){return Cd(2048,8,s,a)}function Xv(s,a){return Cd(4,2,s,a)}function Jv(s,a){return Cd(4,4,s,a)}function Zv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ew(s,a,u){return u=u!=null?u.concat([s]):null,Cd(4,4,Zv.bind(null,a,s),u)}function sm(){}function tw(s,a){var u=ir();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&Zp(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function nw(s,a){var u=ir();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&Zp(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function rw(s,a,u){return To&21?(kr(u,a)||(u=co(),Tt.lanes|=u,So|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=u)}function qb(s,a){var u=ze;ze=u!==0&&4>u?u:4,s(!0);var h=Jp.transition;Jp.transition={};try{s(!1),a()}finally{ze=u,Jp.transition=h}}function iw(){return ir().memoizedState}function Yb(s,a,u){var h=vs(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},sw(s))ow(a,u);else if(u=Lv(s,a,u,h),u!==null){var g=yn();Dr(u,s,h,g),aw(u,a,h)}}function Kb(s,a,u){var h=vs(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(sw(s))ow(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var x=a.lastRenderedState,L=w(x,u);if(g.hasEagerState=!0,g.eagerState=L,kr(L,x)){var B=a.interleaved;B===null?(g.next=g,qp(a)):(g.next=B.next,B.next=g),a.interleaved=g;return}}catch{}finally{}u=Lv(s,a,g,h),u!==null&&(g=yn(),Dr(u,s,h,g),aw(u,a,h))}}function sw(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function ow(s,a){yu=Sd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function aw(s,a,u){if(u&4194240){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,is(s,u)}}var xd={readContext:rr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Qb={readContext:rr,useCallback:function(s,a){return Qr().memoizedState=[s,a===void 0?null:a],s},useContext:rr,useEffect:Gv,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,kd(4194308,4,Zv.bind(null,a,s),u)},useLayoutEffect:function(s,a){return kd(4194308,4,s,a)},useInsertionEffect:function(s,a){return kd(4,2,s,a)},useMemo:function(s,a){var u=Qr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=Qr();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=Yb.bind(null,Tt,s),[h.memoizedState,s]},useRef:function(s){var a=Qr();return s={current:s},a.memoizedState=s},useState:Kv,useDebugValue:sm,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=Kv(!1),a=s[0];return s=qb.bind(null,s[1]),Qr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=Tt,g=Qr();if(vt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ht===null)throw Error(t(349));To&30||Wv(h,a,u)}g.memoizedState=u;var w={value:u,getSnapshot:a};return g.queue=w,Gv(zv.bind(null,h,w,s),[s]),h.flags|=2048,wu(9,Hv.bind(null,h,w,u,a),void 0,null),u},useId:function(){var s=Qr(),a=Ht.identifierPrefix;if(vt){var u=xi,h=Ci;u=(h&~(1<<32-pn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=_u++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=zb++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Gb={readContext:rr,useCallback:tw,useContext:rr,useEffect:im,useImperativeHandle:ew,useInsertionEffect:Xv,useLayoutEffect:Jv,useMemo:nw,useReducer:nm,useRef:Qv,useState:function(){return nm(vu)},useDebugValue:sm,useDeferredValue:function(s){var a=ir();return rw(a,jt.memoizedState,s)},useTransition:function(){var s=nm(vu)[0],a=ir().memoizedState;return[s,a]},useMutableSource:Bv,useSyncExternalStore:$v,useId:iw,unstable_isNewReconciler:!1},Xb={readContext:rr,useCallback:tw,useContext:rr,useEffect:im,useImperativeHandle:ew,useInsertionEffect:Xv,useLayoutEffect:Jv,useMemo:nw,useReducer:rm,useRef:Qv,useState:function(){return rm(vu)},useDebugValue:sm,useDeferredValue:function(s){var a=ir();return jt===null?a.memoizedState=s:rw(a,jt.memoizedState,s)},useTransition:function(){var s=rm(vu)[0],a=ir().memoizedState;return[s,a]},useMutableSource:Bv,useSyncExternalStore:$v,useId:iw,unstable_isNewReconciler:!1};function xr(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function om(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:le({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var bd={isMounted:function(s){return(s=s._reactInternals)?yr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=yn(),g=vs(s),w=Ii(h,g);w.payload=a,u!=null&&(w.callback=u),a=ms(s,w,g),a!==null&&(Dr(a,s,g,h),vd(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=yn(),g=vs(s),w=Ii(h,g);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=ms(s,w,g),a!==null&&(Dr(a,s,g,h),vd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=yn(),h=vs(s),g=Ii(u,h);g.tag=2,a!=null&&(g.callback=a),a=ms(s,g,h),a!==null&&(Dr(a,s,h,u),vd(a,s,h))}};function lw(s,a,u,h,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,x):a.prototype&&a.prototype.isPureReactComponent?!ou(u,h)||!ou(g,w):!0}function uw(s,a,u){var h=!1,g=fs,w=a.contextType;return typeof w=="object"&&w!==null?w=rr(w):(g=In(a)?yo:rn.current,h=a.contextTypes,w=(h=h!=null)?Oa(s,g):fs),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bd,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function cw(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&bd.enqueueReplaceState(a,a.state,null)}function am(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Yp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=rr(w):(w=In(a)?yo:rn.current,g.context=Oa(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(om(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&bd.enqueueReplaceState(g,g.state,null),wd(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Wa(s,a){try{var u="",h=a;do u+=Oe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function lm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function um(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function dw(s,a,u){u=Ii(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){Md||(Md=!0,km=h),um(s,a)},u}function fw(s,a,u){u=Ii(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){um(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){um(s,a),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),u}function hw(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Jb;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=fI.bind(null,s,a,u),a.then(s,s))}function pw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function mw(s,a,u,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ii(-1,1),a.tag=2,ms(u,a,1))),u.lanes|=1),s)}var Zb=q.ReactCurrentOwner,Dn=!1;function gn(s,a,u,h){a.child=s===null?Ov(a,null,u,h):ja(a,s.child,u,h)}function gw(s,a,u,h,g){u=u.render;var w=a.ref;return Ba(a,g),h=em(s,a,u,h,w,g),u=tm(),s!==null&&!Dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&u&&Fp(a),a.flags|=1,gn(s,a,h,g),a.child)}function yw(s,a,u,h,g){if(s===null){var w=u.type;return typeof w=="function"&&!Pm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,_w(s,a,w,h,g)):(s=Ud(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var x=w.memoizedProps;if(u=u.compare,u=u!==null?u:ou,u(x,h)&&s.ref===a.ref)return Di(s,a,g)}return a.flags|=1,s=Es(w,h),s.ref=a.ref,s.return=a,a.child=s}function _w(s,a,u,h,g){if(s!==null){var w=s.memoizedProps;if(ou(w,h)&&s.ref===a.ref)if(Dn=!1,a.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Dn=!0);else return a.lanes=s.lanes,Di(s,a,g)}return cm(s,a,u,h,g)}function vw(s,a,u){var h=a.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(za,zn),zn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,dt(za,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,dt(za,zn),zn|=h}else w!==null?(h=w.baseLanes|u,a.memoizedState=null):h=u,dt(za,zn),zn|=h;return gn(s,a,g,u),a.child}function ww(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function cm(s,a,u,h,g){var w=In(u)?yo:rn.current;return w=Oa(a,w),Ba(a,g),u=em(s,a,u,h,w,g),h=tm(),s!==null&&!Dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&h&&Fp(a),a.flags|=1,gn(s,a,u,g),a.child)}function Ew(s,a,u,h,g){if(In(u)){var w=!0;dd(a)}else w=!1;if(Ba(a,g),a.stateNode===null)Dd(s,a),uw(a,u,h),am(a,u,h,g),h=!0;else if(s===null){var x=a.stateNode,L=a.memoizedProps;x.props=L;var B=x.context,K=u.contextType;typeof K=="object"&&K!==null?K=rr(K):(K=In(u)?yo:rn.current,K=Oa(a,K));var se=u.getDerivedStateFromProps,oe=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function";oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==h||B!==K)&&cw(a,x,h,K),ps=!1;var ie=a.memoizedState;x.state=ie,wd(a,h,x,g),B=a.memoizedState,L!==h||ie!==B||bn.current||ps?(typeof se=="function"&&(om(a,u,se,h),B=a.memoizedState),(L=ps||lw(a,u,L,h,ie,B,K))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=B),x.props=h,x.state=B,x.context=K,h=L):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,Fv(s,a),L=a.memoizedProps,K=a.type===a.elementType?L:xr(a.type,L),x.props=K,oe=a.pendingProps,ie=x.context,B=u.contextType,typeof B=="object"&&B!==null?B=rr(B):(B=In(u)?yo:rn.current,B=Oa(a,B));var pe=u.getDerivedStateFromProps;(se=typeof pe=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==oe||ie!==B)&&cw(a,x,h,B),ps=!1,ie=a.memoizedState,x.state=ie,wd(a,h,x,g);var Ee=a.memoizedState;L!==oe||ie!==Ee||bn.current||ps?(typeof pe=="function"&&(om(a,u,pe,h),Ee=a.memoizedState),(K=ps||lw(a,u,K,h,ie,Ee,B)||!1)?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ee,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ee,B)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Ee),x.props=h,x.state=Ee,x.context=B,h=K):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),h=!1)}return dm(s,a,u,h,w,g)}function dm(s,a,u,h,g,w){ww(s,a);var x=(a.flags&128)!==0;if(!h&&!x)return g&&xv(a,u,!1),Di(s,a,w);h=a.stateNode,Zb.current=a;var L=x&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&x?(a.child=ja(a,s.child,null,w),a.child=ja(a,null,L,w)):gn(s,a,L,w),a.memoizedState=h.state,g&&xv(a,u,!0),a.child}function Tw(s){var a=s.stateNode;a.pendingContext?kv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&kv(s,a.context,!1),Kp(s,a.containerInfo)}function Sw(s,a,u,h,g){return Va(),Bp(g),a.flags|=256,gn(s,a,u,h),a.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function hm(s){return{baseLanes:s,cachePool:null,transitions:null}}function kw(s,a,u){var h=a.pendingProps,g=Et.current,w=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=s!==null&&s.memoizedState===null?!1:(g&2)!==0),L?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),dt(Et,g&1),s===null)return Up(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(x=h.children,s=h.fallback,w?(h=a.mode,w=a.child,x={mode:"hidden",children:x},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=x):w=Bd(x,h,0,null),s=bo(s,h,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=hm(u),a.memoizedState=fm,s):pm(a,x));if(g=s.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return eI(s,a,x,h,L,g,u);if(w){w=h.fallback,x=a.mode,g=s.child,L=g.sibling;var B={mode:"hidden",children:h.children};return!(x&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=B,a.deletions=null):(h=Es(g,B),h.subtreeFlags=g.subtreeFlags&14680064),L!==null?w=Es(L,w):(w=bo(w,x,u,null),w.flags|=2),w.return=a,h.return=a,h.sibling=w,a.child=h,h=w,w=a.child,x=s.child.memoizedState,x=x===null?hm(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~u,a.memoizedState=fm,h}return w=s.child,s=w.sibling,h=Es(w,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function pm(s,a){return a=Bd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Id(s,a,u,h){return h!==null&&Bp(h),ja(a,s.child,null,u),s=pm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function eI(s,a,u,h,g,w,x){if(u)return a.flags&256?(a.flags&=-257,h=lm(Error(t(422))),Id(s,a,x,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=h.fallback,g=a.mode,h=Bd({mode:"visible",children:h.children},g,0,null),w=bo(w,g,x,null),w.flags|=2,h.return=a,w.return=a,h.sibling=w,a.child=h,a.mode&1&&ja(a,s.child,null,x),a.child.memoizedState=hm(x),a.memoizedState=fm,w);if(!(a.mode&1))return Id(s,a,x,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var L=h.dgst;return h=L,w=Error(t(419)),h=lm(w,h,void 0),Id(s,a,x,h)}if(L=(x&s.childLanes)!==0,Dn||L){if(h=Ht,h!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|x)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,bi(s,g),Dr(h,s,g,-1))}return Rm(),h=lm(Error(t(421))),Id(s,a,x,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=hI.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Hn=cs(g.nextSibling),Wn=a,vt=!0,Cr=null,s!==null&&(tr[nr++]=Ci,tr[nr++]=xi,tr[nr++]=_o,Ci=s.id,xi=s.overflow,_o=a),a=pm(a,h.children),a.flags|=4096,a)}function Cw(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),zp(s.return,a,u)}function mm(s,a,u,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function xw(s,a,u){var h=a.pendingProps,g=h.revealOrder,w=h.tail;if(gn(s,a,h.children,u),h=Et.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cw(s,u,a);else if(s.tag===19)Cw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(dt(Et,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Ed(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),mm(a,!1,g,u,w);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ed(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}mm(a,!0,u,null,w);break;case"together":mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Dd(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Di(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),So|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Es(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Es(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function tI(s,a,u){switch(a.tag){case 3:Tw(a),Va();break;case 5:Uv(a);break;case 1:In(a.type)&&dd(a);break;case 4:Kp(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;dt(yd,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(dt(Et,Et.current&1),a.flags|=128,null):u&a.child.childLanes?kw(s,a,u):(dt(Et,Et.current&1),s=Di(s,a,u),s!==null?s.sibling:null);dt(Et,Et.current&1);break;case 19:if(h=(u&a.childLanes)!==0,s.flags&128){if(h)return xw(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),dt(Et,Et.current),h)break;return null;case 22:case 23:return a.lanes=0,vw(s,a,u)}return Di(s,a,u)}var bw,gm,Iw,Dw;bw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},gm=function(){},Iw=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,Eo(Kr.current);var w=null;switch(u){case"input":g=kn(s,g),h=kn(s,h),w=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),w=[];break;case"textarea":g=Js(s,g),h=Js(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ld)}Bl(u,h);var x;u=null;for(K in g)if(!h.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var L=g[K];for(x in L)L.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in h){var B=h[K];if(L=g!=null?g[K]:void 0,h.hasOwnProperty(K)&&B!==L&&(B!=null||L!=null))if(K==="style")if(L){for(x in L)!L.hasOwnProperty(x)||B&&B.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in B)B.hasOwnProperty(x)&&L[x]!==B[x]&&(u||(u={}),u[x]=B[x])}else u||(w||(w=[]),w.push(K,u)),u=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(w=w||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&pt("scroll",s),w||L===B||(w=[])):(w=w||[]).push(K,B))}u&&(w=w||[]).push("style",u);var K=w;(a.updateQueue=K)&&(a.flags|=4)}},Dw=function(s,a,u,h){u!==h&&(a.flags|=4)};function Eu(s,a){if(!vt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function on(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function nI(s,a,u){var h=a.pendingProps;switch(Vp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return In(a.type)&&cd(),on(a),null;case 3:return h=a.stateNode,$a(),mt(bn),mt(rn),Xp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(md(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Cr!==null&&(bm(Cr),Cr=null))),gm(s,a),on(a),null;case 5:Qp(a);var g=Eo(gu.current);if(u=a.type,s!==null&&a.stateNode!=null)Iw(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return on(a),null}if(s=Eo(Kr.current),md(a)){h=a.stateNode,u=a.type;var w=a.memoizedProps;switch(h[Yr]=a,h[du]=w,s=(a.mode&1)!==0,u){case"dialog":pt("cancel",h),pt("close",h);break;case"iframe":case"object":case"embed":pt("load",h);break;case"video":case"audio":for(g=0;g<lu.length;g++)pt(lu[g],h);break;case"source":pt("error",h);break;case"img":case"image":case"link":pt("error",h),pt("load",h);break;case"details":pt("toggle",h);break;case"input":et(h,w),pt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},pt("invalid",h);break;case"textarea":Ji(h,w),pt("invalid",h)}Bl(u,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var L=w[x];x==="children"?typeof L=="string"?h.textContent!==L&&(w.suppressHydrationWarning!==!0&&ad(h.textContent,L,s),g=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(w.suppressHydrationWarning!==!0&&ad(h.textContent,L,s),g=["children",""+L]):i.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&pt("scroll",h)}switch(u){case"input":Tn(h),oa(h,w,!0);break;case"textarea":Tn(h),Zs(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=ld)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ie(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(u,{is:h.is}):(s=x.createElement(u),u==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,u),s[Yr]=a,s[du]=h,bw(s,a,!1,!1),a.stateNode=s;e:{switch(x=$l(u,h),u){case"dialog":pt("cancel",s),pt("close",s),g=h;break;case"iframe":case"object":case"embed":pt("load",s),g=h;break;case"video":case"audio":for(g=0;g<lu.length;g++)pt(lu[g],s);g=h;break;case"source":pt("error",s),g=h;break;case"img":case"image":case"link":pt("error",s),pt("load",s),g=h;break;case"details":pt("toggle",s),g=h;break;case"input":et(s,h),g=kn(s,h),pt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),pt("invalid",s);break;case"textarea":Ji(s,h),g=Js(s,h),pt("invalid",s);break;default:g=h}Bl(u,g),L=g;for(w in L)if(L.hasOwnProperty(w)){var B=L[w];w==="style"?jl(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Fl(s,B)):w==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Zi(s,B):typeof B=="number"&&Zi(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&pt("scroll",s):B!=null&&j(s,w,B,x))}switch(u){case"input":Tn(s),oa(s,h,!1);break;case"textarea":Tn(s),Zs(s);break;case"option":h.value!=null&&s.setAttribute("value",""+He(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?pr(s,!!h.multiple,w,!1):h.defaultValue!=null&&pr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ld)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(s&&a.stateNode!=null)Dw(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=Eo(gu.current),Eo(Kr.current),md(a)){if(h=a.stateNode,u=a.memoizedProps,h[Yr]=a,(w=h.nodeValue!==u)&&(s=Wn,s!==null))switch(s.tag){case 3:ad(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ad(h.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Yr]=a,a.stateNode=h}return on(a),null;case 13:if(mt(Et),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(vt&&Hn!==null&&a.mode&1&&!(a.flags&128))Av(),Va(),a.flags|=98560,w=!1;else if(w=md(a),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Yr]=a}else Va(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;on(a),w=!1}else Cr!==null&&(bm(Cr),Cr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(s===null||Et.current&1?Ut===0&&(Ut=3):Rm())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return $a(),gm(s,a),s===null&&uu(a.stateNode.containerInfo),on(a),null;case 10:return Hp(a.type._context),on(a),null;case 17:return In(a.type)&&cd(),on(a),null;case 19:if(mt(Et),w=a.memoizedState,w===null)return on(a),null;if(h=(a.flags&128)!==0,x=w.rendering,x===null)if(h)Eu(w,!1);else{if(Ut!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(x=Ed(s),x!==null){for(a.flags|=128,Eu(w,!1),h=x.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)w=u,s=h,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return dt(Et,Et.current&1|2),a.child}s=s.sibling}w.tail!==null&&ct()>qa&&(a.flags|=128,h=!0,Eu(w,!1),a.lanes=4194304)}else{if(!h)if(s=Ed(x),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Eu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!vt)return on(a),null}else 2*ct()-w.renderingStartTime>qa&&u!==1073741824&&(a.flags|=128,h=!0,Eu(w,!1),a.lanes=4194304);w.isBackwards?(x.sibling=a.child,a.child=x):(u=w.last,u!==null?u.sibling=x:a.child=x,w.last=x)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ct(),a.sibling=null,u=Et.current,dt(Et,h?u&1|2:u&1),a):(on(a),null);case 22:case 23:return Dm(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?zn&1073741824&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function rI(s,a){switch(Vp(a),a.tag){case 1:return In(a.type)&&cd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $a(),mt(bn),mt(rn),Xp(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Qp(a),null;case 13:if(mt(Et),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return mt(Et),null;case 4:return $a(),null;case 10:return Hp(a.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var Rd=!1,an=!1,iI=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ha(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Ct(s,a,h)}else u.current=null}function ym(s,a,u){try{u()}catch(h){Ct(s,a,h)}}var Rw=!1;function sI(s,a){if(Dp=as,s=lv(),Ep(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var x=0,L=-1,B=-1,K=0,se=0,oe=s,ie=null;t:for(;;){for(var pe;oe!==u||g!==0&&oe.nodeType!==3||(L=x+g),oe!==w||h!==0&&oe.nodeType!==3||(B=x+h),oe.nodeType===3&&(x+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)ie=oe,oe=pe;for(;;){if(oe===s)break t;if(ie===u&&++K===g&&(L=x),ie===w&&++se===h&&(B=x),(pe=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=pe}u=L===-1||B===-1?null:{start:L,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rp={focusedElem:s,selectionRange:u},as=!1,ve=a;ve!==null;)if(a=ve,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ve=s;else for(;ve!==null;){a=ve;try{var Ee=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,Dt=Ee.memoizedState,z=a.stateNode,$=z.getSnapshotBeforeUpdate(a.elementType===a.type?Te:xr(a.type,Te),Dt);z.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Ct(a,a.return,ae)}if(s=a.sibling,s!==null){s.return=a.return,ve=s;break}ve=a.return}return Ee=Rw,Rw=!1,Ee}function Tu(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&ym(a,u,w)}g=g.next}while(g!==h)}}function Pd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function _m(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Pw(s){var a=s.alternate;a!==null&&(s.alternate=null,Pw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Yr],delete a[du],delete a[Mp],delete a[Bb],delete a[$b])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Aw(s){return s.tag===5||s.tag===3||s.tag===4}function Nw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Aw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ld));else if(h!==4&&(s=s.child,s!==null))for(vm(s,a,u),s=s.sibling;s!==null;)vm(s,a,u),s=s.sibling}function wm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(wm(s,a,u),s=s.sibling;s!==null;)wm(s,a,u),s=s.sibling}var Xt=null,br=!1;function gs(s,a,u){for(u=u.child;u!==null;)Mw(s,a,u),u=u.sibling}function Mw(s,a,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(lo,u)}catch{}switch(u.tag){case 5:an||Ha(u,a);case 6:var h=Xt,g=br;Xt=null,gs(s,a,u),Xt=h,br=g,Xt!==null&&(br?(s=Xt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Xt.removeChild(u.stateNode));break;case 18:Xt!==null&&(br?(s=Xt,u=u.stateNode,s.nodeType===8?Np(s.parentNode,u):s.nodeType===1&&Np(s,u),Tr(s)):Np(Xt,u.stateNode));break;case 4:h=Xt,g=br,Xt=u.stateNode.containerInfo,br=!0,gs(s,a,u),Xt=h,br=g;break;case 0:case 11:case 14:case 15:if(!an&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&(w&2||w&4)&&ym(u,a,x),g=g.next}while(g!==h)}gs(s,a,u);break;case 1:if(!an&&(Ha(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(L){Ct(u,a,L)}gs(s,a,u);break;case 21:gs(s,a,u);break;case 22:u.mode&1?(an=(h=an)||u.memoizedState!==null,gs(s,a,u),an=h):gs(s,a,u);break;default:gs(s,a,u)}}function Ow(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new iI),a.forEach(function(h){var g=pI.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Ir(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=s,x=a,L=x;e:for(;L!==null;){switch(L.tag){case 5:Xt=L.stateNode,br=!1;break e;case 3:Xt=L.stateNode.containerInfo,br=!0;break e;case 4:Xt=L.stateNode.containerInfo,br=!0;break e}L=L.return}if(Xt===null)throw Error(t(160));Mw(w,x,g),Xt=null,br=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(K){Ct(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Lw(a,s),a=a.sibling}function Lw(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ir(a,s),Gr(s),h&4){try{Tu(3,s,s.return),Pd(3,s)}catch(Te){Ct(s,s.return,Te)}try{Tu(5,s,s.return)}catch(Te){Ct(s,s.return,Te)}}break;case 1:Ir(a,s),Gr(s),h&512&&u!==null&&Ha(u,u.return);break;case 5:if(Ir(a,s),Gr(s),h&512&&u!==null&&Ha(u,u.return),s.flags&32){var g=s.stateNode;try{Zi(g,"")}catch(Te){Ct(s,s.return,Te)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=u!==null?u.memoizedProps:w,L=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{L==="input"&&w.type==="radio"&&w.name!=null&&jr(g,w),$l(L,x);var K=$l(L,w);for(x=0;x<B.length;x+=2){var se=B[x],oe=B[x+1];se==="style"?jl(g,oe):se==="dangerouslySetInnerHTML"?Fl(g,oe):se==="children"?Zi(g,oe):j(g,se,oe,K)}switch(L){case"input":fr(g,w);break;case"textarea":gi(g,w);break;case"select":var ie=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?pr(g,!!w.multiple,pe,!1):ie!==!!w.multiple&&(w.defaultValue!=null?pr(g,!!w.multiple,w.defaultValue,!0):pr(g,!!w.multiple,w.multiple?[]:"",!1))}g[du]=w}catch(Te){Ct(s,s.return,Te)}}break;case 6:if(Ir(a,s),Gr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Te){Ct(s,s.return,Te)}}break;case 3:if(Ir(a,s),Gr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Tr(a.containerInfo)}catch(Te){Ct(s,s.return,Te)}break;case 4:Ir(a,s),Gr(s);break;case 13:Ir(a,s),Gr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Sm=ct())),h&4&&Ow(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(an=(K=an)||se,Ir(a,s),an=K):Ir(a,s),Gr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!se&&s.mode&1)for(ve=s,se=s.child;se!==null;){for(oe=ve=se;ve!==null;){switch(ie=ve,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Tu(4,ie,ie.return);break;case 1:Ha(ie,ie.return);var Ee=ie.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=ie,u=ie.return;try{a=h,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){Ct(h,u,Te)}}break;case 5:Ha(ie,ie.return);break;case 22:if(ie.memoizedState!==null){jw(oe);continue}}pe!==null?(pe.return=ie,ve=pe):jw(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{g=oe.stateNode,K?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(L=oe.stateNode,B=oe.memoizedProps.style,x=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Vl("display",x))}catch(Te){Ct(s,s.return,Te)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(Te){Ct(s,s.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Ir(a,s),Gr(s),h&4&&Ow(s);break;case 21:break;default:Ir(a,s),Gr(s)}}function Gr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Aw(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Zi(g,""),h.flags&=-33);var w=Nw(s);wm(s,w,g);break;case 3:case 4:var x=h.stateNode.containerInfo,L=Nw(s);vm(s,L,x);break;default:throw Error(t(161))}}catch(B){Ct(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function oI(s,a,u){ve=s,Fw(s)}function Fw(s,a,u){for(var h=(s.mode&1)!==0;ve!==null;){var g=ve,w=g.child;if(g.tag===22&&h){var x=g.memoizedState!==null||Rd;if(!x){var L=g.alternate,B=L!==null&&L.memoizedState!==null||an;L=Rd;var K=an;if(Rd=x,(an=B)&&!K)for(ve=g;ve!==null;)x=ve,B=x.child,x.tag===22&&x.memoizedState!==null?Uw(g):B!==null?(B.return=x,ve=B):Uw(g);for(;w!==null;)ve=w,Fw(w),w=w.sibling;ve=g,Rd=L,an=K}Vw(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ve=w):Vw(s)}}function Vw(s){for(;ve!==null;){var a=ve;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:an||Pd(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!an)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:xr(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&jv(a,w,h);break;case 3:var x=a.updateQueue;if(x!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}jv(a,x,u)}break;case 5:var L=a.stateNode;if(u===null&&a.flags&4){u=L;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Tr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||a.flags&512&&_m(a)}catch(ie){Ct(a,a.return,ie)}}if(a===s){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function jw(s){for(;ve!==null;){var a=ve;if(a===s){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function Uw(s){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Pd(4,a)}catch(B){Ct(a,u,B)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(B){Ct(a,g,B)}}var w=a.return;try{_m(a)}catch(B){Ct(a,w,B)}break;case 5:var x=a.return;try{_m(a)}catch(B){Ct(a,x,B)}}}catch(B){Ct(a,a.return,B)}if(a===s){ve=null;break}var L=a.sibling;if(L!==null){L.return=a.return,ve=L;break}ve=a.return}}var aI=Math.ceil,Ad=q.ReactCurrentDispatcher,Em=q.ReactCurrentOwner,sr=q.ReactCurrentBatchConfig,Ge=0,Ht=null,Mt=null,Jt=0,zn=0,za=ds(0),Ut=0,Su=null,So=0,Nd=0,Tm=0,ku=null,Rn=null,Sm=0,qa=1/0,Ri=null,Md=!1,km=null,ys=null,Od=!1,_s=null,Ld=0,Cu=0,Cm=null,Fd=-1,Vd=0;function yn(){return Ge&6?ct():Fd!==-1?Fd:Fd=ct()}function vs(s){return s.mode&1?Ge&2&&Jt!==0?Jt&-Jt:Hb.transition!==null?(Vd===0&&(Vd=co()),Vd):(s=ze,s!==0||(s=window.event,s=s===void 0?16:Zl(s.type)),s):1}function Dr(s,a,u,h){if(50<Cu)throw Cu=0,Cm=null,Error(t(185));rs(s,u,h),(!(Ge&2)||s!==Ht)&&(s===Ht&&(!(Ge&2)&&(Nd|=u),Ut===4&&ws(s,Jt)),Pn(s,h),u===1&&Ge===0&&!(a.mode&1)&&(qa=ct()+500,fd&&hs()))}function Pn(s,a){var u=s.callbackNode;_i(s,a);var h=uo(s,s===Ht?Jt:0);if(h===0)u!==null&&Kl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&Kl(u),a===1)s.tag===0?Wb($w.bind(null,s)):bv($w.bind(null,s)),jb(function(){!(Ge&6)&&hs()}),u=null;else{switch(ss(h)){case 1:u=ao;break;case 4:u=es;break;case 16:u=Jn;break;case 536870912:u=Vc;break;default:u=Jn}u=Gw(u,Bw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Bw(s,a){if(Fd=-1,Vd=0,Ge&6)throw Error(t(327));var u=s.callbackNode;if(Ya()&&s.callbackNode!==u)return null;var h=uo(s,s===Ht?Jt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||a)a=jd(s,h);else{a=h;var g=Ge;Ge|=2;var w=Hw();(Ht!==s||Jt!==a)&&(Ri=null,qa=ct()+500,Co(s,a));do try{cI();break}catch(L){Ww(s,L)}while(!0);Wp(),Ad.current=w,Ge=g,Mt!==null?a=0:(Ht=null,Jt=0,a=Ut)}if(a!==0){if(a===2&&(g=Un(s),g!==0&&(h=g,a=xm(s,g))),a===1)throw u=Su,Co(s,0),ws(s,h),Pn(s,ct()),u;if(a===6)ws(s,h);else{if(g=s.current.alternate,!(h&30)&&!lI(g)&&(a=jd(s,h),a===2&&(w=Un(s),w!==0&&(h=w,a=xm(s,w))),a===1))throw u=Su,Co(s,0),ws(s,h),Pn(s,ct()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:xo(s,Rn,Ri);break;case 3:if(ws(s,h),(h&130023424)===h&&(a=Sm+500-ct(),10<a)){if(uo(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){yn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ap(xo.bind(null,s,Rn,Ri),a);break}xo(s,Rn,Ri);break;case 4:if(ws(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var x=31-pn(h);w=1<<x,x=a[x],x>g&&(g=x),h&=~w}if(h=g,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*aI(h/1960))-h,10<h){s.timeoutHandle=Ap(xo.bind(null,s,Rn,Ri),h);break}xo(s,Rn,Ri);break;case 5:xo(s,Rn,Ri);break;default:throw Error(t(329))}}}return Pn(s,ct()),s.callbackNode===u?Bw.bind(null,s):null}function xm(s,a){var u=ku;return s.current.memoizedState.isDehydrated&&(Co(s,a).flags|=256),s=jd(s,a),s!==2&&(a=Rn,Rn=u,a!==null&&bm(a)),s}function bm(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function lI(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!kr(w(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ws(s,a){for(a&=~Tm,a&=~Nd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-pn(a),h=1<<u;s[u]=-1,a&=~h}}function $w(s){if(Ge&6)throw Error(t(327));Ya();var a=uo(s,0);if(!(a&1))return Pn(s,ct()),null;var u=jd(s,a);if(s.tag!==0&&u===2){var h=Un(s);h!==0&&(a=h,u=xm(s,h))}if(u===1)throw u=Su,Co(s,0),ws(s,a),Pn(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,xo(s,Rn,Ri),Pn(s,ct()),null}function Im(s,a){var u=Ge;Ge|=1;try{return s(a)}finally{Ge=u,Ge===0&&(qa=ct()+500,fd&&hs())}}function ko(s){_s!==null&&_s.tag===0&&!(Ge&6)&&Ya();var a=Ge;Ge|=1;var u=sr.transition,h=ze;try{if(sr.transition=null,ze=1,s)return s()}finally{ze=h,sr.transition=u,Ge=a,!(Ge&6)&&hs()}}function Dm(){zn=za.current,mt(za)}function Co(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Vb(u)),Mt!==null)for(u=Mt.return;u!==null;){var h=u;switch(Vp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cd();break;case 3:$a(),mt(bn),mt(rn),Xp();break;case 5:Qp(h);break;case 4:$a();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:Hp(h.type._context);break;case 22:case 23:Dm()}u=u.return}if(Ht=s,Mt=s=Es(s.current,null),Jt=zn=a,Ut=0,Su=null,Tm=Nd=So=0,Rn=ku=null,wo!==null){for(a=0;a<wo.length;a++)if(u=wo[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var x=w.next;w.next=g,h.next=x}u.pending=h}wo=null}return s}function Ww(s,a){do{var u=Mt;try{if(Wp(),Td.current=xd,Sd){for(var h=Tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Sd=!1}if(To=0,Wt=jt=Tt=null,yu=!1,_u=0,Em.current=null,u===null||u.return===null){Ut=1,Su=a,Mt=null;break}e:{var w=s,x=u.return,L=u,B=a;if(a=Jt,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,se=L,oe=se.tag;if(!(se.mode&1)&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=pw(x);if(pe!==null){pe.flags&=-257,mw(pe,x,L,w,a),pe.mode&1&&hw(w,K,a),a=pe,B=K;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(B),a.updateQueue=Te}else Ee.add(B);break e}else{if(!(a&1)){hw(w,K,a),Rm();break e}B=Error(t(426))}}else if(vt&&L.mode&1){var Dt=pw(x);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),mw(Dt,x,L,w,a),Bp(Wa(B,L));break e}}w=B=Wa(B,L),Ut!==4&&(Ut=2),ku===null?ku=[w]:ku.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var z=dw(w,B,a);Vv(w,z);break e;case 1:L=B;var $=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof $.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ys===null||!ys.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var ae=fw(w,L,a);Vv(w,ae);break e}}w=w.return}while(w!==null)}qw(u)}catch(Se){a=Se,Mt===u&&u!==null&&(Mt=u=u.return);continue}break}while(!0)}function Hw(){var s=Ad.current;return Ad.current=xd,s===null?xd:s}function Rm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||!(So&268435455)&&!(Nd&268435455)||ws(Ht,Jt)}function jd(s,a){var u=Ge;Ge|=2;var h=Hw();(Ht!==s||Jt!==a)&&(Ri=null,Co(s,a));do try{uI();break}catch(g){Ww(s,g)}while(!0);if(Wp(),Ge=u,Ad.current=h,Mt!==null)throw Error(t(261));return Ht=null,Jt=0,Ut}function uI(){for(;Mt!==null;)zw(Mt)}function cI(){for(;Mt!==null&&!Lc();)zw(Mt)}function zw(s){var a=Qw(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?qw(s):Mt=a,Em.current=null}function qw(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=rI(u,a),u!==null){u.flags&=32767,Mt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,Mt=null;return}}else if(u=nI(u,a,zn),u!==null){Mt=u;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);Ut===0&&(Ut=5)}function xo(s,a,u){var h=ze,g=sr.transition;try{sr.transition=null,ze=1,dI(s,a,u,h)}finally{sr.transition=g,ze=h}return null}function dI(s,a,u,h){do Ya();while(_s!==null);if(Ge&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(lt(s,w),s===Ht&&(Mt=Ht=null,Jt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Od||(Od=!0,Gw(Jn,function(){return Ya(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=sr.transition,sr.transition=null;var x=ze;ze=1;var L=Ge;Ge|=4,Em.current=null,sI(s,u),Lw(u,s),Pb(Rp),as=!!Dp,Rp=Dp=null,s.current=u,oI(u),hp(),Ge=L,ze=x,sr.transition=w}else s.current=u;if(Od&&(Od=!1,_s=s,Ld=g),w=s.pendingLanes,w===0&&(ys=null),jc(u.stateNode),Pn(s,ct()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(Md)throw Md=!1,s=km,km=null,s;return Ld&1&&s.tag!==0&&Ya(),w=s.pendingLanes,w&1?s===Cm?Cu++:(Cu=0,Cm=s):Cu=0,hs(),null}function Ya(){if(_s!==null){var s=ss(Ld),a=sr.transition,u=ze;try{if(sr.transition=null,ze=16>s?16:s,_s===null)var h=!1;else{if(s=_s,_s=null,Ld=0,Ge&6)throw Error(t(331));var g=Ge;for(Ge|=4,ve=s.current;ve!==null;){var w=ve,x=w.child;if(ve.flags&16){var L=w.deletions;if(L!==null){for(var B=0;B<L.length;B++){var K=L[B];for(ve=K;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:Tu(8,se,w)}var oe=se.child;if(oe!==null)oe.return=se,ve=oe;else for(;ve!==null;){se=ve;var ie=se.sibling,pe=se.return;if(Pw(se),se===K){ve=null;break}if(ie!==null){ie.return=pe,ve=ie;break}ve=pe}}}var Ee=w.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var Dt=Te.sibling;Te.sibling=null,Te=Dt}while(Te!==null)}}ve=w}}if(w.subtreeFlags&2064&&x!==null)x.return=w,ve=x;else e:for(;ve!==null;){if(w=ve,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Tu(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,ve=z;break e}ve=w.return}}var $=s.current;for(ve=$;ve!==null;){x=ve;var Y=x.child;if(x.subtreeFlags&2064&&Y!==null)Y.return=x,ve=Y;else e:for(x=$;ve!==null;){if(L=ve,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Pd(9,L)}}catch(Se){Ct(L,L.return,Se)}if(L===x){ve=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,ve=ae;break e}ve=L.return}}if(Ge=g,hs(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(lo,s)}catch{}h=!0}return h}finally{ze=u,sr.transition=a}}return!1}function Yw(s,a,u){a=Wa(u,a),a=dw(s,a,1),s=ms(s,a,1),a=yn(),s!==null&&(rs(s,1,a),Pn(s,a))}function Ct(s,a,u){if(s.tag===3)Yw(s,s,u);else for(;a!==null;){if(a.tag===3){Yw(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ys===null||!ys.has(h))){s=Wa(u,s),s=fw(a,s,1),a=ms(a,s,1),s=yn(),a!==null&&(rs(a,1,s),Pn(a,s));break}}a=a.return}}function fI(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=yn(),s.pingedLanes|=s.suspendedLanes&u,Ht===s&&(Jt&u)===u&&(Ut===4||Ut===3&&(Jt&130023424)===Jt&&500>ct()-Sm?Co(s,0):Tm|=u),Pn(s,a)}function Kw(s,a){a===0&&(s.mode&1?(a=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):a=1);var u=yn();s=bi(s,a),s!==null&&(rs(s,a,u),Pn(s,u))}function hI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Kw(s,u)}function pI(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),Kw(s,u)}var Qw;Qw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||bn.current)Dn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return Dn=!1,tI(s,a,u);Dn=!!(s.flags&131072)}else Dn=!1,vt&&a.flags&1048576&&Iv(a,pd,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Dd(s,a),s=a.pendingProps;var g=Oa(a,rn.current);Ba(a,u),g=em(null,a,h,s,g,u);var w=tm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,In(h)?(w=!0,dd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Yp(a),g.updater=bd,a.stateNode=g,g._reactInternals=a,am(a,h,s,u),a=dm(null,a,h,!0,w,u)):(a.tag=0,vt&&w&&Fp(a),gn(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(Dd(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=gI(h),s=xr(h,s),g){case 0:a=cm(null,a,h,s,u);break e;case 1:a=Ew(null,a,h,s,u);break e;case 11:a=gw(null,a,h,s,u);break e;case 14:a=yw(null,a,h,xr(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:xr(h,g),cm(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:xr(h,g),Ew(s,a,h,g,u);case 3:e:{if(Tw(a),s===null)throw Error(t(387));h=a.pendingProps,w=a.memoizedState,g=w.element,Fv(s,a),wd(a,h,null,u);var x=a.memoizedState;if(h=x.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=Wa(Error(t(423)),a),a=Sw(s,a,h,u,g);break e}else if(h!==g){g=Wa(Error(t(424)),a),a=Sw(s,a,h,u,g);break e}else for(Hn=cs(a.stateNode.containerInfo.firstChild),Wn=a,vt=!0,Cr=null,u=Ov(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Va(),h===g){a=Di(s,a,u);break e}gn(s,a,h,u)}a=a.child}return a;case 5:return Uv(a),s===null&&Up(a),h=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,Pp(h,g)?x=null:w!==null&&Pp(h,w)&&(a.flags|=32),ww(s,a),gn(s,a,x,u),a.child;case 6:return s===null&&Up(a),null;case 13:return kw(s,a,u);case 4:return Kp(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ja(a,null,h,u):gn(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:xr(h,g),gw(s,a,h,g,u);case 7:return gn(s,a,a.pendingProps,u),a.child;case 8:return gn(s,a,a.pendingProps.children,u),a.child;case 12:return gn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,w=a.memoizedProps,x=g.value,dt(yd,h._currentValue),h._currentValue=x,w!==null)if(kr(w.value,x)){if(w.children===g.children&&!bn.current){a=Di(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var L=w.dependencies;if(L!==null){x=w.child;for(var B=L.firstContext;B!==null;){if(B.context===h){if(w.tag===1){B=Ii(-1,u&-u),B.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?B.next=B:(B.next=se.next,se.next=B),K.pending=B}}w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),zp(w.return,u,a),L.lanes|=u;break}B=B.next}}else if(w.tag===10)x=w.type===a.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(t(341));x.lanes|=u,L=x.alternate,L!==null&&(L.lanes|=u),zp(x,u,a),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===a){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}gn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Ba(a,u),g=rr(g),h=h(g),a.flags|=1,gn(s,a,h,u),a.child;case 14:return h=a.type,g=xr(h,a.pendingProps),g=xr(h.type,g),yw(s,a,h,g,u);case 15:return _w(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:xr(h,g),Dd(s,a),a.tag=1,In(h)?(s=!0,dd(a)):s=!1,Ba(a,u),uw(a,h,g),am(a,h,g,u),dm(null,a,h,!0,s,u);case 19:return xw(s,a,u);case 22:return vw(s,a,u)}throw Error(t(156,a.tag))};function Gw(s,a){return pa(s,a)}function mI(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(s,a,u,h){return new mI(s,a,u,h)}function Pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gI(s){if(typeof s=="function")return Pm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===De)return 14}return 2}function Es(s,a){var u=s.alternate;return u===null?(u=or(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ud(s,a,u,h,g,w){var x=2;if(h=s,typeof s=="function")Pm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case A:return bo(u.children,g,w,a);case D:x=8,g|=8;break;case P:return s=or(12,u,a,g|2),s.elementType=P,s.lanes=w,s;case M:return s=or(13,u,a,g),s.elementType=M,s.lanes=w,s;case ke:return s=or(19,u,a,g),s.elementType=ke,s.lanes=w,s;case de:return Bd(u,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:x=10;break e;case V:x=9;break e;case U:x=11;break e;case De:x=14;break e;case he:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=or(x,u,a,g),a.elementType=s,a.type=h,a.lanes=w,a}function bo(s,a,u,h){return s=or(7,s,h,a),s.lanes=u,s}function Bd(s,a,u,h){return s=or(22,s,h,a),s.elementType=de,s.lanes=u,s.stateNode={isHidden:!1},s}function Am(s,a,u){return s=or(6,s,null,a),s.lanes=u,s}function Nm(s,a,u){return a=or(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function yI(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Mm(s,a,u,h,g,w,x,L,B){return s=new yI(s,a,u,L,B),a===1?(a=1,w===!0&&(a|=8)):a=0,w=or(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(w),s}function _I(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function Xw(s){if(!s)return fs;s=s._reactInternals;e:{if(yr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(In(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(In(u))return Cv(s,u,a)}return a}function Jw(s,a,u,h,g,w,x,L,B){return s=Mm(u,h,!0,s,g,w,x,L,B),s.context=Xw(null),u=s.current,h=yn(),g=vs(u),w=Ii(h,g),w.callback=a??null,ms(u,w,g),s.current.lanes=g,rs(s,g,h),Pn(s,h),s}function $d(s,a,u,h){var g=a.current,w=yn(),x=vs(g);return u=Xw(u),a.context===null?a.context=u:a.pendingContext=u,a=Ii(w,x),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=ms(g,a,x),s!==null&&(Dr(s,g,x,w),vd(s,g,x)),x}function Wd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Zw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Om(s,a){Zw(s,a),(s=s.alternate)&&Zw(s,a)}var eE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lm(s){this._internalRoot=s}Hd.prototype.render=Lm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));$d(s,a,null,null)},Hd.prototype.unmount=Lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ko(function(){$d(null,s,null,null)}),a[Si]=null}};function Hd(s){this._internalRoot=s}Hd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Hc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Wr.length&&a!==0&&a<Wr[u].priority;u++);Wr.splice(u,0,s),u===0&&Yc(s)}};function Fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function tE(){}function vI(s,a,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var K=Wd(x);w.call(K)}}var x=Jw(a,h,s,0,null,!1,!1,"",tE);return s._reactRootContainer=x,s[Si]=x.current,uu(s.nodeType===8?s.parentNode:s),ko(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var L=h;h=function(){var K=Wd(B);L.call(K)}}var B=Mm(s,0,!1,null,null,!1,!1,"",tE);return s._reactRootContainer=B,s[Si]=B.current,uu(s.nodeType===8?s.parentNode:s),ko(function(){$d(a,B,u,h)}),B}function qd(s,a,u,h,g){var w=u._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var L=g;g=function(){var B=Wd(x);L.call(B)}}$d(a,x,s,g)}else x=vI(u,a,s,g,h);return Wd(x)}$c=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ts(a.pendingLanes);u!==0&&(is(a,u|1),Pn(a,ct()),!(Ge&6)&&(qa=ct()+500,hs()))}break;case 13:ko(function(){var h=bi(s,1);if(h!==null){var g=yn();Dr(h,s,1,g)}}),Om(s,1)}},ya=function(s){if(s.tag===13){var a=bi(s,134217728);if(a!==null){var u=yn();Dr(a,s,134217728,u)}Om(s,134217728)}},Wc=function(s){if(s.tag===13){var a=vs(s),u=bi(s,a);if(u!==null){var h=yn();Dr(u,s,a,h)}Om(s,a)}},Hc=function(){return ze},zc=function(s,a){var u=ze;try{return ze=s,a()}finally{ze=u}},la=function(s,a,u){switch(a){case"input":if(fr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=ud(h);if(!g)throw Error(t(90));Vn(h),fr(h,g)}}}break;case"textarea":gi(s,u);break;case"select":a=u.value,a!=null&&pr(s,!!u.multiple,a,!1)}},ro=Im,Hl=ko;var wI={usingClientEntryPoint:!1,Events:[fu,Na,ud,Br,Wl,Im]},xu={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EI={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Yl(s),s===null?null:s.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{lo=Yd.inject(EI),jn=Yd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI,An.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(a))throw Error(t(200));return _I(s,a,null,u)},An.createRoot=function(s,a){if(!Fm(s))throw Error(t(299));var u=!1,h="",g=eE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Mm(s,1,!1,null,null,u,!1,h,g),s[Si]=a.current,uu(s.nodeType===8?s.parentNode:s),new Lm(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Yl(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return ko(s)},An.hydrate=function(s,a,u){if(!zd(a))throw Error(t(200));return qd(null,s,a,!0,u)},An.hydrateRoot=function(s,a,u){if(!Fm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",x=eE;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),a=Jw(a,null,s,1,u??null,g,!1,w,x),s[Si]=a.current,uu(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Hd(a)},An.render=function(s,a,u){if(!zd(a))throw Error(t(200));return qd(null,s,a,!1,u)},An.unmountComponentAtNode=function(s){if(!zd(s))throw Error(t(40));return s._reactRootContainer?(ko(function(){qd(null,null,s,!1,function(){s._reactRootContainer=null,s[Si]=null})}),!0):!1},An.unstable_batchedUpdates=Im,An.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!zd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return qd(s,a,u,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var uE;function XS(){if(uE)return Um.exports;uE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Um.exports=AI(),Um.exports}var cE;function NI(){if(cE)return Kd;cE=1;var r=XS();return Kd.createRoot=r.createRoot,Kd.hydrateRoot=r.hydrateRoot,Kd}var MI=NI(),Iu={},dE;function OI(){if(dE)return Iu;dE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=l,Iu.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const k=new o,I=_.length;if(I<2)return k;const b=(T==null?void 0:T.decode)||m;let N=0;do{const F=_.indexOf("=",N);if(F===-1)break;const j=_.indexOf(";",N),q=j===-1?I:j;if(F>q){N=_.lastIndexOf(";",F-1)+1;continue}const J=c(_,N,F),Z=d(_,F,J),A=_.slice(J,Z);if(k[A]===void 0){let D=c(_,F+1,q),P=d(_,q,D);const O=b(_.slice(D,P));k[A]=O}N=q+1}while(N<I);return k}function c(_,T,k){do{const I=_.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<k);return k}function d(_,T,k){for(;T>k;){const I=_.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return k}function p(_,T,k){const I=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=I(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let N=_+"="+b;if(!k)return N;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);N+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);N+="; Domain="+k.domain}if(k.path){if(!n.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);N+="; Path="+k.path}if(k.expires){if(!y(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);N+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(N+="; HttpOnly"),k.secure&&(N+="; Secure"),k.partitioned&&(N+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return N}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Iu}OI();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fE="popstate";function LI(r={}){function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return Ig("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Xu(i)}return VI(e,t,null,r)}function wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substring(2,10)}function hE(r,e){return{usr:r.state,key:r.key,idx:e}}function Ig(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?kl(e):e,state:t,key:e&&e.key||n||FI()}}function Xu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function kl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function VI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let b=m(),N=b==null?null:b-p;p=b,d&&d({action:c,location:I.location,delta:N})}function _(b,N){c="PUSH";let F=Ig(I.location,b,N);p=m()+1;let j=hE(F,p),q=I.createHref(F);try{l.pushState(j,"",q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(q)}o&&d&&d({action:c,location:I.location,delta:1})}function T(b,N){c="REPLACE";let F=Ig(I.location,b,N);p=m();let j=hE(F,p),q=I.createHref(F);l.replaceState(j,"",q),o&&d&&d({action:c,location:I.location,delta:0})}function k(b){let N=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof b=="string"?b:Xu(b);return F=F.replace(/ $/,"%20"),wt(N,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,N)}let I={get action(){return c},get location(){return r(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(fE,y),d=b,()=>{i.removeEventListener(fE,y),d=null}},createHref(b){return e(i,b)},createURL:k,encodeLocation(b){let N=k(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:T,go(b){return l.go(b)}};return I}function JS(r,e,t="/"){return jI(r,e,t,!1)}function jI(r,e,t,n){let i=typeof e=="string"?kl(e):e,o=js(i.pathname||"/",t);if(o==null)return null;let l=ZS(r);UI(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=XI(o);c=QI(l[d],p,n)}return c}function ZS(r,e=[],t=[],n=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=Oi([n,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ZS(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:YI(p,o.index),routesMeta:m})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of ek(o.path))i(o,l,d)}),e}function ek(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=ek(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function UI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:KI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var BI=/^:[\w-]+$/,$I=3,WI=2,HI=1,zI=10,qI=-2,pE=r=>r==="*";function YI(r,e){let t=r.split("/"),n=t.length;return t.some(pE)&&(n+=qI),e&&(n+=WI),t.filter(i=>!pE(i)).reduce((i,o)=>i+(BI.test(o)?$I:o===""?HI:zI),n)}function KI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function QI(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Mf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=Mf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Oi([o,y.pathname]),pathnameBase:tD(Oi([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Oi([o,y.pathnameBase]))}return l}function Mf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=GI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:y},_)=>{if(m==="*"){let k=c[_]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const T=c[_];return y&&!T?p[m]=void 0:p[m]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:r}}function GI(r,e=!1,t=!0){Pr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function XI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function js(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function JI(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?kl(r):r;return{pathname:t?t.startsWith("/")?t:ZI(t,e):e,search:nD(n),hash:rD(i)}}function ZI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ey(r){let e=eD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Ty(r,e,t,n=!1){let i;typeof r=="string"?i=kl(r):(i={...r},wt(!i.pathname||!i.pathname.includes("?"),Wm("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Wm("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Wm("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=JI(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),tD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function iD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tk=["POST","PUT","PATCH","DELETE"];new Set(tk);var sD=["GET",...tk];new Set(sD);var Cl=C.createContext(null);Cl.displayName="DataRouter";var wh=C.createContext(null);wh.displayName="DataRouterState";var nk=C.createContext({isTransitioning:!1});nk.displayName="ViewTransition";var oD=C.createContext(new Map);oD.displayName="Fetchers";var aD=C.createContext(null);aD.displayName="Await";var Or=C.createContext(null);Or.displayName="Navigation";var fc=C.createContext(null);fc.displayName="Location";var Lr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Sy=C.createContext(null);Sy.displayName="RouteError";function lD(r,{relative:e}={}){wt(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=C.useContext(Or),{hash:i,pathname:o,search:l}=pc(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),n.createHref({pathname:c,search:l,hash:i})}function xl(){return C.useContext(fc)!=null}function Ys(){return wt(xl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(fc).location}var rk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ik(r){C.useContext(Or).static||C.useLayoutEffect(r)}function hc(){let{isDataRoute:r}=C.useContext(Lr);return r?ED():uD()}function uD(){wt(xl(),"useNavigate() may be used only in the context of a <Router> component.");let r=C.useContext(Cl),{basename:e,navigator:t}=C.useContext(Or),{matches:n}=C.useContext(Lr),{pathname:i}=Ys(),o=JSON.stringify(Ey(n)),l=C.useRef(!1);return ik(()=>{l.current=!0}),C.useCallback((d,p={})=>{if(Pr(l.current,rk),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Ty(d,JSON.parse(o),i,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,r])}C.createContext(null);function ky(){let{matches:r}=C.useContext(Lr),e=r[r.length-1];return e?e.params:{}}function pc(r,{relative:e}={}){let{matches:t}=C.useContext(Lr),{pathname:n}=Ys(),i=JSON.stringify(Ey(t));return C.useMemo(()=>Ty(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function cD(r,e){return sk(r,e)}function sk(r,e,t,n){var N;wt(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Or),{matches:o}=C.useContext(Lr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let F=m&&m.path||"";ok(d,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Ys(),_;if(e){let F=typeof e=="string"?kl(e):e;wt(p==="/"||((N=F.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),_=F}else _=y;let T=_.pathname||"/",k=T;if(p!=="/"){let F=p.replace(/^\//,"").split("/");k="/"+T.replace(/^\//,"").split("/").slice(F.length).join("/")}let I=JS(r,{pathname:k});Pr(m||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Pr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=mD(I&&I.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:Oi([p,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Oi([p,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),o,t,n);return e&&b?C.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},b):b}function dD(){let r=wD(),e=iD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,l)}var fD=C.createElement(dD,null),hD=class extends C.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?C.createElement(Lr.Provider,{value:this.props.routeContext},C.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pD({routeContext:r,match:e,children:t}){let n=C.useContext(Cl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Lr.Provider,{value:r},t)}function mD(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:y}=t,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let y,_=!1,T=null,k=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||fD,l&&(c<0&&m===0?(ok("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,k=null):c===m&&(_=!0,k=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),b=()=>{let N;return y?N=T:_?N=k:p.route.Component?N=C.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,C.createElement(pD,{match:p,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?C.createElement(hD,{location:t.location,revalidation:t.revalidation,component:T,error:y,children:b(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):b()},null)}function Cy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gD(r){let e=C.useContext(Cl);return wt(e,Cy(r)),e}function yD(r){let e=C.useContext(wh);return wt(e,Cy(r)),e}function _D(r){let e=C.useContext(Lr);return wt(e,Cy(r)),e}function xy(r){let e=_D(r),t=e.matches[e.matches.length-1];return wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vD(){return xy("useRouteId")}function wD(){var n;let r=C.useContext(Sy),e=yD("useRouteError"),t=xy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function ED(){let{router:r}=gD("useNavigate"),e=xy("useNavigate"),t=C.useRef(!1);return ik(()=>{t.current=!0}),C.useCallback(async(i,o={})=>{Pr(t.current,rk),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var mE={};function ok(r,e,t){!e&&!mE[r]&&(mE[r]=!0,Pr(!1,t))}C.memo(TD);function TD({routes:r,future:e,state:t}){return sk(r,void 0,t,e)}function gE({to:r,replace:e,state:t,relative:n}){wt(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Or);Pr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(Lr),{pathname:l}=Ys(),c=hc(),d=Ty(r,Ey(o),l,n==="path"),p=JSON.stringify(d);return C.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:n})},[c,p,n,e,t]),null}function Jr(r){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SD({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){wt(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=kl(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:_="default"}=t,T=C.useMemo(()=>{let k=js(d,l);return k==null?null:{location:{pathname:k,search:p,hash:m,state:y,key:_},navigationType:n}},[l,d,p,m,y,_,n]);return Pr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:C.createElement(Or.Provider,{value:c},C.createElement(fc.Provider,{children:e,value:T}))}function kD({children:r,location:e}){return cD(Dg(r),e)}function Dg(r,e=[]){let t=[];return C.Children.forEach(r,(n,i)=>{if(!C.isValidElement(n))return;let o=[...e,i];if(n.type===C.Fragment){t.push.apply(t,Dg(n.props.children,o));return}wt(n.type===Jr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Dg(n.props.children,o)),t.push(l)}),t}var ff="get",hf="application/x-www-form-urlencoded";function Eh(r){return r!=null&&typeof r.tagName=="string"}function CD(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function xD(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function bD(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function ID(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DD(r,e){return r.button===0&&(!e||e==="_self")&&!ID(r)}var Qd=null;function RD(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var PD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(r){return r!=null&&!PD.has(r)?(Pr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):r}function AD(r,e){let t,n,i,o,l;if(xD(r)){let c=r.getAttribute("action");n=c?js(c,e):null,t=r.getAttribute("method")||ff,i=Hm(r.getAttribute("enctype"))||hf,o=new FormData(r)}else if(CD(r)||bD(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?js(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||ff,i=Hm(r.getAttribute("formenctype"))||Hm(c.getAttribute("enctype"))||hf,o=new FormData(c,r),!RD()){let{name:p,type:m,value:y}=r;if(m==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,y)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,n=null,i=hf,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function by(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ND(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function OD(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await ND(o,t);return l.links?l.links():[]}return[]}));return jD(n.flat(1).filter(MD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yE(r,e,t,n,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,c=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?e.filter((d,p)=>{var y;let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function LD(r,e){return FD(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function FD(r){return[...new Set(r)]}function VD(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function jD(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(VD(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function UD(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function BD(){let r=C.useContext(Cl);return by(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $D(){let r=C.useContext(wh);return by(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Iy=C.createContext(void 0);Iy.displayName="FrameworkContext";function ak(){let r=C.useContext(Iy);return by(r,"You must render this element inside a <HydratedRouter> element"),r}function WD(r,e){let t=C.useContext(Iy),[n,i]=C.useState(!1),[o,l]=C.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let I=N=>{N.forEach(F=>{l(F.isIntersecting)})},b=new IntersectionObserver(I,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[r]),C.useEffect(()=>{if(n){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[n]);let T=()=>{i(!0)},k=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,_,{}]:[o,_,{onFocus:Du(c,T),onBlur:Du(d,k),onMouseEnter:Du(p,T),onMouseLeave:Du(m,k),onTouchStart:Du(y,T)}]:[!1,_,{}]}function Du(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function HD({page:r,...e}){let{router:t}=BD(),n=C.useMemo(()=>JS(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?C.createElement(qD,{page:r,matches:n,...e}):null}function zD(r){let{manifest:e,routeModules:t}=ak(),[n,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return OD(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function qD({page:r,matches:e,...t}){let n=Ys(),{manifest:i,routeModules:o}=ak(),{loaderData:l,matches:c}=$D(),d=C.useMemo(()=>yE(r,e,c,i,n,"data"),[r,e,c,i,n]),p=C.useMemo(()=>yE(r,e,c,i,n,"assets"),[r,e,c,i,n]),m=C.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,k=!1;if(e.forEach(b=>{var F;let N=i.routes[b.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===b.route.id)&&b.route.id in l&&((F=o[b.route.id])!=null&&F.shouldRevalidate)||N.hasClientLoader?k=!0:T.add(b.route.id))}),T.size===0)return[];let I=UD(r);return k&&T.size>0&&I.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[I.pathname+I.search]},[l,n,i,d,e,r,o]),y=C.useMemo(()=>LD(p,i),[p,i]),_=zD(p);return C.createElement(C.Fragment,null,m.map(T=>C.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),y.map(T=>C.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:k})=>C.createElement("link",{key:T,...k})))}function YD(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lk&&(window.__reactRouterVersion="7.1.3")}catch{}function KD({basename:r,children:e,window:t}){let n=C.useRef();n.current==null&&(n.current=LI({window:t,v5Compat:!0}));let i=n.current,[o,l]=C.useState({action:i.action,location:i.location}),c=C.useCallback(d=>{C.startTransition(()=>l(d))},[l]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(SD,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qo=C.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:y,..._},T){let{basename:k}=C.useContext(Or),I=typeof p=="string"&&uk.test(p),b,N=!1;if(typeof p=="string"&&I&&(b=p,lk))try{let P=new URL(window.location.href),O=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=js(O.pathname,k);O.origin===P.origin&&V!=null?p=V+O.search+O.hash:N=!0}catch{Pr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=lD(p,{relative:i}),[j,q,J]=WD(n,_),Z=XD(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function A(P){e&&e(P),P.defaultPrevented||Z(P)}let D=C.createElement("a",{..._,...J,href:b||F,onClick:N||o?e:A,ref:YD(T,q),target:d,"data-discover":!I&&t==="render"?"true":void 0});return j&&!I?C.createElement(C.Fragment,null,D,C.createElement(HD,{page:F})):D});qo.displayName="Link";var Do=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...p},m){let y=pc(l,{relative:p.relative}),_=Ys(),T=C.useContext(wh),{navigator:k,basename:I}=C.useContext(Or),b=T!=null&&nR(y)&&c===!0,N=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,F=_.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&I&&(j=js(j,I)||j);const q=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=F===N||!i&&F.startsWith(N)&&F.charAt(q)==="/",Z=j!=null&&(j===N||!i&&j.startsWith(N)&&j.charAt(N.length)==="/"),A={isActive:J,isPending:Z,isTransitioning:b},D=J?e:void 0,P;typeof n=="function"?P=n(A):P=[n,J?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(A):o;return C.createElement(qo,{...p,"aria-current":D,className:P,ref:m,style:O,to:l,viewTransition:c},typeof d=="function"?d(A):d)});Do.displayName="NavLink";var QD=C.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=ff,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,..._},T)=>{let k=eR(),I=tR(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&uk.test(c),F=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,J=(q==null?void 0:q.getAttribute("formmethod"))||l;k(q||j.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return C.createElement("form",{ref:T,method:b,action:I,onSubmit:n?d:F,..._,"data-discover":!N&&r==="render"?"true":void 0})});QD.displayName="Form";function GD(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ck(r){let e=C.useContext(Cl);return wt(e,GD(r)),e}function XD(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=hc(),d=Ys(),p=pc(r,{relative:o});return C.useCallback(m=>{if(DD(m,e)){m.preventDefault();let y=t!==void 0?t:Xu(d)===Xu(p);c(r,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,t,n,e,r,i,o,l])}var JD=0,ZD=()=>`__${String(++JD)}__`;function eR(){let{router:r}=ck("useSubmit"),{basename:e}=C.useContext(Or),t=vD();return C.useCallback(async(n,i={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=AD(n,e);if(i.navigate===!1){let m=i.fetcherKey||ZD();await r.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function tR(r,{relative:e}={}){let{basename:t}=C.useContext(Or),n=C.useContext(Lr);wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...pc(r||".",{relative:e})},l=Ys();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),Xu(o)}function nR(r,e={}){let t=C.useContext(nk);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ck("useViewTransitionState"),i=pc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=js(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=js(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Mf(i.pathname,l)!=null||Mf(i.pathname,o)!=null}new TextEncoder;var dk=XS();const Mo=vh(dk),fk=C.createContext(void 0),rR=({children:r})=>{const[e,t]=C.useState("met");return S.jsx(fk.Provider,{value:{selectedMuseum:e,setSelectedMuseum:t},children:r})},Th=()=>{const r=C.useContext(fk);if(!r)throw new Error("useMuseum must be used within a MuseumProvider");return r},hk=C.createContext(void 0),Dy=()=>C.useContext(hk),iR=({children:r})=>{const[e,t]=C.useState("");return S.jsx(hk.Provider,{value:{query:e,setQuery:t},children:r})},pk=C.createContext(void 0),mk=()=>C.useContext(pk),sR=({children:r})=>{const[e,t]=C.useState("artist");return S.jsx(pk.Provider,{value:{type:e,setType:t},children:r})};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},oR=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},yk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|p>>6,T=p&63;d||(T=64,l||(_=64)),n.push(t[m],t[y],t[_],t[T])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gk(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||p==null||y==null)throw new aR;const _=o<<2|c>>4;if(n.push(_),p!==64){const T=c<<4&240|p>>2;if(n.push(T),y!==64){const k=p<<6&192|y;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(r){const e=gk(r);return yk.encodeByteArray(e,!0)},Of=function(r){return lR(r).replace(/\./g,"")},_k=function(r){try{return yk.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=()=>uR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof _E>"u")return;const r=_E.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_k(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return cR()||dR()||fR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vk=r=>{var e,t;return(t=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},hR=r=>{const e=vk(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},wk=()=>{var r;return(r=Sh())===null||r===void 0?void 0:r.config},Ek=r=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Of(JSON.stringify(t)),Of(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function yR(){var r;const e=(r=Sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ER(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TR(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class Fr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=CR,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?xR(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Fr(i,c,n)}}function xR(r,e){return r.replace(bR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const bR=/\{\$([^}]+)}/g;function IR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Lf(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(vE(o)&&vE(l)){if(!Lf(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function vE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ou(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Lu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function DR(r,e){const t=new RR(r,e);return t.subscribe.bind(t)}class RR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");PR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=zm),i.error===void 0&&(i.error=zm),i.complete===void 0&&(i.complete=zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r){return r&&r._delegate?r._delegate:r}class Yo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new pR;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MR(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NR(r){return r===Ro?void 0:r}function MR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($e||($e={}));const LR={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},FR=$e.INFO,VR={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},jR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=VR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const UR=(r,e)=>e.some(t=>r instanceof t);let wE,EE;function BR(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tk=new WeakMap,Rg=new WeakMap,Sk=new WeakMap,qm=new WeakMap,Py=new WeakMap;function WR(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Ns(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Tk.set(t,r)}).catch(()=>{}),Py.set(e,r),e}function HR(r){if(Rg.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Rg.set(r,e)}let Pg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Rg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Sk.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zR(r){Pg=r(Pg)}function qR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Ym(this),e,...t);return Sk.set(n,e.sort?e.sort():[e]),Ns(n)}:$R().includes(r)?function(...e){return r.apply(Ym(this),e),Ns(Tk.get(this))}:function(...e){return Ns(r.apply(Ym(this),e))}}function YR(r){return typeof r=="function"?qR(r):(r instanceof IDBTransaction&&HR(r),UR(r,BR())?new Proxy(r,Pg):r)}function Ns(r){if(r instanceof IDBRequest)return WR(r);if(qm.has(r))return qm.get(r);const e=YR(r);return e!==r&&(qm.set(r,e),Py.set(e,r)),e}const Ym=r=>Py.get(r);function KR(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Ns(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ns(l.result),d.oldVersion,d.newVersion,Ns(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const QR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Km=new Map;function TE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=GR.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||QR.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return Km.set(e,o),o}zR(r=>({...r,get:(e,t,n)=>TE(e,t)||r.get(e,t,n),has:(e,t)=>!!TE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JR(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function JR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",SE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Ry("@firebase/app"),ZR="@firebase/app-compat",eP="@firebase/analytics-compat",tP="@firebase/analytics",nP="@firebase/app-check-compat",rP="@firebase/app-check",iP="@firebase/auth",sP="@firebase/auth-compat",oP="@firebase/database",aP="@firebase/data-connect",lP="@firebase/database-compat",uP="@firebase/functions",cP="@firebase/functions-compat",dP="@firebase/installations",fP="@firebase/installations-compat",hP="@firebase/messaging",pP="@firebase/messaging-compat",mP="@firebase/performance",gP="@firebase/performance-compat",yP="@firebase/remote-config",_P="@firebase/remote-config-compat",vP="@firebase/storage",wP="@firebase/storage-compat",EP="@firebase/firestore",TP="@firebase/vertexai",SP="@firebase/firestore-compat",kP="firebase",CP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",xP={[Ag]:"fire-core",[ZR]:"fire-core-compat",[tP]:"fire-analytics",[eP]:"fire-analytics-compat",[rP]:"fire-app-check",[nP]:"fire-app-check-compat",[iP]:"fire-auth",[sP]:"fire-auth-compat",[oP]:"fire-rtdb",[aP]:"fire-data-connect",[lP]:"fire-rtdb-compat",[uP]:"fire-fn",[cP]:"fire-fn-compat",[dP]:"fire-iid",[fP]:"fire-iid-compat",[hP]:"fire-fcm",[pP]:"fire-fcm-compat",[mP]:"fire-perf",[gP]:"fire-perf-compat",[yP]:"fire-rc",[_P]:"fire-rc-compat",[vP]:"fire-gcs",[wP]:"fire-gcs-compat",[EP]:"fire-fst",[SP]:"fire-fst-compat",[TP]:"fire-vertex","fire-js":"fire-js",[kP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Map,bP=new Map,Mg=new Map;function kE(r,e){try{r.container.addComponent(e)}catch(t){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function cl(r){const e=r.name;if(Mg.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,r);for(const t of Ff.values())kE(t,r);for(const t of bP.values())kE(t,r);return!0}function Ay(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new mc("app","Firebase",IP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=CP;function kk(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(t||(t=wk()),!t)throw Ms.create("no-options");const o=Ff.get(i);if(o){if(Lf(t,o.options)&&Lf(n,o.config))return o;throw Ms.create("duplicate-app",{appName:i})}const l=new OR(i);for(const d of Mg.values())l.addComponent(d);const c=new DP(t,n,l);return Ff.set(i,c),c}function Ck(r=Ng){const e=Ff.get(r);if(!e&&r===Ng&&wk())return kk();if(!e)throw Ms.create("no-app",{appName:r});return e}function Os(r,e,t){var n;let i=(n=xP[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}cl(new Yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebase-heartbeat-database",PP=1,Ju="firebase-heartbeat-store";let Qm=null;function xk(){return Qm||(Qm=KR(RP,PP,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),Qm}async function AP(r){try{const t=(await xk()).transaction(Ju),n=await t.objectStore(Ju).get(bk(r));return await t.done,n}catch(e){if(e instanceof Fr)Wi.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(t.message)}}}async function CE(r,e){try{const n=(await xk()).transaction(Ju,"readwrite");await n.objectStore(Ju).put(e,bk(r)),await n.done}catch(t){if(t instanceof Fr)Wi.warn(t.message);else{const n=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}function bk(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1024,MP=30*24*60*60*1e3;class OP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FP(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=MP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Wi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xE(),{heartbeatsToSend:n,unsentEntries:i}=LP(this._heartbeatsCache.heartbeats),o=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function xE(){return new Date().toISOString().substring(0,10)}function LP(r,e=NP){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),bE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class FP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bE(r){return Of(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(r){cl(new Yo("platform-logger",e=>new XR(e),"PRIVATE")),cl(new Yo("heartbeat",e=>new OP(e),"PRIVATE")),Os(Ag,SE,r),Os(Ag,SE,"esm2017"),Os("fire-js","")}VP("");var jP="firebase",UP="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(jP,UP,"app");function Ny(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BP=Ik,Dk=new mc("auth","Firebase",Ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Ry("@firebase/auth");function $P(r,...e){Vf.logLevel<=$e.WARN&&Vf.warn(`Auth (${bl}): ${r}`,...e)}function pf(r,...e){Vf.logLevel<=$e.ERROR&&Vf.error(`Auth (${bl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,...e){throw My(r,...e)}function oi(r,...e){return My(r,...e)}function Rk(r,e,t){const n=Object.assign(Object.assign({},BP()),{[e]:t});return new mc("auth","Firebase",n).create(e,{appName:r.name})}function Li(r){return Rk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Dk.create(r,...e)}function Pe(r,e,...t){if(!r)throw My(e,...t)}function Ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw pf(e),new Error(e)}function Hi(r,e){r||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function WP(){return IE()==="http:"||IE()==="https:"}function IE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WP()||vR()||"connection"in navigator)?navigator.onLine:!0}function zP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=gR()||wR()}get(){return HP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(r,e){Hi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new yc(3e4,6e4);function Ks(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Qs(r,e,t,n,i={}){return Ak(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=gc(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return _R()||(p.referrerPolicy="no-referrer"),Pk.fetch()(Nk(r,r.config.apiHost,t,c),p)})}async function Ak(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},qP),e);try{const i=new QP(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Gd(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Gd(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Gd(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Rk(r,m,p);Ar(r,m)}}catch(i){if(i instanceof Fr)throw i;Ar(r,"network-request-failed",{message:String(i)})}}async function _c(r,e,t,n,i={}){const o=await Qs(r,e,t,n,i);return"mfaPendingCredential"in o&&Ar(r,"multi-factor-auth-required",{_serverResponse:o}),o}function Nk(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Oy(r.config,i):`${r.config.apiScheme}://${i}`}function KP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),YP.get())})}}function Gd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=oi(r,e,n);return i.customData._tokenResponse=t,i}function DE(r){return r!==void 0&&r.enterprise!==void 0}class GP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XP(r,e){return Qs(r,"GET","/v2/recaptchaConfig",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(r,e){return Qs(r,"POST","/v1/accounts:delete",e)}async function Mk(r,e){return Qs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZP(r,e=!1){const t=Yt(r),n=await t.getIdToken(e),i=Ly(n);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:zu(Gm(i.auth_time)),issuedAtTime:zu(Gm(i.iat)),expirationTime:zu(Gm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gm(r){return Number(r)*1e3}function Ly(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=_k(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RE(r){const e=Ly(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Fr&&eA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function eA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Zu(r,Mk(t,{idToken:n}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ok(o.providerUserInfo):[],c=rA(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function nA(r){const e=Yt(r);await jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rA(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Ok(r){return r.map(e=>{var{providerId:t}=e,n=Ny(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(r,e){const t=await Ak(r,{},async()=>{const n=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=Nk(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Pk.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sA(r,e){return Qs(r,"POST","/v2/accounts:revokeToken",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=RE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await iA(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new il;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZP(this,e)}reload(){return nA(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await jf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Zu(this,JP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,p,m;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:q,isAnonymous:J,providerData:Z,stsTokenManager:A}=t;Pe(j&&A,e,"internal-error");const D=il.fromJSON(this.name,A);Pe(typeof j=="string",e,"internal-error"),Ss(y,e.name),Ss(_,e.name),Pe(typeof q=="boolean",e,"internal-error"),Pe(typeof J=="boolean",e,"internal-error"),Ss(T,e.name),Ss(k,e.name),Ss(I,e.name),Ss(b,e.name),Ss(N,e.name),Ss(F,e.name);const P=new Ni({uid:j,auth:e,email:_,emailVerified:q,displayName:y,isAnonymous:J,photoURL:k,phoneNumber:T,tenantId:I,stsTokenManager:D,createdAt:N,lastLoginAt:F});return Z&&Array.isArray(Z)&&(P.providerData=Z.map(O=>Object.assign({},O))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,n=!1){const i=new il;i.updateFromServerResponse(t);const o=new Ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jf(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ok(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new il;c.updateFromIdToken(n);const d=new Ni({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function Mi(r){Hi(r instanceof Function,"Expected a class definition");let e=PE.get(r);return e?(Hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,PE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lk.type="NONE";const AE=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r,e,t){return`firebase:${r}:${e}:${t}`}class sl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,o),this.fullPersistenceKey=mf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new sl(Mi(AE),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Mi(AE);const l=mf(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Ni._fromJSON(e,m);p!==o&&(c=y),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new sl(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new sl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($k(e))return"Blackberry";if(Wk(e))return"Webos";if(Vk(e))return"Safari";if((e.includes("chrome/")||jk(e))&&!e.includes("edge/"))return"Chrome";if(Bk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Fk(r=hn()){return/firefox\//i.test(r)}function Vk(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jk(r=hn()){return/crios\//i.test(r)}function Uk(r=hn()){return/iemobile/i.test(r)}function Bk(r=hn()){return/android/i.test(r)}function $k(r=hn()){return/blackberry/i.test(r)}function Wk(r=hn()){return/webos/i.test(r)}function Fy(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oA(r=hn()){var e;return Fy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aA(){return ER()&&document.documentMode===10}function Hk(r=hn()){return Fy(r)||Bk(r)||Wk(r)||$k(r)||/windows phone/i.test(r)||Uk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(r,e=[]){let t;switch(r){case"Browser":t=NE(hn());break;case"Worker":t=`${NE(hn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(r,e={}){return Qs(r,"GET","/v2/passwordPolicy",Ks(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class dA{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:cA,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mk(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Li(this));const t=e?Yt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uA(this),t=new dA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await sA(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$P(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ta(r){return Yt(r)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=DR(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hA(r){kh=r}function qk(r){return kh.loadJS(r)}function pA(){return kh.recaptchaEnterpriseScript}function mA(){return kh.gapiScript}function gA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yA{constructor(){this.enterprise=new _A}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _A{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vA="recaptcha-enterprise",Yk="NO_RECAPTCHA";class wA{constructor(e){this.type=vA,this.auth=ta(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{XP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new GP(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;DE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Yk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yA().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&DE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pA();d.length!==0&&(d+=c),qk(d).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function OE(r,e,t,n=!1,i=!1){const o=new wA(r);let l;if(i)l=Yk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Fg(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await OE(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await OE(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,e){const t=Ay(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Lf(o,e??{}))return i;Ar(i,"already-initialized")}return t.initialize({options:e})}function TA(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function SA(r,e,t){const n=ta(r);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Kk(e),{host:l,port:c}=kA(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),CA()}function Kk(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function kA(r){const e=Kk(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:LE(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:LE(l)}}}function LE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function CA(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function xA(r,e){return Qs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(r,e){return _c(r,"POST","/v1/accounts:signInWithPassword",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,e))}async function DA(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Vy{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ec(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ec(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,t,"signInWithPassword",bA);case"emailLink":return IA(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,n,"signUpPassword",xA);case"emailLink":return DA(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r,e){return _c(r,"POST","/v1/accounts:signInWithIdp",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="http://localhost";class Ko extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Ny(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Ko(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ol(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:RA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AA(r){const e=Ou(Lu(r)).link,t=e?Ou(Lu(e)).deep_link_id:null,n=Ou(Lu(r)).deep_link_id;return(n?Ou(Lu(n)).link:null)||n||t||e||r}class jy{constructor(e){var t,n,i,o,l,c;const d=Ou(Lu(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,y=PA((i=d.mode)!==null&&i!==void 0?i:null);Pe(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=AA(e);try{return new jy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,t){return ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=jy.parseLink(t);return Pe(n,"argument-error"),ec._fromEmailAndCode(e,n.code,n.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends vc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return bs.credential(t,n)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends vc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends vc{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ds.credential(t,n)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(r,e){return _c(r,"POST","/v1/accounts:signUp",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Ni._fromIdTokenResponse(e,n,i),l=FE(n);return new Qo({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=FE(n);return new Qo({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function FE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends Fr{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Uf(e,t,n,i)}}function Gk(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(r,o,e,n):o})}async function MA(r,e,t=!1){const n=await Zu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,e,t=!1){const{auth:n}=r;if(ii(n.app))return Promise.reject(Li(n));const i="reauthenticate";try{const o=await Zu(r,Gk(n,i,e,r),t);Pe(o.idToken,n,"internal-error");const l=Ly(o.idToken);Pe(l,n,"internal-error");const{sub:c}=l;return Pe(r.uid===c,n,"user-mismatch"),Qo._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ar(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(r,e,t=!1){if(ii(r.app))return Promise.reject(Li(r));const n="signIn",i=await Gk(r,n,e),o=await Qo._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function LA(r,e){return Xk(ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FA(r,e,t){if(ii(r.app))return Promise.reject(Li(r));const n=ta(r),l=await Fg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Jk(r),d}),c=await Qo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function VA(r,e,t){return ii(r.app)?Promise.reject(Li(r)):LA(Yt(r),Il.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Jk(r),n})}function jA(r,e,t,n){return Yt(r).onIdTokenChanged(e,t,n)}function UA(r,e,t){return Yt(r).beforeAuthStateChanged(e,t)}function BA(r){return Yt(r).signOut()}const Bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e3,WA=10;class eC extends Zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);aA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WA):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const HA=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tC.type="SESSION";const nC=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Ch(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await zA(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=Uy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function YA(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function KA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GA(){return rC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",XA=1,$f="firebaseLocalStorage",sC="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(r,e){return r.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function JA(){const r=indexedDB.deleteDatabase(iC);return new wc(r).toPromise()}function Vg(){const r=indexedDB.open(iC,XA);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore($f,{keyPath:sC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains($f)?e(n):(n.close(),await JA(),e(await Vg()))})})}async function VE(r,e,t){const n=xh(r,!0).put({[sC]:e,value:t});return new wc(n).toPromise()}async function ZA(r,e){const t=xh(r,!1).get(e),n=await new wc(t).toPromise();return n===void 0?null:n.value}function jE(r,e){const t=xh(r,!0).delete(e);return new wc(t).toPromise()}const eN=800,tN=3;class oC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>tN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(GA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KA(),!this.activeServiceWorker)return;this.sender=new qA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await VE(e,Bf,"1"),await jE(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>VE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>ZA(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=xh(i,!1).getAll();return new wc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oC.type="LOCAL";const nN=oC;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r,e){return e?Mi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iN(r){return Xk(r.auth,new By(r),r.bypassAuthState)}function sN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),OA(t,new By(r),r.bypassAuthState)}async function oN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),MA(t,new By(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return sN;default:Ar(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new yc(2e3,1e4);class rl extends aC{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aN.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="pendingRedirect",gf=new Map;class uN extends aC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const n=await cN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cN(r,e){const t=hN(e),n=fN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function dN(r,e){gf.set(r._key(),e)}function fN(r){return Mi(r._redirectPersistence)}function hN(r){return mf(lN,r.config.apiKey,r.name)}async function pN(r,e,t=!1){if(ii(r.app))return Promise.reject(Li(r));const n=ta(r),i=rN(n,e),l=await new uN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=10*60*1e3;class gN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mN&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r,e={}){return Qs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wN=/^https?/;async function EN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _N(r);for(const t of e)try{if(TN(t))return}catch{}Ar(r,"unauthorized-domain")}function TN(r){const e=Og(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!wN.test(t))return!1;if(vN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new yc(3e4,6e4);function BE(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function kN(r){return new Promise((e,t)=>{var n,i,o;function l(){BE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BE(),t(oi(r,"network-request-failed"))},timeout:SN.get()})}if(!((i=(n=ai().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)l();else{const c=gA("iframefcb");return ai()[c]=()=>{gapi.load?l():t(oi(r,"network-request-failed"))},qk(`${mA()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw yf=null,e})}let yf=null;function CN(r){return yf=yf||kN(r),yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new yc(5e3,15e3),bN="__/auth/iframe",IN="emulator/auth/iframe",DN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Oy(e,IN):`https://${r.config.authDomain}/${bN}`,n={apiKey:e.apiKey,appName:r.name,v:bl},i=RN.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${gc(n).slice(1)}`}async function AN(r){const e=await CN(r),t=ai().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:PN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=oi(r,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},xN.get());function d(){ai().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MN=500,ON=600,LN="_blank",FN="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(r,e,t,n=MN,i=ON){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},NN),{width:n.toString(),height:i.toString(),top:o,left:l}),p=hn().toLowerCase();t&&(c=jk(p)?LN:t),Fk(p)&&(e=e||FN,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,k])=>`${_}${T}=${k},`,"");if(oA(p)&&c!=="_self")return jN(e||"",c),new $E(null);const y=window.open(e||"",c,m);Pe(y,r,"popup-blocked");try{y.focus()}catch{}return new $E(y)}function jN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="__/auth/handler",BN="emulator/auth/handler",$N=encodeURIComponent("fac");async function WE(r,e,t,n,i,o){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:bl,eventId:i};if(e instanceof Qk){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",IR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof vc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),p=d?`#${$N}=${encodeURIComponent(d)}`:"";return`${WN(r)}?${gc(c).slice(1)}${p}`}function WN({config:r}){return r.emulator?Oy(r,BN):`https://${r.authDomain}/${UN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class HN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=pN,this._overrideRedirectResult=dN}async _openPopup(e,t,n,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await WE(e,t,n,Og(),i);return VN(e,l,Uy())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await WE(e,t,n,Og(),i);return YA(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await AN(e),n=new gN(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xm,{type:Xm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Xm];l!==void 0&&t(!!l),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hk()||Vk()||Fy()}}const zN=HN;var HE="@firebase/auth",zE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KN(r){cl(new Yo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zk(r)},p=new fA(n,i,o,d);return TA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cl(new Yo("auth-internal",e=>{const t=ta(e.getProvider("auth").getImmediate());return(n=>new qN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(HE,zE,YN(r)),Os(HE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=5*60,GN=Ek("authIdTokenMaxAge")||QN;let qE=null;const XN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>GN)return;const i=t==null?void 0:t.token;qE!==i&&(qE=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JN(r=Ck()){const e=Ay(r,"auth");if(e.isInitialized())return e.getImmediate();const t=EA(r,{popupRedirectResolver:zN,persistence:[nN,HA,nC]}),n=Ek("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=XN(o.toString());UA(t,l,()=>l(t.currentUser)),jA(t,c=>l(c))}}const i=vk("auth");return i&&SA(t,`http://${i}`),t}function ZN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}hA({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=oi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",ZN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KN("Browser");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,uC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,D){function P(){}P.prototype=D.prototype,A.D=D.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(O,V,U){for(var M=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)M[ke-2]=arguments[ke];return D.prototype[V].apply(O,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,D,P){P||(P=0);var O=Array(16);if(typeof D=="string")for(var V=0;16>V;++V)O[V]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(V=0;16>V;++V)O[V]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=A.g[0],P=A.g[1],V=A.g[2];var U=A.g[3],M=D+(U^P&(V^U))+O[0]+3614090360&4294967295;D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+O[1]+3905402710&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+O[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+O[3]+3250441966&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+O[4]+4118548399&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+O[5]+1200080426&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+O[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+O[7]+4249261313&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+O[8]+1770035416&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+O[9]+2336552879&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+O[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+O[11]+2304563134&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+O[12]+1804603682&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+O[13]+4254626195&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+O[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+O[15]+1236535329&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(V^U&(P^V))+O[1]+4129170786&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+O[6]+3225465664&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+O[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+O[0]+3921069994&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+O[5]+3593408605&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+O[10]+38016083&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+O[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+O[4]+3889429448&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+O[9]+568446438&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+O[14]+3275163606&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+O[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+O[8]+1163531501&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+O[13]+2850285829&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+O[2]+4243563512&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+O[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+O[12]+2368359562&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(P^V^U)+O[5]+4294588738&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+O[8]+2272392833&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+O[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+O[14]+4259657740&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+O[1]+2763975236&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+O[4]+1272893353&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+O[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+O[10]+3200236656&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+O[13]+681279174&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+O[0]+3936430074&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+O[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+O[6]+76029189&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+O[9]+3654602809&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+O[12]+3873151461&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+O[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+O[2]+3299628645&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(V^(P|~U))+O[0]+4096336452&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+O[7]+1126891415&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+O[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+O[5]+4237533241&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+O[12]+1700485571&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+O[3]+2399980690&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+O[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+O[1]+2240044497&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+O[8]+1873313359&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+O[15]+4264355552&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+O[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+O[13]+1309151649&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+O[4]+4149444226&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+O[11]+3174756917&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+O[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+D&4294967295,A.g[1]=A.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}n.prototype.u=function(A,D){D===void 0&&(D=A.length);for(var P=D-this.blockSize,O=this.B,V=this.h,U=0;U<D;){if(V==0)for(;U<=P;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<D;)if(O[V++]=A.charCodeAt(U++),V==this.blockSize){i(this,O),V=0;break}}else for(;U<D;)if(O[V++]=A[U++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=D},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var D=1;D<A.length-8;++D)A[D]=0;var P=8*this.o;for(D=A.length-8;D<A.length;++D)A[D]=P&255,P/=256;for(this.u(A),A=Array(16),D=P=0;4>D;++D)for(var O=0;32>O;O+=8)A[P++]=this.g[D]>>>O&255;return A};function o(A,D){var P=c;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=D(A)}function l(A,D){this.h=D;for(var P=[],O=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;O&&U==D||(P[V]=U,O=!1)}this.g=P}var c={};function d(A){return-128<=A&&128>A?o(A,function(D){return new l([D|0],0>D?-1:0)}):new l([A|0],0>A?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return y;if(0>A)return b(p(-A));for(var D=[],P=1,O=0;A>=P;O++)D[O]=A/P|0,P*=4294967296;return new l(D,0)}function m(A,D){if(A.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A.charAt(0)=="-")return b(m(A.substring(1),D));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(D,8)),O=y,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),M=parseInt(A.substring(V,V+U),D);8>U?(U=p(Math.pow(D,U)),O=O.j(U).add(p(M))):(O=O.j(P),O=O.add(p(M)))}return O}var y=d(0),_=d(1),T=d(16777216);r=l.prototype,r.m=function(){if(I(this))return-b(this).m();for(var A=0,D=1,P=0;P<this.g.length;P++){var O=this.i(P);A+=(0<=O?O:4294967296+O)*D,D*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(I(this))return"-"+b(this).toString(A);for(var D=p(Math.pow(A,6)),P=this,O="";;){var V=q(P,D).g;P=N(P,V.j(D));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=V,k(P))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var D=0;D<A.g.length;D++)if(A.g[D]!=0)return!1;return!0}function I(A){return A.h==-1}r.l=function(A){return A=N(this,A),I(A)?-1:k(A)?0:1};function b(A){for(var D=A.g.length,P=[],O=0;O<D;O++)P[O]=~A.g[O];return new l(P,~A.h).add(_)}r.abs=function(){return I(this)?b(this):this},r.add=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],O=0,V=0;V<=D;V++){var U=O+(this.i(V)&65535)+(A.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);O=M>>>16,U&=65535,M&=65535,P[V]=M<<16|U}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(A,D){return A.add(b(D))}r.j=function(A){if(k(this)||k(A))return y;if(I(this))return I(A)?b(this).j(b(A)):b(b(this).j(A));if(I(A))return b(this.j(b(A)));if(0>this.l(T)&&0>A.l(T))return p(this.m()*A.m());for(var D=this.g.length+A.g.length,P=[],O=0;O<2*D;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<A.g.length;V++){var U=this.i(O)>>>16,M=this.i(O)&65535,ke=A.i(V)>>>16,De=A.i(V)&65535;P[2*O+2*V]+=M*De,F(P,2*O+2*V),P[2*O+2*V+1]+=U*De,F(P,2*O+2*V+1),P[2*O+2*V+1]+=M*ke,F(P,2*O+2*V+1),P[2*O+2*V+2]+=U*ke,F(P,2*O+2*V+2)}for(O=0;O<D;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=D;O<2*D;O++)P[O]=0;return new l(P,0)};function F(A,D){for(;(A[D]&65535)!=A[D];)A[D+1]+=A[D]>>>16,A[D]&=65535,D++}function j(A,D){this.g=A,this.h=D}function q(A,D){if(k(D))throw Error("division by zero");if(k(A))return new j(y,y);if(I(A))return D=q(b(A),D),new j(b(D.g),b(D.h));if(I(D))return D=q(A,b(D)),new j(b(D.g),D.h);if(30<A.g.length){if(I(A)||I(D))throw Error("slowDivide_ only works with positive integers.");for(var P=_,O=D;0>=O.l(A);)P=J(P),O=J(O);var V=Z(P,1),U=Z(O,1);for(O=Z(O,2),P=Z(P,2);!k(O);){var M=U.add(O);0>=M.l(A)&&(V=V.add(P),U=M),O=Z(O,1),P=Z(P,1)}return D=N(A,V.j(D)),new j(V,D)}for(V=y;0<=A.l(D);){for(P=Math.max(1,Math.floor(A.m()/D.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=p(P),M=U.j(D);I(M)||0<M.l(A);)P-=O,U=p(P),M=U.j(D);k(U)&&(U=_),V=V.add(U),A=N(A,M)}return new j(V,A)}r.A=function(A){return q(this,A).h},r.and=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],O=0;O<D;O++)P[O]=this.i(O)&A.i(O);return new l(P,this.h&A.h)},r.or=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],O=0;O<D;O++)P[O]=this.i(O)|A.i(O);return new l(P,this.h|A.h)},r.xor=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],O=0;O<D;O++)P[O]=this.i(O)^A.i(O);return new l(P,this.h^A.h)};function J(A){for(var D=A.g.length+1,P=[],O=0;O<D;O++)P[O]=A.i(O)<<1|A.i(O-1)>>>31;return new l(P,A.h)}function Z(A,D){var P=D>>5;D%=32;for(var O=A.g.length-P,V=[],U=0;U<O;U++)V[U]=0<D?A.i(U+P)>>>D|A.i(U+P+1)<<32-D:A.i(U+P);return new l(V,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,uC=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ls=l}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cC,Fu,dC,_f,jg,fC,hC,pC;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function i(f,v){if(v)e:{var E=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var H=f[R];if(!(H in E))break e;E=E[H]}f=f[f.length-1],R=E[f],v=v(R),v!=R&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,R=!1,H={next:function(){if(!R&&E<f.length){var Q=E++;return{value:v(Q,f[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,E){return f.call.apply(f.bind,arguments)}function y(f,v,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),f.apply(v,H)}}return function(){return f.apply(v,arguments)}}function _(f,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function T(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function k(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,H,Q){for(var ue=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ue[rt-2]=arguments[rt];return v.prototype[H].apply(R,ue)}}function I(f){const v=f.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=f[R];return E}return[]}function b(f,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(d(R)){const H=f.length||0,Q=R.length||0;f.length=H+Q;for(let ue=0;ue<Q;ue++)f[H+ue]=R[ue]}else f.push(R)}}class N{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var J=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(f,v,E){for(const R in f)v.call(E,f[R],R,f)}function A(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function D(f){const v={};for(const E in f)v[E]=f[E];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,v){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)f[E]=R[E];for(let Q=0;Q<P.length;Q++)E=P[Q],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function V(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function U(f){c.setTimeout(()=>{throw f},0)}function M(){var f=ce;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ke{constructor(){this.h=this.g=null}add(v,E){const R=De.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var De=new N(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,G=!1,ce=new ke,le=()=>{const f=c.Promise.resolve(void 0);de=()=>{f.then(W)}};var W=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(E){U(E)}var v=De;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}G=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return f}();function Oe(f,v){if(_e.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(J){e:{try{q(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}k(Oe,_e);var Ve={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),He=0;function Je(f,v,E,R,H){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=H,this.key=++He,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tn(f){this.src=f,this.g={},this.h=0}Tn.prototype.add=function(f,v,E,R,H){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var ue=Sn(f,v,R,H);return-1<ue?(v=f[ue],E||(v.fa=!1)):(v=new Je(v,this.src,Q,!!R,H),v.fa=E,f.push(v)),v};function Vn(f,v){var E=v.type;if(E in f.g){var R=f.g[E],H=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(R,H,1),Q&&(ht(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Sn(f,v,E,R){for(var H=0;H<f.length;++H){var Q=f[H];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==R)return H}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),et={};function jr(f,v,E,R,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)jr(f,v[Q],E,R,H);return null}return E=Zs(E),f&&f[Be]?f.K(v,E,p(R)?!!R.capture:!1,H):fr(f,v,E,!1,R,H)}function fr(f,v,E,R,H,Q){if(!v)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,rt=Ji(f);if(rt||(f[kn]=rt=new Tn(f)),E=rt.add(v,E,R,ue,Q),E.proxy)return E;if(R=oa(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)Re||(H=ue),H===void 0&&(H=!1),f.addEventListener(v.toString(),R,H);else if(f.attachEvent)f.attachEvent(pr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function oa(){function f(E){return v.call(f.src,f.listener,E)}const v=Js;return f}function Xi(f,v,E,R,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xi(f,v[Q],E,R,H);else R=p(R)?!!R.capture:!!R,E=Zs(E),f&&f[Be]?(f=f.i,v=String(v).toString(),v in f.g&&(Q=f.g[v],E=Sn(Q,E,R,H),-1<E&&(ht(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete f.g[v],f.h--)))):f&&(f=Ji(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Sn(v,E,R,H)),(E=-1<f?v[f]:null)&&hr(E))}function hr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Be])Vn(v.i,f);else{var E=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(E,R,f.capture):v.detachEvent?v.detachEvent(pr(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Ji(v))?(Vn(E,f),E.h==0&&(E.src=null,v[kn]=null)):ht(f)}}}function pr(f){return f in et?et[f]:et[f]="on"+f}function Js(f,v){if(f.da)f=!0;else{v=new Oe(v,this);var E=f.listener,R=f.ha||f.src;f.fa&&hr(f),f=E.call(R,v)}return f}function Ji(f){return f=f[kn],f instanceof Tn?f:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(f){return typeof f=="function"?f:(f[gi]||(f[gi]=function(v){return f.handleEvent(v)}),f[gi])}function Ie(){te.call(this),this.i=new Tn(this),this.M=this,this.F=null}k(Ie,te),Ie.prototype[Be]=!0,Ie.prototype.removeEventListener=function(f,v,E,R){Xi(this,f,v,E,R)};function ut(f,v){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new _e(v,f);else if(v instanceof _e)v.target=v.target||f;else{var H=v;v=new _e(R,f),O(v,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ue=v.g=E[Q];H=Gn(ue,R,!0,v)&&H}if(ue=v.g=f,H=Gn(ue,R,!0,v)&&H,H=Gn(ue,R,!1,v)&&H,E)for(Q=0;Q<E.length;Q++)ue=v.g=E[Q],H=Gn(ue,R,!1,v)&&H}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],R=0;R<E.length;R++)ht(E[R]);delete f.g[v],f.h--}}this.F=null},Ie.prototype.K=function(f,v,E,R){return this.i.add(String(f),v,!1,E,R)},Ie.prototype.L=function(f,v,E,R){return this.i.add(String(f),v,!0,E,R)};function Gn(f,v,E,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var ue=v[Q];if(ue&&!ue.da&&ue.capture==E){var rt=ue.listener,Vt=ue.ha||ue.src;ue.fa&&Vn(f.i,ue),H=rt.call(Vt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Fl(f,v,E){if(typeof f=="function")E&&(f=_(f,E));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(f,v||0)}function Zi(f){f.g=Fl(()=>{f.g=null,f.i&&(f.i=!1,Zi(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class eo extends te{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(f){te.call(this),this.h=f,this.g={}}k(to,te);var Vl=[];function jl(f){Z(f.g,function(v,E){this.g.hasOwnProperty(E)&&hr(v)},f),f.g={}}to.prototype.N=function(){to.aa.N.call(this),jl(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ul=c.JSON.stringify,Bl=c.JSON.parse,$l=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function no(){}no.prototype.h=null;function aa(f){return f.h||(f.h=f.i())}function la(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){_e.call(this,"d")}k(Ur,_e);function ua(){_e.call(this,"c")}k(ua,_e);var Br={},Wl=null;function ro(){return Wl=Wl||new Ie}Br.La="serverreachability";function Hl(f){_e.call(this,Br.La,f)}k(Hl,_e);function yi(f){const v=ro();ut(v,new Hl(v))}Br.STAT_EVENT="statevent";function zl(f,v){_e.call(this,Br.STAT_EVENT,f),this.stat=v}k(zl,_e);function It(f){const v=ro();ut(v,new zl(v,f))}Br.Ma="timingevent";function ca(f,v){_e.call(this,Br.Ma,f),this.size=v}k(ca,_e);function mr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function so(f,v,E,R,H,Q){f.info(function(){if(f.g)if(Q)for(var ue="",rt=Q.split("&"),Vt=0;Vt<rt.length;Vt++){var Ye=rt[Vt].split("=");if(1<Ye.length){var $t=Ye[0];Ye=Ye[1];var Nt=$t.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+($t+"="+Ye+"&"):ue+($t+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+E+`
`+ue})}function da(f,v,E,R,H,Q,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+E+`
`+Q+" "+ue})}function gr(f,v,E,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+fp(f,E)+(R?" "+R:"")})}function ql(f,v){f.info(function(){return"TIMEOUT: "+v})}io.prototype.info=function(){};function fp(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Ul(E)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function oo(){}k(oo,no),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},yr=new oo;function _r(f,v,E,R){this.j=f,this.i=v,this.l=E,this.R=R||1,this.U=new to(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oc}function Oc(){this.i=null,this.g="",this.h=!1}var Yl={},ha={};function pa(f,v,E){f.L=1,f.v=is(Un(v)),f.m=E,f.P=!0,Kl(f,null)}function Kl(f,v){f.F=Date.now(),ct(f),f.A=Un(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),os(E.i,"t",R),f.C=0,E=f.j.J,f.h=new Oc,f.g=Zc(f.j,E?v:null,!f.m),0<f.O&&(f.M=new eo(_(f.Y,f,f.g),f.O)),v=f.U,E=f.g,R=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Vl[0]=H.toString()),H=Vl);for(var Q=0;Q<H.length;Q++){var ue=jr(E,H[Q],R||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),yi(),so(f.i,f.u,f.A,f.l,f.R,f.m)}_r.prototype.ca=function(f){f=f.target;const v=this.M;v&&xn(f)==3?v.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=xn(this.g);var v=this.g.Ba();const er=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||eu(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=er?yi(3):yi(2)),ao(this);var E=this.g.Z();this.X=E;t:if(Lc(this)){var R=eu(this.g);f="";var H=R.length,Q=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),es(this);var ue="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(Q&&v==H-1)});R.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,da(this.i,this.u,this.A,this.l,this.R,Nt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Vt=this.g;if((rt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(rt)){var Ye=rt;break t}}Ye=null}if(E=Ye)gr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ql(this,E);else{this.o=!1,this.s=3,It(12),Jn(this),es(this);break e}}if(this.P){E=!0;let $n;for(;!this.J&&this.C<ue.length;)if($n=hp(this,ue),$n==ha){Nt==4&&(this.s=4,It(14),E=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Yl){this.s=4,It(15),gr(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else gr(this.i,this.l,$n,null),Ql(this,$n);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,It(16),E=!1),this.o=this.o&&E,!E)gr(this.i,this.l,ue,"[Invalid Chunked Response]"),Jn(this),es(this);else if(0<ue.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),nu($t),$t.M=!0,It(11))}}else gr(this.i,this.l,ue,null),Ql(this,ue);Nt==4&&Jn(this),this.o&&!this.J&&(Nt==4?Ca(this.j,this):(this.o=!1,ct(this)))}else wa(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Jn(this),es(this)}}}catch{}finally{}};function Lc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function hp(f,v){var E=f.C,R=v.indexOf(`
`,E);return R==-1?ha:(E=Number(v.substring(E,R)),isNaN(E)?Yl:(R+=1,R+E>v.length?ha:(v=v.slice(R,R+E),f.C=R+E,v)))}_r.prototype.cancel=function(){this.J=!0,Jn(this)};function ct(f){f.S=Date.now()+f.I,Fc(f,f.I)}function Fc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mr(_(f.ba,f),v)}function ao(f){f.B&&(c.clearTimeout(f.B),f.B=null)}_r.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ql(this.i,this.A),this.L!=2&&(yi(),It(17)),Jn(this),this.s=2,es(this)):Fc(this,this.S-f)};function es(f){f.j.G==0||f.J||Ca(f.j,f)}function Jn(f){ao(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,jl(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ql(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||pn(E.h,f))){if(!f.K&&pn(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ka(E),Sr(E);else break e;Sa(E),It(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=mr(_(E.Za,E),6e3));if(1>=jc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ti(E,11)}else if((f.K||E.g==f)&&ka(E),!F(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Ye=H[v];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const $t=Ye[3];$t!=null&&(E.la=$t,E.j.info("VER="+E.la));const Nt=Ye[4];Nt!=null&&(E.Aa=Nt,E.j.info("SVER="+E.Aa));const er=Ye[5];er!=null&&typeof er=="number"&&0<er&&(R=1.5*er,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const $n=f.g;if($n){const mo=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var Q=R.h;Q.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Gl(Q,Q.h),Q.h=null))}if(R.D){const ba=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(R.ya=ba,lt(R.I,R.D,ba))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ue=f;if(R.qa=Jc(R,R.J?R.ia:null,R.W),ue.K){Uc(R.h,ue);var rt=ue,Vt=R.L;Vt&&(rt.I=Vt),rt.B&&(ao(rt),ct(rt)),R.g=ue}else po(R);0<E.i.length&&zr(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ti(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ti(E,7):Gt(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}yi(4)}catch{}}var Vc=class{constructor(f,v){this.g=f,this.map=v}};function lo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function jc(f){return f.h?1:f.g?f.g.size:0}function pn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Gl(f,v){f.g?f.g.add(v):f.h=v}function Uc(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}lo.prototype.cancel=function(){if(this.i=Bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return I(f.i)}function ma(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],E=f.length,R=0;R<E;R++)v.push(f[R]);return v}v=[],E=0;for(R in f)v[E++]=f[R];return v}function ga(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const R in f)v[E++]=R;return v}}}function ts(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=ga(f),R=ma(f),H=R.length,Q=0;Q<H;Q++)v.call(void 0,R[Q],E&&E[Q],f)}var uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pp(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),H=null;if(0<=R){var Q=f[E].substring(0,R);H=f[E].substring(R+1)}else Q=f[E];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _i(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _i){this.h=f.h,co(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.s),this.l=f.l;var v=f.i,E=new $r;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),rs(this,E),this.m=f.m}else f&&(v=String(f).match(uo))?(this.h=!1,co(this,v[1]||"",!0),this.o=ze(v[2]||""),this.g=ze(v[3]||"",!0),ns(this,v[4]),this.l=ze(v[5]||"",!0),rs(this,v[6]||"",!0),this.m=ze(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}_i.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ss(v,ya,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ss(v,ya,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ss(E,E.charAt(0)=="/"?Hc:Wc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ss(E,Xl)),f.join("")};function Un(f){return new _i(f)}function co(f,v,E){f.j=E?ze(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function rs(f,v,E){v instanceof $r?(f.i=v,Wr(f.i,f.h)):(E||(v=ss(v,zc)),f.i=new $r(v,f.h))}function lt(f,v,E){f.i.set(v,E)}function is(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ss(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,$c),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $c(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ya=/[#\/\?@]/g,Wc=/[#\?:]/g,Hc=/[#\?]/g,zc=/[#\?@]/g,Xl=/#/g;function $r(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Qt(f){f.g||(f.g=new Map,f.h=0,f.i&&pp(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=$r.prototype,r.add=function(f,v){Qt(this),this.i=null,f=Zn(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function vr(f,v){Qt(f),v=Zn(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function wr(f,v){return Qt(f),v=Zn(f,v),f.g.has(v)}r.forEach=function(f,v){Qt(this),this.g.forEach(function(E,R){E.forEach(function(H){f.call(v,H,R,this)},this)},this)},r.na=function(){Qt(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const H=f[R];for(let Q=0;Q<H.length;Q++)E.push(v[R])}return E},r.V=function(f){Qt(this);let v=[];if(typeof f=="string")wr(this,f)&&(v=v.concat(this.g.get(Zn(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},r.set=function(f,v){return Qt(this),this.i=null,f=Zn(this,f),wr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},r.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function os(f,v,E){vr(f,v),0<E.length&&(f.i=null,f.g.set(Zn(f,v),I(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Q=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var H=Q;ue[R]!==""&&(H+="="+encodeURIComponent(String(ue[R]))),f.push(H)}}return this.i=f.join("&")};function Zn(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Wr(f,v){v&&!f.j&&(Qt(f),f.i=null,f.g.forEach(function(E,R){var H=R.toLowerCase();R!=H&&(vr(this,R),os(this,H,E))},f)),f.j=v}function mp(f,v){const E=new io;if(c.Image){const R=new Image;R.onload=T(Cn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=T(Cn,E,"TestLoadImage: error",!1,v,R),R.onabort=T(Cn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function qc(f,v){const E=new io,R=new AbortController,H=setTimeout(()=>{R.abort(),Cn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?Cn(E,"TestPingServer: ok",!0,v):Cn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Cn(E,"TestPingServer: error",!1,v)})}function Cn(f,v,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function gp(){this.g=new $l}function Yc(f,v,E){const R=E||"";try{ts(f,function(H,Q){let ue=H;p(H)&&(ue=Ul(H)),v.push(R+Q+"="+encodeURIComponent(ue))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function vi(f){this.l=f.Ub||null,this.j=f.eb||!1}k(vi,no),vi.prototype.g=function(){return new fo(this.l,this.j)},vi.prototype.i=function(f){return function(){return f}}({});function fo(f,v){Ie.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(fo,Ie),r=fo.prototype,r.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Tr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Er(this):Tr(this),this.readyState==3&&Kc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Er(this))},r.Qa=function(f){this.g&&(this.response=f,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Tr(f)}r.setRequestHeader=function(f,v){this.u.append(f,v)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Tr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wi(f){let v="";return Z(f,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function as(f,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=wi(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):lt(f,v,E))}function _t(f){Ie.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(_t,Ie);var yp=/^https?$/i,Jl=["POST","PUT"];r=_t.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?aa(this.o):aa(yr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Q){ho(this,Q);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Jl,v,void 0))||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of E)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){ho(this,Q)}};function ho(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,_a(f),Bn(f)}function _a(f){f.A||(f.A=!0,ut(f,"complete"),ut(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ut(this,"complete"),ut(this,"abort"),Bn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zl(this):this.bb())},r.bb=function(){Zl(this)};function Zl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||xn(f)!=4||f.Z()!=2)){if(f.u&&xn(f)==4)Fl(f.Ea,0,f);else if(ut(f,"readystatechange"),xn(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=ue===0){var H=String(f.D).match(uo)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),R=!yp.test(H?H.toLowerCase():"")}E=R}if(E)ut(f,"complete"),ut(f,"success");else{f.m=6;try{var Q=2<xn(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",_a(f)}}finally{Bn(f)}}}}function Bn(f,v){if(f.g){va(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ut(f,"ready");try{E.onreadystatechange=R}catch{}}}function va(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function xn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Bl(v)}};function eu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(f){const v={};f=(f.g&&2<=xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(F(f[R]))continue;var E=V(f[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[H]||[];v[H]=Q,Q.push(E)}A(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function tu(f){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,f),this.cb=Hr("retryDelaySeedMs",1e4,f),this.Wa=Hr("forwardChannelMaxRetries",2,f),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new lo(f&&f.concurrentRequestLimit),this.Da=new gp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=tu.prototype,r.la=8,r.G=1,r.connect=function(f,v,E,R){It(0),this.W=f,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Jc(this,null,this.W),zr(this)};function Gt(f){if(Ea(f),f.G==3){var v=f.U++,E=Un(f.I);if(lt(E,"SID",f.K),lt(E,"RID",v),lt(E,"TYPE","terminate"),Ei(f,E),v=new _r(f,f.j,v),v.L=2,v.v=is(Un(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=Zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ct(v)}Xc(f)}function Sr(f){f.g&&(nu(f),f.g.cancel(),f.g=null)}function Ea(f){Sr(f),f.u&&(c.clearTimeout(f.u),f.u=null),ka(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function zr(f){if(!jn(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||le(),G||(de(),G=!0),ce.add(v,f),f.B=0}}function _p(f,v){return jc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mr(_(f.Ga,f,v),Gc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new _r(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=D(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ls(this,H,v),E=Un(this.I),lt(E,"RID",f),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Ei(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(wi(Q)))+"&"+v:this.m&&as(E,this.m,Q)),Gl(this.h,H),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",v),lt(E,"SID","null"),H.T=!0,pa(H,E,null)):pa(H,E,v),this.G=2}}else this.G==3&&(f?Ta(this,f):this.i.length==0||jn(this.h)||Ta(this))};function Ta(f,v){var E;v?E=v.l:E=f.U++;const R=Un(f.I);lt(R,"SID",f.K),lt(R,"RID",E),lt(R,"AID",f.T),Ei(f,R),f.m&&f.o&&as(R,f.m,f.o),E=new _r(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=ls(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Gl(f.h,E),pa(E,R,v)}function Ei(f,v){f.H&&Z(f.H,function(E,R){lt(v,R,E)}),f.l&&ts({},function(E,R){lt(v,R,E)})}function ls(f,v,E){E=Math.min(f.i.length,E);var R=f.l?_(f.l.Na,f.l,f):null;e:{var H=f.i;let Q=-1;for(;;){const ue=["count="+E];Q==-1?0<E?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let rt=!0;for(let Vt=0;Vt<E;Vt++){let Ye=H[Vt].g;const $t=H[Vt].map;if(Ye-=Q,0>Ye)Q=Math.max(0,H[Vt].g-100),rt=!1;else try{Yc($t,ue,"req"+Ye+"_")}catch{R&&R($t)}}if(rt){R=ue.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,R}function po(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||le(),G||(de(),G=!0),ce.add(v,f),f.v=0}}function Sa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mr(_(f.Fa,f),Gc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mr(_(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Sr(this),Qc(this))};function nu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Qc(f){f.g=new _r(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Un(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Ei(f,v),f.m&&f.o&&as(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=is(Un(v)),E.m=null,E.P=!0,Kl(E,f)}r.Za=function(){this.C!=null&&(this.C=null,Sr(this),Sa(this),It(19))};function ka(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ca(f,v){var E=null;if(f.g==v){ka(f),nu(f),f.g=null;var R=2}else if(pn(f.h,v))E=v.D,Uc(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=f.B;R=ro(),ut(R,new ca(R,E)),zr(f)}else po(f);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&_p(f,v)||R==2&&Sa(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),H){case 1:Ti(f,5);break;case 4:Ti(f,10);break;case 3:Ti(f,6);break;default:Ti(f,2)}}}function Gc(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function Ti(f,v){if(f.j.info("Error code "+v),v==2){var E=_(f.fb,f),R=f.Xa;const H=!R;R=new _i(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||co(R,"https"),is(R),H?mp(R.toString(),E):qc(R.toString(),E)}else It(2);f.G=0,f.l&&f.l.sa(v),Xc(f),Ea(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Xc(f){if(f.G=0,f.ka=[],f.l){const v=Bc(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Jc(f,v,E){var R=E instanceof _i?Un(E):new _i(E);if(R.g!="")v&&(R.g=v+"."+R.g),ns(R,R.s);else{var H=c.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new _i(null);R&&co(Q,R),v&&(Q.g=v),H&&ns(Q,H),E&&(Q.l=E),R=Q}return E=f.D,v=f.ya,E&&v&&lt(R,E,v),lt(R,"VER",f.la),Ei(f,R),R}function Zc(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new _t(new vi({eb:E})):new _t(f.pa),v.Ha(f.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}r=ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(f,v){return new mn(f,v)};function mn(f,v){Ie.call(this),this.g=new tu(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new qr(this)}k(mn,Ie),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Ul(f),f=E);v.i.push(new Vc(v.Ya++,f)),v.G==3&&zr(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)};function ed(f){Ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}k(ed,Ur);function td(){ua.call(this),this.status=1}k(td,ua);function qr(f){this.g=f}k(qr,ru),qr.prototype.ua=function(){ut(this.g,"a")},qr.prototype.ta=function(f){ut(this.g,new ed(f))},qr.prototype.sa=function(f){ut(this.g,new td)},qr.prototype.ra=function(){ut(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pC=function(){return new xa},hC=function(){return ro()},fC=Br,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,_f=fa,Mc.COMPLETE="complete",dC=Mc,la.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Fu=la,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,cC=_t}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Ry("@firebase/firestore");function Ja(){return Go.logLevel}function ye(r,...e){if(Go.logLevel<=$e.DEBUG){const t=e.map($y);Go.debug(`Firestore (${Dl}): ${r}`,...t)}}function zi(r,...e){if(Go.logLevel<=$e.ERROR){const t=e.map($y);Go.error(`Firestore (${Dl}): ${r}`,...t)}}function dl(r,...e){if(Go.logLevel<=$e.WARN){const t=e.map($y);Go.warn(`Firestore (${Dl}): ${r}`,...t)}}function $y(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r="Unexpected state"){const e=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: `+r;throw zi(e),new Error(e)}function nt(r,e){r||Ne()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class t1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class n1{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nt(typeof n.accessToken=="string"),new mC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new un(e)}}class r1{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i1{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new r1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const n=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new s1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=a1(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function qe(r,e){return r<e?-1:r>e?1:0}function fl(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ft(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ft(0,0))}static max(){return new Me(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ne(),n===void 0?n=e.length-t:n>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Zr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Zr.isNumericId(e),i=Zr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class gt extends Zr{construct(e,t,n){return new gt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const l1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Zr{construct(e,t,n){return new en(e,t,n)}static isValidIdentifier(e){return l1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(gt.fromString(e))}static fromName(e){return new Ce(gt.fromString(e).popFirst(5))}static empty(){return new Ce(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new gt(e.slice()))}}function u1(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(n===1e9?new Ft(t+1,0):new Ft(t,n));return new Us(i,Ce.empty(),e)}function c1(r){return new Us(r.readTime,r.key,-1)}class Us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Us(Me.min(),Ce.empty(),-1)}static max(){return new Us(Me.max(),Ce.empty(),-1)}}function d1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==f1)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,n)=>{t(e)})}static reject(e){return new ne((t,n)=>{n(e)})}static waitFor(e){return new ne((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=ne.resolve(!1);for(const n of e)t=t.next(i=>i?ne.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ne((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new ne((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function p1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bh.oe=-1;function Ih(r){return r==null}function Wf(r){return r===0&&1/r==-1/0}function m1(r){return typeof r=="number"&&Number.isInteger(r)&&!Wf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=QE(e)),e=y1(r.get(t),e);return QE(e)}function y1(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function QE(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Gs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Zt(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,n,i,o){return this}insert(e,t,n){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Bt(en.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _C("Invalid base64 string: "+o):o}}(e);return new nn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const _1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(r){if(nt(!!r),typeof r=="string"){let e=0;const t=_1.exec(r);if(nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dh(r){const e=r.mapValue.fields.__previous_value__;return Wy(e)?Dh(e):e}function tc(r){const e=Bs(r.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t,n,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wy(r)?4:E1(r)?9007199254740991:w1(r)?10:11:Ne()}function hi(r,e){if(r===e)return!0;const t=Ws(r);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tc(r).isEqual(tc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Bs(i.timestampValue),c=Bs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return $s(i.bytesValue).isEqual($s(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Rt(i.doubleValue),c=Rt(o.doubleValue);return l===c?Wf(l)===Wf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return fl(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(GE(l)!==GE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!hi(l[d],c[d])))return!1;return!0}(r,e);default:return Ne()}}function rc(r,e){return(r.values||[]).find(t=>hi(t,e))!==void 0}function hl(r,e){if(r===e)return 0;const t=Ws(r),n=Ws(e);if(t!==n)return qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Rt(o.integerValue||o.doubleValue),d=Rt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return JE(r.timestampValue,e.timestampValue);case 4:return JE(tc(r),tc(e));case 5:return qe(r.stringValue,e.stringValue);case 6:return function(o,l){const c=$s(o),d=$s(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=qe(c[p],d[p]);if(m!==0)return m}return qe(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=qe(Rt(o.latitude),Rt(l.latitude));return c!==0?c:qe(Rt(o.longitude),Rt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ZE(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,m;const y=o.fields||{},_=l.fields||{},T=(c=y.value)===null||c===void 0?void 0:c.arrayValue,k=(d=_.value)===null||d===void 0?void 0:d.arrayValue,I=qe(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:ZE(T,k)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===Zd.mapValue&&l===Zd.mapValue)return 0;if(o===Zd.mapValue)return 1;if(l===Zd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=qe(d[y],m[y]);if(_!==0)return _;const T=hl(c[d[y]],p[m[y]]);if(T!==0)return T}return qe(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Ne()}}function JE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=Bs(r),n=Bs(e),i=qe(t.seconds,n.seconds);return i!==0?i:qe(t.nanos,n.nanos)}function ZE(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=hl(t[i],n[i]);if(o)return o}return qe(t.length,n.length)}function pl(r){return Ug(r)}function Ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Bs(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return $s(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ce.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Ug(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${Ug(t.fields[l])}`;return i+"}"}(r.mapValue):Ne()}function vf(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+vf(e):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+vf(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Gs(n.fields,(o,l)=>{i+=o.length+vf(l)}),i}(r.mapValue);default:throw Ne()}}function eT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bg(r){return!!r&&"integerValue"in r}function Hy(r){return!!r&&"arrayValue"in r}function tT(r){return!!r&&"nullValue"in r}function nT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wf(r){return!!r&&"mapValue"in r}function w1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=qu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function E1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=en.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=qu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Gs(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new On(qu(this.value))}}function vC(r){const e=[];return Gs(r.fields,(t,n)=>{const i=new en([t]);if(wf(n)){const o=vC(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new cn(e,0,Me.min(),Me.min(),Me.min(),On.empty(),0)}static newFoundDocument(e,t,n,i){return new cn(e,1,t,Me.min(),n,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Me.min(),Me.min(),On.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Me.min(),Me.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function rT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Ce.comparator(Ce.fromName(l.referenceValue),t.key):n=hl(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function iT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function T1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class Lt extends wC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new k1(e,t,n):t==="array-contains"?new b1(e,n):t==="in"?new I1(e,n):t==="not-in"?new D1(e,n):t==="array-contains-any"?new R1(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new C1(e,n):new x1(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hl(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends wC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Nr(e,t)}matches(e){return EC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EC(r){return r.op==="and"}function TC(r){return S1(r)&&EC(r)}function S1(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function $g(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+pl(r.value);if(TC(r))return r.filters.map(e=>$g(e)).join(",");{const e=r.filters.map(t=>$g(t)).join(",");return`${r.op}(${e})`}}function SC(r,e){return r instanceof Lt?function(n,i){return i instanceof Lt&&n.op===i.op&&n.field.isEqual(i.field)&&hi(n.value,i.value)}(r,e):r instanceof Nr?function(n,i){return i instanceof Nr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&SC(l,i.filters[c]),!0):!1}(r,e):void Ne()}function kC(r){return r instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${pl(t.value)}`}(r):r instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(kC).join(" ,")+"}"}(r):"Filter"}class k1 extends Lt{constructor(e,t,n){super(e,t,n),this.key=Ce.fromName(n.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class C1 extends Lt{constructor(e,t){super(e,"in",t),this.keys=CC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x1 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=CC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CC(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ce.fromName(n.referenceValue))}class b1 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hy(t)&&rc(t.arrayValue,this.value)}}class I1 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rc(this.value.arrayValue,t)}}class D1 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rc(this.value.arrayValue,t)}}class R1 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>rc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function sT(r,e=null,t=[],n=[],i=null,o=null,l=null){return new P1(r,e,t,n,i,o,l)}function zy(r){const e=Le(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>$g(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>pl(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>pl(n)).join(",")),e.ue=t}return e.ue}function qy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!T1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!SC(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iT(r.startAt,e.startAt)&&iT(r.endAt,e.endAt)}function Wg(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function A1(r,e,t,n,i,o,l,c){return new Ec(r,e,t,n,i,o,l,c)}function Rh(r){return new Ec(r)}function oT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xC(r){return r.collectionGroup!==null}function Yu(r){const e=Le(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bt(en.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new zf(o,n))}),t.has(en.keyField().canonicalString())||e.ce.push(new zf(en.keyField(),n))}return e.ce}function li(r){const e=Le(r);return e.le||(e.le=N1(e,Yu(r))),e.le}function N1(r,e){if(r.limitType==="F")return sT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new zf(i.field,o)});const t=r.endAt?new Hf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Hf(r.startAt.position,r.startAt.inclusive):null;return sT(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Hg(r,e){const t=r.filters.concat([e]);return new Ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zg(r,e,t){return new Ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ph(r,e){return qy(li(r),li(e))&&r.limitType===e.limitType}function bC(r){return`${zy(li(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>kC(i)).join(", ")}]`),Ih(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>pl(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>pl(i)).join(",")),`Target(${n})`}(li(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ce.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Yu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const p=rT(l,c,d);return l.inclusive?p<=0:p<0}(n.startAt,Yu(n),i)||n.endAt&&!function(l,c,d){const p=rT(l,c,d);return l.inclusive?p>=0:p>0}(n.endAt,Yu(n),i))}(r,e)}function M1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IC(r){return(e,t)=>{let n=!1;for(const i of Yu(r)){const o=O1(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function O1(r,e,t){const n=r.field.isKeyField()?Ce.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?hl(d,p):Ne()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return yC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new kt(Ce.comparator);function qi(){return L1}const DC=new kt(Ce.comparator);function Vu(...r){let e=DC;for(const t of r)e=e.insert(t.key,t);return e}function RC(r){let e=DC;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Oo(){return Ku()}function PC(){return Ku()}function Ku(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const F1=new kt(Ce.comparator),V1=new Bt(Ce.comparator);function We(...r){let e=V1;for(const t of r)e=e.add(t);return e}const j1=new Bt(qe);function U1(){return j1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function AC(r){return{integerValue:""+r}}function B1(r,e){return m1(e)?AC(e):Yy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function $1(r,e,t){return r instanceof ic?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wy(o)&&(o=Dh(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof sc?MC(r,e):r instanceof oc?OC(r,e):function(i,o){const l=NC(i,o),c=aT(l)+aT(i.Pe);return Bg(l)&&Bg(i.Pe)?AC(c):Yy(i.serializer,c)}(r,e)}function W1(r,e,t){return r instanceof sc?MC(r,e):r instanceof oc?OC(r,e):t}function NC(r,e){return r instanceof qf?function(n){return Bg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ic extends Nh{}class sc extends Nh{constructor(e){super(),this.elements=e}}function MC(r,e){const t=LC(e);for(const n of r.elements)t.some(i=>hi(i,n))||t.push(n);return{arrayValue:{values:t}}}class oc extends Nh{constructor(e){super(),this.elements=e}}function OC(r,e){let t=LC(e);for(const n of r.elements)t=t.filter(i=>!hi(i,n));return{arrayValue:{values:t}}}class qf extends Nh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function aT(r){return Rt(r.integerValue||r.doubleValue)}function LC(r){return Hy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.field=e,this.transform=t}}function z1(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof sc&&i instanceof sc||n instanceof oc&&i instanceof oc?fl(n.elements,i.elements,hi):n instanceof qf&&i instanceof qf?hi(n.Pe,i.Pe):n instanceof ic&&i instanceof ic}(r.transform,e.transform)}class q1{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function FC(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ky(r.key,cr.none()):new Tc(r.key,r.data,cr.none());{const t=r.data,n=On.empty();let i=new Bt(en.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Xs(r.key,n,new Yn(i.toArray()),cr.none())}}function Y1(r,e,t){r instanceof Tc?function(i,o,l){const c=i.value.clone(),d=uT(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Xs?function(i,o,l){if(!Ef(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=uT(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(VC(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Qu(r,e,t,n){return r instanceof Tc?function(o,l,c,d){if(!Ef(o.precondition,l))return c;const p=o.value.clone(),m=cT(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Xs?function(o,l,c,d){if(!Ef(o.precondition,l))return c;const p=cT(o.fieldTransforms,d,l),m=l.data;return m.setAll(VC(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(r,e,t,n):function(o,l,c){return Ef(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function K1(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=NC(n.transform,i||null);o!=null&&(t===null&&(t=On.empty()),t.set(n.field,o))}return t||null}function lT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&fl(n,i,(o,l)=>z1(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tc extends Mh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Mh{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VC(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function uT(r,e,t){const n=new Map;nt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,W1(l,c,t[i]))}return n}function cT(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,$1(o,l,e))}return n}class Ky extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q1 extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Y1(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=PC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=FC(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(t,n)=>lT(t,n))&&fl(this.baseMutations,e.baseMutations,(t,n)=>lT(t,n))}}class Qy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){nt(e.mutations.length===n.length);let i=function(){return F1}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new Qy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ke;function Z1(r){switch(r){default:return Ne();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function jC(r){if(r===void 0)return zi("GRPC error has no .code"),re.UNKNOWN;switch(r){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return Ne()}}(Ke=Ot||(Ot={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Ls([4294967295,4294967295],0);function dT(r){const e=eM().encode(r),t=new uC;return t.update(e),new Uint8Array(t.digest())}function fT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ls([t,n],0),new Ls([i,o],0)]}class Gy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ju(`Invalid padding: ${t}`);if(n<0)throw new ju(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new ju(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ls.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Ls.fromNumber(n)));return i.compare(tM)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=dT(e),[n,i]=fT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Gy(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=dT(e),[n,i]=fT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Oh(Me.min(),i,new kt(qe),qi(),We())}}class Sc{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sc(n,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class UC{constructor(e,t){this.targetId=e,this.me=t}}class BC{constructor(e,t,n=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class hT{constructor(){this.fe=0,this.ge=pT(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),n=We();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ne()}}),new Sc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=pT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nM{constructor(e){this.Be=e,this.Le=new Map,this.ke=qi(),this.qe=ef(),this.Qe=ef(),this.Ke=new kt(qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(Wg(o))if(n===0){const l=new Ce(o.path);this.We(t,l,cn.newNoDocument(l,Me.min()))}else nt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=$s(n).toUint8Array()}catch(d){if(d instanceof _C)return dl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Gy(l,i,o)}catch(d){return dl(d instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Wg(c.target)){const d=new Ce(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,cn.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=We();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Oh(e,t,this.Ke,this.ke,n);return this.ke=qi(),this.qe=ef(),this.Qe=ef(),this.Ke=new kt(qe),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new hT,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Bt(qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new hT),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function ef(){return new kt(Ce.comparator)}function pT(){return new kt(Ce.comparator)}const rM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sM={and:"AND",or:"OR"};class oM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(r,e){return r.useProto3Json||Ih(e)?e:{value:e}}function Yf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aM(r,e){return Yf(r,e.toTimestamp())}function ui(r){return nt(!!r),Me.fromTimestamp(function(t){const n=Bs(t);return new Ft(n.seconds,n.nanos)}(r))}function Xy(r,e){return Yg(r,e).canonicalString()}function Yg(r,e){const t=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function WC(r){const e=gt.fromString(r);return nt(KC(e)),e}function Kg(r,e){return Xy(r.databaseId,e.path)}function Jm(r,e){const t=WC(e);if(t.get(1)!==r.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(zC(t))}function HC(r,e){return Xy(r.databaseId,e)}function lM(r){const e=WC(r);return e.length===4?gt.emptyPath():zC(e)}function Qg(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zC(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function mT(r,e,t){return{name:Kg(r,e),fields:t.value.mapValue.fields}}function uM(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(nt(m===void 0||typeof m=="string"),nn.fromBase64String(m||"")):(nt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),nn.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?re.UNKNOWN:jC(p.code);return new we(m,p.message||"")}(l);t=new BC(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Jm(r,n.document.name),o=ui(n.document.updateTime),l=n.document.createTime?ui(n.document.createTime):Me.min(),c=new On({mapValue:{fields:n.document.fields}}),d=cn.newFoundDocument(i,o,l,c),p=n.targetIds||[],m=n.removedTargetIds||[];t=new Tf(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Jm(r,n.document),o=n.readTime?ui(n.readTime):Me.min(),l=cn.newNoDocument(i,o),c=n.removedTargetIds||[];t=new Tf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Jm(r,n.document),o=n.removedTargetIds||[];t=new Tf([],o,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new J1(i,o),c=n.targetId;t=new UC(c,l)}}return t}function cM(r,e){let t;if(e instanceof Tc)t={update:mT(r,e.key,e.value)};else if(e instanceof Ky)t={delete:Kg(r,e.key)};else if(e instanceof Xs)t={update:mT(r,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof Q1))return Ne();t={verify:Kg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof ic)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof oc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ne()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(r,e.precondition)),t}function dM(r,e){return r&&r.length>0?(nt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ui(i.updateTime):ui(o);return l.isEqual(Me.min())&&(l=ui(o)),new q1(l,i.transformResults||[])}(t,e))):[]}function fM(r,e){return{documents:[HC(r,e.path)]}}function hM(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=HC(r,i);const o=function(p){if(p.length!==0)return YC(Nr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:el(_.field),direction:gM(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=qg(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function pM(r){let e=lM(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){nt(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const _=qC(y);return _ instanceof Nr&&TC(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(k){return new zf(tl(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Ih(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(y){const _=!!y.before,T=y.values||[];return new Hf(T,_)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const _=!y.before,T=y.values||[];return new Hf(T,_)}(t.endAt)),A1(e,i,l,o,c,"F",d,p)}function mM(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qC(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=tl(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(t.unaryFilter.field);return Lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tl(t.unaryFilter.field);return Lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tl(t.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(r):r.fieldFilter!==void 0?function(t){return Lt.create(tl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(n=>qC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(r):Ne()}function gM(r){return rM[r]}function yM(r){return iM[r]}function _M(r){return sM[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return en.fromServerFormat(r.fieldPath)}function YC(r){return r instanceof Lt?function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(tT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(tT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:yM(t.op),value:t.value}}}(r):r instanceof Nr?function(t){const n=t.getFilters().map(i=>YC(i));return n.length===1?n[0]:{compositeFilter:{op:_M(t.op),filters:n}}}(r):Ne()}function vM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,n,i,o=Me.min(),l=Me.min(),c=nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.ht=e}}function EM(r){const e=pM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.ln=new SM}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Us.min())}updateCollectionGroup(e,t,n){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class SM{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Bt(gt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Bt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ml(0)}static Qn(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT([r,e],[t,n]){const i=qe(r,t);return i===0?qe(e,n):i}class kM{constructor(e){this.Gn=e,this.buffer=new Bt(yT),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();yT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CM{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pl(t)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Rl(t)}await this.Yn(3e5)})}}class xM{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(bh.oe);const n=new kM(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(gT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(p=Date.now(),Ja()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function bM(r,e){return new xM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.changes=new na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Qu(n.mutation,i,Yn.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,We()).next(()=>n))}getLocalViewOfDocuments(e,t,n=We()){const i=Oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Vu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Oo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,We()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=qi();const l=Ku(),c=function(){return Ku()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Xs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Qu(m.mutation,p,m.mutation.getFieldMask(),Ft.now())):l.set(p.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return c.set(p,new DM(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Ku();let i=new kt((l,c)=>l-c),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||Yn.empty();m=c.applyToLocalView(p,m),n.set(d,m);const y=(i.get(c.batchId)||We()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=PC();m.forEach(_=>{if(!o.has(_)){const T=FC(t.get(_),n.get(_));T!==null&&y.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ne.resolve(Oo());let c=-1,d=o;return l.next(p=>ne.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,We())).next(m=>({batchId:c,changes:RC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(n=>{let i=Vu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Vu();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,d=>{const p=function(y,_){return new Ec(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,cn.newInvalidDocument(m)))});let c=Vu();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Qu(m.mutation,p,Yn.empty(),Ft.now()),Ah(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:EM(i.bundledQuery),readTime:ui(i.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.overlays=new kt(Ce.comparator),this.dr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Oo();return ne.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),ne.resolve()}getOverlaysForCollection(e,t,n){const i=Oo(),o=t.length+1,l=new Ce(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new kt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=Oo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Oo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return ne.resolve(c)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new X1(t,n));let o=this.dr.get(t);o===void 0&&(o=We(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Er=new Bt(qt.Ar),this.Rr=new Bt(qt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new qt(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new qt(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new Ce(new gt([])),n=new qt(t,e),i=new qt(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ce(new gt([])),n=new qt(t,e),i=new qt(t,e+1);let o=We();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new qt(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ce.comparator(e.key,t.key)||qe(e.br,t.br)}static Vr(e,t){return qe(e.br,t.br)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Bt(qt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G1(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new qt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qt(t,0),i=new qt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const c=this.Cr(l.br);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bt(qe);return t.forEach(i=>{const o=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{n=n.add(c.br)})}),ne.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ce.isDocumentKey(o)||(o=o.child(""));const l=new qt(new Ce(o),0);let c=new Bt(qe);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.br)),!0)},l),ne.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){nt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return ne.forEach(t.mutations,i=>{const o=new qt(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new qt(t,0),i=this.vr.firstAfterOrEqual(n);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.Nr=e,this.docs=function(){return new kt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ne.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let n=qi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=qi();const l=t.path,c=new Ce(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||d1(c1(m),n)<=0||(i.has(m.key)||Ah(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ne()}Br(e,t){return ne.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new LM(this)}getSize(e){return ne.resolve(this.size)}}class LM extends IM{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.persistence=e,this.Lr=new na(t=>zy(t),qy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jy,this.targetCount=0,this.Qr=ml.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return ne.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),ne.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return ne.resolve(n)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.Kr={},this.overlays={},this.$r=new bh(0),this.Ur=!1,this.Ur=!0,this.Wr=new NM,this.referenceDelegate=e(this),this.Gr=new FM(this),this.indexManager=new TM,this.remoteDocumentCache=function(i){return new OM(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new wM(t),this.jr=new PM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new MM(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const i=new VM(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return ne.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class VM extends h1{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Zr=new Jy,this.Xr=null}static ei(e){return new Zy(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),ne.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,n=>{const i=Ce.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.ri=new na(n=>g1(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=bM(this,t)}static ei(e,t){return new Kf(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?ne.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(n++,o.removeEntry(l,Me.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vf(e.data.value)),t}ir(e,t,n){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ne.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new e_(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TR()?8:p1(hn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jM;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(Ja()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Ja()<=$e.DEBUG&&ye("QueryEngine","Query:",Za(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(Ja()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):ne.resolve())}Xi(e,t){if(oT(t))return ne.resolve(null);let n=li(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zg(t,null,"F"),n=li(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=We(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.rs(t,c);return this.ss(t,p,l,d.readTime)?this.Xi(e,zg(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,n,i){return oT(t)||i.isEqual(Me.min())?ne.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?ne.resolve(null):(Ja()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(t)),this.os(e,l,t,u1(i,-1)).next(c=>c))})}rs(e,t){let n=new Bt(IC(e));return t.forEach((i,o)=>{Ah(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return Ja()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Za(t)),this.Zi.getDocumentsMatchingQuery(e,t,Us.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new kt(qe),this.cs=new na(o=>zy(o),qy),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function $M(r,e,t,n){return new BM(r,e,t,n)}async function GC(r,e){const t=Le(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=We();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function WM(r,e){const t=Le(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,_=y.keys();let T=ne.resolve();return _.forEach(k=>{T=T.next(()=>m.getEntry(d,k)).next(I=>{const b=p.docVersions.get(k);nt(b!==null),I.version.compareTo(b)<0&&(y.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),m.addEntry(I)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=We();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function XC(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function HM(r,e){const t=Le(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,y)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(nn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,n)),i=i.insert(y,T),function(I,b,N){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,T,m)&&c.push(t.Gr.updateTargetData(o,T))});let d=qi(),p=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(zM(o,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!n.isEqual(Me.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(y=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return ne.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function zM(r,e,t){let n=We(),i=We();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=qi();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function qM(r,e){const t=Le(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function YM(r,e){const t=Le(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,ne.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Ps(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function Gg(r,e,t){const n=Le(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Pl(l))throw l;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function _T(r,e,t){const n=Le(r);let i=Me.min(),o=We();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Le(d),_=y.cs.get(m);return _!==void 0?ne.resolve(y.us.get(_)):y.Gr.getTargetData(p,m)}(n,l,li(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:Me.min(),t?o:We())).next(c=>(KM(n,M1(e),c),{documents:c,Es:o})))}function KM(r,e,t){let n=r.ls.get(e)||Me.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class vT{constructor(){this.activeTargetIds=U1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QM{constructor(){this._o=new vT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new vT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Zm(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class ZM extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const c=Zm(),d=this.No(t,n.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(m=>(ye("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw dl("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,n,i,o,l,c){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=XM[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=Zm();return new Promise((l,c)=>{const d=new cC;d.setWithCredentials(!0),d.listenOnce(dC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _f.NO_ERROR:const m=d.getResponseJson();ye(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case _f.TIMEOUT:ye(ln,`RPC '${e}' ${o} timed out`),c(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const y=d.getStatus();if(ye(ln,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const k=function(b){const N=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(T.status);c(new we(k,T.message))}else c(new we(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new we(re.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(ln,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ye(ln,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}qo(e,t,n){const i=Zm(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pC(),c=hC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");ye(ln,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let _=!1,T=!1;const k=new JM({Eo:b=>{T?ye(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ye(ln,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),ye(ln,`RPC '${e}' stream ${i} sending:`,b),y.send(b))},Ao:()=>y.close()}),I=(b,N,F)=>{b.listen(N,j=>{try{F(j)}catch(q){setTimeout(()=>{throw q},0)}})};return I(y,Fu.EventType.OPEN,()=>{T||(ye(ln,`RPC '${e}' stream ${i} transport opened.`),k.So())}),I(y,Fu.EventType.CLOSE,()=>{T||(T=!0,ye(ln,`RPC '${e}' stream ${i} transport closed`),k.Do())}),I(y,Fu.EventType.ERROR,b=>{T||(T=!0,dl(ln,`RPC '${e}' stream ${i} transport errored:`,b),k.Do(new we(re.UNAVAILABLE,"The operation could not be completed")))}),I(y,Fu.EventType.MESSAGE,b=>{var N;if(!T){const F=b.data[0];nt(!!F);const j=F,q=(j==null?void 0:j.error)||((N=j[0])===null||N===void 0?void 0:N.error);if(q){ye(ln,`RPC '${e}' stream ${i} received error:`,q);const J=q.status;let Z=function(P){const O=Ot[P];if(O!==void 0)return jC(O)}(J),A=q.message;Z===void 0&&(Z=re.INTERNAL,A="Unknown error status: "+J+" with message "+q.message),T=!0,k.Do(new we(Z,A)),y.close()}else ye(ln,`RPC '${e}' stream ${i} received:`,F),k.vo(F)}}),I(c,fC.STAT_EVENT,b=>{b.stat===jg.PROXY?ye(ln,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===jg.NOPROXY&&ye(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new oM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,n,i,o,l,c,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new JC(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eO extends ZC{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=uM(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?ui(l.readTime):Me.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Qg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=Wg(d)?{documents:fM(o,d)}:{query:hM(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=$C(o,l.resumeToken);const p=qg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Yf(o,l.snapshotVersion.toTimestamp());const p=qg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=mM(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Qg(this.serializer),t.removeTarget=e,this.c_(t)}}class tO extends ZC{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=dM(e.writeResults,e.commitTime),n=ui(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Qg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>cM(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Yg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(re.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Yg(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(zi(t),this.C_=!1):ye("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{ra(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Le(d);p.k_.add(4),await kc(p),p.K_.set("Unknown"),p.k_.delete(4),await Fh(p)}(this))})}),this.K_=new rO(n,i)}}async function Fh(r){if(ra(r))for(const e of r.q_)await e(!0)}async function kc(r){for(const e of r.q_)await e(!1)}function e0(r,e){const t=Le(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),i_(t)?r_(t):Al(t).s_()&&n_(t,e))}function t_(r,e){const t=Le(r),n=Al(t);t.L_.delete(e),n.s_()&&t0(t,e),t.L_.size===0&&(n.s_()?n.a_():ra(t)&&t.K_.set("Unknown"))}function n_(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(r).V_(e)}function t0(r,e){r.U_.xe(e),Al(r).m_(e)}function r_(r){r.U_=new nM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Al(r).start(),r.K_.F_()}function i_(r){return ra(r)&&!Al(r).i_()&&r.L_.size>0}function ra(r){return Le(r).k_.size===0}function n0(r){r.U_=void 0}async function sO(r){r.K_.set("Online")}async function oO(r){r.L_.forEach((e,t)=>{n_(r,e)})}async function aO(r,e){n0(r),i_(r)?(r.K_.O_(e),r_(r)):r.K_.set("Unknown")}async function lO(r,e,t){if(r.K_.set("Online"),e instanceof BC&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(r,e)}catch(n){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qf(r,n)}else if(e instanceof Tf?r.U_.$e(e):e instanceof UC?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Me.min()))try{const n=await XC(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.L_.get(p);m&&o.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=o.L_.get(d);if(!m)return;o.L_.set(d,m.withResumeToken(nn.EMPTY_BYTE_STRING,m.snapshotVersion)),t0(o,d);const y=new Ps(m.target,d,p,m.sequenceNumber);n_(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){ye("RemoteStore","Failed to raise snapshot:",n),await Qf(r,n)}}async function Qf(r,e,t){if(!Pl(e))throw e;r.k_.add(1),await kc(r),r.K_.set("Offline"),t||(t=()=>XC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Fh(r)})}function r0(r,e){return e().catch(t=>Qf(r,t,e))}async function Vh(r){const e=Le(r),t=Hs(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;uO(e);)try{const i=await qM(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,cO(e,i)}catch(i){await Qf(e,i)}i0(e)&&s0(e)}function uO(r){return ra(r)&&r.B_.length<10}function cO(r,e){r.B_.push(e);const t=Hs(r);t.s_()&&t.f_&&t.g_(e.mutations)}function i0(r){return ra(r)&&!Hs(r).i_()&&r.B_.length>0}function s0(r){Hs(r).start()}async function dO(r){Hs(r).w_()}async function fO(r){const e=Hs(r);for(const t of r.B_)e.g_(t.mutations)}async function hO(r,e,t){const n=r.B_.shift(),i=Qy.from(n,e,t);await r0(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Vh(r)}async function pO(r,e){e&&Hs(r).f_&&await async function(n,i){if(function(l){return Z1(l)&&l!==re.ABORTED}(i.code)){const o=n.B_.shift();Hs(n).__(),await r0(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vh(n)}}(r,e),i0(r)&&s0(r)}async function ET(r,e){const t=Le(r);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const n=ra(t);t.k_.add(3),await kc(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Fh(t)}async function mO(r,e){const t=Le(r);e?(t.k_.delete(2),await Fh(t)):e||(t.k_.add(2),await kc(t),t.K_.set("Unknown"))}function Al(r){return r.W_||(r.W_=function(t,n,i){const o=Le(t);return o.b_(),new eO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:sO.bind(null,r),mo:oO.bind(null,r),po:aO.bind(null,r),R_:lO.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),i_(r)?r_(r):r.K_.set("Unknown")):(await r.W_.stop(),n0(r))})),r.W_}function Hs(r){return r.G_||(r.G_=function(t,n,i){const o=Le(t);return o.b_(),new tO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:dO.bind(null,r),po:pO.bind(null,r),p_:fO.bind(null,r),y_:hO.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Vh(r)):(await r.G_.stop(),r.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new s_(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Pl(r))return new we(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ce.comparator(t.key,n.key):(t,n)=>Ce.comparator(t.key,n.key),this.keyedMap=Vu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new al;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.z_=new kt(Ce.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class gl{constructor(e,t,n,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new gl(e,t,al.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class yO{constructor(){this.queries=ST(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=Le(t),o=i.queries;i.queries=ST(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(n)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function ST(){return new na(r=>bC(r),Ph)}async function a_(r,e){const t=Le(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new gO,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=o_(l,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&u_(t)}async function l_(r,e){const t=Le(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function _O(r,e){const t=Le(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(n=!0);l.H_=i}}n&&u_(t)}function vO(r,e,t){const n=Le(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function u_(r){r.X_.forEach(e=>{e.next()})}var Xg,kT;(kT=Xg||(Xg={})).na="default",kT.Cache="cache";class c_{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new gl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class wO{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=IC(e),this.ma=new al(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new TT,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),T=Ah(this.query,y)?y:null,k=!!_&&this.mutatedKeys.has(_.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;_&&T?_.data.isEqual(T.data)?k!==I&&(n.track({type:3,doc:T}),b=!0):this.ya(_,T)||(n.track({type:2,doc:T}),b=!0,(d&&this.Va(T,d)>0||p&&this.Va(T,p)<0)&&(c=!0)):!_&&T?(n.track({type:0,doc:T}),b=!0):_&&!T&&(n.track({type:1,doc:_}),b=!0,(d||p)&&(c=!0)),b&&(T?(l=l.add(T),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{ma:l,pa:n,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,y)=>function(T,k){const I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return I(T)-I(k)}(m.type,y.type)||this.Va(m.doc,y.doc)),this.wa(n),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new gl(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new TT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new a0(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new o0(n))}),t}va(e){this.Ea=e.Es,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return gl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class EO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class TO{constructor(e){this.key=e,this.Fa=!1}}class SO{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new na(c=>bC(c),Ph),this.Oa=new Map,this.Na=new Set,this.Ba=new kt(Ce.comparator),this.La=new Map,this.ka=new Jy,this.qa={},this.Qa=new Map,this.Ka=ml.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kO(r,e,t=!0){const n=h0(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await l0(n,e,t,!0),i}async function CO(r,e){const t=h0(r);await l0(t,e,!0,!1)}async function l0(r,e,t,n){const i=await YM(r.localStore,li(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await xO(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&e0(r.remoteStore,i),c}async function xO(r,e,t,n,i){r.Ua=(y,_,T)=>async function(I,b,N,F){let j=b.view.ga(N);j.ss&&(j=await _T(I.localStore,b.query,!1).then(({documents:A})=>b.view.ga(A,j)));const q=F&&F.targetChanges.get(b.targetId),J=F&&F.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(j,I.isPrimaryClient,q,J);return xT(I,b.targetId,Z.ba),Z.snapshot}(r,y,_,T);const o=await _T(r.localStore,e,!0),l=new wO(e,o.Es),c=l.ga(o.documents),d=Sc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(c,r.isPrimaryClient,d);xT(r,t,p.ba);const m=new EO(e,t,l);return r.xa.set(e,m),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),p.snapshot}async function bO(r,e,t){const n=Le(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!Ph(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Gg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&t_(n.remoteStore,i.targetId),Jg(n,i.targetId)}).catch(Rl)):(Jg(n,i.targetId),await Gg(n.localStore,i.targetId,!0))}async function IO(r,e){const t=Le(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),t_(t.remoteStore,n.targetId))}async function DO(r,e,t){const n=LO(r);try{const i=await function(l,c){const d=Le(l),p=Ft.now(),m=c.reduce((T,k)=>T.add(k.key),We());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=qi(),I=We();return d.hs.getEntries(T,m).next(b=>{k=b,k.forEach((N,F)=>{F.isValidDocument()||(I=I.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,k)).next(b=>{y=b;const N=[];for(const F of c){const j=K1(F,y.get(F.key).overlayedDocument);j!=null&&N.push(new Xs(F.key,j,vC(j.value.mapValue),cr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,N,c)}).next(b=>{_=b;const N=b.applyToLocalDocumentSet(y,I);return d.documentOverlayCache.saveOverlays(T,b.batchId,N)})}).then(()=>({batchId:_.batchId,changes:RC(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new kt(qe)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(n,i.batchId,t),await Cc(n,i.changes),await Vh(n.remoteStore)}catch(i){const o=o_(i,"Failed to persist write");t.reject(o)}}async function u0(r,e){const t=Le(r);try{const n=await HM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?nt(l.Fa):i.removedDocuments.size>0&&(nt(l.Fa),l.Fa=!1))}),await Cc(t,n,e)}catch(n){await Rl(n)}}function CT(r,e,t){const n=Le(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Le(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const _ of y.J_)_.ea(c)&&(p=!0)}),p&&u_(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function RO(r,e,t){const n=Le(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new kt(Ce.comparator);l=l.insert(o,cn.newNoDocument(o,Me.min()));const c=We().add(o),d=new Oh(Me.min(),new Map,new kt(qe),l,c);await u0(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),d_(n)}else await Gg(n.localStore,e,!1).then(()=>Jg(n,e,t)).catch(Rl)}async function PO(r,e){const t=Le(r),n=e.batch.batchId;try{const i=await WM(t.localStore,e);d0(t,n,null),c0(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Cc(t,i)}catch(i){await Rl(i)}}async function AO(r,e,t){const n=Le(r);try{const i=await function(l,c){const d=Le(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(nt(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);d0(n,e,t),c0(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Cc(n,i)}catch(i){await Rl(i)}}function c0(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function d0(r,e,t){const n=Le(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function Jg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||f0(r,n)})}function f0(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(t_(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),d_(r))}function xT(r,e,t){for(const n of t)n instanceof o0?(r.ka.addReference(n.key,e),NO(r,n)):n instanceof a0?(ye("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||f0(r,n.key)):Ne()}function NO(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(ye("SyncEngine","New document in limbo: "+t),r.Na.add(n),d_(r))}function d_(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Ce(gt.fromString(e)),n=r.Ka.next();r.La.set(n,new TO(t)),r.Ba=r.Ba.insert(t,n),e0(r.remoteStore,new Ps(li(Rh(t.path)),n,"TargetPurposeLimboResolution",bh.oe))}}async function Cc(r,e,t){const n=Le(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,d)=>{l.push(n.Ua(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=e_.zi(d.targetId,p);o.push(y)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,p){const m=Le(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ne.forEach(p,_=>ne.forEach(_.Wi,T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>ne.forEach(_.Gi,T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!Pl(y))throw y;ye("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const T=m.us.get(_),k=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(k);m.us=m.us.insert(_,I)}}}(n.localStore,o))}async function MO(r,e){const t=Le(r);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const n=await GC(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new we(re.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Cc(t,n.Ts)}}function OO(r,e){const t=Le(r),n=t.La.get(e);if(n&&n.Fa)return We().add(n.key);{let i=We();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function h0(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=u0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RO.bind(null,e),e.Ma.R_=_O.bind(null,e.eventManager),e.Ma.Wa=vO.bind(null,e.eventManager),e}function LO(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return $M(this.persistence,new UM,e.initialUser,this.serializer)}ja(e){return new QC(Zy.ei,this.serializer)}za(e){return new QM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class FO extends Gf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){nt(this.persistence.referenceDelegate instanceof Kf);const n=this.persistence.referenceDelegate.garbageCollector;return new CM(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new QC(n=>Kf.ei(n,t),this.serializer)}}class Zg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>CT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await mO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yO}()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),n=function(o){return new ZM(o)}(e.databaseInfo);return function(o,l,c,d){return new nO(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new iO(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>CT(this.syncEngine,t,0),function(){return wT.p()?new wT:new GM}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,m){const y=new SO(i,o,l,c,d,p);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Le(i);ye("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await kc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zg.provider={build:()=>new Zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=gC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{ye("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(ye("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=o_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function tg(r,e){r.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await GC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function bT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await jO(r);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>ET(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>ET(e.remoteStore,i)),r._onlineComponents=e}async function jO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await tg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;dl("Error using user provided cache. Falling back to memory cache: "+t),await tg(r,new Gf)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await tg(r,new FO(void 0));return r._offlineComponents}async function p0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await bT(r,r._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await bT(r,new Zg))),r._onlineComponents}function UO(r){return p0(r).then(e=>e.syncEngine)}async function Xf(r){const e=await p0(r),t=e.eventManager;return t.onListen=kO.bind(null,e.syncEngine),t.onUnlisten=bO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IO.bind(null,e.syncEngine),t}function BO(r,e,t={}){const n=new Fi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new f_({next:_=>{m.eu(),l.enqueueAndForget(()=>l_(o,y));const T=_.docs.has(c);!T&&_.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new c_(Rh(c.path),m,{includeMetadataChanges:!0,ua:!0});return a_(o,y)}(await Xf(r),r.asyncQueue,e,t,n)),n.promise}function $O(r,e,t={}){const n=new Fi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new f_({next:_=>{m.eu(),l.enqueueAndForget(()=>l_(o,y)),_.fromCache&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new c_(c,m,{includeMetadataChanges:!0,ua:!0});return a_(o,y)}(await Xf(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WO(r,e,t,n){if(e===!0&&n===!0)throw new we(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function DT(r){if(!Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function RT(r){if(Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne()}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jh(r);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new e1;switch(n.type){case"firstParty":return new i1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=IT.get(t);n&&(ye("ComponentProvider","Removing Datastore"),IT.delete(t),n.terminate())}(this),Promise.resolve()}}function HO(r,e,t,n={}){var i;const o=(r=Ln(r,Uh))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=un.MOCK_USER;else{c=mR(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new un(p)}r._authCredentials=new t1(new mC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class fn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Fs extends ia{constructor(e,t,n){super(e,t,Rh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ce(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function ng(r,e,...t){if(r=Yt(r),g0("collection","path",e),r instanceof Uh){const n=gt.fromString(e,...t);return RT(n),new Fs(r,null,n)}{if(!(r instanceof fn||r instanceof Fs))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return RT(n),new Fs(r.firestore,null,n)}}function ur(r,e,...t){if(r=Yt(r),arguments.length===1&&(e=gC.newId()),g0("doc","path",e),r instanceof Uh){const n=gt.fromString(e,...t);return DT(n),new fn(r,null,new Ce(n))}{if(!(r instanceof fn||r instanceof Fs))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return DT(n),new fn(r.firestore,r instanceof Fs?r.converter:null,new Ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new JC(this,"async_queue_retry"),this.fu=()=>{const n=eg();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=eg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=eg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Fi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Pl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw zi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=s_.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function NT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Yi extends Uh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new AT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function zO(r,e){const t=typeof r=="object"?r:Ck(),n=typeof r=="string"?r:"(default)",i=Ay(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=hR("firestore");o&&HO(i,...o)}return i}function Bh(r){if(r._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qO(r),r._firestoreClient}function qO(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,p,m){return new v1(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m0(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new VO(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(nn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^__.*__$/;class KO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class y0{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class m_{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(_0(this.Mu)&&YO.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class QO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lh(e)}$u(e,t,n,i=!1){return new m_({Mu:e,methodName:t,Ku:n,path:en.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(r){const e=r._freezeSettings(),t=Lh(r._databaseId);return new QO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function v0(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);y_("Data must be an object, but it was:",l,n);const c=w0(n,l);let d,p;if(o.merge)d=new Yn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=ey(e,y,t);if(!l.contains(_))throw new we(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);T0(m,_)||m.push(_)}d=new Yn(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new KO(new On(c),d,p)}class zh extends Wh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}class g_ extends Wh{_toFieldTransform(e){return new H1(e.path,new ic)}isEqual(e){return e instanceof g_}}function GO(r,e,t,n){const i=r.$u(1,e,t);y_("Data must be an object, but it was:",i,n);const o=[],l=On.empty();Gs(n,(d,p)=>{const m=__(e,d,t);p=Yt(p);const y=i.Lu(m);if(p instanceof zh)o.push(m);else{const _=xc(p,y);_!=null&&(o.push(m),l.set(m,_))}});const c=new Yn(o);return new y0(l,c,i.fieldTransforms)}function XO(r,e,t,n,i,o){const l=r.$u(1,e,t),c=[ey(e,n,t)],d=[i];if(o.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(ey(e,o[_])),d.push(o[_+1]);const p=[],m=On.empty();for(let _=c.length-1;_>=0;--_)if(!T0(p,c[_])){const T=c[_];let k=d[_];k=Yt(k);const I=l.Lu(T);if(k instanceof zh)p.push(T);else{const b=xc(k,I);b!=null&&(p.push(T),m.set(T,b))}}const y=new Yn(p);return new y0(m,y,l.fieldTransforms)}function JO(r,e,t,n=!1){return xc(t,r.$u(n?4:3,e))}function xc(r,e){if(E0(r=Yt(r)))return y_("Unsupported field value:",e,r),w0(r,e);if(r instanceof Wh)return function(n,i){if(!_0(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=xc(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return B1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ft.fromDate(n);return{timestampValue:Yf(i.serializer,o)}}if(n instanceof Ft){const o=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yf(i.serializer,o)}}if(n instanceof h_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yl)return{bytesValue:$C(i.serializer,n._byteString)};if(n instanceof fn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof p_)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Yy(c.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${jh(n)}`)}(r,e)}function w0(r,e){const t={};return yC(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,(n,i)=>{const o=xc(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function E0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ft||r instanceof h_||r instanceof yl||r instanceof fn||r instanceof Wh||r instanceof p_)}function y_(r,e,t){if(!E0(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=jh(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function ey(r,e,t){if((e=Yt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return __(r,e);throw Jf("Field path arguments must be of type string or ",r,!1,void 0,t)}const ZO=new RegExp("[~\\*/\\[\\]]");function __(r,e,t){if(e.search(ZO)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new $h(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Jf(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new we(re.INVALID_ARGUMENT,c+r+d)}function T0(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eL extends S0{data(){return super.data()}}function v_(r,e){return typeof e=="string"?__(r,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w_{}class tL extends w_{}function MT(r,e,...t){let n=[];e instanceof w_&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof E_).length,c=o.filter(d=>d instanceof qh).length;if(l>1||l>0&&c>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class qh extends tL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qh(e,t,n)}_apply(e){const t=this._parse(e);return C0(e._query,t),new ia(e.firestore,e.converter,Hg(e._query,t))}_parse(e){const t=Hh(e.firestore);return function(o,l,c,d,p,m,y){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){LT(y,m);const T=[];for(const k of y)T.push(OT(d,o,k));_={arrayValue:{values:T}}}else _=OT(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||LT(y,m),_=JO(c,l,y,m==="in"||m==="not-in");return Lt.create(p,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rg(r,e,t){const n=e,i=v_("where",r);return qh._create(i,n,t)}class E_ extends w_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new E_(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)C0(l,d),l=Hg(l,d)}(e._query,t),new ia(e.firestore,e.converter,Hg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OT(r,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xC(e)&&t.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(gt.fromString(t));if(!Ce.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return eT(r,new Ce(n))}if(t instanceof fn)return eT(r,t._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(t)}.`)}function LT(r,e){if(!Array.isArray(r)||r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C0(r,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nL{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Gs(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Rt(l.doubleValue));return new p_(o)}convertGeoPoint(e){return new h_(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gt.fromString(e);nt(KC(n));const i=new nc(n.get(1),n.get(3)),o=new Ce(n.popFirst(5));return i.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b0 extends S0{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sf extends b0{data(e={}){return super.data(e)}}class I0{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Sf(this._firestore,this._userDataWriter,n.key,n,new Uu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Sf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Sf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:rL(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(r){r=Ln(r,fn);const e=Ln(r.firestore,Yi);return BO(Bh(e),r._key).then(t=>R0(e,r,t))}class T_ extends nL{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function iL(r){r=Ln(r,ia);const e=Ln(r.firestore,Yi),t=Bh(e),n=new T_(e);return k0(r._query),$O(t,r._query).then(i=>new I0(e,n,r,i))}function ig(r,e,t){r=Ln(r,fn);const n=Ln(r.firestore,Yi),i=x0(r.converter,e);return Yh(n,[v0(Hh(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,cr.none())])}function kf(r,e,t,...n){r=Ln(r,fn);const i=Ln(r.firestore,Yi),o=Hh(i);let l;return l=typeof(e=Yt(e))=="string"||e instanceof $h?XO(o,"updateDoc",r._key,e,t,n):GO(o,"updateDoc",r._key,e),Yh(i,[l.toMutation(r._key,cr.exists(!0))])}function D0(r){return Yh(Ln(r.firestore,Yi),[new Ky(r._key,cr.none())])}function sL(r,e){const t=Ln(r.firestore,Yi),n=ur(r),i=x0(r.converter,e);return Yh(t,[v0(Hh(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,cr.exists(!1))]).then(()=>n)}function oL(r,...e){var t,n,i;r=Yt(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||NT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NT(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,p,m;if(r instanceof fn)p=Ln(r.firestore,Yi),m=Rh(r._key.path),d={next:y=>{e[l]&&e[l](R0(p,r,y))},error:e[l+1],complete:e[l+2]};else{const y=Ln(r,ia);p=Ln(y.firestore,Yi),m=y._query;const _=new T_(p);d={next:T=>{e[l]&&e[l](new I0(p,_,y,T))},error:e[l+1],complete:e[l+2]},k0(r._query)}return function(_,T,k,I){const b=new f_(I),N=new c_(T,b,k);return _.asyncQueue.enqueueAndForget(async()=>a_(await Xf(_),N)),()=>{b.eu(),_.asyncQueue.enqueueAndForget(async()=>l_(await Xf(_),N))}}(Bh(p),m,c,d)}function Yh(r,e){return function(n,i){const o=new Fi;return n.asyncQueue.enqueueAndForget(async()=>DO(await UO(n),i,o)),o.promise}(Bh(r),e)}function R0(r,e,t){const n=t.docs.get(e._key),i=new T_(r);return new b0(r,i,e._key,n,new Uu(t.hasPendingWrites,t.fromCache),e.converter)}function aL(){return new g_("serverTimestamp")}(function(e,t=!0){(function(i){Dl=i})(bl),cl(new Yo("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Yi(new n1(n.getProvider("auth-internal")),new o1(n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Os(KE,"4.7.6",e),Os(KE,"4.7.6","esm2017")})();const lL={apiKey:"AIzaSyCw25yBHWnOZ0_HBZWBPuXUEf_occK4FpQ",authDomain:"artvoyage-469a7.firebaseapp.com",projectId:"artvoyage-469a7",storageBucket:"artvoyage-469a7.firebasestorage.app",messagingSenderId:"541351917404",appId:"1:541351917404:web:54160b1d171846a9b5b399"},P0=kk(lL),Fo=JN(P0),Mn=zO(P0),A0=C.createContext(void 0),uL=({children:r})=>{const[e,t]=C.useState(null),[n,i]=C.useState(!0);C.useEffect(()=>Fo.onAuthStateChanged(async p=>{if(p)try{const m=ur(Mn,"users",p.uid);(await Lo(m)).exists()||await ig(m,{uid:p.uid,email:p.email}),t(p)}catch(m){console.error("Error fetching user data:",m)}else t(null);i(!1)}),[]);const o=async(d,p,m,y)=>{i(!0);try{const T=(await FA(Fo,d,p)).user,k=ur(Mn,"users",T.uid);await ig(k,{uid:T.uid,email:T.email,firstName:m,lastName:y}),t(T)}catch(_){throw console.error("Error during registration:",_),_}finally{i(!1)}},l=async(d,p)=>{i(!0);try{const y=(await VA(Fo,d,p)).user,_=ur(Mn,"users",y.uid);(await Lo(_)).exists()||await ig(_,{uid:y.uid,email:y.email}),t(y)}catch(m){throw console.error("Error during login:",m),m}finally{i(!1)}},c=async()=>{i(!0);try{await BA(Fo),t(null)}catch(d){console.error("Error signing out:",d)}finally{i(!1)}};return S.jsx(A0.Provider,{value:{user:e,register:o,login:l,logout:c,loading:n},children:r})},bc=()=>{const r=C.useContext(A0);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},cL="/assets/exhibition1-BW6NN6oe.jpg",dL="/assets/exhibition2-Bp82pQTc.jpg",fL="/assets/exhibition3-CUGk1TBl.jpg",hL="/assets/exhibition4-CXiZda6W.jpg",pL="/assets/exhibition5-D8QkfkG0.jpg",mL="/assets/exhibition6-CzllBLVx.webp",gL="/assets/exhibition7-_6taQLDR.webp",yL="/assets/exhibition8-DiC_I8PB.jpg",FT=[cL,dL,fL,hL,pL,mL,gL,yL],_L=()=>{const r=Math.floor(Math.random()*FT.length);return FT[r]},vL=()=>{const{user:r,loading:e}=bc(),[t,n]=C.useState([]),[i,o]=C.useState(!0),l=(_,T)=>{throw console.error("Firestore Error:",_),new Error(_.message||T)};return C.useEffect(()=>{e||(async()=>{if(!r){o(!1);return}const T=ur(Mn,"users",r.uid);if((await Lo(T)).exists()){const I=MT(ng(Mn,"exhibitions"),rg("userId","==",r.uid)),b=oL(I,N=>{o(!1);const F=N.docs.map(j=>({id:j.id,...j.data()}));n(F)},N=>{o(!1),l(N,"Failed to fetch exhibitions.")});return()=>{b()}}})().catch(T=>{o(!1),l(T,"Failed to fetch user exhibitions.")})},[r,e]),{exhibitions:t,addExhibition:async _=>{if(r)try{const T=MT(ng(Mn,"exhibitions"),rg("name","==",_.name),rg("userId","==",r.uid));if(!(await iL(T)).empty)throw new Error("An exhibition with this name already exists. Please try another name");const I=_L(),b=await sL(ng(Mn,"exhibitions"),{..._,image:I,userId:r.uid,createdAt:aL()});n(N=>[...N,{id:b.id,..._,image:I,userId:r.uid}])}catch(T){l(T,"An error occurred while adding the exhibition.")}else throw new Error("User not authenticated.")},addArtworkToExhibition:async(_,T)=>{var k;if(r)try{const I=ur(Mn,"exhibitions",_),b=await Lo(I);if(b.exists()){const N=((k=b.data())==null?void 0:k.artworks)||[];if(N.some(j=>j.id===T.id))throw new Error("This artwork has already been added to this exhibition. Please choose a different artwork or a different exhibition");await kf(I,{artworks:[...N,T]})}else throw new Error("Exhibition not found.")}catch(I){l(I,"An error occurred while adding the artwork.")}else throw new Error("User not authenticated.")},editExhibition:async(_,T)=>{if(r)try{const k=ur(Mn,"exhibitions",_);if((await Lo(k)).exists())await kf(k,T),n(b=>b.map(N=>N.id===_?{...N,...T}:N));else throw new Error("Exhibition not found.")}catch(k){l(k,"An error occurred while editing the exhibition.")}else throw new Error("User not authenticated.")},deleteArtworkFromExhibition:async(_,T)=>{var k;if(r)try{const I=ur(Mn,"exhibitions",_),b=await Lo(I);if(b.exists()){const F=(((k=b.data())==null?void 0:k.artworks)||[]).filter(j=>j.id!==T);await kf(I,{artworks:F}),n(j=>j.map(q=>q.id===_?{...q,artworks:F}:q))}else throw new Error("Exhibition not found.")}catch(I){l(I,"An error occurred while deleting the artwork.")}else throw new Error("User not authenticated.")},deleteExhibition:async _=>{if(r)try{await D0(ur(Mn,"exhibitions",_)),n(T=>T.filter(k=>k.id!==_))}catch(T){l(T,"An error occurred while deleting the exhibition.")}else throw new Error("User not authenticated.")},loading:i}},N0=C.createContext(void 0),wL=({children:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c}=vL();return S.jsx(N0.Provider,{value:{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c},children:r})},S_=()=>{const r=C.useContext(N0);if(!r)throw new Error("useExhibitions must be used within an ExhibitionProvider");return r},M0=C.createContext(void 0),EL=({children:r})=>{const[e,t]=C.useState([]);return S.jsx(M0.Provider,{value:{artworks:e,setArtworks:t},children:r})},TL=()=>{const r=C.useContext(M0);if(!r)throw new Error("useArtworksContext must be used within an ArtworksProvider");return r},SL=({children:r})=>S.jsx(uL,{children:S.jsx(rR,{children:S.jsx(EL,{children:S.jsx(iR,{children:S.jsx(sR,{children:S.jsx(wL,{children:r})})})})})}),kL=()=>{const{user:r,logout:e}=bc(),t=hc(),n=async()=>{try{await e(),t("/auth"),window.location.reload()}catch(i){console.error("Sign out error:",i)}};return S.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#6A4C9C"},children:S.jsxs("div",{className:"container-fluid",children:[S.jsx(Do,{className:"navbar-brand",to:"/home",children:"ArtVoyage"}),S.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:S.jsx("span",{className:"navbar-toggler-icon"})}),S.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:S.jsxs("ul",{className:"navbar-nav ms-auto",children:[S.jsx("li",{className:"nav-item",children:S.jsx(Do,{className:"nav-link",to:"/home",children:"Home"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Do,{className:"nav-link",to:"/profile",children:"Profile"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Do,{className:"nav-link",to:"/search",children:"Search"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Do,{className:"nav-link",to:"/exhibitions",children:"My Exhibitions"})}),r?S.jsx("li",{className:"nav-item",children:S.jsx("button",{className:"btn btn-outline-light",onClick:n,"aria-label":"Sign out",children:"Sign Out"})}):S.jsx("li",{className:"nav-item",children:S.jsx(Do,{className:"nav-link",to:"/auth",children:"Login/Register"})})]})})]})})},CL=()=>{const{setSelectedMuseum:r}=Th(),{setQuery:e}=Dy(),t=n=>{e(""),r(n)};return S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Choose a museum to start searching:"}),S.jsxs("div",{className:"d-flex justify-content-center",children:[S.jsx("div",{className:"card homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(qo,{to:"/museum/met",onClick:()=>t("met"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/73/The_Metropolitan_Museum_of_Art_Logo.svg",className:"card-img-top",alt:"Metropolitan Museum of Art",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),S.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(qo,{to:"/museum/chicago",onClick:()=>t("chicago"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Art_Institute_of_Chicago_Logo.png",className:"card-img-top",alt:"Art Institute of Chicago",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})})]})]})},xL=r=>{const[e,t]=C.useState(null),[n,i]=C.useState(!1),[o,l]=C.useState(null),c=()=>{const y=Fo.currentUser;if(!y||y.uid!==r)throw new Error("Unauthorized access")},d=C.useCallback(async()=>{if(r){i(!0),l(null);try{c();const y=ur(Mn,"users",r),_=await Lo(y);_.exists()?t(_.data()):(t(null),console.warn(`No user data found for userId: ${r}`))}catch(y){l("Error fetching user data."),console.error(y)}finally{i(!1)}}},[r]),p=async y=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const _=ur(Mn,"users",r);await kf(_,y),t(T=>({...T,...y}))}catch(_){l("Error updating user data."),console.error(_)}finally{i(!1)}},m=async()=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const y=ur(Mn,"users",r);await D0(y),t(null)}catch(y){l("Error deleting user data."),console.error(y)}finally{i(!1)}};return C.useEffect(()=>{d()},[d]),{userData:e,fetchUserData:d,editUserData:p,deleteUserData:m,loading:n,error:o}};var sg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var VT;function bL(){return VT||(VT=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(sg)),sg.exports}var IL=bL();const at=vh(IL);function ty(){return ty=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ty.apply(null,arguments)}function O0(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function jT(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function DL(r){var e=RL(r,"string");return typeof e=="symbol"?e:String(e)}function RL(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function PL(r,e,t){var n=C.useRef(r!==void 0),i=C.useState(e),o=i[0],l=i[1],c=r!==void 0,d=n.current;return n.current=c,!c&&d&&o!==e&&l(e),[c?r:o,C.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function AL(r,e){return Object.keys(e).reduce(function(t,n){var i,o=t,l=o[jT(n)],c=o[n],d=O0(o,[jT(n),n].map(DL)),p=e[n],m=PL(c,l,r[p]),y=m[0],_=m[1];return ty({},d,(i={},i[n]=y,i[p]=_,i))},r)}function ny(r,e){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ny(r,e)}function NL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,ny(r,e)}const ML=["xxl","xl","lg","md","sm","xs"],OL="xs",Kh=C.createContext({prefixes:{},breakpoints:ML,minBreakpoint:OL});function xt(r,e){const{prefixes:t}=C.useContext(Kh);return r||t[e]||e}function LL(){const{breakpoints:r}=C.useContext(Kh);return r}function FL(){const{minBreakpoint:r}=C.useContext(Kh);return r}function VL(){const{dir:r}=C.useContext(Kh);return r==="rtl"}function Qh(r){return r&&r.ownerDocument||document}function jL(r){var e=Qh(r);return e&&e.defaultView||window}function UL(r,e){return jL(r).getComputedStyle(r,e)}var BL=/([A-Z])/g;function $L(r){return r.replace(BL,"-$1").toLowerCase()}var WL=/^ms-/;function nf(r){return $L(r).replace(WL,"-ms-")}var HL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function zL(r){return!!(r&&HL.test(r))}function Uo(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(nf(e))||UL(r).getPropertyValue(nf(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?r.style.removeProperty(nf(i)):zL(i)?n+=i+"("+o+") ":t+=nf(i)+": "+o+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var og={exports:{}},ag,UT;function qL(){if(UT)return ag;UT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ag=r,ag}var lg,BT;function YL(){if(BT)return lg;BT=1;var r=qL();function e(){}function t(){}return t.resetWarningCache=e,lg=function(){function n(l,c,d,p,m,y){if(y!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},lg}var $T;function KL(){return $T||($T=1,og.exports=YL()()),og.exports}var QL=KL();const Vi=vh(QL),WT={disabled:!1},L0=ee.createContext(null);var GL=function(e){return e.scrollTop},Bu="unmounted",Po="exited",Cs="entering",No="entered",ry="exiting",Gi=function(r){NL(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?c?(d=Po,o.appearStatus=Cs):d=No:n.unmountOnExit||n.mountOnEnter?d=Bu:d=Po,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Bu?{status:Po}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Cs&&l!==No&&(o=Cs):(l===Cs||l===No)&&(o=ry)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Cs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Mo.findDOMNode(this);l&&GL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Po&&this.setState({status:Bu})},t.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Mo.findDOMNode(this),c],p=d[0],m=d[1],y=this.getTimeouts(),_=c?y.appear:y.enter;if(!i&&!l||WT.disabled){this.safeSetState({status:No},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Cs},function(){o.props.onEntering(p,m),o.onTransitionEnd(_,function(){o.safeSetState({status:No},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Mo.findDOMNode(this);if(!o||WT.disabled){this.safeSetState({status:Po},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:ry},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Po},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Mo.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],m=d[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Bu)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=O0(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ee.createElement(L0.Provider,{value:null},typeof l=="function"?l(i,c):ee.cloneElement(ee.Children.only(l),c))},e}(ee.Component);Gi.contextType=L0;Gi.propTypes={};function Ka(){}Gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ka,onEntering:Ka,onEntered:Ka,onExit:Ka,onExiting:Ka,onExited:Ka};Gi.UNMOUNTED=Bu;Gi.EXITED=Po;Gi.ENTERING=Cs;Gi.ENTERED=No;Gi.EXITING=ry;function XL(r){return r.code==="Escape"||r.keyCode===27}function JL(){const r=C.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function F0(r){if(!r||typeof r=="function")return null;const{major:e}=JL();return e>=19?r.props.ref:r.ref}const Nl=!!(typeof window<"u"&&window.document&&window.document.createElement);var iy=!1,sy=!1;try{var ug={get passive(){return iy=!0},get once(){return sy=iy=!0}};Nl&&(window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,!0))}catch{}function V0(r,e,t,n){if(n&&typeof n!="boolean"&&!sy){var i=n.once,o=n.capture,l=t;!sy&&i&&(l=t.__once||function c(d){this.removeEventListener(e,c,o),t.call(this,d)},t.__once=l),r.addEventListener(e,l,iy?n:o)}r.addEventListener(e,t,n)}function oy(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function Zf(r,e,t,n){return V0(r,e,t,n),function(){oy(r,e,t,n)}}function ZL(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function e2(r){var e=Uo(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function t2(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||ZL(r,"transitionend",!0)},e+t),o=Zf(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),o()}}function j0(r,e,t,n){t==null&&(t=e2(r)||0);var i=t2(r,t,n),o=Zf(r,"transitionend",e);return function(){i(),o()}}function HT(r,e){const t=Uo(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function n2(r,e){const t=HT(r,"transitionDuration"),n=HT(r,"transitionDelay"),i=j0(r,o=>{o.target===r&&(i(),e(o))},t+n)}function r2(r){r.offsetHeight}const zT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function i2(r,e){const t=zT(r),n=zT(e);return i=>{t&&t(i),n&&n(i)}}function U0(r,e){return C.useMemo(()=>i2(r,e),[r,e])}function s2(r){return r&&"setState"in r?Mo.findDOMNode(r):r??null}const o2=ee.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:o,addEndListener:l,children:c,childRef:d,...p},m)=>{const y=C.useRef(null),_=U0(y,d),T=Z=>{_(s2(Z))},k=Z=>A=>{Z&&y.current&&Z(y.current,A)},I=C.useCallback(k(r),[r]),b=C.useCallback(k(e),[e]),N=C.useCallback(k(t),[t]),F=C.useCallback(k(n),[n]),j=C.useCallback(k(i),[i]),q=C.useCallback(k(o),[o]),J=C.useCallback(k(l),[l]);return S.jsx(Gi,{ref:m,...p,onEnter:I,onEntered:N,onEntering:b,onExit:F,onExited:q,onExiting:j,addEndListener:J,nodeRef:y,children:typeof c=="function"?(Z,A)=>c(Z,{...A,ref:T}):ee.cloneElement(c,{ref:T})})});function a2(r){const e=C.useRef(r);return C.useEffect(()=>{e.current=r},[r]),e}function eh(r){const e=a2(r);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const B0=r=>C.forwardRef((e,t)=>S.jsx("div",{...e,ref:t,className:at(e.className,r)})),$0=B0("h4");$0.displayName="DivStyledAsH4";const W0=C.forwardRef(({className:r,bsPrefix:e,as:t=$0,...n},i)=>(e=xt(e,"alert-heading"),S.jsx(t,{ref:i,className:at(r,e),...n})));W0.displayName="AlertHeading";function l2(r){const e=C.useRef(r);return C.useEffect(()=>{e.current=r},[r]),e}function Rs(r){const e=l2(r);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function u2(){const r=C.useRef(!0),e=C.useRef(()=>r.current);return C.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function c2(r){const e=C.useRef(null);return C.useEffect(()=>{e.current=r}),e.current}const d2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",f2=typeof document<"u",qT=f2||d2?C.useLayoutEffect:C.useEffect,h2=["as","disabled"];function p2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function m2(r){return!r||r.trim()==="#"}function k_({tagName:r,disabled:e,href:t,target:n,rel:i,role:o,onClick:l,tabIndex:c=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const p={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},p];const m=_=>{if((e||r==="a"&&m2(t))&&_.preventDefault(),e){_.stopPropagation();return}l==null||l(_)},y=_=>{_.key===" "&&(_.preventDefault(),m(_))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const g2=C.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=p2(r,h2);const[o,{tagName:l}]=k_(Object.assign({tagName:t,disabled:n},i));return S.jsx(l,Object.assign({},i,o,{ref:e}))});g2.displayName="Button";const y2=["onKeyDown"];function _2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function v2(r){return!r||r.trim()==="#"}const H0=C.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=_2(r,y2);const[i]=k_(Object.assign({tagName:"a"},n)),o=Rs(l=>{i.onKeyDown(l),t==null||t(l)});return v2(n.href)||n.role==="button"?S.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:o})):S.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});H0.displayName="Anchor";const z0=C.forwardRef(({className:r,bsPrefix:e,as:t=H0,...n},i)=>(e=xt(e,"alert-link"),S.jsx(t,{ref:i,className:at(r,e),...n})));z0.displayName="AlertLink";const w2={[Cs]:"show",[No]:"show"},ac=C.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=C.useCallback((d,p)=>{r2(d),n==null||n(d,p)},[n]);return S.jsx(o2,{ref:o,addEndListener:n2,...l,onEnter:c,childRef:F0(e),children:(d,p)=>C.cloneElement(e,{...p,className:at("fade",r,e.props.className,w2[d],t[d])})})});ac.displayName="Fade";const E2={"aria-label":Vi.string,onClick:Vi.func,variant:Vi.oneOf(["white"])},Gh=C.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>S.jsx("button",{ref:i,type:"button",className:at("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));Gh.displayName="CloseButton";Gh.propTypes=E2;const q0=C.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:c,variant:d="primary",onClose:p,dismissible:m,transition:y=ac,..._}=AL(r,{show:"onClose"}),T=xt(t,"alert"),k=eh(N=>{p&&p(!1,N)}),I=y===!0?ac:y,b=S.jsxs("div",{role:"alert",...I?void 0:_,ref:e,className:at(l,T,d&&`${T}-${d}`,m&&`${T}-dismissible`),children:[m&&S.jsx(Gh,{onClick:k,"aria-label":i,variant:o}),c]});return I?S.jsx(I,{unmountOnExit:!0,..._,ref:void 0,in:n,children:b}):n?b:null});q0.displayName="Alert";const T2=Object.assign(q0,{Link:z0,Heading:W0}),$u=C.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:o=!1,className:l,...c},d)=>{const p=xt(e,"btn"),[m,{tagName:y}]=k_({tagName:r,disabled:o,...c}),_=y;return S.jsx(_,{...m,...c,ref:d,disabled:o,className:at(l,p,i&&"active",t&&`${p}-${t}`,n&&`${p}-${n}`,c.href&&o&&"disabled")})});$u.displayName="Button";function S2(r){const e=C.useRef(r);return e.current=r,e}function k2(r){const e=S2(r);C.useEffect(()=>()=>e.current(),[])}function C2(r,e){return C.Children.toArray(r).some(t=>C.isValidElement(t)&&t.type===e)}function x2({as:r,bsPrefix:e,className:t,...n}){e=xt(e,"col");const i=LL(),o=FL(),l=[],c=[];return i.forEach(d=>{const p=n[d];delete n[d];let m,y,_;typeof p=="object"&&p!=null?{span:m,offset:y,order:_}=p:m=p;const T=d!==o?`-${d}`:"";m&&l.push(m===!0?`${e}${T}`:`${e}${T}-${m}`),_!=null&&c.push(`order${T}-${_}`),y!=null&&c.push(`offset${T}-${y}`)}),[{...n,className:at(t,...l,...c)},{as:r,bsPrefix:e,spans:l}]}const Y0=C.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:o,spans:l}]=x2(r);return S.jsx(i,{...n,ref:e,className:at(t,!l.length&&o)})});Y0.displayName="Col";var b2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qa(r,e){return b2(r.querySelectorAll(e))}function YT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const I2="data-rr-ui-";function D2(r){return`${I2}${r}`}const K0=C.createContext(Nl?window:void 0);K0.Provider;function C_(){return C.useContext(K0)}const R2={type:Vi.string,tooltip:Vi.bool,as:Vi.elementType},Xh=C.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},o)=>S.jsx(r,{...i,ref:o,className:at(e,`${t}-${n?"tooltip":"feedback"}`)}));Xh.displayName="Feedback";Xh.propTypes=R2;const Ki=C.createContext({}),x_=C.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},d)=>{const{controlId:p}=C.useContext(Ki);return e=xt(e,"form-check-input"),S.jsx(l,{...c,ref:d,type:n,id:r||p,className:at(t,e,i&&"is-valid",o&&"is-invalid")})});x_.displayName="FormCheckInput";const th=C.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:o}=C.useContext(Ki);return r=xt(r,"form-check-label"),S.jsx("label",{...n,ref:i,htmlFor:t||o,className:at(e,r)})});th.displayName="FormCheckLabel";const Q0=C.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:p,feedbackType:m,className:y,style:_,title:T="",type:k="checkbox",label:I,children:b,as:N="input",...F},j)=>{e=xt(e,"form-check"),t=xt(t,"form-switch");const{controlId:q}=C.useContext(Ki),J=C.useMemo(()=>({controlId:r||q}),[q,r]),Z=!b&&I!=null&&I!==!1||C2(b,th),A=S.jsx(x_,{...F,type:k==="switch"?"checkbox":k,ref:j,isValid:l,isInvalid:c,disabled:o,as:N});return S.jsx(Ki.Provider,{value:J,children:S.jsx("div",{style:_,className:at(y,Z&&e,n&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&t),children:b||S.jsxs(S.Fragment,{children:[A,Z&&S.jsx(th,{title:T,children:I}),p&&S.jsx(Xh,{type:m,tooltip:d,children:p})]})})})});Q0.displayName="FormCheck";const nh=Object.assign(Q0,{Input:x_,Label:th}),G0=C.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:d,readOnly:p,as:m="input",...y},_)=>{const{controlId:T}=C.useContext(Ki);return r=xt(r,"form-control"),S.jsx(m,{...y,type:e,size:n,ref:_,readOnly:p,id:i||T,className:at(o,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,l&&"is-valid",c&&"is-invalid")})});G0.displayName="FormControl";const P2=Object.assign(G0,{Feedback:Xh}),X0=C.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"form-floating"),S.jsx(t,{ref:i,className:at(r,e),...n})));X0.displayName="FormFloating";const b_=C.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=C.useMemo(()=>({controlId:r}),[r]);return S.jsx(Ki.Provider,{value:i,children:S.jsx(e,{...t,ref:n})})});b_.displayName="FormGroup";const J0=C.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:d}=C.useContext(Ki);e=xt(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=at(i,e,n&&"visually-hidden",t&&p);return o=o||d,t?S.jsx(Y0,{ref:c,as:"label",className:m,htmlFor:o,...l}):S.jsx(r,{ref:c,className:m,htmlFor:o,...l})});J0.displayName="FormLabel";const Z0=C.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:o}=C.useContext(Ki);return r=xt(r,"form-range"),S.jsx("input",{...n,type:"range",ref:i,className:at(e,r),id:t||o})});Z0.displayName="FormRange";const ex=C.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:o=!1,id:l,...c},d)=>{const{controlId:p}=C.useContext(Ki);return r=xt(r,"form-select"),S.jsx("select",{...c,size:t,ref:d,className:at(n,r,e&&`${r}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});ex.displayName="FormSelect";const tx=C.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},o)=>(r=xt(r,"form-text"),S.jsx(t,{...i,ref:o,className:at(e,r,n&&"text-muted")})));tx.displayName="FormText";const nx=C.forwardRef((r,e)=>S.jsx(nh,{...r,ref:e,type:"switch"}));nx.displayName="Switch";const A2=Object.assign(nx,{Input:nh.Input,Label:nh.Label}),rx=C.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...o},l)=>(r=xt(r,"form-floating"),S.jsxs(b_,{ref:l,className:at(e,r),controlId:n,...o,children:[t,S.jsx("label",{htmlFor:n,children:i})]})));rx.displayName="FloatingLabel";const N2={_ref:Vi.any,validated:Vi.bool,as:Vi.elementType},I_=C.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>S.jsx(t,{...n,ref:i,className:at(r,e&&"was-validated")}));I_.displayName="Form";I_.propTypes=N2;const Io=Object.assign(I_,{Group:b_,Control:P2,Floating:X0,Check:nh,Switch:A2,Label:J0,Text:tx,Range:Z0,Select:ex,FloatingLabel:rx}),KT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function M2(r,e){const t=KT(r),n=KT(e);return i=>{t&&t(i),n&&n(i)}}function D_(r,e){return C.useMemo(()=>M2(r,e),[r,e])}var rf;function QT(r){if((!rf&&rf!==0||r)&&Nl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),rf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return rf}function O2(){return C.useState(null)}function cg(r){r===void 0&&(r=Qh());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function L2(r){const e=C.useRef(r);return e.current=r,e}function F2(r){const e=L2(r);C.useEffect(()=>()=>e.current(),[])}function V2(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const GT=D2("modal-open");class R_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return V2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Uo(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(GT,""),Uo(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(GT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const dg=(r,e)=>Nl?r==null?(e||Qh()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function j2(r,e){const t=C_(),[n,i]=C.useState(()=>dg(r,t==null?void 0:t.document));if(!n){const o=dg(r);o&&i(o)}return C.useEffect(()=>{},[e,n]),C.useEffect(()=>{const o=dg(r);o!==n&&i(o)},[r,n]),n}function U2({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const o=C.useRef(null),l=C.useRef(e),c=Rs(t);C.useEffect(()=>{e?l.current=!0:c(o.current)},[e,c]);const d=D_(o,r.ref),p=C.cloneElement(r,{ref:d});return e?p:i||!l.current&&n?null:p}const B2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function W2(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:d}=r,p=$2(r,B2);const m=C.useRef(null),y=D_(m,F0(d)),_=q=>J=>{q&&m.current&&q(m.current,J)},T=C.useCallback(_(e),[e]),k=C.useCallback(_(t),[t]),I=C.useCallback(_(n),[n]),b=C.useCallback(_(i),[i]),N=C.useCallback(_(o),[o]),F=C.useCallback(_(l),[l]),j=C.useCallback(_(c),[c]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:T},t&&{onEntering:k},n&&{onEntered:I},i&&{onExit:b},o&&{onExiting:N},l&&{onExited:F},c&&{addEndListener:j},{children:typeof d=="function"?(q,J)=>d(q,Object.assign({},J,{ref:y})):C.cloneElement(d,{ref:y})})}const H2=["component"];function z2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}const q2=C.forwardRef((r,e)=>{let{component:t}=r,n=z2(r,H2);const i=W2(n);return S.jsx(t,Object.assign({ref:e},i))});function Y2({in:r,onTransition:e}){const t=C.useRef(null),n=C.useRef(!0),i=Rs(e);return qT(()=>{if(!t.current)return;let o=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[r,i]),qT(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function K2({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[o,l]=C.useState(!e);e&&o&&l(!1);const c=Y2({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?n==null||n(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),d=D_(c,r.ref);return o&&!e?null:C.cloneElement(r,{ref:d})}function XT(r,e,t){return r?S.jsx(q2,Object.assign({},t,{component:r})):e?S.jsx(K2,Object.assign({},t,{transition:e})):S.jsx(U2,Object.assign({},t))}const Q2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function G2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}let fg;function X2(r){return fg||(fg=new R_({ownerDocument:r==null?void 0:r.document})),fg}function J2(r){const e=C_(),t=r||X2(e),n=C.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:C.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:C.useCallback(i=>{n.current.backdrop=i},[])})}const ix=C.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:o,children:l,backdrop:c=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:_,backdropTransition:T,runBackdropTransition:k,autoFocus:I=!0,enforceFocus:b=!0,restoreFocus:N=!0,restoreFocusOptions:F,renderDialog:j,renderBackdrop:q=et=>S.jsx("div",Object.assign({},et)),manager:J,container:Z,onShow:A,onHide:D=()=>{},onExit:P,onExited:O,onExiting:V,onEnter:U,onEntering:M,onEntered:ke}=r,De=G2(r,Q2);const he=C_(),de=j2(Z),G=J2(J),ce=u2(),le=c2(t),[W,te]=C.useState(!t),_e=C.useRef(null);C.useImperativeHandle(e,()=>G,[G]),Nl&&!le&&t&&(_e.current=cg(he==null?void 0:he.document)),t&&W&&te(!1);const Re=Rs(()=>{if(G.add(),ht.current=Zf(document,"keydown",He),Je.current=Zf(document,"focus",()=>setTimeout(Ve),!0),A&&A(),I){var et,jr;const fr=cg((et=(jr=G.dialog)==null?void 0:jr.ownerDocument)!=null?et:he==null?void 0:he.document);G.dialog&&fr&&!YT(G.dialog,fr)&&(_e.current=fr,G.dialog.focus())}}),Oe=Rs(()=>{if(G.remove(),ht.current==null||ht.current(),Je.current==null||Je.current(),N){var et;(et=_e.current)==null||et.focus==null||et.focus(F),_e.current=null}});C.useEffect(()=>{!t||!de||Re()},[t,de,Re]),C.useEffect(()=>{W&&Oe()},[W,Oe]),F2(()=>{Oe()});const Ve=Rs(()=>{if(!b||!ce()||!G.isTopModal())return;const et=cg(he==null?void 0:he.document);G.dialog&&et&&!YT(G.dialog,et)&&G.dialog.focus()}),Be=Rs(et=>{et.target===et.currentTarget&&(p==null||p(et),c===!0&&D())}),He=Rs(et=>{d&&XL(et)&&G.isTopModal()&&(m==null||m(et),et.defaultPrevented||D())}),Je=C.useRef(),ht=C.useRef(),Tn=(...et)=>{te(!0),O==null||O(...et)};if(!de)return null;const Vn=Object.assign({role:n,ref:G.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},De,{style:o,className:i,tabIndex:-1});let Sn=j?j(Vn):S.jsx("div",Object.assign({},Vn,{children:C.cloneElement(l,{role:"document"})}));Sn=XT(y,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:V,onExited:Tn,onEnter:U,onEntering:M,onEntered:ke,children:Sn});let kn=null;return c&&(kn=q({ref:G.setBackdropRef,onClick:Be}),kn=XT(T,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:kn})),S.jsx(S.Fragment,{children:Mo.createPortal(S.jsxs(S.Fragment,{children:[kn,Sn]}),de)})});ix.displayName="Modal";const Z2=Object.assign(ix,{Manager:R_});function eF(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function tF(r,e){r.classList?r.classList.add(e):eF(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function JT(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nF(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=JT(r.className,e):r.setAttribute("class",JT(r.className&&r.className.baseVal||"",e))}const Ga={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rF extends R_{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,Uo(t,{[e]:`${parseFloat(Uo(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],Uo(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(tF(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Qa(t,Ga.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),Qa(t,Ga.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Qa(t,Ga.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();nF(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Qa(t,Ga.FIXED_CONTENT).forEach(o=>this.restore(n,o)),Qa(t,Ga.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Qa(t,Ga.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let hg;function iF(r){return hg||(hg=new rF(r)),hg}const sx=C.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"modal-body"),S.jsx(t,{ref:i,className:at(r,e),...n})));sx.displayName="ModalBody";const ox=C.createContext({onHide(){}}),P_=C.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:n,size:i,fullscreen:o,children:l,scrollable:c,...d},p)=>{r=xt(r,"modal");const m=`${r}-dialog`,y=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return S.jsx("div",{...d,ref:p,className:at(m,e,i&&`${r}-${i}`,n&&`${m}-centered`,c&&`${m}-scrollable`,o&&y),children:S.jsx("div",{className:at(`${r}-content`,t),children:l})})});P_.displayName="ModalDialog";const ax=C.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"modal-footer"),S.jsx(t,{ref:i,className:at(r,e),...n})));ax.displayName="ModalFooter";const sF=C.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...o},l)=>{const c=C.useContext(ox),d=eh(()=>{c==null||c.onHide(),n==null||n()});return S.jsxs("div",{ref:l,...o,children:[i,t&&S.jsx(Gh,{"aria-label":r,variant:e,onClick:d})]})}),lx=C.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},o)=>(r=xt(r,"modal-header"),S.jsx(sF,{ref:o,...i,className:at(e,r),closeLabel:t,closeButton:n})));lx.displayName="ModalHeader";const oF=B0("h4"),ux=C.forwardRef(({className:r,bsPrefix:e,as:t=oF,...n},i)=>(e=xt(e,"modal-title"),S.jsx(t,{ref:i,className:at(r,e),...n})));ux.displayName="ModalTitle";function aF(r){return S.jsx(ac,{...r,timeout:null})}function lF(r){return S.jsx(ac,{...r,timeout:null})}const cx=C.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:n,contentClassName:i,children:o,dialogAs:l=P_,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":p,"aria-label":m,show:y=!1,animation:_=!0,backdrop:T=!0,keyboard:k=!0,onEscapeKeyDown:I,onShow:b,onHide:N,container:F,autoFocus:j=!0,enforceFocus:q=!0,restoreFocus:J=!0,restoreFocusOptions:Z,onEntered:A,onExit:D,onExiting:P,onEnter:O,onEntering:V,onExited:U,backdropClassName:M,manager:ke,...De},he)=>{const[de,G]=C.useState({}),[ce,le]=C.useState(!1),W=C.useRef(!1),te=C.useRef(!1),_e=C.useRef(null),[Re,Oe]=O2(),Ve=U0(he,Oe),Be=eh(N),He=VL();r=xt(r,"modal");const Je=C.useMemo(()=>({onHide:Be}),[Be]);function ht(){return ke||iF({isRTL:He})}function Tn(Ie){if(!Nl)return;const ut=ht().getScrollbarWidth()>0,Gn=Ie.scrollHeight>Qh(Ie).documentElement.clientHeight;G({paddingRight:ut&&!Gn?QT():void 0,paddingLeft:!ut&&Gn?QT():void 0})}const Vn=eh(()=>{Re&&Tn(Re.dialog)});k2(()=>{oy(window,"resize",Vn),_e.current==null||_e.current()});const Sn=()=>{W.current=!0},kn=Ie=>{W.current&&Re&&Ie.target===Re.dialog&&(te.current=!0),W.current=!1},et=()=>{le(!0),_e.current=j0(Re.dialog,()=>{le(!1)})},jr=Ie=>{Ie.target===Ie.currentTarget&&et()},fr=Ie=>{if(T==="static"){jr(Ie);return}if(te.current||Ie.target!==Ie.currentTarget){te.current=!1;return}N==null||N()},oa=Ie=>{k?I==null||I(Ie):(Ie.preventDefault(),T==="static"&&et())},Xi=(Ie,ut)=>{Ie&&Tn(Ie),O==null||O(Ie,ut)},hr=Ie=>{_e.current==null||_e.current(),D==null||D(Ie)},pr=(Ie,ut)=>{V==null||V(Ie,ut),V0(window,"resize",Vn)},Js=Ie=>{Ie&&(Ie.style.display=""),U==null||U(Ie),oy(window,"resize",Vn)},Ji=C.useCallback(Ie=>S.jsx("div",{...Ie,className:at(`${r}-backdrop`,M,!_&&"show")}),[_,M,r]),gi={...t,...de};gi.display="block";const Zs=Ie=>S.jsx("div",{role:"dialog",...Ie,style:gi,className:at(e,r,ce&&`${r}-static`,!_&&"show"),onClick:T?fr:void 0,onMouseUp:kn,"data-bs-theme":c,"aria-label":m,"aria-labelledby":d,"aria-describedby":p,children:S.jsx(l,{...De,onMouseDown:Sn,className:n,contentClassName:i,children:o})});return S.jsx(ox.Provider,{value:Je,children:S.jsx(Z2,{show:y,ref:Ve,backdrop:T,container:F,keyboard:!0,autoFocus:j,enforceFocus:q,restoreFocus:J,restoreFocusOptions:Z,onEscapeKeyDown:oa,onShow:b,onHide:N,onEnter:Xi,onEntering:pr,onEntered:A,onExit:hr,onExiting:P,onExited:Js,manager:ht(),transition:_?aF:void 0,backdropTransition:_?lF:void 0,renderBackdrop:Ji,renderDialog:Zs})})});cx.displayName="Modal";const _n=Object.assign(cx,{Body:sx,Header:lx,Title:ux,Footer:ax,Dialog:P_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),uF=({user:r})=>{const e=r==null?void 0:r.uid,{userData:t,fetchUserData:n,editUserData:i,deleteUserData:o,loading:l,error:c}=xL(e||null),[d,p]=C.useState(!1),[m,y]=C.useState(!1),[_,T]=C.useState({firstName:"",lastName:""}),[k,I]=C.useState("");C.useEffect(()=>{e&&n()},[e,n]);const b=async()=>{try{await i(_),console.log("User updated successfully!"),p(!1),I("Your profile was updated successfully!"),setTimeout(()=>I(""),5e3)}catch(j){console.error("Error updating user:",j)}},N=async()=>{try{await o(),console.log("User deleted successfully!"),y(!1)}catch(j){console.error("Error deleting user:",j)}},F=()=>{t&&(T({firstName:t.firstName,lastName:t.lastName}),p(!0))};return l?S.jsx("p",{className:"text-center mt-4",children:"Loading..."}):c?S.jsx("p",{className:"text-danger text-center mt-4",children:c}):S.jsxs("div",{className:"container mt-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"User Profile"}),t?S.jsxs("div",{className:"card mx-auto",style:{maxWidth:"600px"},"aria-labelledby":"userProfileCard",children:[S.jsx("div",{className:"card-header text-white",style:{background:"rgba(84, 37, 122, 0.84)"},children:S.jsx("h2",{className:"card-title",id:"userProfileCard",children:"Profile Information"})}),S.jsxs("div",{className:"card-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Email:"})," ",t.email]}),S.jsxs("p",{children:[S.jsx("strong",{children:"First Name:"})," ",t.firstName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Last Name:"})," ",t.lastName]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{className:"btn btn-warning",onClick:F,"aria-label":"Edit User Information",children:"Edit User"}),S.jsx("button",{className:"btn btn-danger",onClick:()=>y(!0),"aria-label":"Delete User Account",children:"Delete User"})]})]})]}):S.jsx("p",{className:"text-center text-muted",children:"No user data available."}),k&&S.jsx(T2,{variant:"success",className:"mt-4 text-center",children:k}),S.jsxs(_n,{show:d,onHide:()=>p(!1),children:[S.jsx(_n.Header,{closeButton:!0,children:S.jsx(_n.Title,{children:"Edit User"})}),S.jsx(_n.Body,{children:S.jsxs(Io,{children:[S.jsxs(Io.Group,{controlId:"formFirstName",children:[S.jsx(Io.Label,{children:"First Name"}),S.jsx(Io.Control,{type:"text",value:_.firstName,onChange:j=>T({..._,firstName:j.target.value})})]}),S.jsxs(Io.Group,{controlId:"formLastName",className:"mt-3",children:[S.jsx(Io.Label,{children:"Last Name"}),S.jsx(Io.Control,{type:"text",value:_.lastName,onChange:j=>T({..._,lastName:j.target.value})})]})]})}),S.jsxs(_n.Footer,{children:[S.jsx($u,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),S.jsx($u,{variant:"primary",onClick:b,children:"Save Changes"})]})]}),S.jsxs(_n,{show:m,onHide:()=>y(!1),children:[S.jsx(_n.Header,{closeButton:!0,children:S.jsx(_n.Title,{children:"Confirm Delete"})}),S.jsx(_n.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),S.jsxs(_n.Footer,{children:[S.jsx($u,{variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),S.jsx($u,{variant:"danger",onClick:N,children:"Delete Account"})]})]})]})};function dx(r,e){return function(){return r.apply(e,arguments)}}const{toString:cF}=Object.prototype,{getPrototypeOf:A_}=Object,Jh=(r=>e=>{const t=cF.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=r=>(r=r.toLowerCase(),e=>Jh(e)===r),Zh=r=>e=>typeof e===r,{isArray:Ml}=Array,lc=Zh("undefined");function dF(r){return r!==null&&!lc(r)&&r.constructor!==null&&!lc(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const fx=Vr("ArrayBuffer");function fF(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&fx(r.buffer),e}const hF=Zh("string"),Kn=Zh("function"),hx=Zh("number"),ep=r=>r!==null&&typeof r=="object",pF=r=>r===!0||r===!1,Cf=r=>{if(Jh(r)!=="object")return!1;const e=A_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},mF=Vr("Date"),gF=Vr("File"),yF=Vr("Blob"),_F=Vr("FileList"),vF=r=>ep(r)&&Kn(r.pipe),wF=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((e=Jh(r))==="formdata"||e==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},EF=Vr("URLSearchParams"),[TF,SF,kF,CF]=["ReadableStream","Request","Response","Headers"].map(Vr),xF=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ml(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let c;for(n=0;n<l;n++)c=o[n],e.call(null,r[c],c,r)}}function px(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mx=r=>!lc(r)&&r!==Vo;function ay(){const{caseless:r}=mx(this)&&this||{},e={},t=(n,i)=>{const o=r&&px(e,i)||i;Cf(e[o])&&Cf(n)?e[o]=ay(e[o],n):Cf(n)?e[o]=ay({},n):Ml(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ic(arguments[n],t);return e}const bF=(r,e,t,{allOwnKeys:n}={})=>(Ic(e,(i,o)=>{t&&Kn(i)?r[o]=dx(i,t):r[o]=i},{allOwnKeys:n}),r),IF=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),DF=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},RF=(r,e,t,n)=>{let i,o,l;const c={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!c[l]&&(e[l]=r[l],c[l]=!0);r=t!==!1&&A_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},PF=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},AF=r=>{if(!r)return null;if(Ml(r))return r;let e=r.length;if(!hx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},NF=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&A_(Uint8Array)),MF=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},OF=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},LF=Vr("HTMLFormElement"),FF=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),ZT=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),VF=Vr("RegExp"),gx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Ic(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},jF=r=>{gx(r,(e,t)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Kn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},UF=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return Ml(r)?n(r):n(String(r).split(e)),t},BF=()=>{},$F=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,pg="abcdefghijklmnopqrstuvwxyz",eS="0123456789",yx={DIGIT:eS,ALPHA:pg,ALPHA_DIGIT:pg+pg.toUpperCase()+eS},WF=(r=16,e=yx.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function HF(r){return!!(r&&Kn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const zF=r=>{const e=new Array(10),t=(n,i)=>{if(ep(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Ml(n)?[]:{};return Ic(n,(l,c)=>{const d=t(l,i+1);!lc(d)&&(o[c]=d)}),e[i]=void 0,o}}return n};return t(r,0)},qF=Vr("AsyncFunction"),YF=r=>r&&(ep(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),_x=((r,e)=>r?setImmediate:e?((t,n)=>(Vo.addEventListener("message",({source:i,data:o})=>{i===Vo&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Vo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Kn(Vo.postMessage)),KF=typeof queueMicrotask<"u"?queueMicrotask.bind(Vo):typeof process<"u"&&process.nextTick||_x,X={isArray:Ml,isArrayBuffer:fx,isBuffer:dF,isFormData:wF,isArrayBufferView:fF,isString:hF,isNumber:hx,isBoolean:pF,isObject:ep,isPlainObject:Cf,isReadableStream:TF,isRequest:SF,isResponse:kF,isHeaders:CF,isUndefined:lc,isDate:mF,isFile:gF,isBlob:yF,isRegExp:VF,isFunction:Kn,isStream:vF,isURLSearchParams:EF,isTypedArray:NF,isFileList:_F,forEach:Ic,merge:ay,extend:bF,trim:xF,stripBOM:IF,inherits:DF,toFlatObject:RF,kindOf:Jh,kindOfTest:Vr,endsWith:PF,toArray:AF,forEachEntry:MF,matchAll:OF,isHTMLForm:LF,hasOwnProperty:ZT,hasOwnProp:ZT,reduceDescriptors:gx,freezeMethods:jF,toObjectSet:UF,toCamelCase:FF,noop:BF,toFiniteNumber:$F,findKey:px,global:Vo,isContextDefined:mx,ALPHABET:yx,generateString:WF,isSpecCompliantForm:HF,toJSONObject:zF,isAsyncFn:qF,isThenable:YF,setImmediate:_x,asap:KF};function Fe(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const vx=Fe.prototype,wx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{wx[r]={value:r}});Object.defineProperties(Fe,wx);Object.defineProperty(vx,"isAxiosError",{value:!0});Fe.from=(r,e,t,n,i,o)=>{const l=Object.create(vx);return X.toFlatObject(r,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Fe.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const QF=null;function ly(r){return X.isPlainObject(r)||X.isArray(r)}function Ex(r){return X.endsWith(r,"[]")?r.slice(0,-2):r}function tS(r,e,t){return r?r.concat(e).map(function(i,o){return i=Ex(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function GF(r){return X.isArray(r)&&!r.some(ly)}const XF=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function tp(r,e,t){if(!X.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,b){return!X.isUndefined(b[I])});const n=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(X.isDate(k))return k.toISOString();if(!d&&X.isBlob(k))throw new Fe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(k)||X.isTypedArray(k)?d&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function m(k,I,b){let N=k;if(k&&!b&&typeof k=="object"){if(X.endsWith(I,"{}"))I=n?I:I.slice(0,-2),k=JSON.stringify(k);else if(X.isArray(k)&&GF(k)||(X.isFileList(k)||X.endsWith(I,"[]"))&&(N=X.toArray(k)))return I=Ex(I),N.forEach(function(j,q){!(X.isUndefined(j)||j===null)&&e.append(l===!0?tS([I],q,o):l===null?I:I+"[]",p(j))}),!1}return ly(k)?!0:(e.append(tS(b,I,o),p(k)),!1)}const y=[],_=Object.assign(XF,{defaultVisitor:m,convertValue:p,isVisitable:ly});function T(k,I){if(!X.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+I.join("."));y.push(k),X.forEach(k,function(N,F){(!(X.isUndefined(N)||N===null)&&i.call(e,N,X.isString(F)?F.trim():F,I,_))===!0&&T(N,I?I.concat(F):[F])}),y.pop()}}if(!X.isObject(r))throw new TypeError("data must be an object");return T(r),e}function nS(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function N_(r,e){this._pairs=[],r&&tp(r,this,e)}const Tx=N_.prototype;Tx.append=function(e,t){this._pairs.push([e,t])};Tx.toString=function(e){const t=e?function(n){return e.call(this,n,nS)}:nS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function JF(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sx(r,e,t){if(!e)return r;const n=t&&t.encode||JF;X.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=X.isURLSearchParams(e)?e.toString():new N_(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class rS{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(n){n!==null&&e(n)})}}const kx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZF=typeof URLSearchParams<"u"?URLSearchParams:N_,eV=typeof FormData<"u"?FormData:null,tV=typeof Blob<"u"?Blob:null,nV={isBrowser:!0,classes:{URLSearchParams:ZF,FormData:eV,Blob:tV},protocols:["http","https","file","blob","url","data"]},M_=typeof window<"u"&&typeof document<"u",uy=typeof navigator=="object"&&navigator||void 0,rV=M_&&(!uy||["ReactNative","NativeScript","NS"].indexOf(uy.product)<0),iV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sV=M_&&window.location.href||"http://localhost",oV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:M_,hasStandardBrowserEnv:rV,hasStandardBrowserWebWorkerEnv:iV,navigator:uy,origin:sV},Symbol.toStringTag,{value:"Module"})),dn={...oV,...nV};function aV(r,e){return tp(r,new dn.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return dn.isNode&&X.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function lV(r){return X.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uV(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function Cx(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&X.isArray(i)?i.length:l,d?(X.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!c):((!i[l]||!X.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&X.isArray(i[l])&&(i[l]=uV(i[l])),!c)}if(X.isFormData(r)&&X.isFunction(r.entries)){const t={};return X.forEachEntry(r,(n,i)=>{e(lV(n),i,t,0)}),t}return null}function cV(r,e,t){if(X.isString(r))try{return(e||JSON.parse)(r),X.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Dc={transitional:kx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=X.isObject(e);if(o&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i?JSON.stringify(Cx(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aV(e,this.formSerializer).toString();if((c=X.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return tp(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),cV(e)):e}],transformResponse:[function(e){const t=this.transitional||Dc.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Fe.from(c,Fe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],r=>{Dc.headers[r]={}});const dV=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&dV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},iS=Symbol("internals");function Ru(r){return r&&String(r).trim().toLowerCase()}function xf(r){return r===!1||r==null?r:X.isArray(r)?r.map(xf):String(r)}function hV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const pV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function mg(r,e,t,n,i){if(X.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!X.isString(e)){if(X.isString(n))return e.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(e)}}function mV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function gV(r,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class Fn{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(c,d,p){const m=Ru(d);if(!m)throw new Error("header name must be a non-empty string");const y=X.findKey(i,m);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||d]=xf(c))}const l=(c,d)=>X.forEach(c,(p,m)=>o(p,m,d));if(X.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(X.isString(e)&&(e=e.trim())&&!pV(e))l(fV(e),t);else if(X.isHeaders(e))for(const[c,d]of e.entries())o(d,c,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Ru(e),e){const n=X.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return hV(i);if(X.isFunction(t))return t.call(this,i,n);if(X.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ru(e),e){const n=X.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||mg(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=Ru(l),l){const c=X.findKey(n,l);c&&(!t||mg(n,n[c],c,t))&&(delete n[c],i=!0)}}return X.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||mg(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return X.forEach(this,(i,o)=>{const l=X.findKey(n,o);if(l){t[l]=xf(i),delete t[o];return}const c=e?mV(o):String(o).trim();c!==o&&delete t[o],t[c]=xf(i),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&X.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[iS]=this[iS]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Ru(l);n[c]||(gV(i,l),n[c]=!0)}return X.isArray(e)?e.forEach(o):o(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Fn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});X.freezeMethods(Fn);function gg(r,e){const t=this||Dc,n=e||t,i=Fn.from(n.headers);let o=n.data;return X.forEach(r,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function xx(r){return!!(r&&r.__CANCEL__)}function Ol(r,e,t){Fe.call(this,r??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(Ol,Fe,{__CANCEL__:!0});function bx(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function _V(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=n[o];l||(l=p),t[i]=d,n[i]=p;let y=o,_=0;for(;y!==i;)_+=t[y++],y=y%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),p-l<e)return;const T=m&&p-m;return T?Math.round(_*1e3/T):void 0}}function vV(r,e){let t=0,n=1e3/e,i,o;const l=(p,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),r.apply(null,p)};return[(...p)=>{const m=Date.now(),y=m-t;y>=n?l(p,m):(i=p,o||(o=setTimeout(()=>{o=null,l(i)},n-y)))},()=>i&&l(i)]}const rh=(r,e,t=3)=>{let n=0;const i=_V(50,250);return vV(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-n,p=i(d),m=l<=c;n=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-l)/p:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(y)},t)},sS=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},oS=r=>(...e)=>X.asap(()=>r(...e)),wV=dn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,dn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,EV=dn.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];X.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),X.isString(n)&&l.push("path="+n),X.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function SV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Ix(r,e){return r&&!TV(e)?SV(r,e):e}const aS=r=>r instanceof Fn?{...r}:r;function Xo(r,e){e=e||{};const t={};function n(p,m,y,_){return X.isPlainObject(p)&&X.isPlainObject(m)?X.merge.call({caseless:_},p,m):X.isPlainObject(m)?X.merge({},m):X.isArray(m)?m.slice():m}function i(p,m,y,_){if(X.isUndefined(m)){if(!X.isUndefined(p))return n(void 0,p,y,_)}else return n(p,m,y,_)}function o(p,m){if(!X.isUndefined(m))return n(void 0,m)}function l(p,m){if(X.isUndefined(m)){if(!X.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,y){if(y in e)return n(p,m);if(y in r)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,m,y)=>i(aS(p),aS(m),y,!0)};return X.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=d[m]||i,_=y(r[m],e[m],m);X.isUndefined(_)&&y!==c||(t[m]=_)}),t}const Dx=r=>{const e=Xo({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Fn.from(l),e.url=Sx(Ix(e.baseURL,e.url),r.params,r.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(X.isFormData(t)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(dn.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(e)),n||n!==!1&&wV(e.url))){const p=i&&o&&EV.read(o);p&&l.set(i,p)}return e},kV=typeof XMLHttpRequest<"u",CV=kV&&function(r){return new Promise(function(t,n){const i=Dx(r);let o=i.data;const l=Fn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=i,m,y,_,T,k;function I(){T&&T(),k&&k(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function N(){if(!b)return;const j=Fn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),J={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:r,request:b};bx(function(A){t(A),I()},function(A){n(A),I()},J),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(n(new Fe("Request aborted",Fe.ECONNABORTED,r,b)),b=null)},b.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,r,b)),b=null},b.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||kx;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),n(new Fe(q,J.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,r,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&X.forEach(l.toJSON(),function(q,J){b.setRequestHeader(J,q)}),X.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),p&&([_,k]=rh(p,!0),b.addEventListener("progress",_)),d&&b.upload&&([y,T]=rh(d),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=j=>{b&&(n(!j||j.type?new Ol(null,r,b):j),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const F=yV(i.url);if(F&&dn.protocols.indexOf(F)===-1){n(new Fe("Unsupported protocol "+F+":",Fe.ERR_BAD_REQUEST,r));return}b.send(o||null)})},xV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(p){if(!i){i=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Fe?m:new Ol(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const c=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),r=null)};r.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>X.asap(c),d}},bV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},IV=async function*(r,e){for await(const t of DV(r))yield*bV(t,e)},DV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},lS=(r,e,t,n)=>{const i=IV(r,e);let o=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await i.next();if(p){c(),d.close();return}let y=m.byteLength;if(t){let _=o+=y;t(_)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},np=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rx=np&&typeof ReadableStream=="function",RV=np&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Px=(r,...e)=>{try{return!!r(...e)}catch{return!1}},PV=Rx&&Px(()=>{let r=!1;const e=new Request(dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),uS=64*1024,cy=Rx&&Px(()=>X.isReadableStream(new Response("").body)),ih={stream:cy&&(r=>r.body)};np&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ih[e]&&(ih[e]=X.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const AV=async r=>{if(r==null)return 0;if(X.isBlob(r))return r.size;if(X.isSpecCompliantForm(r))return(await new Request(dn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(X.isArrayBufferView(r)||X.isArrayBuffer(r))return r.byteLength;if(X.isURLSearchParams(r)&&(r=r+""),X.isString(r))return(await RV(r)).byteLength},NV=async(r,e)=>{const t=X.toFiniteNumber(r.getContentLength());return t??AV(e)},MV=np&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:m,withCredentials:y="same-origin",fetchOptions:_}=Dx(r);p=p?(p+"").toLowerCase():"text";let T=xV([i,o&&o.toAbortSignal()],l),k;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let b;try{if(d&&PV&&t!=="get"&&t!=="head"&&(b=await NV(m,n))!==0){let J=new Request(e,{method:"POST",body:n,duplex:"half"}),Z;if(X.isFormData(n)&&(Z=J.headers.get("content-type"))&&m.setContentType(Z),J.body){const[A,D]=sS(b,rh(oS(d)));n=lS(J.body,uS,A,D)}}X.isString(y)||(y=y?"include":"omit");const N="credentials"in Request.prototype;k=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:N?y:void 0});let F=await fetch(k);const j=cy&&(p==="stream"||p==="response");if(cy&&(c||j&&I)){const J={};["status","statusText","headers"].forEach(P=>{J[P]=F[P]});const Z=X.toFiniteNumber(F.headers.get("content-length")),[A,D]=c&&sS(Z,rh(oS(c),!0))||[];F=new Response(lS(F.body,uS,A,()=>{D&&D(),I&&I()}),J)}p=p||"text";let q=await ih[X.findKey(ih,p)||"text"](F,r);return!j&&I&&I(),await new Promise((J,Z)=>{bx(J,Z,{data:q,headers:Fn.from(F.headers),status:F.status,statusText:F.statusText,config:r,request:k})})}catch(N){throw I&&I(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,r,k),{cause:N.cause||N}):Fe.from(N,N&&N.code,r,k)}}),dy={http:QF,xhr:CV,fetch:MV};X.forEach(dy,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const cS=r=>`- ${r}`,OV=r=>X.isFunction(r)||r===null||r===!1,Ax={getAdapter:r=>{r=X.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!OV(t)&&(n=dy[(l=String(t)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(cS).join(`
`):" "+cS(o[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:dy};function yg(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ol(null,r)}function dS(r){return yg(r),r.headers=Fn.from(r.headers),r.data=gg.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Ax.getAdapter(r.adapter||Dc.adapter)(r).then(function(n){return yg(r),n.data=gg.call(r,r.transformResponse,n),n.headers=Fn.from(n.headers),n},function(n){return xx(n)||(yg(r),n&&n.response&&(n.response.data=gg.call(r,r.transformResponse,n.response),n.response.headers=Fn.from(n.response.headers))),Promise.reject(n)})}const Nx="1.7.9",rp={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{rp[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const fS={};rp.transitional=function(e,t,n){function i(o,l){return"[Axios v"+Nx+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,c)=>{if(e===!1)throw new Fe(i(l," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!fS[l]&&(fS[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};rp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function LV(r,e,t){if(typeof r!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const c=r[o],d=c===void 0||l(c,o,r);if(d!==!0)throw new Fe("option "+o+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+o,Fe.ERR_BAD_OPTION)}}const bf={assertOptions:LV,validators:rp},Xr=bf.validators;class Bo{constructor(e){this.defaults=e,this.interceptors={request:new rS,response:new rS}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xo(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&bf.assertOptions(n,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),i!=null&&(X.isFunction(i)?t.paramsSerializer={serialize:i}:bf.assertOptions(i,{encode:Xr.function,serialize:Xr.function},!0)),bf.assertOptions(t,{baseUrl:Xr.spelling("baseURL"),withXsrfToken:Xr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&X.merge(o.common,o[t.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],k=>{delete o[k]}),t.headers=Fn.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,c.unshift(I.fulfilled,I.rejected))});const p=[];this.interceptors.response.forEach(function(I){p.push(I.fulfilled,I.rejected)});let m,y=0,_;if(!d){const k=[dS.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,p),_=k.length,m=Promise.resolve(t);y<_;)m=m.then(k[y++],k[y++]);return m}_=c.length;let T=t;for(y=0;y<_;){const k=c[y++],I=c[y++];try{T=k(T)}catch(b){I.call(this,b);break}}try{m=dS.call(this,T)}catch(k){return Promise.reject(k)}for(y=0,_=p.length;y<_;)m=m.then(p[y++],p[y++]);return m}getUri(e){e=Xo(this.defaults,e);const t=Ix(e.baseURL,e.url);return Sx(t,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){Bo.prototype[e]=function(t,n){return this.request(Xo(n||{},{method:e,url:t,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,c){return this.request(Xo(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Bo.prototype[e]=t(),Bo.prototype[e+"Form"]=t(!0)});class O_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{n.subscribe(c),o=c}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,c){n.reason||(n.reason=new Ol(o,l,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new O_(function(i){e=i}),cancel:e}}}function FV(r){return function(t){return r.apply(null,t)}}function VV(r){return X.isObject(r)&&r.isAxiosError===!0}const fy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fy).forEach(([r,e])=>{fy[e]=r});function Mx(r){const e=new Bo(r),t=dx(Bo.prototype.request,e);return X.extend(t,Bo.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Mx(Xo(r,i))},t}const ft=Mx(Dc);ft.Axios=Bo;ft.CanceledError=Ol;ft.CancelToken=O_;ft.isCancel=xx;ft.VERSION=Nx;ft.toFormData=tp;ft.AxiosError=Fe;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=FV;ft.isAxiosError=VV;ft.mergeConfig=Xo;ft.AxiosHeaders=Fn;ft.formToJSON=r=>Cx(X.isHTMLForm(r)?new FormData(r):r);ft.getAdapter=Ax.getAdapter;ft.HttpStatusCode=fy;ft.default=ft;const jV=async(r,e)=>{try{return(await ft.get("/.netlify/functions/fetchMetArtworkDetails",{params:{type:r,q:e}})).data.map(o=>{const l=o.artistDisplayName||"an unknown Artist",c=o.artistNationality||"Unknown nationality",d=o.objectDate||"an undetermined time",p=o.medium||"an artistic medium",m=o.dimensions||"unknown dimensions",y=o.classification||"an extraordinary artwork",_=o.department||"an unspecified department",T=o.objectURL||"https://www.metmuseum.org/art/collection",k=o.creditLine||"an anonymous donor",I=o.period||"an unspecified period",b=o.geographyType||"a broad location",N=o.city||"an unknown city",F=o.country||"an unknown country",j=m.match(/\(([^)]+)\)/),q=j?j[1]:m,J=`<p>${o.title} is a ${y.toLowerCase()} by ${l} (${c}). Created in ${d}, this ${p} artwork measures approximately <i>${q}</i>. It is part of the ${_} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${I}</em>, and its geographical origins are linked to <em>${b}</em>, with specific ties to <em>${N}</em>, ${F}. The artwork is credited to ${k}. Learn more about this artwork <a href="${T}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:o.objectID,title:o.title,artist_title:o.artistDisplayName,artist_bio:o.artistDisplayBio,date:o.objectDate,medium_display:o.medium,imageUrl:o.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:o.objectURL,description:J}})}catch(t){throw t}},UV="https://api.artic.edu/api/v1/artworks/search",BV="https://www.artic.edu/iiif/2",$V=async(r,e)=>{const t={query:{bool:{must:[{match:{[e]:r}},{term:{is_on_view:!0}}]}}};try{const o=(await ft.post(UV,t,{headers:{"Content-Type":"application/json"}})).data.data.map(d=>ft.get(`https://api.artic.edu/api/v1/artworks/${d.id}`,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}}));return(await Promise.all(o)).map(d=>{const p=d.data.data,m=p.image_id?`${BV}/${p.image_id}/full/843,/0/default.jpg`:"",y=p.artist_display.match(/\(([^)]+)\)/),_=y?y[1]:null;return{id:p.id,title:p.title,artist_title:p.artist_title,artist_bio:_,date:p.date_display,medium_display:p.medium_display,imageUrl:m||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:p.description}})}catch(n){throw ft.isAxiosError(n)?new Error(`Axios error fetching artworks from Chicago: ${n.message}
        `):new Error(`Unexpected error fetching artworks from Chicago: ${n} `)}},WV=(r,e,t)=>{const{artworks:n,setArtworks:i}=TL(),[o,l]=C.useState(!1),[c,d]=C.useState(null);return C.useEffect(()=>{r&&e?(async()=>{var y,_;l(!0),d(null);const m={artist:r==="met"?"artistOrCulture":"artist_display",title:"title"};try{const T=r==="met"?await jV(m[t]||"artistOrCulture",e):await $V(e,m[t]||"artist_display");i(T)}catch(T){d(((_=(y=T.response)==null?void 0:y.data)==null?void 0:_.error)||"An error occurred while fetching artworks. Please try again.")}finally{l(!1)}})():i([])},[e,t,r,i]),{artworks:n,loading:o,error:c,setArtworks:i}},HV=({sortOption:r,setSortOption:e,sortDirection:t,setSortDirection:n})=>{const[i,o]=C.useState(null),{setQuery:l}=Dy(),{setType:c}=mk(),[d,p]=C.useState(""),[m,y]=C.useState(""),_=()=>{if(d.trim()===""){o("Please enter an artist name.");return}l(d),c("artist"),o(null),p("")},T=()=>{if(m.trim()===""){o("Please enter a title.");return}l(m),c("title"),o(null),y("")},k=I=>{n(b=>({...b,[I]:b[I]==="asc"?"desc":"asc"}))};return S.jsxs("div",{className:"container my-3",children:[S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:d,onChange:I=>p(I.target.value),placeholder:"Search by Artist","aria-label":"Search by Artist"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-primary w-100",onClick:_,"aria-label":"Search by Artist",children:"Search by Artist"})})]}),S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:m,onChange:I=>y(I.target.value),placeholder:"Search by Title","aria-label":"Search by Title"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-secondary w-100",onClick:T,"aria-label":"Search by Title",children:"Search by Title"})})]}),S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-md-4 mb-3",children:S.jsxs("div",{className:"input-group",children:[S.jsxs("select",{className:"form-select",value:r,onChange:I=>e(I.target.value),"aria-label":"Sort by",children:[S.jsx("option",{value:"artist",children:"Sort by Artist"}),S.jsx("option",{value:"title",children:"Sort by Title"}),S.jsx("option",{value:"date",children:"Sort by Date"})]}),S.jsx("button",{className:"btn btn-info",onClick:()=>k(r),"aria-label":"Toggle Sort Direction",children:t[r]==="asc"?"":""})]})})}),i&&S.jsx("div",{className:"text-danger mt-2",children:i})]})};function Ox(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Ox(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function tn(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Ox(r))&&(n&&(n+=" "),n+=e);return n}function me(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function st(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Rr(r,e){const t=me(r);return isNaN(e)?st(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Mr(r,e){const t=me(r);if(isNaN(e))return st(r,NaN);if(!e)return t;const n=t.getDate(),i=st(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function L_(r,e){const t=+me(r);return st(r,t+e)}const Lx=6048e5,zV=864e5,ip=6e4,sp=36e5,qV=1e3;function YV(r,e){return L_(r,e*sp)}let KV={};function sa(){return KV}function Qi(r,e){var c,d,p,m;const t=sa(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function _l(r){return Qi(r,{weekStartsOn:1})}function Fx(r){const e=me(r),t=e.getFullYear(),n=st(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=_l(n),o=st(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=_l(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Jo(r){const e=me(r);return e.setHours(0,0,0,0),e}function sh(r){const e=me(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function vl(r,e){const t=Jo(r),n=Jo(e),i=+t-sh(t),o=+n-sh(n);return Math.round((i-o)/zV)}function QV(r){const e=Fx(r),t=st(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),_l(t)}function hy(r,e){return L_(r,e*ip)}function F_(r,e){const t=e*3;return Mr(r,t)}function GV(r,e){return L_(r,e*1e3)}function oh(r,e){const t=e*7;return Rr(r,t)}function ji(r,e){return Mr(r,e*12)}function hS(r){let e;return r.forEach(function(t){const n=me(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function pS(r){let e;return r.forEach(t=>{const n=me(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function XV(r,e){const t=Jo(r),n=Jo(e);return+t==+n}function Ui(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function ah(r){if(!Ui(r)&&typeof r!="number")return!1;const e=me(r);return!isNaN(Number(e))}function lh(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function $o(r){const e=me(r);return Math.trunc(e.getMonth()/3)+1}function uh(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=$o(t)-$o(n);return i*4+o}function ch(r,e){const t=me(r),n=me(e);return t.getFullYear()-n.getFullYear()}function JV(r,e){const t=me(r),n=me(e),i=mS(t,n),o=Math.abs(vl(t,n));t.setDate(t.getDate()-i*o);const l=+(mS(t,n)===-i),c=i*(o-l);return c===0?0:c}function mS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Vx(r){const e=me(r);return e.setHours(23,59,59,999),e}function jx(r){const e=me(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function py(r){const e=me(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function Ux(r){const e=me(r);return e.setDate(1),e.setHours(0,0,0,0),e}function Bx(r){const e=me(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function op(r){const e=me(r),t=st(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function ZV(r,e){var c,d;const t=sa(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const ej={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tj=(r,e,t)=>{let n;const i=ej[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function _g(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const nj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ij={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sj={date:_g({formats:nj,defaultWidth:"full"}),time:_g({formats:rj,defaultWidth:"full"}),dateTime:_g({formats:ij,defaultWidth:"full"})},oj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aj=(r,e,t,n)=>oj[r];function Pu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const lj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pj=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},mj={ordinalNumber:pj,era:Pu({values:lj,defaultWidth:"wide"}),quarter:Pu({values:uj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Pu({values:cj,defaultWidth:"wide"}),day:Pu({values:dj,defaultWidth:"wide"}),dayPeriod:Pu({values:fj,defaultWidth:"wide",formattingValues:hj,defaultFormattingWidth:"wide"})};function Au(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?yj(c,y=>y.test(l)):gj(c,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function gj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function yj(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function _j(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const vj=/^(\d+)(th|st|nd|rd)?/i,wj=/\d+/i,Ej={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tj={any:[/^b/i,/^(a|c)/i]},Sj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kj={any:[/1/i,/2/i,/3/i,/4/i]},Cj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ij={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pj={ordinalNumber:_j({matchPattern:vj,parsePattern:wj,valueCallback:r=>parseInt(r,10)}),era:Au({matchPatterns:Ej,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),quarter:Au({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Au({matchPatterns:Cj,defaultMatchWidth:"wide",parsePatterns:xj,defaultParseWidth:"any"}),day:Au({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:Ij,defaultParseWidth:"any"}),dayPeriod:Au({matchPatterns:Dj,defaultMatchWidth:"any",parsePatterns:Rj,defaultParseWidth:"any"})},$x={code:"en-US",formatDistance:tj,formatLong:sj,formatRelative:aj,localize:mj,match:Pj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aj(r){const e=me(r);return vl(e,op(e))+1}function V_(r){const e=me(r),t=+_l(e)-+QV(e);return Math.round(t/Lx)+1}function j_(r,e){var m,y,_,T;const t=me(r),n=t.getFullYear(),i=sa(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(_=i.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,l=st(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Qi(l,e),d=st(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Qi(d,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=p.getTime()?n:n-1}function Nj(r,e){var c,d,p,m;const t=sa(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=j_(r,e),o=st(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Qi(o,e)}function Wx(r,e){const t=me(r),n=+Qi(t,e)-+Nj(t,e);return Math.round(n/Lx)+1}function it(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const ks={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(r,e){return it(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return it(r.getHours()%12||12,e.length)},H(r,e){return it(r.getHours(),e.length)},m(r,e){return it(r.getMinutes(),e.length)},s(r,e){return it(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return it(i,e.length)}},Xa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return ks.y(r,e)},Y:function(r,e,t,n){const i=j_(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return it(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(r,e){const t=Fx(r);return it(t,e.length)},u:function(r,e){const t=r.getFullYear();return it(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return ks.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Wx(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):it(i,e.length)},I:function(r,e,t){const n=V_(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):ks.d(r,e)},D:function(r,e,t){const n=Aj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return it(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Xa.noon:n===0?i=Xa.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Xa.evening:n>=12?i=Xa.afternoon:n>=4?i=Xa.morning:i=Xa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ks.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):ks.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):ks.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):ks.s(r,e)},S:function(r,e){return ks.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return _S(n);case"XXXX":case"XX":return Ao(n);case"XXXXX":case"XXX":default:return Ao(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return _S(n);case"xxxx":case"xx":return Ao(n);case"xxxxx":case"xxx":default:return Ao(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yS(n,":");case"OOOO":default:return"GMT"+Ao(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yS(n,":");case"zzzz":default:return"GMT"+Ao(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return it(n,e.length)},T:function(r,e,t){const n=r.getTime();return it(n,e.length)}};function yS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+it(o,2)}function _S(r,e){return r%60===0?(r>0?"-":"+")+it(Math.abs(r)/60,2):Ao(r,e)}function Ao(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=it(Math.trunc(n/60),2),o=it(n%60,2);return t+i+e+o}const vS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hx=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return vS(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",vS(n,e)).replace("{{time}}",Hx(i,e))},dh={p:Hx,P:Mj},Oj=/^D+$/,Lj=/^Y+$/,Fj=["D","DD","YY","YYYY"];function zx(r){return Oj.test(r)}function qx(r){return Lj.test(r)}function my(r,e,t){const n=Vj(r,e,t);if(console.warn(n),Fj.includes(r))throw new RangeError(n)}function Vj(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bj=/^'([^]*?)'?$/,$j=/''/g,Wj=/[a-zA-Z]/;function wS(r,e,t){var m,y,_,T,k,I,b,N;const n=sa(),i=(t==null?void 0:t.locale)??n.locale??$x,o=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((T=(_=n.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((I=(k=t==null?void 0:t.locale)==null?void 0:k.options)==null?void 0:I.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,c=me(r);if(!ah(c))throw new RangeError("Invalid time value");let d=e.match(Uj).map(F=>{const j=F[0];if(j==="p"||j==="P"){const q=dh[j];return q(F,i.formatLong)}return F}).join("").match(jj).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const j=F[0];if(j==="'")return{isToken:!1,value:Hj(F)};if(gS[j])return{isToken:!0,value:F};if(j.match(Wj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:F}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(F=>{if(!F.isToken)return F.value;const j=F.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&qx(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&zx(j))&&my(j,e,String(r));const q=gS[j[0]];return q(c,j,i.localize,p)}).join("")}function Hj(r){const e=r.match(Bj);return e?e[1].replace($j,"'"):r}function ES(r){return me(r).getDate()}function zj(r){return me(r).getDay()}function qj(r){const e=me(r),t=e.getFullYear(),n=e.getMonth(),i=st(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Yj(){return Object.assign({},sa())}function ci(r){return me(r).getHours()}function Kj(r){let t=me(r).getDay();return t===0&&(t=7),t}function di(r){return me(r).getMinutes()}function wn(r){return me(r).getMonth()}function Bi(r){return me(r).getSeconds()}function gy(r){return me(r).getTime()}function Ue(r){return me(r).getFullYear()}function zs(r,e){const t=me(r),n=me(e);return t.getTime()>n.getTime()}function Zo(r,e){const t=me(r),n=me(e);return+t<+n}function Qj(r,e){const t=me(r),n=me(e);return+t==+n}function Gj(r,e){const t=e instanceof Date?st(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const Xj=10;class Yx{constructor(){ge(this,"subPriority",0)}validate(e,t){return!0}}class Jj extends Yx{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Zj extends Yx{constructor(){super(...arguments);ge(this,"priority",Xj);ge(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:st(t,Gj(t,Date))}}class tt{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new Jj(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class eU extends tt{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(r,e){return r&&{value:e(r.value),rest:r.rest}}function St(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ri(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*sp+o*ip+l*qV),rest:e.slice(t[0].length)}}function Kx(r){return St(Pt.anyDigitsSigned,r)}function bt(r,e){switch(r){case 1:return St(Pt.singleDigit,e);case 2:return St(Pt.twoDigits,e);case 3:return St(Pt.threeDigits,e);case 4:return St(Pt.fourDigits,e);default:return St(new RegExp("^\\d{1,"+r+"}"),e)}}function fh(r,e){switch(r){case 1:return St(Pt.singleDigitSigned,e);case 2:return St(Pt.twoDigitsSigned,e);case 3:return St(Pt.threeDigitsSigned,e);case 4:return St(Pt.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+r+"}"),e)}}function U_(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Qx(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function Gx(r){return r%400===0||r%4===0&&r%100!==0}class tU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return At(bt(4,t),o);case"yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=Qx(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class nU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return At(bt(4,t),o);case"Yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=j_(t,o);if(i.isTwoDigitYear){const d=Qx(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}}class rU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return fh(n==="R"?4:n.length,t)}set(t,n,i){const o=st(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),_l(o)}}class iU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return fh(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class sU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return bt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class oU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return bt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class aU extends tt{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return At(St(Pt.month,t),o);case"MM":return At(bt(2,t),o);case"Mo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class lU extends tt{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return At(St(Pt.month,t),o);case"LL":return At(bt(2,t),o);case"Lo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function uU(r,e,t){const n=me(r),i=Wx(n,t)-e;return n.setDate(n.getDate()-i*7),n}class cU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return St(Pt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Qi(uU(t,i,o),o)}}function dU(r,e){const t=me(r),n=V_(t)-e;return t.setDate(t.getDate()-n*7),t}class fU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return St(Pt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return _l(dU(t,i))}}const hU=[31,28,31,30,31,30,31,31,30,31,30,31],pU=[31,29,31,30,31,30,31,31,30,31,30,31];class mU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return St(Pt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=Gx(i),l=t.getMonth();return o?n>=1&&n<=pU[l]:n>=1&&n<=hU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class gU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return St(Pt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear();return Gx(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function B_(r,e,t){var y,_,T,k;const n=sa(),i=(t==null?void 0:t.weekStartsOn)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((k=(T=n.locale)==null?void 0:T.options)==null?void 0:k.weekStartsOn)??0,o=me(r),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return Rr(o,m)}class yU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=B_(t,i,o),t.setHours(0,0,0,0),t}}class _U extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return At(bt(n.length,t),l);case"eo":return At(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=B_(t,i,o),t.setHours(0,0,0,0),t}}class vU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return At(bt(n.length,t),l);case"co":return At(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=B_(t,i,o),t.setHours(0,0,0,0),t}}function wU(r,e){const t=me(r),n=Kj(t),i=e-n;return Rr(t,i)}class EU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return bt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return At(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return At(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return At(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return At(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=wU(t,i),t.setHours(0,0,0,0),t}}class TU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(U_(i),0,0,0),t}}class SU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(U_(i),0,0,0),t}}class kU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(U_(i),0,0,0),t}}class CU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return St(Pt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class xU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return St(Pt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class bU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return St(Pt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class IU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return St(Pt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class DU extends tt{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return St(Pt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class RU extends tt{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return St(Pt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class PU extends tt{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return At(bt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class AU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ri(ni.basicOptionalMinutes,t);case"XX":return ri(ni.basic,t);case"XXXX":return ri(ni.basicOptionalSeconds,t);case"XXXXX":return ri(ni.extendedOptionalSeconds,t);case"XXX":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-sh(t)-i)}}class NU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ri(ni.basicOptionalMinutes,t);case"xx":return ri(ni.basic,t);case"xxxx":return ri(ni.basicOptionalSeconds,t);case"xxxxx":return ri(ni.extendedOptionalSeconds,t);case"xxx":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-sh(t)-i)}}class MU extends tt{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(t){return Kx(t)}set(t,n,i){return[st(t,i*1e3),{timestampIsSet:!0}]}}class OU extends tt{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(t){return Kx(t)}set(t,n,i){return[st(t,i),{timestampIsSet:!0}]}}const LU={G:new eU,y:new tU,Y:new nU,R:new rU,u:new iU,Q:new sU,q:new oU,M:new aU,L:new lU,w:new cU,I:new fU,d:new mU,D:new gU,E:new yU,e:new _U,c:new vU,i:new EU,a:new TU,b:new SU,B:new kU,h:new CU,H:new xU,K:new bU,k:new IU,m:new DU,s:new RU,S:new PU,X:new AU,x:new NU,t:new MU,T:new OU},FU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jU=/^'([^]*?)'?$/,UU=/''/g,BU=/\S/,$U=/[a-zA-Z]/;function vg(r,e,t,n){var I,b,N,F,j,q,J,Z;const i=Yj(),o=(n==null?void 0:n.locale)??i.locale??$x,l=(n==null?void 0:n.firstWeekContainsDate)??((b=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((F=(N=i.locale)==null?void 0:N.options)==null?void 0:F.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((q=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:q.weekStartsOn)??i.weekStartsOn??((Z=(J=i.locale)==null?void 0:J.options)==null?void 0:Z.weekStartsOn)??0;if(e==="")return r===""?me(t):st(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},p=[new Zj],m=e.match(VU).map(A=>{const D=A[0];if(D in dh){const P=dh[D];return P(A,o.formatLong)}return A}).join("").match(FU),y=[];for(let A of m){!(n!=null&&n.useAdditionalWeekYearTokens)&&qx(A)&&my(A,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&zx(A)&&my(A,e,r);const D=A[0],P=LU[D];if(P){const{incompatibleTokens:O}=P;if(Array.isArray(O)){const U=y.find(M=>O.includes(M.token)||M.token===D);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${A}\` at the same time`)}else if(P.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);y.push({token:D,fullToken:A});const V=P.run(r,A,o.match,d);if(!V)return st(t,NaN);p.push(V.setter),r=V.rest}else{if(D.match($U))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(A==="''"?A="'":D==="'"&&(A=WU(A)),r.indexOf(A)===0)r=r.slice(A.length);else return st(t,NaN)}}if(r.length>0&&BU.test(r))return st(t,NaN);const _=p.map(A=>A.priority).sort((A,D)=>D-A).filter((A,D,P)=>P.indexOf(A)===D).map(A=>p.filter(D=>D.priority===A).sort((D,P)=>P.subPriority-D.subPriority)).map(A=>A[0]);let T=me(t);if(isNaN(T.getTime()))return st(t,NaN);const k={};for(const A of _){if(!A.validate(T,d))return st(t,NaN);const D=A.set(T,k,d);Array.isArray(D)?(T=D[0],Object.assign(k,D[1])):T=D}return st(t,T)}function WU(r){return r.match(jU)[1].replace(UU,"'")}function HU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function zU(r,e){const t=py(r),n=py(e);return+t==+n}function qU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()}function uc(r,e){const t=+me(r),[n,i]=[+me(e.start),+me(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function YU(r,e){return Rr(r,-1)}function KU(r,e){const n=JU(r);let i;if(n.date){const d=ZU(n.date,2);i=e4(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,c;if(n.time&&(l=t4(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(c=n4(n.timezone),isNaN(c))return new Date(NaN)}else{const d=new Date(o+l),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(o+l+c)}const sf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function JU(r){const e={},t=r.split(sf.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],sf.timeZoneDelimiter.test(e.date)&&(e.date=r.split(sf.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=sf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function ZU(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function e4(r,e){if(e===null)return new Date(NaN);const t=r.match(QU);if(!t)return new Date(NaN);const n=!!t[4],i=Nu(t[1]),o=Nu(t[2])-1,l=Nu(t[3]),c=Nu(t[4]),d=Nu(t[5])-1;if(n)return a4(e,c,d)?r4(e,c,d):new Date(NaN);{const p=new Date(0);return!s4(e,o,l)||!o4(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function Nu(r){return r?parseInt(r):1}function t4(r){const e=r.match(GU);if(!e)return NaN;const t=wg(e[1]),n=wg(e[2]),i=wg(e[3]);return l4(t,n,i)?t*sp+n*ip+i*1e3:NaN}function wg(r){return r&&parseFloat(r.replace(",","."))||0}function n4(r){if(r==="Z")return 0;const e=r.match(XU);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return u4(n,i)?t*(n*sp+i*ip):NaN}function r4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const i4=[31,null,31,30,31,30,31,31,30,31,30,31];function Xx(r){return r%400===0||r%4===0&&r%100!==0}function s4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(i4[e]||(Xx(r)?29:28))}function o4(r,e){return e>=1&&e<=(Xx(r)?366:365)}function a4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function l4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function u4(r,e){return e>=0&&e<=59}function qn(r,e){const t=me(r),n=t.getFullYear(),i=t.getDate(),o=st(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=qj(o);return t.setMonth(e,Math.min(i,l)),t}function c4(r,e){let t=me(r);return isNaN(+t)?st(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=qn(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function If(r,e){const t=me(r);return t.setHours(e),t}function Df(r,e){const t=me(r);return t.setMinutes(e),t}function nl(r,e){const t=me(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return qn(t,t.getMonth()+i*3)}function Rf(r,e){const t=me(r);return t.setSeconds(e),t}function ei(r,e){const t=me(r);return isNaN(+t)?st(r,NaN):(t.setFullYear(e),t)}function Wo(r,e){return Mr(r,-e)}function Jx(r,e){return F_(r,-1)}function TS(r,e){return oh(r,-1)}function wl(r,e){return ji(r,-e)}function ap(){return typeof window<"u"}function Ll(r){return Zx(r)?(r.nodeName||"").toLowerCase():"#document"}function Qn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function mi(r){var e;return(e=(Zx(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Zx(r){return ap()?r instanceof Node||r instanceof Qn(r).Node:!1}function En(r){return ap()?r instanceof Element||r instanceof Qn(r).Element:!1}function pi(r){return ap()?r instanceof HTMLElement||r instanceof Qn(r).HTMLElement:!1}function SS(r){return!ap()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Qn(r).ShadowRoot}function Rc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=dr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function d4(r){return["table","td","th"].includes(Ll(r))}function lp(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function $_(r){const e=W_(),t=En(r)?dr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function f4(r){let e=qs(r);for(;pi(e)&&!El(e);){if($_(e))return e;if(lp(e))return null;e=qs(e)}return null}function W_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function El(r){return["html","body","#document"].includes(Ll(r))}function dr(r){return Qn(r).getComputedStyle(r)}function up(r){return En(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function qs(r){if(Ll(r)==="html")return r;const e=r.assignedSlot||r.parentNode||SS(r)&&r.host||mi(r);return SS(e)?e.host:e}function eb(r){const e=qs(r);return El(e)?r.ownerDocument?r.ownerDocument.body:r.body:pi(e)&&Rc(e)?e:eb(e)}function cc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=eb(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Qn(i);if(o){const c=yy(l);return e.concat(l,l.visualViewport||[],Rc(i)?i:[],c&&t?cc(c):[])}return e.concat(i,cc(i,[],t))}function yy(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Tl=Math.min,Ho=Math.max,hh=Math.round,of=Math.floor,fi=r=>({x:r,y:r}),h4={left:"right",right:"left",bottom:"top",top:"bottom"},p4={start:"end",end:"start"};function m4(r,e,t){return Ho(r,Tl(e,t))}function cp(r,e){return typeof r=="function"?r(e):r}function Sl(r){return r.split("-")[0]}function Pc(r){return r.split("-")[1]}function g4(r){return r==="x"?"y":"x"}function H_(r){return r==="y"?"height":"width"}function dc(r){return["top","bottom"].includes(Sl(r))?"y":"x"}function z_(r){return g4(dc(r))}function y4(r,e,t){t===void 0&&(t=!1);const n=Pc(r),i=z_(r),o=H_(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=ph(l)),[l,ph(l)]}function _4(r){const e=ph(r);return[_y(r),e,_y(e)]}function _y(r){return r.replace(/start|end/g,e=>p4[e])}function v4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function w4(r,e,t,n){const i=Pc(r);let o=v4(Sl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(_y)))),o}function ph(r){return r.replace(/left|right|bottom|top/g,e=>h4[e])}function E4(r){return{top:0,right:0,bottom:0,left:0,...r}}function tb(r){return typeof r!="number"?E4(r):{top:r,right:r,bottom:r,left:r}}function mh(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function kS(r,e,t){let{reference:n,floating:i}=r;const o=dc(e),l=z_(e),c=H_(l),d=Sl(e),p=o==="y",m=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,_=n[c]/2-i[c]/2;let T;switch(d){case"top":T={x:m,y:n.y-i.height};break;case"bottom":T={x:m,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y};break;case"left":T={x:n.x-i.width,y};break;default:T={x:n.x,y:n.y}}switch(Pc(e)){case"start":T[l]-=_*(t&&p?-1:1);break;case"end":T[l]+=_*(t&&p?-1:1);break}return T}const T4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y}=kS(p,n,d),_=n,T={},k=0;for(let I=0;I<c.length;I++){const{name:b,fn:N}=c[I],{x:F,y:j,data:q,reset:J}=await N({x:m,y,initialPlacement:n,placement:_,strategy:i,middlewareData:T,rects:p,platform:l,elements:{reference:r,floating:e}});m=F??m,y=j??y,T={...T,[b]:{...T[b],...q}},J&&k<=50&&(k++,typeof J=="object"&&(J.placement&&(_=J.placement),J.rects&&(p=J.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):J.rects),{x:m,y}=kS(p,_,d)),I=-1)}return{x:m,y,placement:_,strategy:i,middlewareData:T}};async function S4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:T=0}=cp(e,r),k=tb(T),b=c[_?y==="floating"?"reference":"floating":y],N=mh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(b)))==null||t?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),F=y==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),q=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},J=mh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:j,strategy:d}):F);return{top:(N.top-J.top+k.top)/q.y,bottom:(J.bottom-N.bottom+k.bottom)/q.y,left:(N.left-J.left+k.left)/q.x,right:(J.right-N.right+k.right)/q.x}}const k4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=cp(r,e)||{};if(p==null)return{};const y=tb(m),_={x:t,y:n},T=z_(i),k=H_(T),I=await l.getDimensions(p),b=T==="y",N=b?"top":"left",F=b?"bottom":"right",j=b?"clientHeight":"clientWidth",q=o.reference[k]+o.reference[T]-_[T]-o.floating[k],J=_[T]-o.reference[T],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let A=Z?Z[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(Z)))&&(A=c.floating[j]||o.floating[k]);const D=q/2-J/2,P=A/2-I[k]/2-1,O=Tl(y[N],P),V=Tl(y[F],P),U=O,M=A-I[k]-V,ke=A/2-I[k]/2+D,De=m4(U,ke,M),he=!d.arrow&&Pc(i)!=null&&ke!==De&&o.reference[k]/2-(ke<U?O:V)-I[k]/2<0,de=he?ke<U?ke-U:ke-M:0;return{[T]:_[T]+de,data:{[T]:De,centerOffset:ke-De-de,...he&&{alignmentOffset:de}},reset:he}}}),C4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:I=!0,...b}=cp(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=Sl(i),F=dc(c),j=Sl(c)===c,q=await(d.isRTL==null?void 0:d.isRTL(p.floating)),J=_||(j||!I?[ph(c)]:_4(c)),Z=k!=="none";!_&&Z&&J.push(...w4(c,I,k,q));const A=[c,...J],D=await S4(e,b),P=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&P.push(D[N]),y){const ke=y4(i,l,q);P.push(D[ke[0]],D[ke[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(ke=>ke<=0)){var V,U;const ke=(((V=o.flip)==null?void 0:V.index)||0)+1,De=A[ke];if(De)return{data:{index:ke,overflows:O},reset:{placement:De}};let he=(U=O.filter(de=>de.overflows[0]<=0).sort((de,G)=>de.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!he)switch(T){case"bestFit":{var M;const de=(M=O.filter(G=>{if(Z){const ce=dc(G.placement);return ce===F||ce==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ce=>ce>0).reduce((ce,le)=>ce+le,0)]).sort((G,ce)=>G[1]-ce[1])[0])==null?void 0:M[0];de&&(he=de);break}case"initialPlacement":he=c;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function x4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Sl(t),c=Pc(t),d=dc(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,y=cp(e,r);let{mainAxis:_,crossAxis:T,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof k=="number"&&(T=c==="end"?k*-1:k),d?{x:T*m,y:_*p}:{x:_*p,y:T*m}}const b4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await x4(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function nb(r){const e=dr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=pi(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=hh(t)!==o||hh(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function q_(r){return En(r)?r:r.contextElement}function ll(r){const e=q_(r);if(!pi(e))return fi(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=nb(e);let l=(o?hh(t.width):t.width)/n,c=(o?hh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const I4=fi(0);function rb(r){const e=Qn(r);return!W_()||!e.visualViewport?I4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qn(r)?!1:e}function ea(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=q_(r);let l=fi(1);e&&(n?En(n)&&(l=ll(n)):l=ll(r));const c=D4(o,t,n)?rb(o):fi(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(o){const _=Qn(o),T=n&&En(n)?Qn(n):n;let k=_,I=yy(k);for(;I&&n&&T!==k;){const b=ll(I),N=I.getBoundingClientRect(),F=dr(I),j=N.left+(I.clientLeft+parseFloat(F.paddingLeft))*b.x,q=N.top+(I.clientTop+parseFloat(F.paddingTop))*b.y;d*=b.x,p*=b.y,m*=b.x,y*=b.y,d+=j,p+=q,k=Qn(I),I=yy(k)}}return mh({width:m,height:y,x:d,y:p})}function Y_(r,e){const t=up(r).scrollLeft;return e?e.left+t:ea(mi(r)).left+t}function ib(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Y_(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function R4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=mi(n),c=e?lp(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=fi(1);const m=fi(0),y=pi(n);if((y||!y&&!o)&&((Ll(n)!=="body"||Rc(l))&&(d=up(n)),pi(n))){const T=ea(n);p=ll(n),m.x=T.x+n.clientLeft,m.y=T.y+n.clientTop}const _=l&&!y&&!o?ib(l,d,!0):fi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+_.x,y:t.y*p.y-d.scrollTop*p.y+m.y+_.y}}function P4(r){return Array.from(r.getClientRects())}function A4(r){const e=mi(r),t=up(r),n=r.ownerDocument.body,i=Ho(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ho(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Y_(r);const c=-t.scrollTop;return dr(n).direction==="rtl"&&(l+=Ho(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function N4(r,e){const t=Qn(r),n=mi(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=W_();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function M4(r,e){const t=ea(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=pi(r)?ll(r):fi(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function CS(r,e,t){let n;if(e==="viewport")n=N4(r,t);else if(e==="document")n=A4(mi(r));else if(En(e))n=M4(e,t);else{const i=rb(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return mh(n)}function sb(r,e){const t=qs(r);return t===e||!En(t)||El(t)?!1:dr(t).position==="fixed"||sb(t,e)}function O4(r,e){const t=e.get(r);if(t)return t;let n=cc(r,[],!1).filter(c=>En(c)&&Ll(c)!=="body"),i=null;const o=dr(r).position==="fixed";let l=o?qs(r):r;for(;En(l)&&!El(l);){const c=dr(l),d=$_(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rc(l)&&!d&&sb(r,l))?n=n.filter(m=>m!==l):i=c,l=qs(l)}return e.set(r,n),n}function L4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?lp(e)?[]:O4(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,m)=>{const y=CS(e,m,i);return p.top=Ho(y.top,p.top),p.right=Tl(y.right,p.right),p.bottom=Tl(y.bottom,p.bottom),p.left=Ho(y.left,p.left),p},CS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function F4(r){const{width:e,height:t}=nb(r);return{width:e,height:t}}function V4(r,e,t){const n=pi(e),i=mi(e),o=t==="fixed",l=ea(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=fi(0);if(n||!n&&!o)if((Ll(e)!=="body"||Rc(i))&&(c=up(e)),n){const _=ea(e,!0,o,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=Y_(i));const p=i&&!n&&!o?ib(i,c):fi(0),m=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:m,y,width:l.width,height:l.height}}function Eg(r){return dr(r).position==="static"}function xS(r,e){if(!pi(r)||dr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return mi(r)===t&&(t=t.ownerDocument.body),t}function ob(r,e){const t=Qn(r);if(lp(r))return t;if(!pi(r)){let i=qs(r);for(;i&&!El(i);){if(En(i)&&!Eg(i))return i;i=qs(i)}return t}let n=xS(r,e);for(;n&&d4(n)&&Eg(n);)n=xS(n,e);return n&&El(n)&&Eg(n)&&!$_(n)?t:n||f4(r)||t}const j4=async function(r){const e=this.getOffsetParent||ob,t=this.getDimensions,n=await t(r.floating);return{reference:V4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function U4(r){return dr(r).direction==="rtl"}const B4={convertOffsetParentRelativeRectToViewportRelativeRect:R4,getDocumentElement:mi,getClippingRect:L4,getOffsetParent:ob,getElementRects:j4,getClientRects:P4,getDimensions:F4,getScale:ll,isElement:En,isRTL:U4};function ab(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function $4(r,e){let t=null,n;const i=mi(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:y,width:_,height:T}=p;if(c||e(),!_||!T)return;const k=of(y),I=of(i.clientWidth-(m+_)),b=of(i.clientHeight-(y+T)),N=of(m),j={rootMargin:-k+"px "+-I+"px "+-b+"px "+-N+"px",threshold:Ho(0,Tl(1,d))||1};let q=!0;function J(Z){const A=Z[0].intersectionRatio;if(A!==d){if(!q)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!ab(p,r.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(J,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(J,j)}t.observe(r)}return l(!0),o}function W4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=q_(r),m=i||o?[...p?cc(p):[],...cc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const y=p&&c?$4(p,t):null;let _=-1,T=null;l&&(T=new ResizeObserver(N=>{let[F]=N;F&&F.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=T)==null||j.observe(e)})),t()}),p&&!d&&T.observe(p),T.observe(e));let k,I=d?ea(r):null;d&&b();function b(){const N=ea(r);I&&!ab(I,N)&&t(),I=N,k=requestAnimationFrame(b)}return t(),()=>{var N;m.forEach(F=>{i&&F.removeEventListener("scroll",t),o&&F.removeEventListener("resize",t)}),y==null||y(),(N=T)==null||N.disconnect(),T=null,d&&cancelAnimationFrame(k)}}const H4=b4,z4=C4,bS=k4,q4=(r,e,t)=>{const n=new Map,i={platform:B4,...t},o={...i.platform,_c:n};return T4(r,e,{...i,platform:o})};var Pf=typeof document<"u"?C.useLayoutEffect:C.useEffect;function gh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!gh(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!gh(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function lb(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function IS(r,e){const t=lb(r);return Math.round(e*t)/t}function Tg(r){const e=C.useRef(r);return Pf(()=>{e.current=r}),e}function Y4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[m,y]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=C.useState(n);gh(_,n)||T(n);const[k,I]=C.useState(null),[b,N]=C.useState(null),F=C.useCallback(G=>{G!==Z.current&&(Z.current=G,I(G))},[]),j=C.useCallback(G=>{G!==A.current&&(A.current=G,N(G))},[]),q=o||k,J=l||b,Z=C.useRef(null),A=C.useRef(null),D=C.useRef(m),P=d!=null,O=Tg(d),V=Tg(i),U=Tg(p),M=C.useCallback(()=>{if(!Z.current||!A.current)return;const G={placement:e,strategy:t,middleware:_};V.current&&(G.platform=V.current),q4(Z.current,A.current,G).then(ce=>{const le={...ce,isPositioned:U.current!==!1};ke.current&&!gh(D.current,le)&&(D.current=le,dk.flushSync(()=>{y(le)}))})},[_,e,t,V,U]);Pf(()=>{p===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(G=>({...G,isPositioned:!1})))},[p]);const ke=C.useRef(!1);Pf(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Pf(()=>{if(q&&(Z.current=q),J&&(A.current=J),q&&J){if(O.current)return O.current(q,J,M);M()}},[q,J,M,O,P]);const De=C.useMemo(()=>({reference:Z,floating:A,setReference:F,setFloating:j}),[F,j]),he=C.useMemo(()=>({reference:q,floating:J}),[q,J]),de=C.useMemo(()=>{const G={position:t,left:0,top:0};if(!he.floating)return G;const ce=IS(he.floating,m.x),le=IS(he.floating,m.y);return c?{...G,transform:"translate("+ce+"px, "+le+"px)",...lb(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:le}},[t,c,he.floating,m.x,m.y]);return C.useMemo(()=>({...m,update:M,refs:De,elements:he,floatingStyles:de}),[m,M,De,he,de])}const K4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?bS({element:n.current,padding:i}).fn(t):{}:n?bS({element:n,padding:i}).fn(t):{}}}},Q4=(r,e)=>({...H4(r),options:[r,e]}),G4=(r,e)=>({...z4(r),options:[r,e]}),X4=(r,e)=>({...K4(r),options:[r,e]}),ub={...DI},J4=ub.useInsertionEffect,Z4=J4||(r=>r());function eB(r){const e=C.useRef(()=>{});return Z4(()=>{e.current=r}),C.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var yh=typeof document<"u"?C.useLayoutEffect:C.useEffect;let DS=!1,tB=0;const RS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tB++;function nB(){const[r,e]=C.useState(()=>DS?RS():void 0);return yh(()=>{r==null&&e(RS())},[]),C.useEffect(()=>{DS=!0},[]),r}const rB=ub.useId,cb=rB||nB,iB=C.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:_,d:T,style:{transform:k,...I}={},...b}=e,N=cb(),[F,j]=C.useState(!1);if(yh(()=>{if(!i)return;dr(i).direction==="rtl"&&j(!0)},[i]),!i)return null;const[q,J]=n.split("-"),Z=q==="top"||q==="bottom";let A=y;(Z&&l!=null&&l.x||!Z&&l!=null&&l.y)&&(A=null);const D=m*2,P=D/2,O=c/2*(p/-8+1),V=d/2*p/4,U=!!T,M=A&&J==="end"?"bottom":"top";let ke=A&&J==="end"?"right":"left";A&&F&&(ke=J==="end"?"left":"right");const De=(o==null?void 0:o.x)!=null?A||o.x:"",he=(o==null?void 0:o.y)!=null?A||o.y:"",de=T||"M0,0"+(" H"+c)+(" L"+(c-O)+","+(d-V))+(" Q"+c/2+","+d+" "+O+","+(d-V))+" Z",G={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[q];return S.jsxs("svg",{...b,"aria-hidden":!0,ref:t,width:U?c:c+D,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[ke]:De,[M]:he,[q]:Z||U?"100%":"calc(100% - "+D/2+"px)",transform:[G,k].filter(ce=>!!ce).join(" "),...I},children:[D>0&&S.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:_,strokeWidth:D+(T?0:1),d:de}),S.jsx("path",{stroke:D&&!T?b.fill:"none",d:de}),S.jsx("clipPath",{id:N,children:S.jsx("rect",{x:-P,y:P*(U?-1:1),width:c+D,height:c})})]})});function sB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const oB=C.createContext(null),aB=C.createContext(null),lB=()=>{var r;return((r=C.useContext(oB))==null?void 0:r.id)||null},uB=()=>C.useContext(aB);function cB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=cb(),o=C.useRef({}),[l]=C.useState(()=>sB()),c=lB()!=null,[d,p]=C.useState(n.reference),m=eB((T,k,I)=>{o.current.openEvent=T?k:void 0,l.emit("openchange",{open:T,event:k,reason:I,nested:c}),t==null||t(T,k,I)}),y=C.useMemo(()=>({setPositionReference:p}),[]),_=C.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return C.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:_,events:l,floatingId:i,refs:y}),[e,m,_,l,i,y])}function dB(r){r===void 0&&(r={});const{nodeId:e}=r,t=cB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=C.useState(null),[c,d]=C.useState(null),m=(i==null?void 0:i.domReference)||o,y=C.useRef(null),_=uB();yh(()=>{m&&(y.current=m)},[m]);const T=Y4({...r,elements:{...i,...c&&{reference:c}}}),k=C.useCallback(j=>{const q=En(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;d(q),T.refs.setReference(q)},[T.refs]),I=C.useCallback(j=>{(En(j)||j===null)&&(y.current=j,l(j)),(En(T.refs.reference.current)||T.refs.reference.current===null||j!==null&&!En(j))&&T.refs.setReference(j)},[T.refs]),b=C.useMemo(()=>({...T.refs,setReference:I,setPositionReference:k,domReference:y}),[T.refs,I,k]),N=C.useMemo(()=>({...T.elements,domReference:m}),[T.elements,m]),F=C.useMemo(()=>({...T,...n,refs:b,elements:N,nodeId:e}),[T,b,N,e,n]);return yh(()=>{n.dataRef.current.floatingContext=F;const j=_==null?void 0:_.nodesRef.current.find(q=>q.id===e);j&&(j.context=F)}),C.useMemo(()=>({...T,context:F,refs:b,elements:N}),[T,b,N,F])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var vy=function(e,t){return vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},vy(e,t)};function Kt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Xe.apply(this,arguments)};function si(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var fB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ee.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},hB=function(r,e){var t=C.useRef(null),n=C.useRef(r);n.current=r;var i=C.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return C.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},dp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=hB(t,l);return ee.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},fe;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(fe||(fe={}));function db(){var r=typeof window<"u"?window:globalThis;return r}var Ac=12,pB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ot(r){if(r==null)return new Date;var e=typeof r=="string"?KU(r):me(r);return Pi(e)?e:new Date}function Sg(r,e,t,n,i){var o,l=null,c=zo(t)||zo(Gu()),d=!0;if(Array.isArray(e))return e.forEach(function(m){var y=vg(r,m,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Pi(y,i)&&r===yt(y,m,t)),Pi(y,i)&&d&&(l=y)}),l;if(l=vg(r,e,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Pi(l)&&r===yt(l,e,t);else if(!Pi(l)){var p=((o=e.match(pB))!==null&&o!==void 0?o:[]).map(function(m){var y=m[0];if(y==="p"||y==="P"){var _=dh[y];return c?_(m,c.formatLong):y}return m}).join("");r.length>0&&(l=vg(r,p.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Pi(l)||(l=new Date(r))}return Pi(l)&&d?l:null}function Pi(r,e){return ah(r)&&!Zo(r,e??new Date("1/1/1800"))}function yt(r,e,t){if(t==="en")return wS(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?zo(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&Gu()&&zo(Gu())&&(n=zo(Gu())),wS(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ar(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&yt(r,i,n)||""}function mB(r,e,t){if(!r)return"";var n=ar(r,t),i=e?ar(e,t):"";return"".concat(n," - ").concat(i)}function gB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?ar(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=ar(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function kg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return If(Df(Rf(r,c),o),n)}function yB(r){return V_(r)}function _B(r,e){return yt(r,"ddd",e)}function Af(r){return Jo(r)}function Vs(r,e,t){var n=zo(e||Gu());return Qi(r,{locale:n,weekStartsOn:t})}function $i(r){return Ux(r)}function Wu(r){return op(r)}function PS(r){return py(r)}function AS(){return Jo(ot())}function NS(r){return Vx(r)}function vB(r){return ZV(r)}function wB(r){return jx(r)}function ti(r,e){return r&&e?qU(r,e):!r&&!e}function vn(r,e){return r&&e?HU(r,e):!r&&!e}function _h(r,e){return r&&e?zU(r,e):!r&&!e}function Qe(r,e){return r&&e?XV(r,e):!r&&!e}function jo(r,e){return r&&e?Qj(r,e):!r&&!e}function Hu(r,e,t){var n,i=Jo(e),o=Vx(t);try{n=uc(r,{start:i,end:o})}catch{n=!1}return n}function Gu(){var r=db();return r.__localeId__}function zo(r){if(typeof r=="string"){var e=db();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function EB(r,e,t){return e(yt(r,"EEEE",t))}function TB(r,e){return yt(r,"EEEEEE",e)}function SB(r,e){return yt(r,"EEE",e)}function K_(r,e){return yt(qn(ot(),r),"LLLL",e)}function fb(r,e){return yt(qn(ot(),r),"LLL",e)}function kB(r,e){return yt(nl(ot(),r),"QQQ",e)}function lr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return Nc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Qe(r,m):Qe(r,m.date)})||l&&l.some(function(m){var y=m.start,_=m.end;return uc(r,{start:y,end:_})})||c&&!c.some(function(m){return Qe(r,m)})||d&&!d.some(function(m){var y=m.start,_=m.end;return uc(r,{start:y,end:_})})||p&&!p(ot(r))||!1}function Q_(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return uc(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?Qe(r,o):Qe(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function hb(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Nc(r,{minDate:n?Ux(n):void 0,maxDate:i?jx(i):void 0})||(o==null?void 0:o.some(function(d){return vn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return vn(r,d)})||c&&!c(ot(r))||!1}function af(r,e,t,n){var i=Ue(r),o=wn(r),l=Ue(e),c=wn(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function CB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Nc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return vn(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return vn(c,r)})||!1}function lf(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Nc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return _h(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return _h(r,d)})||c&&!c(ot(r))||!1}function uf(r,e,t){if(!e||!t||!ah(e)||!ah(t))return!1;var n=Ue(e),i=Ue(t);return n<=r&&i>=r}function Nf(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return Nc(d,{minDate:n?op(n):void 0,maxDate:i?Bx(i):void 0})||(o==null?void 0:o.some(function(p){return ti(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return ti(d,p)})||c&&!c(ot(d))||!1}function cf(r,e,t,n){var i=Ue(r),o=$o(r),l=Ue(e),c=$o(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function Nc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&vl(r,i)<0||o&&vl(r,o)>0)!==null&&t!==void 0?t:!1}function MS(r,e){return e.some(function(t){return ci(t)===ci(r)&&di(t)===di(r)&&Bi(t)===Bi(r)})}function OS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&MS(r,n)||i&&!MS(r,i)||o&&!o(r)||!1}function LS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=ot();i=If(i,ci(r)),i=Df(i,di(r)),i=Rf(i,Bi(r));var o=ot();o=If(o,ci(t)),o=Df(o,di(t)),o=Rf(o,Bi(t));var l=ot();l=If(l,ci(n)),l=Df(l,di(n)),l=Rf(l,Bi(n));var c;try{c=!uc(i,{start:o,end:l})}catch{c=!1}return c}function FS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Wo(r,1);return n&&lh(n,o)>0||i&&i.every(function(l){return lh(l,o)>0})||!1}function VS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Mr(r,1);return n&&lh(o,n)>0||i&&i.every(function(l){return lh(o,l)>0})||!1}function xB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=op(r),l=Jx(o);return n&&uh(n,l)>0||i&&i.every(function(c){return uh(c,l)>0})||!1}function bB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Bx(r),l=F_(o,1);return n&&uh(l,n)>0||i&&i.every(function(c){return uh(l,c)>0})||!1}function jS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=wl(r,1);return n&&ch(n,o)>0||i&&i.every(function(l){return ch(l,o)>0})||!1}function IB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Ac:i,l=Wu(wl(r,o)),c=As(l,o).endPeriod,d=n&&Ue(n);return d&&d>c||!1}function US(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=ji(r,1);return n&&ch(o,n)>0||i&&i.every(function(l){return ch(o,l)>0})||!1}function DB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Ac:i,l=ji(r,o),c=As(l,o).startPeriod,d=n&&Ue(n);return d&&d<c||!1}function pb(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return vl(i,e)>=0});return pS(n)}else return t?pS(t):e}function mb(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return vl(i,e)<=0});return hS(n)}else return t?hS(t):e}function BS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Ui(l)){var c=yt(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var _=0,T=y.length;_<T;_++){var k=y[_];if(k){var c=yt(k,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function RB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function PB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Ui(i)){var l=yt(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&RB(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?si(si([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function AB(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,p=i[c];p&&(d=YV(d,ci(p)),d=hy(d,di(p)),d=GV(d,Bi(p)));var m=hy(r,(t+1)*n);zs(d,e)&&Zo(d,m)&&p!=null&&l.push(p)}return l}function $S(r){return r<10?"0".concat(r):"".concat(r)}function As(r,e){e===void 0&&(e=Ac);var t=Math.ceil(Ue(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function NB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function WS(r){var e=r.getSeconds(),t=r.getMilliseconds();return me(r.getTime()-e*1e3-t)}function MB(r,e){return WS(r).getTime()===WS(e).getTime()}function HS(r){if(!Ui(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function zS(r,e){if(!Ui(r)||!Ui(e))throw new Error("Invalid date received");var t=HS(r),n=HS(e);return Zo(t,n)}function gb(r){return r.key===fe.Space}var OB=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),p=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),y=m[0],_=m[1];p.setHours(Number(y)),p.setMinutes(Number(_))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?C.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(C.Component),LB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=C.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Q_(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Vs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Vs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=yt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=yt(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Hu(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,y=i.endDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!_||!p&&t.isDisabled()?!1:l&&y&&(Zo(_,y)||jo(_,y))?Hu(o,_,y):c&&m&&(zs(_,m)||jo(_,m))||d&&m&&!y&&(zs(_,m)||jo(_,m))?Hu(o,m,_):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(o,d):Qe(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Qe(o,p):Qe(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(l,i)},t.isWeekend=function(){var n=zj(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===wn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(wn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ot())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return tn("react-datepicker__day",i,"react-datepicker__day--"+_B(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(yt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=yt(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(c==null?void 0:c.filter(function(m){return m instanceof Date?Qe(m,i):Qe(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(ES(t.props.day),t.props.day):ES(t.props.day)},t.render=function(){return ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(C.Component),FB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=C.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:tn(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(C.Component),VB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,p=new Date(n),m=0;m<7;m++){var y=new Date(n);y.setDate(y.getDate()+m);var _=!t.isDisabled(y);if(_){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):yB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Rr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Rr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(ee.createElement(FB,Xe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Rr(n,c);return ee.createElement(LB,Xe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Vs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:tn(t)},this.renderDays())},e}(C.Component),Mu,jB=6,ul={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Cg=(Mu={},Mu[ul.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Mu[ul.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Mu[ul.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Mu),df=1;function qS(r,e){return r?ul.FOUR_COLUMNS:e?ul.TWO_COLUMNS:ul.THREE_COLUMNS}var UB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=si([],Array(12),!0).map(function(){return C.createRef()}),t.QUARTER_REFS=si([],Array(4),!0).map(function(){return C.createRef()}),t.isDisabled=function(n){return lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Q_(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:vn(qn(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:_h(nl(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:vn(qn(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:_h(nl(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?af(_,y,n,l):d&&m||p&&m&&!y?af(m,_,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,p=qn(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?vn(p,m):vn(p,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=qn(l,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?vn(m,y):vn(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?cf(_,y,n,l):d&&m||p&&m&&!y?cf(m,_,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Rr(n,6);return vn(n,i)||vn(o,i)},t.isCurrentMonth=function(n,i){return Ue(n)===Ue(ot())&&i===wn(ot())},t.isCurrentQuarter=function(n,i){return Ue(n)===Ue(ot())&&i===$o(ot())},t.isSelectedMonth=function(n,i,o){return wn(o)===i&&Ue(n)===Ue(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return $o(n)===i&&Ue(n)===Ue(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=Vs($i(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(k){return t.props.showWeekPicker?Vs(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(k){return t.props.showWeekPicker?Vs(k,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ee.createElement(VB,Xe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:wn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=oh(c,1);var _=i&&o>=jB,T=!i&&!t.isWeekInMonth(c);if(_||T)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick($i(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter($i(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,p=c.preSelection,m=c.setPreSelection,y=c.minDate,_=c.maxDate,T=c.showFourColumnMonthYearPicker,k=c.showTwoColumnMonthYearPicker;if(p){var I=qS(T,k),b=t.getVerticalOffset(I),N=(l=Cg[I])===null||l===void 0?void 0:l.grid,F=function(A,D,P){var O,V,U=D,M=P;switch(A){case fe.ArrowRight:U=Mr(D,df),M=P===11?0:P+df;break;case fe.ArrowLeft:U=Wo(D,df),M=P===0?11:P-df;break;case fe.ArrowUp:U=Wo(D,b),M=!((O=N==null?void 0:N[0])===null||O===void 0)&&O.includes(P)?P+12-b:P-b;break;case fe.ArrowDown:U=Mr(D,b),M=!((V=N==null?void 0:N[N.length-1])===null||V===void 0)&&V.includes(P)?P-12+b:P+b;break}return{newCalculatedDate:U,newCalculatedMonth:M}},j=function(A,D,P){for(var O=40,V=A,U=!1,M=0,ke=F(V,D,P),De=ke.newCalculatedDate,he=ke.newCalculatedMonth;!U;){if(M>=O){De=D,he=P;break}if(y&&De<y){V=fe.ArrowRight;var de=F(V,De,he);De=de.newCalculatedDate,he=de.newCalculatedMonth}if(_&&De>_){V=fe.ArrowLeft;var de=F(V,De,he);De=de.newCalculatedDate,he=de.newCalculatedMonth}if(CB(De,t.props)){var de=F(V,De,he);De=de.newCalculatedDate,he=de.newCalculatedMonth}else U=!0;M++}return{newCalculatedDate:De,newCalculatedMonth:he}};if(i===fe.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var q=j(i,p,o),J=q.newCalculatedDate,Z=q.newCalculatedMonth;switch(i){case fe.ArrowRight:case fe.ArrowLeft:case fe.ArrowUp:case fe.ArrowDown:t.handleMonthNavigation(Z,J);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=Cg[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==fe.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=nl(t.props.day,i);lf(o,t.props)||t.handleDayClick(PS(o),n)},t.onQuarterMouseEnter=function(n){var i=nl(t.props.day,n);lf(i,t.props)||t.handleDayMouseEnter(PS(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case fe.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case fe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,F_(t.props.preSelection,1));break;case fe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,Jx(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=qn(l,n);return{isDisabled:(i=(c||d||p||m)&&hb(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(qn(o,n)):void 0,y=t.getSelection();return tn("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(o,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?af(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=wn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=$o(t.props.preSelection),o=lf(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,p=i.day,m=i.locale,y=qn(p,n),_=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(_," ").concat(yt(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,y=i.excludeDates,_=i.includeDates,T=i.filterDate,k=i.preSelection,I=i.disabledKeyboardNavigation,b=(p||m||y||_||T)&&lf(nl(o,n),t.props);return tn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!I&&k&&t.isSelectedQuarter(o,n,k)&&!b,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?cf(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,p=fb(n,c),m=K_(n,c);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=kB(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,p=(n=Cg[qS(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,y){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(_,T){return ee.createElement("div",{ref:t.MONTH_REFS[_],key:T,onClick:function(k){t.onMonthClick(k,_)},onKeyDown:function(k){gb(k)&&(k.preventDefault(),k.key=fe.Enter),t.onMonthKeyDown(k,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(c,_)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,_,d):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return ee.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,c)},onKeyDown:function(p){t.onQuarterKeyDown(p,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return tn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(yt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(C.Component),BB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ee.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ee.createElement(dp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),$B=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return ee.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ee.createElement(BB,Xe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return fb(o,t.props.locale)}:function(o){return K_(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(C.Component);function WB(r,e){for(var t=[],n=$i(r),i=$i(e);!zs(n,i);)t.push(ot(n)),n=Mr(n,1);return t}var HB=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=gy(i),l=ti(n.props.date,i)&&vn(n.props.date,i);return ee.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:WB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=tn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(dp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),zB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=$i(t.props.minDate),i=$i(t.props.maxDate),o=[];!zs(n,i);){var l=gy(n);o.push(ee.createElement("option",{key:l,value:l},yt(n,t.props.dateFormat,t.props.locale))),n=Mr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:gy($i(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=yt(t.props.date,t.props.dateFormat,t.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ee.createElement(HB,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=ot(n);ti(t.props.date,i)&&vn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(C.Component),qB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&LS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&OS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&MB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&LS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&OS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ci(n)*3600+di(n)*60+Bi(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(n.key===fe.ArrowUp||n.key===fe.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===fe.ArrowDown||n.key===fe.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===fe.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ot(),d=Af(c),p=t.props.injectTimes&&t.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),m=60*NB(c),y=m/l,_=0;_<y;_++){var T=hy(d,_*l);if(i.push(T),p){var k=AB(d,T,_,l,p);i=i.concat(k)}}var I=i.reduce(function(b,N){return N.getTime()<=c.getTime()?N:b},i[0]);return i.map(function(b){return ee.createElement("li",{key:b.valueOf(),onClick:t.handleClick.bind(t,b),className:t.liClasses(b),ref:function(N){b===I&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,b)},tabIndex:b===I?0:-1,role:"option","aria-selected":t.isSelectedTime(b)?"true":void 0,"aria-disabled":t.isDisabledTime(b)?"true":void 0},yt(b,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(C.Component),YS=3,YB=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=si([],Array(n.props.yearItemNumber),!0).map(function(){return C.createRef()}),n.isDisabled=function(i){return lr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Q_(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,p,m=n.props,y=m.date,_=m.yearItemNumber;if(!(y===void 0||_===void 0)){var T=As(y,_).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-T<0?n.updateFocusOnPaginate(_-(T-i)):i-T>=_?n.updateFocusOnPaginate(Math.abs(_-(i-T))):(p=(d=n.YEAR_REFS[i-T])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return Qe(i,o)},n.isCurrentYear=function(i){return i===Ue(ot())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.endDate)},n.isInRange=function(i){return uf(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?uf(i,n.selectingDate(),m):c&&p||d&&p&&!m?uf(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,p=ei(ot(),i);return d?ti(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(p,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=ei(ot(),i);return d||p?ti(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,y=Wu(ei(n.props.date,i)),_=(l||c||d||p||m)&&Nf(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(y,Wu(n.props.selected))&&Qe(y,Wu(n.props.preSelection))&&!_}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Wu(ei(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,p=n.props,m=p.date,y=p.yearItemNumber,_=p.handleOnKeyDown;if(d!==fe.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case fe.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case fe.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ji(n.props.preSelection,1));break;case fe.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,wl(n.props.preSelection,1));break;case fe.ArrowUp:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var T=As(m,y).startPeriod,k=YS,I=o-k;if(I<T){var b=y%k;o>=T&&o<T+b?k=b:k+=b,I=o-k}n.handleYearNavigation(I,wl(n.props.preSelection,k));break}case fe.ArrowDown:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var N=As(m,y).endPeriod,k=YS,I=o+k;if(I>N){var b=y%k;o<=N&&o>N-b?k=b:k+=b,I=o+k}n.handleYearNavigation(I,ji(n.props.preSelection,k));break}}_&&_(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,p=o.selected,m=o.excludeDates,y=o.includeDates,_=o.filterDate,T=o.yearClassName;return tn("react-datepicker__year-text","react-datepicker__year-".concat(i),l?T==null?void 0:T(ei(l,i)):void 0,{"react-datepicker__year-text--selected":p?i===Ue(p):void 0,"react-datepicker__year-text--disabled":(c||d||m||y||_)&&Nf(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Ue(n.props.preSelection),l=Nf(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=As(o,l),m=p.startPeriod,y=p.endPeriod,_=function(I){n.push(ee.createElement("div",{ref:T.YEAR_REFS[I-m],onClick:function(b){t.onYearClick(b,I)},onKeyDown:function(b){gb(b)&&(b.preventDefault(),b.key=fe.Enter),t.onYearKeyDown(b,I)},tabIndex:Number(T.getYearTabIndex(I)),className:T.getYearClassNames(I),onMouseEnter:T.props.usePointerEvent?void 0:function(b){return c(b,I)},onPointerEnter:T.props.usePointerEvent?function(b){return c(b,I)}:void 0,onMouseLeave:T.props.usePointerEvent?void 0:function(b){return d(b,I)},onPointerLeave:T.props.usePointerEvent?function(b){return d(b,I)}:void 0,key:I,"aria-current":T.isCurrentYear(I)?"date":void 0},T.getYearContent(I)))},T=this,k=m;k<=y;k++)_(k);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(C.Component);function KB(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=Ue(t)<=l),n&&c&&(c=Ue(n)>=l),c&&i.push(l)}return i}var QB=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(y){return ee.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?ee.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),p=n.props.minDate?Ue(n.props.minDate):null,m=n.props.maxDate?Ue(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(y){return y===m}))&&d.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(y){return y===p}))&&d.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(p){return p+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:KB(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=C.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=tn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(dp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),GB=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ue(t.props.minDate):1900,i=t.props.maxDate?Ue(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(ee.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ee.createElement(QB,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(C.Component),XB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],JB=function(r){var e=(r.className||"").split(/\s+/);return XB.some(function(t){return e.indexOf(t)>=0})},ZB=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;JB(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=pb(n.props),p=mb(n.props),m=ot(),y=c||l||o;return y||(d&&Zo(m,d)?d:p&&zs(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Mr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Wo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ei(ot(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!lr(i,n.props))return i;for(var o=$i(i),l=wB(i),c=JV(l,o),d=null,p=0;p<=c;p++){var m=Rr(o,p);if(!lr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:qn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(qn(l,wn(i)),Ue(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Vs(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Rr(o,c),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ee.createElement("div",{key:c,"aria-label":yt(d,"EEEE",n.props.locale),className:tn("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?EB(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?SB(i,o):TB(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:wl(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=Wo(n.state.date,p),y;switch(!0){case n.props.showMonthYearPicker:y=jS(n.state.date,n.props);break;case n.props.showYearPicker:y=IB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=xB(n.state.date,n.props);break;default:y=FS(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],T=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(T.push("react-datepicker__navigation--previous--disabled"),k=void 0);var I=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,N=b.previousMonthButtonLabel,F=N===void 0?e.defaultProps.previousMonthButtonLabel:N,j=b.previousYearButtonLabel,q=j===void 0?e.defaultProps.previousYearButtonLabel:j,J=n.props,Z=J.previousMonthAriaLabel,A=Z===void 0?typeof F=="string"?F:"Previous Month":Z,D=J.previousYearAriaLabel,P=D===void 0?typeof q=="string"?q:"Previous Year":D;return ee.createElement("button",{type:"button",className:T.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":I?P:A},ee.createElement("span",{className:_.join(" ")},I?q:F))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:ji(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=US(n.state.date,n.props);break;case n.props.showYearPicker:o=DB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=bB(n.state.date,n.props);break;default:o=VS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,y=m.nextMonthButtonLabel,_=y===void 0?e.defaultProps.nextMonthButtonLabel:y,T=m.nextYearButtonLabel,k=T===void 0?e.defaultProps.nextYearButtonLabel:T,I=n.props,b=I.nextMonthAriaLabel,N=b===void 0?typeof _=="string"?_:"Next Month":b,F=I.nextYearAriaLabel,j=F===void 0?typeof k=="string"?k:"Next Year":F;return ee.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?j:N},ee.createElement("span",{className:c.join(" ")},p?k:_))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},yt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ee.createElement(GB,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ue(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ee.createElement($B,Xe({},e.defaultProps,n.props,{month:wn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ee.createElement(zB,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(AS(),i),n.props.setPreSelection&&n.props.setPreSelection(AS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=FS(n.state.date,n.props),m=VS(n.state.date,n.props),y=jS(n.state.date,n.props),_=US(n.state.date,n.props),T=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Xe(Xe({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:y,nextYearButtonDisabled:_})),T&&ee.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=As(o,p),y=m.startPeriod,_=m.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(_):Ue(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(n.state.date,d):Wo(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,y=0;y<c;++y){var _=y-m+d,T=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(p,_):Mr(p,_),k="month-".concat(y),I=y<c-1,b=y>0;l.push(ee.createElement("div",{key:k,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:T,i:y}),ee.createElement(UB,Xe({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:T,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:I,monthShowsDuplicateDaysStart:b}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(YB,Xe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(qB,Xe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Pi(i)&&!!n.props.selected,l=o?"".concat($S(i.getHours()),":").concat($S(i.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(OB,Xe({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=As(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Ue(n.state.date):d="".concat(K_(wn(n.state.date),n.props.locale)," ").concat(Ue(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=C.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ac}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!vn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||fB;return ee.createElement(dp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement(t,{className:tn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(C.Component),e3=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):ee.isValidElement(e)?ee.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):ee.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},yb=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Mo.createPortal(this.props.children,this.el)},e}(C.Component),t3="[tabindex], a, button, input, select, textarea",n3=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},_b=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(t3),1,-1).filter(n3)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=C.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(C.Component);function r3(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=C.useRef(null),l=dB(Xe({open:!i,whileElementsMounted:W4,placement:t.popperPlacement,middleware:si([G4({padding:15}),Q4(10),X4({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Xe(Xe({},t),{hidePopper:i,popperProps:Xe(Xe({},l),{arrowRef:o})});return ee.createElement(r,Xe({},c))};return e}var i3=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,y=t.portalId,_=t.portalHost,T=t.popperProps,k=t.showArrow,I=void 0;if(!l){var b=tn("react-datepicker-popper",n);I=ee.createElement(_b,{enableTabLoop:p},ee.createElement("div",{ref:T.refs.setFloating,style:T.floatingStyles,className:b,"data-placement":T.placement,onKeyDown:m},c,k&&ee.createElement(iB,{ref:T.arrowRef,context:T.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=C.createElement(this.props.popperContainer,{},I)),y&&!l&&(I=ee.createElement(yb,{portalId:y,portalHost:_},I));var N=tn("react-datepicker-wrapper",i);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:T.refs.setReference,className:N},d),I)},e}(C.Component),s3=r3(i3),KS="react-datepicker-ignore-onclickoutside";function o3(r,e){return r&&e?wn(r)!==wn(e)||Ue(r)!==Ue(e):r!==e}var xg="Date input not valid.",vb=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Pi(c)?si(si([],o,!0),[Xe(Xe({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=pb(n.props),c=mb(n.props),d=l&&Zo(o,Af(l))?l:c&&zs(o,NS(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:BS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:bg},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ui(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:a3});var p=n.props,m=p.dateFormat,y=m===void 0?e.defaultProps.dateFormat:m,_=p.strictParsing,T=_===void 0?e.defaultProps.strictParsing:_,k=p.selectsRange,I=p.startDate,b=p.endDate,N=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(k){var F=N.split("-",2).map(function(O){return O.trim()}),j=F[0],q=F[1],J=Sg(j??"",y,n.props.locale,T),Z=Sg(q??"",y,n.props.locale,T),A=(I==null?void 0:I.getTime())!==(J==null?void 0:J.getTime()),D=(b==null?void 0:b.getTime())!==(Z==null?void 0:Z.getTime());if(!A&&!D||J&&lr(J,n.props)||Z&&lr(Z,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[J,Z],d)}else{var P=Sg(N,y,n.props.locale,T,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&P&&!Qe(P,n.props.selected)&&(P=c4(n.props.selected,{hours:ci(P),minutes:di(P),seconds:Bi(P)})),(P||!N)&&n.setSelected(P,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,p=c.endDate;d&&!p&&(n.props.swapRange||!zS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&Nf(Ue(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&hb(m,n.props))return}else if(m!==null&&lr(m,n.props))return;var y=n.props,_=y.onChange,T=y.selectsRange,k=y.startDate,I=y.endDate,b=y.selectsMultiple,N=y.selectedDates,F=y.minTime,j=y.swapRange;if(!jo(n.props.selected,m)||n.props.allowSameDay||T||b)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=kg(m,{hour:ci(n.props.selected),minute:di(n.props.selected),second:Bi(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&F&&(m=kg(m,{hour:F.getHours(),minute:F.getMinutes(),second:F.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),T){var q=!k&&!I,J=k&&!I,Z=k&&I;q?_==null||_([m,null],o):J&&(m===null?_==null||_([null,null],o):zS(m,k)?j?_==null||_([m,k],o):_==null||_([m,null],o):_==null||_([k,m],o)),Z&&(_==null||_([m,null],o))}else if(b){if(m!==null)if(!(N!=null&&N.length))_==null||_([m],o);else{var A=N.some(function(P){return Qe(P,m)});if(A){var D=N.filter(function(P){return!Qe(P,m)});_==null||_(D,o)}else _==null||_(si(si([],N,!0),[m],!1),o)}}else _==null||_(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Ui(n.props.minDate),l=Ui(n.props.maxDate),c=!0;if(i){var d=Af(i);if(o&&l)c=Hu(i,n.props.minDate,n.props.maxDate);else if(o){var p=Af(n.props.minDate);c=zs(i,p)||jo(d,p)}else if(l){var m=NS(n.props.maxDate);c=Zo(i,m)||jo(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:kg(c,{hour:ci(i),minute:di(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===fe.ArrowDown||y===fe.ArrowUp||y===fe.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===fe.ArrowDown||y===fe.ArrowUp){i.preventDefault();var _=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',T=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(_);T instanceof HTMLElement&&T.focus({preventScroll:!0});return}var k=ot(n.state.preSelection);y===fe.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===bg?(n.handleSelect(k,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):y===fe.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===fe.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:xg})}},n.onPortalKeyDown=function(i){var o=i.key;o===fe.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,p,m,y=n.props,_=y.minDate,T=y.maxDate,k=y.disabledKeyboardNavigation,I=y.showWeekPicker,b=y.shouldCloseOnSelect,N=y.locale,F=y.calendarStartDay,j=y.adjustDateOnChange,q=y.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!k){var J=i.key,Z=i.shiftKey,A=ot(n.state.preSelection),D=function(De,he){var de=he;switch(De){case fe.ArrowRight:de=I?oh(he,1):Rr(he,1);break;case fe.ArrowLeft:de=I?TS(he):YU(he);break;case fe.ArrowUp:de=TS(he);break;case fe.ArrowDown:de=oh(he,1);break;case fe.PageUp:de=Z?wl(he,1):Wo(he,1);break;case fe.PageDown:de=Z?ji(he,1):Mr(he,1);break;case fe.Home:de=Vs(he,N,F);break;case fe.End:de=vB(he);break}return de},P=function(De,he){for(var de=40,G=De,ce=!1,le=0,W=D(De,he);!ce;){if(le>=de){W=he;break}_&&W<_&&(G=fe.ArrowRight,W=lr(_,n.props)?D(G,W):_),T&&W>T&&(G=fe.ArrowLeft,W=lr(T,n.props)?D(G,W):T),lr(W,n.props)?((G===fe.PageUp||G===fe.Home)&&(G=fe.ArrowRight),(G===fe.PageDown||G===fe.End)&&(G=fe.ArrowLeft),W=D(G,W)):ce=!0,le++}return W};if(J===fe.Enter){i.preventDefault(),n.handleSelect(A,i),!b&&n.setPreSelection(A);return}else if(J===fe.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:xg});return}var O=null;switch(J){case fe.ArrowLeft:case fe.ArrowRight:case fe.ArrowUp:case fe.ArrowDown:case fe.PageUp:case fe.PageDown:case fe.Home:case fe.End:O=P(J,A);break}if(!O){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:xg});return}if(i.preventDefault(),n.setState({lastPreSelectChange:bg}),j&&n.setSelected(O),n.setPreSelection(O),q){var V=wn(A),U=wn(O),M=Ue(A),ke=Ue(O);V!==U||M!==ke?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===fe.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(ZB,Xe({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:PB(n.modifyHolidays()),outsideClickIgnoreClass:KS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(ar(n.props.startDate,{dateFormat:p,locale:c}),". ").concat(n.props.endDate?"End date: "+ar(n.props.endDate,{dateFormat:p,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(ar(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(ar(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(ar(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(ar(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(ar(n.props.selected,{dateFormat:p,locale:c})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=tn(n.props.className,(i={},i[KS]=n.state.open,i)),d=n.props.customInput||ee.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,y=m.dateFormat,_=y===void 0?e.defaultProps.dateFormat:y,T=m.locale,k=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?mB(n.props.startDate,n.props.endDate,{dateFormat:_,locale:T}):n.props.selectsMultiple?gB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:_,locale:T}):ar(n.props.selected,{dateFormat:_,locale:T});return C.cloneElement(d,(o={},o[p]=function(I){n.input=I},o.value=k,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=tn(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,y=i.clearButtonClassName,_=y===void 0?"":y,T=i.ariaLabelClose,k=T===void 0?"Close":T,I=i.selectedDates;return o&&(c!=null||d!=null||p!=null||I!=null&&I.length)?ee.createElement("button",{type:"button",className:tn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":k,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ac,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&o3(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BS(this.props.highlightDates)}),!n.focused&&!jo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(e3,Xe({icon:i,className:tn(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ee.createElement(_b,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(yb,Xe({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(s3,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(C.Component),a3="input",bg="navigate";const l3=r=>{const e=["th","st","nd","rd"],t=r%10,n=t>=1&&t<=3&&Math.floor(r/10)!==1?e[t]:e[0];return`${r}${n}`},QS=r=>{const[e,t,n]=r.split("T")[0].split("-"),i=l3(Number(n)),o=new Date(`${e}-${t}`).toLocaleString("en-GB",{month:"long"});return{formattedDay:i,monthName:o,year:e}},wb=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{formattedDay:t,monthName:n,year:i}=QS(r),{formattedDay:o,monthName:l,year:c}=QS(e);let d=`From the ${t}`;return n===l&&i===c?d+=` to the ${o} of ${n} of ${i}`:i===c?d+=` of ${n} to the ${o} of ${l} of ${i}`:d+=` of ${n} of ${i} to the ${o} of ${l} of ${c}`,d},GS=r=>{const[e,t,n]=r.split("T")[0].split("-");return{day:n,month:t,year:e}},u3=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{day:t,month:n,year:i}=GS(r),{day:o,month:l,year:c}=GS(e);return`(${t}/${n}/${i} - ${o}/${l}/${c})`},c3=r=>{const e=r instanceof Ft?new Date(r.seconds*1e3):new Date(r);return`${e.toLocaleTimeString("en-GB")} on the ${e.toLocaleDateString("en-GB")}`},d3=({exhibitions:r,selectedExhibitionId:e,setSelectedExhibitionId:t,newExhibitionName:n,setNewExhibitionName:i,newExhibitionStartDate:o,newExhibitionEndDate:l,handleDateChange:c,handleSubmit:d,loading:p,setIsFormVisible:m,successMessage:y})=>{const _=!!e,T=()=>{if(!_){if(!n.trim())return alert("Exhibition name is required."),!1;if(!o||!l)return alert("Both start and end dates are required."),!1;if(o>l)return alert("Start date must be before the end date."),!1}return!0},k=I=>{I.preventDefault(),T()&&d(I)};return S.jsxs("form",{onSubmit:k,className:"mt-4 p-4 rounded shadow-sm",style:{background:"rgba(204, 173, 227, 0.84)"},children:[y&&S.jsx("div",{className:"alert alert-success",role:"alert",children:y}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"existingExhibition",className:"form-label fw-bold",children:"Select one of your exhibitions:"}),S.jsxs("select",{id:"existingExhibition",className:"form-select",onChange:I=>t(I.target.value),value:e||"","aria-label":"Select one of your exhibitions",children:[S.jsx("option",{value:"",children:"Select an exhibition"}),r.map(I=>S.jsxs("option",{value:I.id,children:[I.name," ",u3(I.startDate,I.endDate)]},I.id))]})]}),S.jsxs("fieldset",{disabled:_,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"newExhibitionName",className:"form-label fw-bold",children:"Create a new exhibition:"}),S.jsx("input",{type:"text",id:"newExhibitionName",className:"form-control",placeholder:"Exhibition name",value:n,onChange:I=>i(I.target.value),required:!_,"aria-required":!_})]}),S.jsx("div",{className:"mb-4",children:S.jsx(vb,{selected:o,onChange:c,startDate:o,endDate:l,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates",required:!_})})]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{type:"submit",className:"btn btn-success",disabled:p,children:p?"Submitting...":"Add"}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),"aria-label":"Cancel and close form",children:"Cancel"})]})]})},f3=({artwork:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,loading:i}=S_(),[o,l]=C.useState(!1),[c,d]=C.useState(null),[p,m]=C.useState(""),[y,_]=C.useState(null),[T,k]=C.useState(null),[I,b]=C.useState(null),[N,F]=C.useState(null),[j,q]=C.useState(!1),J=()=>{l(!0),F(null)},Z=(P,O)=>(console.error("Firestore Error:",P),P.message||O),A=async P=>{P.preventDefault(),b(null);const O=Fo.currentUser;if(!O){b("User is not authenticated.");return}try{if(c)await n(c,r);else if(p&&y&&T){const V=new Date(y).toISOString(),U=new Date(T).toISOString(),M={name:p,startDate:V,endDate:U,artworks:[r],userId:O.uid,createdAt:new Date};await t(M)}else{b("Please fill in all the required fields.");return}l(!1),m(""),_(null),k(null),d(null),F("Artwork added to the exhibition successfully!"),setTimeout(()=>F(null),5e3)}catch(V){const U=Z(V,"An unexpected error occurred. Please try again.");b(U)}},D=P=>{const[O,V]=P;_(O),k(V)};return S.jsxs("div",{children:[I&&S.jsx("div",{className:"alert alert-danger",children:I}),S.jsxs(qo,{to:`/artwork/${r.id}`,className:"text-decoration-none text-reset d-block h-100",style:{textDecoration:"none"},children:[S.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:r.title}),r.imageUrl&&S.jsx("img",{src:r.imageUrl,alt:`Artwork titled "${r.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),S.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",S.jsx("strong",{children:r.artist_title})," in ",r.date]}),S.jsx("p",{className:"mb-2",children:r.medium_display})]}),S.jsx("button",{onClick:J,onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),className:"btn",style:{backgroundColor:j?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)",color:"white",border:"none",transition:"background-color 0.3s ease"},children:"Add to an Exhibition"}),o&&S.jsx(d3,{exhibitions:e,selectedExhibitionId:c,setSelectedExhibitionId:d,newExhibitionName:p,setNewExhibitionName:m,newExhibitionStartDate:y,newExhibitionEndDate:T,handleDateChange:D,handleSubmit:A,loading:i,setIsFormVisible:l,successMessage:N}),I&&S.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:I}),!I&&N&&S.jsx("div",{className:"alert alert-success mt-3",role:"alert",style:{maxWidth:"400px",margin:"0 auto"},children:N})]})},h3=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},i=()=>{r<e&&t(r+1)},o=()=>t(1),l=()=>t(e),c=()=>{const d=[];for(let p=Math.max(1,r-1);p<=Math.min(e,r+1);p++)d.push(S.jsx("li",{className:`page-item ${p===r?"active":""}`,children:S.jsx("button",{className:"page-link",onClick:()=>t(p),disabled:p===r,children:p})},p));return d};return S.jsx("nav",{"aria-label":"Pagination",className:"my-4",children:S.jsxs("ul",{className:"pagination justify-content-center",children:[S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:o,disabled:r===1,children:"First"})}),S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:n,disabled:r===1,children:" Previous"})}),c(),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:i,disabled:r===e,children:"Next "})}),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:l,disabled:r===e,children:"Last"})})]})})},p3=({artworks:r,sortOption:e,sortDirection:t})=>{const[n,i]=C.useState(1),o=10,l=[...r].sort((y,_)=>e==="artist"?t.artist==="asc"?y.artist_title.localeCompare(_.artist_title):_.artist_title.localeCompare(y.artist_title):e==="title"?t.title==="asc"?y.title.localeCompare(_.title):_.title.localeCompare(y.title):e==="date"?t.date==="asc"?new Date(y.date).getTime()-new Date(_.date).getTime():new Date(_.date).getTime()-new Date(y.date).getTime():0),c=n*o,d=c-o,p=l.slice(d,c),m=Math.ceil(r.length/o);return S.jsxs("div",{className:"container my-4",children:[p.length>0?S.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:p.map(y=>S.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.transform="scale(1.03)"},onMouseLeave:_=>{_.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${y.title}`,tabIndex:0,onKeyDown:_=>{_.key==="Enter"&&(window.location.href=`/artwork/${y.id}`)},children:S.jsx(f3,{artwork:y})},y.id))}):S.jsx("p",{children:"Start your search here "}),m>1&&S.jsxs(S.Fragment,{children:[S.jsx(h3,{currentPage:n,totalPages:m,onPageChange:i}),S.jsx("div",{className:"text-center mt-2",children:S.jsxs("small",{className:"text-muted",children:["Page ",n," of ",m]})})]})]})},m3=()=>{const{museumName:r}=ky(),{query:e,setQuery:t}=Dy(),{type:n,setType:i}=mk(),{setSelectedMuseum:o}=Th(),[l,c]=C.useState(""),[d,p]=C.useState("artist"),[m,y]=C.useState({artist:"asc",title:"asc",date:"asc"});C.useEffect(()=>{c({met:"The Metropolitan Museum of Art",chicago:"The Art Institute of Chicago"}[r||""]||"No museum selected")},[r]);const{artworks:_,loading:T,error:k,setArtworks:I}=WV(r||"",e,n);return C.useEffect(()=>{r&&(t(""),i("artist"),I([]),o(r))},[t,i,I,o,r]),S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-5 fs-1 py-5",children:l}),S.jsx(HV,{sortOption:d,setSortOption:p,sortDirection:m,setSortDirection:y}),T&&S.jsx("div",{className:"text-center mt-3",children:"Loading..."}),k&&S.jsxs("div",{className:"alert alert-danger mt-3",children:["Error: ",k]}),S.jsx(p3,{artworks:_,sortOption:d,sortDirection:m})]})},g3=()=>{const{exhibitions:r,loading:e}=S_(),t=hc();return C.useEffect(()=>{Fo.currentUser||t("/login")},[t]),e?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center fs-1 mb-4",children:"Exhibitions"}),r.length>0?S.jsx("div",{className:"row g-4",children:r.map(n=>S.jsx("div",{className:"col-md-6 col-lg-4",children:S.jsx(qo,{to:`/exhibition/${n.id}`,className:"btn btn-outline-secondary mt-3","aria-label":`Manage exhibition ${n.name}`,children:S.jsx("div",{className:"card h-100 shadow-sm",children:S.jsxs("div",{className:"card-body d-flex flex-column",children:[S.jsx("h2",{className:"card-title text-decoration-underline text-center py-3 fs-2",children:n.name}),S.jsx("p",{className:"card-text text-center text-muted",children:wb(n.startDate,n.endDate)}),S.jsx("img",{src:n.image,alt:`Exhibition titled "${n.name}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),S.jsxs("ul",{className:"list-group list-group-flush",children:[S.jsx("h5",{className:"text-decoration-underline",children:"What you will be seeing:"}),n.artworks.map(i=>S.jsx("li",{className:"list-group-item justify-content-between mb-3",children:S.jsx("div",{children:S.jsxs("span",{className:"ms-2 d-block",children:['"',i.title,'" by ',S.jsx("i",{children:i.artist_title})]})})},i.id))]}),S.jsxs("p",{className:"card-text text-center text-muted",children:["Created at ",c3(n.createdAt)]})]})})})},n.id))}):S.jsx("p",{className:"text-center",children:"No exhibitions found."})]})},y3=()=>{const{login:r,loading:e}=bc(),[t,n]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(null),d=m=>{switch(m.code){case"auth/user-not-found":return{field:"email",message:"No user found with this email."};case"auth/wrong-password":return{field:"password",message:"Incorrect password. Please try again."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};case"auth/user-disabled":return{field:"form",message:"This user account has been disabled."};default:return{field:"form",message:"Failed to login. Please try again later."}}},p=async m=>{m.preventDefault(),c(null);try{await r(t,i)}catch(y){y instanceof Fr?c(d(y)):c({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to login:",y)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Login"}),l&&l.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:l.message}),S.jsxs("form",{onSubmit:p,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(l==null?void 0:l.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:m=>n(m.target.value),required:!0}),(l==null?void 0:l.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(l==null?void 0:l.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:m=>o(m.target.value),required:!0}),(l==null?void 0:l.field)==="password"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Logging in...":"Login"})]})]})})})},_3=()=>{const{register:r,loading:e}=bc(),[t,n]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(""),[d,p]=C.useState(""),[m,y]=C.useState(null),_=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),T=N=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(N),k=N=>/^[A-Za-z- ]+$/.test(N),I=N=>{switch(N.code){case"auth/email-already-in-use":return{field:"email",message:"This email is already in use. Please use a different email."};case"auth/weak-password":return{field:"password",message:"The password is too weak."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};default:return{field:"form",message:"Failed to register. Please try again later."}}},b=async N=>{if(N.preventDefault(),y(null),!l||!d){y({field:"name",message:"Please provide both first name and last name."});return}if(!k(l)||!k(d)){y({field:"name",message:"First name and last name can only contain letters, hyphens, and spaces."});return}if(!_(t)){y({field:"email",message:"Please enter a valid email address."});return}if(!T(i)){y({field:"password",message:"Password must include: <ul><li>At least 8 characters</li><li>One uppercase letter</li><li>One lowercase letter</li><li>One number</li></ul>"});return}try{await r(t,i,l,d)}catch(F){F instanceof Fr?y(I(F)):y({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to register:",F)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Register"}),m&&m.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:m.message}),S.jsxs("form",{onSubmit:b,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),S.jsx("input",{type:"text",id:"firstName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your first name",value:l,onChange:N=>c(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),S.jsx("input",{type:"text",id:"lastName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your last name",value:d,onChange:N=>p(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(m==null?void 0:m.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:N=>n(N.target.value),required:!0}),(m==null?void 0:m.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(m==null?void 0:m.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:N=>o(N.target.value),required:!0}),(m==null?void 0:m.field)==="password"&&S.jsx("div",{className:"invalid-feedback",dangerouslySetInnerHTML:{__html:m.message}})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Registering...":"Register"})]})]})})})},v3=()=>{const[r,e]=C.useState(!0);return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-sm-10 col-md-6 col-lg-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Welcome to ArtVoyage"}),S.jsxs("div",{className:"d-flex justify-content-center mb-4",role:"group","aria-label":"Login and Register options",children:[S.jsx("button",{className:`btn custom-btn ${r?"active-btn":"inactive-btn"} me-2`,onClick:()=>e(!0),"aria-pressed":r,children:"Login"}),S.jsx("button",{className:`btn custom-btn ${r?"inactive-btn":"active-btn"}`,onClick:()=>e(!1),"aria-pressed":!r,children:"Register"})]}),S.jsx("div",{className:"card authcard shadow",children:S.jsx("div",{className:"card-body",children:r?S.jsxs("div",{children:[S.jsx(y3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!1),role:"button","aria-label":"Go to Register form",children:"Register here."})]})]}):S.jsxs("div",{children:[S.jsx(_3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Already have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!0),role:"button","aria-label":"Go to Login form",children:"Login here."})]})]})})})]})})})},w3=async r=>{try{return(await ft.get("/.netlify/functions/fetchMetSingleArtworkDetails",{params:{id:r}})).data.map(i=>{const o=i.artistDisplayName||"an unknown Artist",l=i.artistNationality||"Unknown nationality",c=i.objectDate||"an undetermined time",d=i.medium||"an artistic medium",p=i.dimensions||"unknown dimensions",m=i.classification||"an extraordinary artwork",y=i.department||"an unspecified department",_=i.objectURL||"https://www.metmuseum.org/art/collection",T=i.creditLine||"an anonymous donor",k=i.period||"an unspecified period",I=i.geographyType||"a broad location",b=i.city||"an unknown city",N=i.country||"an unknown country",F=p.match(/\(([^)]+)\)/),j=F?F[1]:p,q=`<p>${i.title} is a ${m.toLowerCase()} by ${o} (${l}). Created in ${c}, this ${d} artwork measures approximately <i>${j}</i>. It is part of the ${y} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${k}</em>, and its geographical origins are linked to <em>${I}</em>, with specific ties to <em>${b}</em>, ${N}. The artwork is credited to ${T}. Learn more about this artwork <a href="${_}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:i.objectID,title:i.title,artist_title:i.artistDisplayName,artist_bio:i.artistDisplayBio,date:i.objectDate,medium_display:i.medium,imageUrl:i.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:i.objectURL,description:q}})}catch(e){throw e}},E3="https://www.artic.edu/iiif/2",T3=async r=>{try{const e=await ft.get("https://api.artic.edu/api/v1/artworks/"+r,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}});if(e.data&&e.data.data){const t=e.data.data,n=t.image_id?`${E3}/${t.image_id}/full/843,/0/default.jpg`:"",i=t.artist_display.match(/\(([^)]+)\)/),o=i?i[1]:null;return[{id:t.id,title:t.title,artist_title:t.artist_title,artist_bio:o,date:t.date_display,medium_display:t.medium_display,imageUrl:n||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:t.description}]}else throw console.error("Artwork not found."),new Error("Artwork not found.")}catch(e){throw ft.isAxiosError(e)?new Error(`Axios error fetching artwork from Chicago: ${e.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${e.message}`)}},S3=(r,e)=>{const[t,n]=C.useState(null),[i,o]=C.useState(!1),[l,c]=C.useState(null);return C.useEffect(()=>{if(!e){c("No artwork ID provided.");return}(async()=>{var p,m;o(!0),c(null);try{const y=r==="met"?await w3(e):await T3(e);n(y[0])}catch(y){c(((m=(p=y.response)==null?void 0:p.data)==null?void 0:m.error)||"Error fetching the artwork.")}finally{o(!1)}})()},[e,r]),{artwork:t,loading:i,error:l}},k3=()=>{const{selectedMuseum:r}=Th(),{id:e}=ky(),{artwork:t,loading:n,error:i}=S3(r,e);return S.jsxs("div",{className:"container my-5",children:[n&&S.jsx("div",{children:"Loading..."}),i&&S.jsxs("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:["Error fetching artwork: ",i]}),!n&&!i&&!t&&S.jsx("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:"Artwork not found. Please check the ID or return to the home page."}),t&&S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-lg-8",children:S.jsx("div",{className:"card shadow-lg rounded-3",children:S.jsxs("div",{className:"card-body",children:[S.jsx("div",{className:"artwork-image-container mb-4",children:S.jsx("img",{src:t.imageUrl,alt:`Artwork titled "${t.title}" by ${t.artist_title}`,className:"img-fluid rounded-3 shadow-lg"})}),S.jsx("h2",{className:"text-center mb-3",children:t.title}),S.jsxs("p",{className:"text-muted text-center",children:[S.jsx("strong",{children:t.artist_title}),t.artist_bio&&S.jsxs("span",{children:[" (",t.artist_bio,")"]})]}),S.jsxs("p",{className:"text-center text-muted",children:["Created in ",t.date]}),S.jsx("p",{className:"font-weight-bold",children:t.medium_display}),t.description&&S.jsx("div",{dangerouslySetInnerHTML:{__html:t.description}}),S.jsxs("div",{className:"text-center mt-4",children:[S.jsx("a",{href:t.objectUrl,className:"btn btn-outline-secondary btn-lg mx-2",target:"_blank",rel:"noopener noreferrer",children:"View on Source"}),S.jsx("button",{className:"btn btn-outline-primary btn-lg mx-2",onClick:()=>window.history.back(),children:"Go Back"})]})]})})})})]})},C3=({show:r,handleClose:e,handleDelete:t,entityType:n,entityId:i})=>{const o=n==="artwork"?"artwork":"exhibition";return S.jsxs(_n,{show:r,onHide:e,"aria-labelledby":"deleteModalLabel",children:[S.jsx(_n.Header,{closeButton:!0,children:S.jsxs(_n.Title,{id:"deleteModalLabel",children:["Confirm ",o.charAt(0).toUpperCase()+o.slice(1)," ","Deletion"]})}),S.jsx(_n.Body,{children:S.jsxs("p",{children:["Are you sure you want to delete this ",o,"?"]})}),S.jsxs(_n.Footer,{children:[S.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{className:"btn btn-danger",onClick:()=>{i&&t(i),e()},children:"Confirm"})]})]})},x3=({show:r,handleClose:e,handleEditExhibition:t,exhibition:n})=>{const[i,o]=C.useState(""),[l,c]=C.useState(null),[d,p]=C.useState(null),m=_=>{const[T,k]=_;c(T),p(k)};C.useEffect(()=>{if(n){o(n.name);const _=n.startDate?new Date(n.startDate):null,T=n.endDate?new Date(n.endDate):null;c(_),p(T)}},[n]);const y=()=>{if(!i){alert("Exhibition name is required.");return}if(!l||!d){alert("Both start and end dates are required.");return}if(l&&d&&l>d){alert("Start date must be before the end date.");return}const _=new Date(l).toISOString(),T=new Date(d).toISOString();n&&(t(n.id,{name:i,startDate:_,endDate:T}),e())};return!r||!n?null:S.jsx("div",{className:"modal show d-block",children:S.jsx("div",{className:"modal-dialog",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:"Edit Exhibition"}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsxs("div",{className:"modal-body",children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"exhibition-name",className:"form-label",children:"Name"}),S.jsx("input",{type:"text",id:"exhibition-name",className:"form-control",value:i,onChange:_=>o(_.target.value)})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"newExhibitionDates",className:"form-label",children:"Exhibition Dates:"}),S.jsx("br",{}),S.jsx(vb,{selected:l,onChange:m,startDate:l,endDate:d,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates"})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Save Changes"})]})]})})})},b3=({exhibition:r,handleDeleteExhibition:e,handleDeleteArtwork:t,handleEditExhibition:n})=>{const{setSelectedMuseum:i}=Th(),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[p,m]=C.useState(null),[y,_]=C.useState(null),[T,k]=C.useState(null),I=wb(r.startDate,r.endDate),b=Z=>{i(Z==="The Metropolitan Museum of Art"?"met":"chicago")},N=(Z,A)=>{_(Z),k(A),l(!0)},F=()=>{l(!1),_(null),k(null)},j=Z=>{m(Z),d(!0)},q=()=>{d(!1),m(null)},J=()=>{y==="artwork"&&typeof T=="number"&&T!==null?t(r.id,T):y==="exhibition"&&typeof T=="string"&&e(T)};return S.jsxs("div",{className:"container py-5",children:[S.jsx("div",{className:"row mb-4",children:S.jsxs("div",{className:"col-12 text-center text-white py-3",style:{background:"rgba(47, 21, 68, 0.84)"},children:[S.jsx("h1",{children:r.name}),S.jsx("p",{children:I})]})}),S.jsxs("div",{className:"row",children:[r.artworks.map(Z=>S.jsx("div",{className:"col-md-4 col-lg-3 mb-4",children:S.jsx(qo,{to:`/artwork/${Z.id}`,className:"btn btn-outline-secondary w-100","aria-label":`View details for artwork titled ${Z.title}`,onClick:()=>b(Z.source),children:S.jsxs("div",{className:"card h-100 align-center",children:[Z.imageUrl&&S.jsx("img",{src:Z.imageUrl,alt:`Artwork titled "${Z.title}"`,className:"card-img-top",style:{objectFit:"cover",height:"200px"}}),S.jsxs("div",{className:"card-body d-flex flex-column",children:[S.jsx("h5",{className:"card-title text-center bg-light py-2 rounded",children:Z.title}),S.jsxs("p",{className:"card-text text-muted text-center",children:[S.jsx("strong",{children:"Artist:"})," ",S.jsx("i",{children:Z.artist_title})]}),S.jsxs("p",{className:"card-text text-center bg-light py-1 rounded",children:[S.jsx("strong",{children:"Medium:"})," ",Z.medium_display]}),S.jsx("div",{className:"d-flex justify-content-center mt-auto",children:S.jsx("button",{onClick:()=>N("artwork",Z.id.toString()),className:"btn btn-outline-danger btn-sm","aria-label":`Delete artwork titled ${Z.title} from exhibition ${r.name}`,children:"Delete Artwork"})})]})]})})},Z.id)),S.jsx("div",{className:"col-12 mb-4",children:S.jsx("div",{className:"card p-4",style:{background:"rgba(117, 92, 176, 0.84)"},children:S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{onClick:()=>j(r),className:"btn btn-warning btn-lg","aria-label":`Edit exhibition ${r.name}`,children:"Edit Exhibition"}),S.jsx("button",{onClick:()=>N("exhibition",r.id),className:"btn btn-danger btn-lg","aria-label":`Delete exhibition ${r.name}`,children:"Delete Exhibition"})]})})})]}),S.jsx(x3,{show:c,handleClose:q,handleEditExhibition:n,exhibition:p}),S.jsx(C3,{show:o,handleClose:F,handleDelete:J,entityType:y??"artwork",entityId:(T==null?void 0:T.toString())??""})]})},I3=()=>{const{exhibitionId:r}=ky(),{exhibitions:e,loading:t,editExhibition:n,deleteArtworkFromExhibition:i,deleteExhibition:o}=S_(),[l,c]=C.useState(null),[d,p]=C.useState(null),[m,y]=C.useState(null),_=hc(),T=(F,j)=>(console.error("Firestore Error:",F),F.message||j);C.useEffect(()=>{if(r){const F=e.find(j=>j.id===r);F?c(F):_("/exhibitions")}},[r,e,_]);const k=()=>{_("/search")},I=C.useCallback(async(F,j)=>{try{await n(F,j),p("Exhibition edited successfully.")}catch(q){const J=T(q,"Failed to edit the exhibition");y(J)}},[n]),b=C.useCallback(async F=>{try{await o(F),p("Exhibition deleted successfully.")}catch(j){const q=T(j,"Failed to delete the exhibition.");y(q)}},[o]),N=C.useCallback(async(F,j)=>{try{await i(F,j),p("Artwork deleted successfully.")}catch(q){const J=T(q,"Failed to delete the artwork.");y(J)}},[i]);return C.useEffect(()=>{if(d){const F=setTimeout(()=>{p(null)},3e3);return()=>clearTimeout(F)}},[d]),t?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):m?S.jsx("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:m}):l?S.jsxs(S.Fragment,{children:[S.jsx(b3,{exhibition:l,handleDeleteExhibition:b,handleDeleteArtwork:N,handleEditExhibition:I}),S.jsx("div",{className:"col-12 mb-5",children:S.jsxs("div",{className:"text-center",children:[S.jsx("button",{onClick:k,className:"btn btn-outline-primary btn-lg mx-2","aria-label":"Add new artwork to the exhibition",style:{maxWidth:"200px"},children:"Add Artwork"}),S.jsx("button",{className:"btn btn-outline-secondary btn-lg mx-2",onClick:()=>window.history.back(),"aria-label":"Go back to the previous page",style:{maxWidth:"200px"},children:"Go Back"})]})})]}):S.jsx("div",{className:"text-center my-5",children:"Exhibition not found."})},D3=()=>{const{user:r}=bc();return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"app-background vh-100 position-fixed top-0 left-0 w-100"}),S.jsxs("div",{className:"container-fluid d-flex flex-column vh-100",children:[r&&S.jsx(kL,{}),S.jsx("div",{className:"flex-grow-1",children:S.jsx(kD,{children:r?S.jsxs(S.Fragment,{children:[S.jsx(Jr,{path:"/home",element:S.jsx(CL,{})}),S.jsx(Jr,{path:"/profile",element:S.jsx(uF,{user:r})}),S.jsx(Jr,{path:"/artwork/:id",element:S.jsx(k3,{})}),S.jsx(Jr,{path:"/museum/:museumName",element:S.jsx(m3,{})}),S.jsx(Jr,{path:"/exhibitions",element:S.jsx(g3,{})}),S.jsx(Jr,{path:"/exhibition/:exhibitionId",element:S.jsx(I3,{})}),S.jsx(Jr,{path:"*",element:S.jsx(gE,{to:"/home"})})]}):S.jsxs(S.Fragment,{children:[S.jsx(Jr,{path:"/auth",element:S.jsx(v3,{})}),S.jsx(Jr,{path:"*",element:S.jsx(gE,{to:"/auth"})})]})})})]})]})},R3=()=>S.jsx(SL,{children:S.jsx(KD,{children:S.jsx(D3,{})})});MI.createRoot(document.getElementById("root")).render(S.jsx(C.StrictMode,{children:S.jsx(R3,{})}));
