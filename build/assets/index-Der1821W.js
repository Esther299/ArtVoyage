var bI=Object.defineProperty;var II=(r,e,t)=>e in r?bI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>II(r,typeof e!="symbol"?e+"":e,t);function DI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Eh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Um={exports:{}},Iu={},Bm={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function RI(){if(aE)return je;aE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function b(W,te,_e){this.props=W,this.context=te,this.refs=I,this.updater=_e||E}b.prototype.isReactComponent={},b.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=b.prototype;function F(W,te,_e){this.props=W,this.context=te,this.refs=I,this.updater=_e||E}var j=F.prototype=new N;j.constructor=F,C(j,b.prototype),j.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function D(W,te,_e){var Re,Oe={},Ve=null,Be=null;if(te!=null)for(Re in te.ref!==void 0&&(Be=te.ref),te.key!==void 0&&(Ve=""+te.key),te)X.call(te,Re)&&!A.hasOwnProperty(Re)&&(Oe[Re]=te[Re]);var He=arguments.length-2;if(He===1)Oe.children=_e;else if(1<He){for(var Je=Array(He),ht=0;ht<He;ht++)Je[ht]=arguments[ht+2];Oe.children=Je}if(W&&W.defaultProps)for(Re in He=W.defaultProps,He)Oe[Re]===void 0&&(Oe[Re]=He[Re]);return{$$typeof:r,type:W,key:Ve,ref:Be,props:Oe,_owner:Z.current}}function P(W,te){return{$$typeof:r,type:W.type,key:te,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function V(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(_e){return te[_e]})}var U=/\/+/g;function M(W,te){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):te.toString(36)}function ke(W,te,_e,Re,Oe){var Ve=typeof W;(Ve==="undefined"||Ve==="boolean")&&(W=null);var Be=!1;if(W===null)Be=!0;else switch(Ve){case"string":case"number":Be=!0;break;case"object":switch(W.$$typeof){case r:case e:Be=!0}}if(Be)return Be=W,Oe=Oe(Be),W=Re===""?"."+M(Be,0):Re,q(Oe)?(_e="",W!=null&&(_e=W.replace(U,"$&/")+"/"),ke(Oe,te,_e,"",function(ht){return ht})):Oe!=null&&(L(Oe)&&(Oe=P(Oe,_e+(!Oe.key||Be&&Be.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+W)),te.push(Oe)),1;if(Be=0,Re=Re===""?".":Re+":",q(W))for(var He=0;He<W.length;He++){Ve=W[He];var Je=Re+M(Ve,He);Be+=ke(Ve,te,_e,Je,Oe)}else if(Je=_(W),typeof Je=="function")for(W=Je.call(W),He=0;!(Ve=W.next()).done;)Ve=Ve.value,Je=Re+M(Ve,He++),Be+=ke(Ve,te,_e,Je,Oe);else if(Ve==="object")throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ie(W,te,_e){if(W==null)return W;var Re=[],Oe=0;return ke(W,Re,"","",function(Ve){return te.call(_e,Ve,Oe++)}),Re}function he(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(_e){(W._status===0||W._status===-1)&&(W._status=1,W._result=_e)},function(_e){(W._status===0||W._status===-1)&&(W._status=2,W._result=_e)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var de={current:null},G={transition:null},ce={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:G,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Ie,forEach:function(W,te,_e){Ie(W,function(){te.apply(this,arguments)},_e)},count:function(W){var te=0;return Ie(W,function(){te++}),te},toArray:function(W){return Ie(W,function(te){return te})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},je.Component=b,je.Fragment=t,je.Profiler=i,je.PureComponent=F,je.StrictMode=n,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,je.act=le,je.cloneElement=function(W,te,_e){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Re=C({},W.props),Oe=W.key,Ve=W.ref,Be=W._owner;if(te!=null){if(te.ref!==void 0&&(Ve=te.ref,Be=Z.current),te.key!==void 0&&(Oe=""+te.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(Je in te)X.call(te,Je)&&!A.hasOwnProperty(Je)&&(Re[Je]=te[Je]===void 0&&He!==void 0?He[Je]:te[Je])}var Je=arguments.length-2;if(Je===1)Re.children=_e;else if(1<Je){He=Array(Je);for(var ht=0;ht<Je;ht++)He[ht]=arguments[ht+2];Re.children=He}return{$$typeof:r,type:W.type,key:Oe,ref:Ve,props:Re,_owner:Be}},je.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},je.createElement=D,je.createFactory=function(W){var te=D.bind(null,W);return te.type=W,te},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:c,render:W}},je.isValidElement=L,je.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:he}},je.memo=function(W,te){return{$$typeof:p,type:W,compare:te===void 0?null:te}},je.startTransition=function(W){var te=G.transition;G.transition={};try{W()}finally{G.transition=te}},je.unstable_act=le,je.useCallback=function(W,te){return de.current.useCallback(W,te)},je.useContext=function(W){return de.current.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W){return de.current.useDeferredValue(W)},je.useEffect=function(W,te){return de.current.useEffect(W,te)},je.useId=function(){return de.current.useId()},je.useImperativeHandle=function(W,te,_e){return de.current.useImperativeHandle(W,te,_e)},je.useInsertionEffect=function(W,te){return de.current.useInsertionEffect(W,te)},je.useLayoutEffect=function(W,te){return de.current.useLayoutEffect(W,te)},je.useMemo=function(W,te){return de.current.useMemo(W,te)},je.useReducer=function(W,te,_e){return de.current.useReducer(W,te,_e)},je.useRef=function(W){return de.current.useRef(W)},je.useState=function(W){return de.current.useState(W)},je.useSyncExternalStore=function(W,te,_e){return de.current.useSyncExternalStore(W,te,_e)},je.useTransition=function(){return de.current.useTransition()},je.version="18.3.1",je}var lE;function Sy(){return lE||(lE=1,Bm.exports=RI()),Bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function PI(){if(uE)return Iu;uE=1;var r=Sy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},_=null,E=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:E,props:y,_owner:i.current}}return Iu.Fragment=t,Iu.jsx=l,Iu.jsxs=l,Iu}var cE;function AI(){return cE||(cE=1,Um.exports=PI()),Um.exports}var S=AI(),k=Sy();const ee=Eh(k),NI=DI({__proto__:null,default:ee},[k]);var Qd={},$m={exports:{}},Nn={},Wm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function MI(){return dE||(dE=1,function(r){function e(G,ce){var le=G.length;G.push(ce);e:for(;0<le;){var W=le-1>>>1,te=G[W];if(0<i(te,ce))G[W]=ce,G[le]=te,le=W;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ce=G[0],le=G.pop();if(le!==ce){G[0]=le;e:for(var W=0,te=G.length,_e=te>>>1;W<_e;){var Re=2*(W+1)-1,Oe=G[Re],Ve=Re+1,Be=G[Ve];if(0>i(Oe,le))Ve<te&&0>i(Be,Oe)?(G[W]=Be,G[Ve]=le,W=Ve):(G[W]=Oe,G[Re]=le,W=Re);else if(Ve<te&&0>i(Be,le))G[W]=Be,G[Ve]=le,W=Ve;else break e}}return ce}function i(G,ce){var le=G.sortIndex-ce.sortIndex;return le!==0?le:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,_=3,E=!1,C=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var ce=t(p);ce!==null;){if(ce.callback===null)n(p);else if(ce.startTime<=G)n(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function q(G){if(I=!1,j(G),!C)if(t(d)!==null)C=!0,he(X);else{var ce=t(p);ce!==null&&de(q,ce.startTime-G)}}function X(G,ce){C=!1,I&&(I=!1,N(D),D=-1),E=!0;var le=_;try{for(j(ce),y=t(d);y!==null&&(!(y.expirationTime>ce)||G&&!V());){var W=y.callback;if(typeof W=="function"){y.callback=null,_=y.priorityLevel;var te=W(y.expirationTime<=ce);ce=r.unstable_now(),typeof te=="function"?y.callback=te:y===t(d)&&n(d),j(ce)}else n(d);y=t(d)}if(y!==null)var _e=!0;else{var Re=t(p);Re!==null&&de(q,Re.startTime-ce),_e=!1}return _e}finally{y=null,_=le,E=!1}}var Z=!1,A=null,D=-1,P=5,L=-1;function V(){return!(r.unstable_now()-L<P)}function U(){if(A!==null){var G=r.unstable_now();L=G;var ce=!0;try{ce=A(!0,G)}finally{ce?M():(Z=!1,A=null)}}else Z=!1}var M;if(typeof F=="function")M=function(){F(U)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ie=ke.port2;ke.port1.onmessage=U,M=function(){Ie.postMessage(null)}}else M=function(){b(U,0)};function he(G){A=G,Z||(Z=!0,M())}function de(G,ce){D=b(function(){G(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){C||E||(C=!0,he(X))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var le=_;_=ce;try{return G()}finally{_=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=_;_=G;try{return ce()}finally{_=le}},r.unstable_scheduleCallback=function(G,ce,le){var W=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,G={id:m++,callback:ce,priorityLevel:G,startTime:le,expirationTime:te,sortIndex:-1},le>W?(G.sortIndex=le,e(p,G),t(d)===null&&G===t(p)&&(I?(N(D),D=-1):I=!0,de(q,le-W))):(G.sortIndex=te,e(d,G),C||E||(C=!0,he(X))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ce=_;return function(){var le=_;_=ce;try{return G.apply(this,arguments)}finally{_=le}}}}(Hm)),Hm}var fE;function OI(){return fE||(fE=1,Wm.exports=MI()),Wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function LI(){if(hE)return Nn;hE=1;var r=Sy(),e=OI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return d.call(y,s)?!0:d.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,u,h){if(a===null||typeof a>"u"||E(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,u,h,g,w,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,F);b[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,u,h){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,g,h)&&(u=null),h||g===null?_(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),G=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,W;function te(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var _e=!1;function Re(s,a){if(!s||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var h=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){h=K}s.call(a.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),w=h.stack.split(`
`),x=g.length-1,O=w.length-1;1<=x&&0<=O&&g[x]!==w[O];)O--;for(;1<=x&&0<=O;x--,O--)if(g[x]!==w[O]){if(x!==1||O!==1)do if(x--,O--,0>O||g[x]!==w[O]){var B=`
`+g[x].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=x&&0<=O);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?te(s):""}function Oe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case Z:return"Portal";case P:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return a=s.displayName||null,a!==null?a:Ve(s.type)||"Memo";case he:a=s._payload,s=s._init;try{return Ve(s(a))}catch{}}return null}function Be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ht(s){var a=Je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,w.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Sn(s){s._valueTracker||(s._valueTracker=ht(s))}function Vn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Je(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function kn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Cn(s,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function et(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ur(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function hr(s,a){Ur(s,a);var u=He(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Xi(s,a.type,u):a.hasOwnProperty("defaultValue")&&Xi(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function oa(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Xi(s,a,u){(a!=="number"||kn(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var pr=Array.isArray;function mr(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Zs(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ji(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(pr(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function gi(s,a){var u=He(a.value),h=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function eo(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function De(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?De(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xn,Vl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Xn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Zi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},no=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(s){no.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),to[a]=to[s]})});function jl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||to.hasOwnProperty(s)&&to[s]?(""+a).trim():a+"px"}function Ul(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=jl(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Bl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(s,a){if(a){if(Bl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Wl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function aa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var la=null,Jn=null,Br=null;function ua(s){if(s=hu(s)){if(typeof la!="function")throw Error(t(280));var a=s.stateNode;a&&(a=cd(a),la(s.stateNode,s.type,a))}}function $r(s){Jn?Br?Br.push(s):Br=[s]:Jn=s}function Hl(){if(Jn){var s=Jn,a=Br;if(Br=Jn=null,ua(s),a)for(s=0;s<a.length;s++)ua(a[s])}}function io(s,a){return s(a)}function zl(){}var yi=!1;function ql(s,a,u){if(yi)return s(a,u);yi=!0;try{return io(s,a,u)}finally{yi=!1,(Jn!==null||Br!==null)&&(zl(),Hl())}}function It(s,a){var u=s.stateNode;if(u===null)return null;var h=cd(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ca=!1;if(c)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{ca=!1}function so(s,a,u,h,g,w,x,O,B){var K=Array.prototype.slice.call(arguments,3);try{a.apply(u,K)}catch(se){this.onError(se)}}var oo=!1,da=null,yr=!1,Yl=null,pp={onError:function(s){oo=!0,da=s}};function fa(s,a,u,h,g,w,x,O,B){oo=!1,da=null,so.apply(pp,arguments)}function Oc(s,a,u,h,g,w,x,O,B){if(fa.apply(this,arguments),oo){if(oo){var K=da;oo=!1,da=null}else throw Error(t(198));yr||(yr=!0,Yl=K)}}function _r(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ao(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vr(s){if(_r(s)!==s)throw Error(t(188))}function Lc(s){var a=s.alternate;if(!a){if(a=_r(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return vr(g),s;if(w===h)return vr(g),a;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=w;else{for(var x=!1,O=g.child;O;){if(O===u){x=!0,u=g,h=w;break}if(O===h){x=!0,h=g,u=w;break}O=O.sibling}if(!x){for(O=w.child;O;){if(O===u){x=!0,u=w,h=g;break}if(O===h){x=!0,h=w,u=g;break}O=O.sibling}if(!x)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Kl(s){return s=Lc(s),s!==null?ha(s):null}function ha(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ha(s);if(a!==null)return a;s=s.sibling}return null}var pa=e.unstable_scheduleCallback,Ql=e.unstable_cancelCallback,Fc=e.unstable_shouldYield,mp=e.unstable_requestPaint,ct=e.unstable_now,Vc=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Gl=e.unstable_LowPriority,jc=e.unstable_IdlePriority,uo=null,jn=null;function Uc(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(uo,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:$c,Xl=Math.log,Bc=Math.LN2;function $c(s){return s>>>=0,s===0?32:31-(Xl(s)/Bc|0)|0}var ma=64,ga=4194304;function ts(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function co(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,x=u&268435455;if(x!==0){var O=x&~g;O!==0?h=ts(O):(w&=x,w!==0&&(h=ts(w)))}else x=u&~g,x!==0?h=ts(x):w!==0&&(h=ts(w));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(h&4&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-mn(a),g=1<<u,h|=s[u],a&=~g;return h}function gp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-mn(w),O=1<<x,B=g[x];B===-1?(!(O&u)||O&h)&&(g[x]=gp(O,a)):B<=a&&(s.expiredLanes|=O),w&=~O}}function Un(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function fo(){var s=ma;return ma<<=1,!(ma&4194240)&&(ma=64),s}function ns(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function rs(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-mn(a),s[a]=u}function lt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-mn(u),w=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~w}}function is(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-mn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var ze=0;function ss(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Wc,ya,Hc,zc,qc,Jl=!1,Wr=[],Gt=null,wr=null,Er=null,os=new Map,er=new Map,Hr=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":os.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(a.pointerId)}}function xn(s,a,u,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},a!==null&&(a=hu(a),a!==null&&ya(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function _p(s,a,u,h,g){switch(a){case"focusin":return Gt=xn(Gt,s,a,u,h,g),!0;case"dragenter":return wr=xn(wr,s,a,u,h,g),!0;case"mouseover":return Er=xn(Er,s,a,u,h,g),!0;case"pointerover":var w=g.pointerId;return os.set(w,xn(os.get(w)||null,s,a,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,er.set(w,xn(er.get(w)||null,s,a,u,h,g)),!0}return!1}function Kc(s){var a=yo(s.target);if(a!==null){var u=_r(a);if(u!==null){if(a=u.tag,a===13){if(a=ao(u),a!==null){s.blockedOn=a,qc(s.priority,function(){Hc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=_a(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);ro=h,u.target.dispatchEvent(h),ro=null}else return a=hu(u),a!==null&&ya(a),s.blockedOn=u,!1;a.shift()}return!0}function ho(s,a,u){vi(s)&&u.delete(a)}function Qc(){Jl=!1,Gt!==null&&vi(Gt)&&(Gt=null),wr!==null&&vi(wr)&&(wr=null),Er!==null&&vi(Er)&&(Er=null),os.forEach(ho),er.forEach(ho)}function Tr(s,a){s.blockedOn===a&&(s.blockedOn=null,Jl||(Jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qc)))}function Sr(s){function a(g){return Tr(g,s)}if(0<Wr.length){Tr(Wr[0],s);for(var u=1;u<Wr.length;u++){var h=Wr[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Gt!==null&&Tr(Gt,s),wr!==null&&Tr(wr,s),Er!==null&&Tr(Er,s),os.forEach(a),er.forEach(a),u=0;u<Hr.length;u++)h=Hr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Hr.length&&(u=Hr[0],u.blockedOn===null);)Kc(u),u.blockedOn===null&&Hr.shift()}var wi=q.ReactCurrentBatchConfig,as=!0;function _t(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=1,Zl(s,a,u,h)}finally{ze=g,wi.transition=w}}function vp(s,a,u,h){var g=ze,w=wi.transition;wi.transition=null;try{ze=4,Zl(s,a,u,h)}finally{ze=g,wi.transition=w}}function Zl(s,a,u,h){if(as){var g=_a(s,a,u,h);if(g===null)Rp(s,a,h,po,u),Yc(s,h);else if(_p(g,s,a,u,h))h.stopPropagation();else if(Yc(s,h),a&4&&-1<yp.indexOf(s)){for(;g!==null;){var w=hu(g);if(w!==null&&Wc(w),w=_a(s,a,u,h),w===null&&Rp(s,a,h,po,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else Rp(s,a,h,null,u)}}var po=null;function _a(s,a,u,h){if(po=null,s=aa(h),s=yo(s),s!==null)if(a=_r(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ao(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return po=s,null}function eu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vc()){case lo:return 1;case es:return 4;case Zn:case Gl:return 16;case jc:return 536870912;default:return 16}default:return 16}}var Bn=null,va=null,bn=null;function tu(){if(bn)return bn;var s,a=va,u=a.length,h,g="value"in Bn?Bn.value:Bn.textContent,w=g.length;for(s=0;s<u&&a[s]===g[s];s++);var x=u-s;for(h=1;h<=x&&a[u-h]===g[w-h];h++);return bn=g.slice(s,1<h?1-h:void 0)}function wa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function nu(){return!1}function Xt(s){function a(u,h,g,w,x){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?zr:nu,this.isPropagationStopped=nu,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Xt(kr),qr=le({},kr,{view:0,detail:0}),wp=Xt(qr),Ta,Ei,ls,mo=le({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ls&&(ls&&s.type==="mousemove"?(Ta=s.screenX-ls.screenX,Ei=s.screenY-ls.screenY):Ei=Ta=0,ls=s),Ta)},movementY:function(s){return"movementY"in s?s.movementY:Ei}}),Sa=Xt(mo),ru=le({},mo,{dataTransfer:0}),Gc=Xt(ru),ka=le({},qr,{relatedTarget:0}),Ca=Xt(ka),Xc=le({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=Xt(Xc),Jc=le({},kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zc=Xt(Jc),ed=le({},kr,{data:0}),iu=Xt(ed),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=td[s])?!!a[s]:!1}function Yr(){return nd}var f=le({},qr,{key:function(s){if(s.key){var a=xa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Xt(f),T=le({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Xt(T),H=le({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Q=Xt(H),ue=le({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=Xt(ue),Vt=le({},mo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Xt(Vt),$t=[9,13,27,32],Nt=c&&"CompositionEvent"in window,tr=null;c&&"documentMode"in document&&(tr=document.documentMode);var $n=c&&"TextEvent"in window&&!tr,go=c&&(!Nt||tr&&8<tr&&11>=tr),ba=" ",tv=!1;function nv(s,a){switch(s){case"keyup":return $t.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function Cb(s,a){switch(s){case"compositionend":return rv(a);case"keypress":return a.which!==32?null:(tv=!0,ba);case"textInput":return s=a.data,s===ba&&tv?null:s;default:return null}}function xb(s,a){if(Ia)return s==="compositionend"||!Nt&&nv(s,a)?(s=tu(),bn=va=Bn=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return go&&a.locale!=="ko"?null:a.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!bb[s.type]:a==="textarea"}function sv(s,a,u,h){$r(h),a=ad(a,"onChange"),0<a.length&&(u=new Ea("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var su=null,ou=null;function Ib(s){Sv(s,0)}function rd(s){var a=Na(s);if(Vn(a))return s}function Db(s,a){if(s==="change")return a}var ov=!1;if(c){var Ep;if(c){var Tp="oninput"in document;if(!Tp){var av=document.createElement("div");av.setAttribute("oninput","return;"),Tp=typeof av.oninput=="function"}Ep=Tp}else Ep=!1;ov=Ep&&(!document.documentMode||9<document.documentMode)}function lv(){su&&(su.detachEvent("onpropertychange",uv),ou=su=null)}function uv(s){if(s.propertyName==="value"&&rd(ou)){var a=[];sv(a,ou,s,aa(s)),ql(Ib,a)}}function Rb(s,a,u){s==="focusin"?(lv(),su=a,ou=u,su.attachEvent("onpropertychange",uv)):s==="focusout"&&lv()}function Pb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(ou)}function Ab(s,a){if(s==="click")return rd(a)}function Nb(s,a){if(s==="input"||s==="change")return rd(a)}function Mb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cr=typeof Object.is=="function"?Object.is:Mb;function au(s,a){if(Cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(a,g)||!Cr(s[g],a[g]))return!1}return!0}function cv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dv(s,a){var u=cv(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cv(u)}}function fv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?fv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function hv(){for(var s=window,a=kn();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=kn(s.document)}return a}function Sp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Ob(s){var a=hv(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&fv(u.ownerDocument.documentElement,u)){if(h!==null&&Sp(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=dv(u,w);var x=dv(u,h);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Lb=c&&"documentMode"in document&&11>=document.documentMode,Da=null,kp=null,lu=null,Cp=!1;function pv(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cp||Da==null||Da!==kn(h)||(h=Da,"selectionStart"in h&&Sp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),lu&&au(lu,h)||(lu=h,h=ad(kp,"onSelect"),0<h.length&&(a=new Ea("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Da)))}function id(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ra={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},xp={},mv={};c&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function sd(s){if(xp[s])return xp[s];if(!Ra[s])return s;var a=Ra[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in mv)return xp[s]=a[u];return s}var gv=sd("animationend"),yv=sd("animationiteration"),_v=sd("animationstart"),vv=sd("transitionend"),wv=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(s,a){wv.set(s,a),o(a,[s])}for(var bp=0;bp<Ev.length;bp++){var Ip=Ev[bp],Fb=Ip.toLowerCase(),Vb=Ip[0].toUpperCase()+Ip.slice(1);us(Fb,"on"+Vb)}us(gv,"onAnimationEnd"),us(yv,"onAnimationIteration"),us(_v,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(vv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function Tv(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,Oc(h,a,void 0,s),s.currentTarget=null}function Sv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var x=h.length-1;0<=x;x--){var O=h[x],B=O.instance,K=O.currentTarget;if(O=O.listener,B!==w&&g.isPropagationStopped())break e;Tv(g,O,K),w=B}else for(x=0;x<h.length;x++){if(O=h[x],B=O.instance,K=O.currentTarget,O=O.listener,B!==w&&g.isPropagationStopped())break e;Tv(g,O,K),w=B}}}if(yr)throw s=Yl,yr=!1,Yl=null,s}function pt(s,a){var u=a[Lp];u===void 0&&(u=a[Lp]=new Set);var h=s+"__bubble";u.has(h)||(kv(a,s,2,!1),u.add(h))}function Dp(s,a,u){var h=0;a&&(h|=4),kv(u,s,h,a)}var od="_reactListening"+Math.random().toString(36).slice(2);function cu(s){if(!s[od]){s[od]=!0,n.forEach(function(u){u!=="selectionchange"&&(jb.has(u)||Dp(u,!1,s),Dp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[od]||(a[od]=!0,Dp("selectionchange",!1,a))}}function kv(s,a,u,h){switch(eu(a)){case 1:var g=_t;break;case 4:g=vp;break;default:g=Zl}u=g.bind(null,a,u,s),g=void 0,!ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Rp(s,a,u,h,g){var w=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(x===4)for(x=h.return;x!==null;){var B=x.tag;if((B===3||B===4)&&(B=x.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;x=x.return}for(;O!==null;){if(x=yo(O),x===null)return;if(B=x.tag,B===5||B===6){h=w=x;continue e}O=O.parentNode}}h=h.return}ql(function(){var K=w,se=aa(u),oe=[];e:{var ie=wv.get(s);if(ie!==void 0){var pe=Ea,Ee=s;switch(s){case"keypress":if(wa(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":Ee="focus",pe=Ca;break;case"focusout":Ee="blur",pe=Ca;break;case"beforeblur":case"afterblur":pe=Ca;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case gv:case yv:case _v:pe=Ti;break;case vv:pe=rt;break;case"scroll":pe=wp;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=R}var Te=(a&4)!==0,Dt=!Te&&s==="scroll",z=Te?ie!==null?ie+"Capture":null:ie;Te=[];for(var $=K,Y;$!==null;){Y=$;var ae=Y.stateNode;if(Y.tag===5&&ae!==null&&(Y=ae,z!==null&&(ae=It($,z),ae!=null&&Te.push(du($,ae,Y)))),Dt)break;$=$.return}0<Te.length&&(ie=new pe(ie,Ee,null,u,se),oe.push({event:ie,listeners:Te}))}}if(!(a&7)){e:{if(ie=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ie&&u!==ro&&(Ee=u.relatedTarget||u.fromElement)&&(yo(Ee)||Ee[Si]))break e;if((pe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(Ee=u.relatedTarget||u.toElement,pe=K,Ee=Ee?yo(Ee):null,Ee!==null&&(Dt=_r(Ee),Ee!==Dt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(pe=null,Ee=K),pe!==Ee)){if(Te=Sa,ae="onMouseLeave",z="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Te=R,ae="onPointerLeave",z="onPointerEnter",$="pointer"),Dt=pe==null?ie:Na(pe),Y=Ee==null?ie:Na(Ee),ie=new Te(ae,$+"leave",pe,u,se),ie.target=Dt,ie.relatedTarget=Y,ae=null,yo(se)===K&&(Te=new Te(z,$+"enter",Ee,u,se),Te.target=Y,Te.relatedTarget=Dt,ae=Te),Dt=ae,pe&&Ee)t:{for(Te=pe,z=Ee,$=0,Y=Te;Y;Y=Pa(Y))$++;for(Y=0,ae=z;ae;ae=Pa(ae))Y++;for(;0<$-Y;)Te=Pa(Te),$--;for(;0<Y-$;)z=Pa(z),Y--;for(;$--;){if(Te===z||z!==null&&Te===z.alternate)break t;Te=Pa(Te),z=Pa(z)}Te=null}else Te=null;pe!==null&&Cv(oe,ie,pe,Te,!1),Ee!==null&&Dt!==null&&Cv(oe,Dt,Ee,Te,!0)}}e:{if(ie=K?Na(K):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var Se=Db;else if(iv(ie))if(ov)Se=Nb;else{Se=Pb;var xe=Rb}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=Ab);if(Se&&(Se=Se(s,K))){sv(oe,Se,u,se);break e}xe&&xe(s,ie,K),s==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&Xi(ie,"number",ie.value)}switch(xe=K?Na(K):window,s){case"focusin":(iv(xe)||xe.contentEditable==="true")&&(Da=xe,kp=K,lu=null);break;case"focusout":lu=kp=Da=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,pv(oe,u,se);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":pv(oe,u,se)}var be;if(Nt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ia?nv(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(go&&u.locale!=="ko"&&(Ia||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ia&&(be=tu()):(Bn=se,va="value"in Bn?Bn.value:Bn.textContent,Ia=!0)),xe=ad(K,Ae),0<xe.length&&(Ae=new iu(Ae,s,null,u,se),oe.push({event:Ae,listeners:xe}),be?Ae.data=be:(be=rv(u),be!==null&&(Ae.data=be)))),(be=$n?Cb(s,u):xb(s,u))&&(K=ad(K,"onBeforeInput"),0<K.length&&(se=new iu("onBeforeInput","beforeinput",null,u,se),oe.push({event:se,listeners:K}),se.data=be))}Sv(oe,a)})}function du(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ad(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=It(s,u),w!=null&&h.unshift(du(s,w,g)),w=It(s,a),w!=null&&h.push(du(s,w,g))),s=s.return}return h}function Pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Cv(s,a,u,h,g){for(var w=a._reactName,x=[];u!==null&&u!==h;){var O=u,B=O.alternate,K=O.stateNode;if(B!==null&&B===h)break;O.tag===5&&K!==null&&(O=K,g?(B=It(u,w),B!=null&&x.unshift(du(u,B,O))):g||(B=It(u,w),B!=null&&x.push(du(u,B,O)))),u=u.return}x.length!==0&&s.push({event:a,listeners:x})}var Ub=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function xv(s){return(typeof s=="string"?s:""+s).replace(Ub,`
`).replace(Bb,"")}function ld(s,a,u){if(a=xv(a),xv(s)!==a&&u)throw Error(t(425))}function ud(){}var Pp=null,Ap=null;function Np(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,Wb=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(s){return bv.resolve(null).then(s).catch(Hb)}:Mp;function Hb(s){setTimeout(function(){throw s})}function Op(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),Sr(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Sr(a)}function cs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Iv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Aa,fu="__reactProps$"+Aa,Si="__reactContainer$"+Aa,Lp="__reactEvents$"+Aa,zb="__reactListeners$"+Aa,qb="__reactHandles$"+Aa;function yo(s){var a=s[Kr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Si]||u[Kr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Iv(s);s!==null;){if(u=s[Kr])return u;s=Iv(s)}return a}s=u,u=s.parentNode}return null}function hu(s){return s=s[Kr]||s[Si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function cd(s){return s[fu]||null}var Fp=[],Ma=-1;function ds(s){return{current:s}}function mt(s){0>Ma||(s.current=Fp[Ma],Fp[Ma]=null,Ma--)}function dt(s,a){Ma++,Fp[Ma]=s.current,s.current=a}var fs={},sn=ds(fs),In=ds(!1),_o=fs;function Oa(s,a){var u=s.type.contextTypes;if(!u)return fs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=a[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Dn(s){return s=s.childContextTypes,s!=null}function dd(){mt(In),mt(sn)}function Dv(s,a,u){if(sn.current!==fs)throw Error(t(168));dt(sn,a),dt(In,u)}function Rv(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Be(s)||"Unknown",g));return le({},u,h)}function fd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fs,_o=sn.current,dt(sn,s),dt(In,In.current),!0}function Pv(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Rv(s,a,_o),h.__reactInternalMemoizedMergedChildContext=s,mt(In),mt(sn),dt(sn,s)):mt(In),dt(In,u)}var ki=null,hd=!1,Vp=!1;function Av(s){ki===null?ki=[s]:ki.push(s)}function Yb(s){hd=!0,Av(s)}function hs(){if(!Vp&&ki!==null){Vp=!0;var s=0,a=ze;try{var u=ki;for(ze=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}ki=null,hd=!1}catch(g){throw ki!==null&&(ki=ki.slice(s+1)),pa(lo,hs),g}finally{ze=a,Vp=!1}}return null}var La=[],Fa=0,pd=null,md=0,nr=[],rr=0,vo=null,Ci=1,xi="";function wo(s,a){La[Fa++]=md,La[Fa++]=pd,pd=s,md=a}function Nv(s,a,u){nr[rr++]=Ci,nr[rr++]=xi,nr[rr++]=vo,vo=s;var h=Ci;s=xi;var g=32-mn(h)-1;h&=~(1<<g),u+=1;var w=32-mn(a)+g;if(30<w){var x=g-g%5;w=(h&(1<<x)-1).toString(32),h>>=x,g-=x,Ci=1<<32-mn(a)+g|u<<g|h,xi=w+s}else Ci=1<<w|u<<g|h,xi=s}function jp(s){s.return!==null&&(wo(s,1),Nv(s,1,0))}function Up(s){for(;s===pd;)pd=La[--Fa],La[Fa]=null,md=La[--Fa],La[Fa]=null;for(;s===vo;)vo=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null,Ci=nr[--rr],nr[rr]=null}var Wn=null,Hn=null,vt=!1,xr=null;function Mv(s,a){var u=ar(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Ov(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=cs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=vo!==null?{id:Ci,overflow:xi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ar(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Wn=s,Hn=null,!0):!1;default:return!1}}function Bp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function $p(s){if(vt){var a=Hn;if(a){var u=a;if(!Ov(s,a)){if(Bp(s))throw Error(t(418));a=cs(u.nextSibling);var h=Wn;a&&Ov(s,a)?Mv(h,u):(s.flags=s.flags&-4097|2,vt=!1,Wn=s)}}else{if(Bp(s))throw Error(t(418));s.flags=s.flags&-4097|2,vt=!1,Wn=s}}}function Lv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function gd(s){if(s!==Wn)return!1;if(!vt)return Lv(s),vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Np(s.type,s.memoizedProps)),a&&(a=Hn)){if(Bp(s))throw Fv(),Error(t(418));for(;a;)Mv(s,a),a=cs(a.nextSibling)}if(Lv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Hn=cs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Hn=null}}else Hn=Wn?cs(s.stateNode.nextSibling):null;return!0}function Fv(){for(var s=Hn;s;)s=cs(s.nextSibling)}function Va(){Hn=Wn=null,vt=!1}function Wp(s){xr===null?xr=[s]:xr.push(s)}var Kb=q.ReactCurrentBatchConfig;function pu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(x){var O=g.refs;x===null?delete O[w]:O[w]=x},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function yd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Vv(s){var a=s._init;return a(s._payload)}function jv(s){function a(z,$){if(s){var Y=z.deletions;Y===null?(z.deletions=[$],z.flags|=16):Y.push($)}}function u(z,$){if(!s)return null;for(;$!==null;)a(z,$),$=$.sibling;return null}function h(z,$){for(z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function g(z,$){return z=Es(z,$),z.index=0,z.sibling=null,z}function w(z,$,Y){return z.index=Y,s?(Y=z.alternate,Y!==null?(Y=Y.index,Y<$?(z.flags|=2,$):Y):(z.flags|=2,$)):(z.flags|=1048576,$)}function x(z){return s&&z.alternate===null&&(z.flags|=2),z}function O(z,$,Y,ae){return $===null||$.tag!==6?($=Mm(Y,z.mode,ae),$.return=z,$):($=g($,Y),$.return=z,$)}function B(z,$,Y,ae){var Se=Y.type;return Se===A?se(z,$,Y.props.children,ae,Y.key):$!==null&&($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Vv(Se)===$.type)?(ae=g($,Y.props),ae.ref=pu(z,$,Y),ae.return=z,ae):(ae=Bd(Y.type,Y.key,Y.props,null,z.mode,ae),ae.ref=pu(z,$,Y),ae.return=z,ae)}function K(z,$,Y,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Om(Y,z.mode,ae),$.return=z,$):($=g($,Y.children||[]),$.return=z,$)}function se(z,$,Y,ae,Se){return $===null||$.tag!==7?($=Io(Y,z.mode,ae,Se),$.return=z,$):($=g($,Y),$.return=z,$)}function oe(z,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Mm(""+$,z.mode,Y),$.return=z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return Y=Bd($.type,$.key,$.props,null,z.mode,Y),Y.ref=pu(z,null,$),Y.return=z,Y;case Z:return $=Om($,z.mode,Y),$.return=z,$;case he:var ae=$._init;return oe(z,ae($._payload),Y)}if(pr($)||ce($))return $=Io($,z.mode,Y,null),$.return=z,$;yd(z,$)}return null}function ie(z,$,Y,ae){var Se=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Se!==null?null:O(z,$,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return Y.key===Se?B(z,$,Y,ae):null;case Z:return Y.key===Se?K(z,$,Y,ae):null;case he:return Se=Y._init,ie(z,$,Se(Y._payload),ae)}if(pr(Y)||ce(Y))return Se!==null?null:se(z,$,Y,ae,null);yd(z,Y)}return null}function pe(z,$,Y,ae,Se){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return z=z.get(Y)||null,O($,z,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return z=z.get(ae.key===null?Y:ae.key)||null,B($,z,ae,Se);case Z:return z=z.get(ae.key===null?Y:ae.key)||null,K($,z,ae,Se);case he:var xe=ae._init;return pe(z,$,Y,xe(ae._payload),Se)}if(pr(ae)||ce(ae))return z=z.get(Y)||null,se($,z,ae,Se,null);yd($,ae)}return null}function Ee(z,$,Y,ae){for(var Se=null,xe=null,be=$,Ae=$=0,zt=null;be!==null&&Ae<Y.length;Ae++){be.index>Ae?(zt=be,be=null):zt=be.sibling;var Ze=ie(z,be,Y[Ae],ae);if(Ze===null){be===null&&(be=zt);break}s&&be&&Ze.alternate===null&&a(z,be),$=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze,be=zt}if(Ae===Y.length)return u(z,be),vt&&wo(z,Ae),Se;if(be===null){for(;Ae<Y.length;Ae++)be=oe(z,Y[Ae],ae),be!==null&&($=w(be,$,Ae),xe===null?Se=be:xe.sibling=be,xe=be);return vt&&wo(z,Ae),Se}for(be=h(z,be);Ae<Y.length;Ae++)zt=pe(be,z,Ae,Y[Ae],ae),zt!==null&&(s&&zt.alternate!==null&&be.delete(zt.key===null?Ae:zt.key),$=w(zt,$,Ae),xe===null?Se=zt:xe.sibling=zt,xe=zt);return s&&be.forEach(function(Ts){return a(z,Ts)}),vt&&wo(z,Ae),Se}function Te(z,$,Y,ae){var Se=ce(Y);if(typeof Se!="function")throw Error(t(150));if(Y=Se.call(Y),Y==null)throw Error(t(151));for(var xe=Se=null,be=$,Ae=$=0,zt=null,Ze=Y.next();be!==null&&!Ze.done;Ae++,Ze=Y.next()){be.index>Ae?(zt=be,be=null):zt=be.sibling;var Ts=ie(z,be,Ze.value,ae);if(Ts===null){be===null&&(be=zt);break}s&&be&&Ts.alternate===null&&a(z,be),$=w(Ts,$,Ae),xe===null?Se=Ts:xe.sibling=Ts,xe=Ts,be=zt}if(Ze.done)return u(z,be),vt&&wo(z,Ae),Se;if(be===null){for(;!Ze.done;Ae++,Ze=Y.next())Ze=oe(z,Ze.value,ae),Ze!==null&&($=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze);return vt&&wo(z,Ae),Se}for(be=h(z,be);!Ze.done;Ae++,Ze=Y.next())Ze=pe(be,z,Ae,Ze.value,ae),Ze!==null&&(s&&Ze.alternate!==null&&be.delete(Ze.key===null?Ae:Ze.key),$=w(Ze,$,Ae),xe===null?Se=Ze:xe.sibling=Ze,xe=Ze);return s&&be.forEach(function(xI){return a(z,xI)}),vt&&wo(z,Ae),Se}function Dt(z,$,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:e:{for(var Se=Y.key,xe=$;xe!==null;){if(xe.key===Se){if(Se=Y.type,Se===A){if(xe.tag===7){u(z,xe.sibling),$=g(xe,Y.props.children),$.return=z,z=$;break e}}else if(xe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Vv(Se)===xe.type){u(z,xe.sibling),$=g(xe,Y.props),$.ref=pu(z,xe,Y),$.return=z,z=$;break e}u(z,xe);break}else a(z,xe);xe=xe.sibling}Y.type===A?($=Io(Y.props.children,z.mode,ae,Y.key),$.return=z,z=$):(ae=Bd(Y.type,Y.key,Y.props,null,z.mode,ae),ae.ref=pu(z,$,Y),ae.return=z,z=ae)}return x(z);case Z:e:{for(xe=Y.key;$!==null;){if($.key===xe)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){u(z,$.sibling),$=g($,Y.children||[]),$.return=z,z=$;break e}else{u(z,$);break}else a(z,$);$=$.sibling}$=Om(Y,z.mode,ae),$.return=z,z=$}return x(z);case he:return xe=Y._init,Dt(z,$,xe(Y._payload),ae)}if(pr(Y))return Ee(z,$,Y,ae);if(ce(Y))return Te(z,$,Y,ae);yd(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,$!==null&&$.tag===6?(u(z,$.sibling),$=g($,Y),$.return=z,z=$):(u(z,$),$=Mm(Y,z.mode,ae),$.return=z,z=$),x(z)):u(z,$)}return Dt}var ja=jv(!0),Uv=jv(!1),_d=ds(null),vd=null,Ua=null,Hp=null;function zp(){Hp=Ua=vd=null}function qp(s){var a=_d.current;mt(_d),s._currentValue=a}function Yp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Ba(s,a){vd=s,Hp=Ua=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Rn=!0),s.firstContext=null)}function ir(s){var a=s._currentValue;if(Hp!==s)if(s={context:s,memoizedValue:a,next:null},Ua===null){if(vd===null)throw Error(t(308));Ua=s,vd.dependencies={lanes:0,firstContext:s}}else Ua=Ua.next=s;return a}var Eo=null;function Kp(s){Eo===null?Eo=[s]:Eo.push(s)}function Bv(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,Kp(a)):(u.next=g.next,g.next=u),a.interleaved=u,bi(s,h)}function bi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ps=!1;function Qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $v(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ii(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ms(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Ge&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,bi(s,u)}return g=h.interleaved,g===null?(a.next=a,Kp(h)):(a.next=g.next,g.next=a),h.interleaved=a,bi(s,u)}function wd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,is(s,u)}}function Wv(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=x:w=w.next=x,u=u.next}while(u!==null);w===null?g=w=a:w=w.next=a}else g=w=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ed(s,a,u,h){var g=s.updateQueue;ps=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var B=O,K=B.next;B.next=null,x===null?w=K:x.next=K,x=B;var se=s.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==x&&(O===null?se.firstBaseUpdate=K:O.next=K,se.lastBaseUpdate=B))}if(w!==null){var oe=g.baseState;x=0,se=K=B=null,O=w;do{var ie=O.lane,pe=O.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ee=s,Te=O;switch(ie=a,pe=u,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){oe=Ee.call(pe,oe,ie);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,ie=typeof Ee=="function"?Ee.call(pe,oe,ie):Ee,ie==null)break e;oe=le({},oe,ie);break e;case 2:ps=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ie=g.effects,ie===null?g.effects=[O]:ie.push(O))}else pe={eventTime:pe,lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(K=se=pe,B=oe):se=se.next=pe,x|=ie;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);if(se===null&&(B=oe),g.baseState=B,g.firstBaseUpdate=K,g.lastBaseUpdate=se,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);ko|=x,s.lanes=x,s.memoizedState=oe}}function Hv(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var mu={},Qr=ds(mu),gu=ds(mu),yu=ds(mu);function To(s){if(s===mu)throw Error(t(174));return s}function Gp(s,a){switch(dt(yu,a),dt(gu,s),dt(Qr,mu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ut(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ut(a,s)}mt(Qr),dt(Qr,a)}function $a(){mt(Qr),mt(gu),mt(yu)}function zv(s){To(yu.current);var a=To(Qr.current),u=ut(a,s.type);a!==u&&(dt(gu,s),dt(Qr,u))}function Xp(s){gu.current===s&&(mt(Qr),mt(gu))}var Et=ds(0);function Td(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Jp=[];function Zp(){for(var s=0;s<Jp.length;s++)Jp[s]._workInProgressVersionPrimary=null;Jp.length=0}var Sd=q.ReactCurrentDispatcher,em=q.ReactCurrentBatchConfig,So=0,Tt=null,jt=null,Wt=null,kd=!1,_u=!1,vu=0,Qb=0;function on(){throw Error(t(321))}function tm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Cr(s[u],a[u]))return!1;return!0}function nm(s,a,u,h,g,w){if(So=w,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Sd.current=s===null||s.memoizedState===null?Zb:eI,s=u(h,g),_u){w=0;do{if(_u=!1,vu=0,25<=w)throw Error(t(301));w+=1,Wt=jt=null,a.updateQueue=null,Sd.current=tI,s=u(h,g)}while(_u)}if(Sd.current=bd,a=jt!==null&&jt.next!==null,So=0,Wt=jt=Tt=null,kd=!1,a)throw Error(t(300));return s}function rm(){var s=vu!==0;return vu=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Tt.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function sr(){if(jt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=Wt===null?Tt.memoizedState:Wt.next;if(a!==null)Wt=a,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Wt===null?Tt.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function wu(s,a){return typeof a=="function"?a(s):a}function im(s){var a=sr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=jt,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var O=x=null,B=null,K=w;do{var se=K.lane;if((So&se)===se)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(O=B=oe,x=h):B=B.next=oe,Tt.lanes|=se,ko|=se}K=K.next}while(K!==null&&K!==w);B===null?x=h:B.next=O,Cr(h,a.memoizedState)||(Rn=!0),a.memoizedState=h,a.baseState=x,a.baseQueue=B,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do w=g.lane,Tt.lanes|=w,ko|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function sm(s){var a=sr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,w=a.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);Cr(w,a.memoizedState)||(Rn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function qv(){}function Yv(s,a){var u=Tt,h=sr(),g=a(),w=!Cr(h.memoizedState,g);if(w&&(h.memoizedState=g,Rn=!0),h=h.queue,om(Gv.bind(null,u,h,s),[s]),h.getSnapshot!==a||w||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,Eu(9,Qv.bind(null,u,h,g,a),void 0,null),Ht===null)throw Error(t(349));So&30||Kv(u,a,g)}return g}function Kv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Qv(s,a,u,h){a.value=u,a.getSnapshot=h,Xv(a)&&Jv(s)}function Gv(s,a,u){return u(function(){Xv(a)&&Jv(s)})}function Xv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Cr(s,u)}catch{return!0}}function Jv(s){var a=bi(s,1);a!==null&&Rr(a,s,1,-1)}function Zv(s){var a=Gr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:s},a.queue=s,s=s.dispatch=Jb.bind(null,Tt,s),[a.memoizedState,s]}function Eu(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function ew(){return sr().memoizedState}function Cd(s,a,u,h){var g=Gr();Tt.flags|=s,g.memoizedState=Eu(1|a,u,void 0,h===void 0?null:h)}function xd(s,a,u,h){var g=sr();h=h===void 0?null:h;var w=void 0;if(jt!==null){var x=jt.memoizedState;if(w=x.destroy,h!==null&&tm(h,x.deps)){g.memoizedState=Eu(a,u,w,h);return}}Tt.flags|=s,g.memoizedState=Eu(1|a,u,w,h)}function tw(s,a){return Cd(8390656,8,s,a)}function om(s,a){return xd(2048,8,s,a)}function nw(s,a){return xd(4,2,s,a)}function rw(s,a){return xd(4,4,s,a)}function iw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function sw(s,a,u){return u=u!=null?u.concat([s]):null,xd(4,4,iw.bind(null,a,s),u)}function am(){}function ow(s,a){var u=sr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&tm(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function aw(s,a){var u=sr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&tm(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function lw(s,a,u){return So&21?(Cr(u,a)||(u=fo(),Tt.lanes|=u,ko|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Rn=!0),s.memoizedState=u)}function Gb(s,a){var u=ze;ze=u!==0&&4>u?u:4,s(!0);var h=em.transition;em.transition={};try{s(!1),a()}finally{ze=u,em.transition=h}}function uw(){return sr().memoizedState}function Xb(s,a,u){var h=vs(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},cw(s))dw(a,u);else if(u=Bv(s,a,u,h),u!==null){var g=_n();Rr(u,s,h,g),fw(u,a,h)}}function Jb(s,a,u){var h=vs(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(cw(s))dw(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var x=a.lastRenderedState,O=w(x,u);if(g.hasEagerState=!0,g.eagerState=O,Cr(O,x)){var B=a.interleaved;B===null?(g.next=g,Kp(a)):(g.next=B.next,B.next=g),a.interleaved=g;return}}catch{}finally{}u=Bv(s,a,g,h),u!==null&&(g=_n(),Rr(u,s,h,g),fw(u,a,h))}}function cw(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function dw(s,a){_u=kd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function fw(s,a,u){if(u&4194240){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,is(s,u)}}var bd={readContext:ir,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},Zb={readContext:ir,useCallback:function(s,a){return Gr().memoizedState=[s,a===void 0?null:a],s},useContext:ir,useEffect:tw,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Cd(4194308,4,iw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Cd(4,2,s,a)},useMemo:function(s,a){var u=Gr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=Gr();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=Xb.bind(null,Tt,s),[h.memoizedState,s]},useRef:function(s){var a=Gr();return s={current:s},a.memoizedState=s},useState:Zv,useDebugValue:am,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=Zv(!1),a=s[0];return s=Gb.bind(null,s[1]),Gr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=Tt,g=Gr();if(vt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ht===null)throw Error(t(349));So&30||Kv(h,a,u)}g.memoizedState=u;var w={value:u,getSnapshot:a};return g.queue=w,tw(Gv.bind(null,h,w,s),[s]),h.flags|=2048,Eu(9,Qv.bind(null,h,w,u,a),void 0,null),u},useId:function(){var s=Gr(),a=Ht.identifierPrefix;if(vt){var u=xi,h=Ci;u=(h&~(1<<32-mn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=vu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Qb++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},eI={readContext:ir,useCallback:ow,useContext:ir,useEffect:om,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:im,useRef:ew,useState:function(){return im(wu)},useDebugValue:am,useDeferredValue:function(s){var a=sr();return lw(a,jt.memoizedState,s)},useTransition:function(){var s=im(wu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:qv,useSyncExternalStore:Yv,useId:uw,unstable_isNewReconciler:!1},tI={readContext:ir,useCallback:ow,useContext:ir,useEffect:om,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:sm,useRef:ew,useState:function(){return sm(wu)},useDebugValue:am,useDeferredValue:function(s){var a=sr();return jt===null?a.memoizedState=s:lw(a,jt.memoizedState,s)},useTransition:function(){var s=sm(wu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:qv,useSyncExternalStore:Yv,useId:uw,unstable_isNewReconciler:!1};function br(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function lm(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:le({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Id={isMounted:function(s){return(s=s._reactInternals)?_r(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=_n(),g=vs(s),w=Ii(h,g);w.payload=a,u!=null&&(w.callback=u),a=ms(s,w,g),a!==null&&(Rr(a,s,g,h),wd(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=_n(),g=vs(s),w=Ii(h,g);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=ms(s,w,g),a!==null&&(Rr(a,s,g,h),wd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=_n(),h=vs(s),g=Ii(u,h);g.tag=2,a!=null&&(g.callback=a),a=ms(s,g,h),a!==null&&(Rr(a,s,h,u),wd(a,s,h))}};function hw(s,a,u,h,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,x):a.prototype&&a.prototype.isPureReactComponent?!au(u,h)||!au(g,w):!0}function pw(s,a,u){var h=!1,g=fs,w=a.contextType;return typeof w=="object"&&w!==null?w=ir(w):(g=Dn(a)?_o:sn.current,h=a.contextTypes,w=(h=h!=null)?Oa(s,g):fs),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Id,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function mw(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&Id.enqueueReplaceState(a,a.state,null)}function um(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Qp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=ir(w):(w=Dn(a)?_o:sn.current,g.context=Oa(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(lm(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Id.enqueueReplaceState(g,g.state,null),Ed(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Wa(s,a){try{var u="",h=a;do u+=Oe(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function cm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function dm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var nI=typeof WeakMap=="function"?WeakMap:Map;function gw(s,a,u){u=Ii(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){Od||(Od=!0,xm=h),dm(s,a)},u}function yw(s,a,u){u=Ii(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){dm(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){dm(s,a),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),u}function _w(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new nI;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=gI.bind(null,s,a,u),a.then(s,s))}function vw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function ww(s,a,u,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ii(-1,1),a.tag=2,ms(u,a,1))),u.lanes|=1),s)}var rI=q.ReactCurrentOwner,Rn=!1;function yn(s,a,u,h){a.child=s===null?Uv(a,null,u,h):ja(a,s.child,u,h)}function Ew(s,a,u,h,g){u=u.render;var w=a.ref;return Ba(a,g),h=nm(s,a,u,h,w,g),u=rm(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&u&&jp(a),a.flags|=1,yn(s,a,h,g),a.child)}function Tw(s,a,u,h,g){if(s===null){var w=u.type;return typeof w=="function"&&!Nm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,Sw(s,a,w,h,g)):(s=Bd(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var x=w.memoizedProps;if(u=u.compare,u=u!==null?u:au,u(x,h)&&s.ref===a.ref)return Di(s,a,g)}return a.flags|=1,s=Es(w,h),s.ref=a.ref,s.return=a,a.child=s}function Sw(s,a,u,h,g){if(s!==null){var w=s.memoizedProps;if(au(w,h)&&s.ref===a.ref)if(Rn=!1,a.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Rn=!0);else return a.lanes=s.lanes,Di(s,a,g)}return fm(s,a,u,h,g)}function kw(s,a,u){var h=a.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(za,zn),zn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,dt(za,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,dt(za,zn),zn|=h}else w!==null?(h=w.baseLanes|u,a.memoizedState=null):h=u,dt(za,zn),zn|=h;return yn(s,a,g,u),a.child}function Cw(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function fm(s,a,u,h,g){var w=Dn(u)?_o:sn.current;return w=Oa(a,w),Ba(a,g),u=nm(s,a,u,h,w,g),h=rm(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Di(s,a,g)):(vt&&h&&jp(a),a.flags|=1,yn(s,a,u,g),a.child)}function xw(s,a,u,h,g){if(Dn(u)){var w=!0;fd(a)}else w=!1;if(Ba(a,g),a.stateNode===null)Rd(s,a),pw(a,u,h),um(a,u,h,g),h=!0;else if(s===null){var x=a.stateNode,O=a.memoizedProps;x.props=O;var B=x.context,K=u.contextType;typeof K=="object"&&K!==null?K=ir(K):(K=Dn(u)?_o:sn.current,K=Oa(a,K));var se=u.getDerivedStateFromProps,oe=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function";oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==h||B!==K)&&mw(a,x,h,K),ps=!1;var ie=a.memoizedState;x.state=ie,Ed(a,h,x,g),B=a.memoizedState,O!==h||ie!==B||In.current||ps?(typeof se=="function"&&(lm(a,u,se,h),B=a.memoizedState),(O=ps||hw(a,u,O,h,ie,B,K))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=B),x.props=h,x.state=B,x.context=K,h=O):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,$v(s,a),O=a.memoizedProps,K=a.type===a.elementType?O:br(a.type,O),x.props=K,oe=a.pendingProps,ie=x.context,B=u.contextType,typeof B=="object"&&B!==null?B=ir(B):(B=Dn(u)?_o:sn.current,B=Oa(a,B));var pe=u.getDerivedStateFromProps;(se=typeof pe=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==oe||ie!==B)&&mw(a,x,h,B),ps=!1,ie=a.memoizedState,x.state=ie,Ed(a,h,x,g);var Ee=a.memoizedState;O!==oe||ie!==Ee||In.current||ps?(typeof pe=="function"&&(lm(a,u,pe,h),Ee=a.memoizedState),(K=ps||hw(a,u,K,h,ie,Ee,B)||!1)?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ee,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ee,B)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Ee),x.props=h,x.state=Ee,x.context=B,h=K):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ie===s.memoizedState||(a.flags|=1024),h=!1)}return hm(s,a,u,h,w,g)}function hm(s,a,u,h,g,w){Cw(s,a);var x=(a.flags&128)!==0;if(!h&&!x)return g&&Pv(a,u,!1),Di(s,a,w);h=a.stateNode,rI.current=a;var O=x&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&x?(a.child=ja(a,s.child,null,w),a.child=ja(a,null,O,w)):yn(s,a,O,w),a.memoizedState=h.state,g&&Pv(a,u,!0),a.child}function bw(s){var a=s.stateNode;a.pendingContext?Dv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Dv(s,a.context,!1),Gp(s,a.containerInfo)}function Iw(s,a,u,h,g){return Va(),Wp(g),a.flags|=256,yn(s,a,u,h),a.child}var pm={dehydrated:null,treeContext:null,retryLane:0};function mm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dw(s,a,u){var h=a.pendingProps,g=Et.current,w=!1,x=(a.flags&128)!==0,O;if((O=x)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),dt(Et,g&1),s===null)return $p(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(x=h.children,s=h.fallback,w?(h=a.mode,w=a.child,x={mode:"hidden",children:x},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=x):w=$d(x,h,0,null),s=Io(s,h,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=mm(u),a.memoizedState=pm,s):gm(a,x));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return iI(s,a,x,h,O,g,u);if(w){w=h.fallback,x=a.mode,g=s.child,O=g.sibling;var B={mode:"hidden",children:h.children};return!(x&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=B,a.deletions=null):(h=Es(g,B),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=Es(O,w):(w=Io(w,x,u,null),w.flags|=2),w.return=a,h.return=a,h.sibling=w,a.child=h,h=w,w=a.child,x=s.child.memoizedState,x=x===null?mm(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~u,a.memoizedState=pm,h}return w=s.child,s=w.sibling,h=Es(w,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function gm(s,a){return a=$d({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dd(s,a,u,h){return h!==null&&Wp(h),ja(a,s.child,null,u),s=gm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function iI(s,a,u,h,g,w,x){if(u)return a.flags&256?(a.flags&=-257,h=cm(Error(t(422))),Dd(s,a,x,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=h.fallback,g=a.mode,h=$d({mode:"visible",children:h.children},g,0,null),w=Io(w,g,x,null),w.flags|=2,h.return=a,w.return=a,h.sibling=w,a.child=h,a.mode&1&&ja(a,s.child,null,x),a.child.memoizedState=mm(x),a.memoizedState=pm,w);if(!(a.mode&1))return Dd(s,a,x,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,w=Error(t(419)),h=cm(w,h,void 0),Dd(s,a,x,h)}if(O=(x&s.childLanes)!==0,Rn||O){if(h=Ht,h!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|x)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,bi(s,g),Rr(h,s,g,-1))}return Am(),h=cm(Error(t(421))),Dd(s,a,x,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=yI.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Hn=cs(g.nextSibling),Wn=a,vt=!0,xr=null,s!==null&&(nr[rr++]=Ci,nr[rr++]=xi,nr[rr++]=vo,Ci=s.id,xi=s.overflow,vo=a),a=gm(a,h.children),a.flags|=4096,a)}function Rw(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Yp(s.return,a,u)}function ym(s,a,u,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function Pw(s,a,u){var h=a.pendingProps,g=h.revealOrder,w=h.tail;if(yn(s,a,h.children,u),h=Et.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rw(s,u,a);else if(s.tag===19)Rw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(dt(Et,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Td(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),ym(a,!1,g,u,w);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Td(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}ym(a,!0,u,null,w);break;case"together":ym(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Rd(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Di(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ko|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Es(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Es(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function sI(s,a,u){switch(a.tag){case 3:bw(a),Va();break;case 5:zv(a);break;case 1:Dn(a.type)&&fd(a);break;case 4:Gp(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;dt(_d,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(dt(Et,Et.current&1),a.flags|=128,null):u&a.child.childLanes?Dw(s,a,u):(dt(Et,Et.current&1),s=Di(s,a,u),s!==null?s.sibling:null);dt(Et,Et.current&1);break;case 19:if(h=(u&a.childLanes)!==0,s.flags&128){if(h)return Pw(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),dt(Et,Et.current),h)break;return null;case 22:case 23:return a.lanes=0,kw(s,a,u)}return Di(s,a,u)}var Aw,_m,Nw,Mw;Aw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_m=function(){},Nw=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,To(Qr.current);var w=null;switch(u){case"input":g=Cn(s,g),h=Cn(s,h),w=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),w=[];break;case"textarea":g=Zs(s,g),h=Zs(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ud)}$l(u,h);var x;u=null;for(K in g)if(!h.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var O=g[K];for(x in O)O.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in h){var B=h[K];if(O=g!=null?g[K]:void 0,h.hasOwnProperty(K)&&B!==O&&(B!=null||O!=null))if(K==="style")if(O){for(x in O)!O.hasOwnProperty(x)||B&&B.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in B)B.hasOwnProperty(x)&&O[x]!==B[x]&&(u||(u={}),u[x]=B[x])}else u||(w||(w=[]),w.push(K,u)),u=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(w=w||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&pt("scroll",s),w||O===B||(w=[])):(w=w||[]).push(K,B))}u&&(w=w||[]).push("style",u);var K=w;(a.updateQueue=K)&&(a.flags|=4)}},Mw=function(s,a,u,h){u!==h&&(a.flags|=4)};function Tu(s,a){if(!vt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function an(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function oI(s,a,u){var h=a.pendingProps;switch(Up(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Dn(a.type)&&dd(),an(a),null;case 3:return h=a.stateNode,$a(),mt(In),mt(sn),Zp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(gd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,xr!==null&&(Dm(xr),xr=null))),_m(s,a),an(a),null;case 5:Xp(a);var g=To(yu.current);if(u=a.type,s!==null&&a.stateNode!=null)Nw(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return an(a),null}if(s=To(Qr.current),gd(a)){h=a.stateNode,u=a.type;var w=a.memoizedProps;switch(h[Kr]=a,h[fu]=w,s=(a.mode&1)!==0,u){case"dialog":pt("cancel",h),pt("close",h);break;case"iframe":case"object":case"embed":pt("load",h);break;case"video":case"audio":for(g=0;g<uu.length;g++)pt(uu[g],h);break;case"source":pt("error",h);break;case"img":case"image":case"link":pt("error",h),pt("load",h);break;case"details":pt("toggle",h);break;case"input":et(h,w),pt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},pt("invalid",h);break;case"textarea":Ji(h,w),pt("invalid",h)}$l(u,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var O=w[x];x==="children"?typeof O=="string"?h.textContent!==O&&(w.suppressHydrationWarning!==!0&&ld(h.textContent,O,s),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&ld(h.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(x)&&O!=null&&x==="onScroll"&&pt("scroll",h)}switch(u){case"input":Sn(h),oa(h,w,!0);break;case"textarea":Sn(h),eo(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=ud)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=De(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(u,{is:h.is}):(s=x.createElement(u),u==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,u),s[Kr]=a,s[fu]=h,Aw(s,a,!1,!1),a.stateNode=s;e:{switch(x=Wl(u,h),u){case"dialog":pt("cancel",s),pt("close",s),g=h;break;case"iframe":case"object":case"embed":pt("load",s),g=h;break;case"video":case"audio":for(g=0;g<uu.length;g++)pt(uu[g],s);g=h;break;case"source":pt("error",s),g=h;break;case"img":case"image":case"link":pt("error",s),pt("load",s),g=h;break;case"details":pt("toggle",s),g=h;break;case"input":et(s,h),g=Cn(s,h),pt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),pt("invalid",s);break;case"textarea":Ji(s,h),g=Zs(s,h),pt("invalid",s);break;default:g=h}$l(u,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var B=O[w];w==="style"?Ul(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Vl(s,B)):w==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Zi(s,B):typeof B=="number"&&Zi(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&pt("scroll",s):B!=null&&j(s,w,B,x))}switch(u){case"input":Sn(s),oa(s,h,!1);break;case"textarea":Sn(s),eo(s);break;case"option":h.value!=null&&s.setAttribute("value",""+He(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?mr(s,!!h.multiple,w,!1):h.defaultValue!=null&&mr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ud)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(s&&a.stateNode!=null)Mw(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=To(yu.current),To(Qr.current),gd(a)){if(h=a.stateNode,u=a.memoizedProps,h[Kr]=a,(w=h.nodeValue!==u)&&(s=Wn,s!==null))switch(s.tag){case 3:ld(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ld(h.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Kr]=a,a.stateNode=h}return an(a),null;case 13:if(mt(Et),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(vt&&Hn!==null&&a.mode&1&&!(a.flags&128))Fv(),Va(),a.flags|=98560,w=!1;else if(w=gd(a),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Kr]=a}else Va(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;an(a),w=!1}else xr!==null&&(Dm(xr),xr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(s===null||Et.current&1?Ut===0&&(Ut=3):Am())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return $a(),_m(s,a),s===null&&cu(a.stateNode.containerInfo),an(a),null;case 10:return qp(a.type._context),an(a),null;case 17:return Dn(a.type)&&dd(),an(a),null;case 19:if(mt(Et),w=a.memoizedState,w===null)return an(a),null;if(h=(a.flags&128)!==0,x=w.rendering,x===null)if(h)Tu(w,!1);else{if(Ut!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(x=Td(s),x!==null){for(a.flags|=128,Tu(w,!1),h=x.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)w=u,s=h,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return dt(Et,Et.current&1|2),a.child}s=s.sibling}w.tail!==null&&ct()>qa&&(a.flags|=128,h=!0,Tu(w,!1),a.lanes=4194304)}else{if(!h)if(s=Td(x),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Tu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!vt)return an(a),null}else 2*ct()-w.renderingStartTime>qa&&u!==1073741824&&(a.flags|=128,h=!0,Tu(w,!1),a.lanes=4194304);w.isBackwards?(x.sibling=a.child,a.child=x):(u=w.last,u!==null?u.sibling=x:a.child=x,w.last=x)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ct(),a.sibling=null,u=Et.current,dt(Et,h?u&1|2:u&1),a):(an(a),null);case 22:case 23:return Pm(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?zn&1073741824&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function aI(s,a){switch(Up(a),a.tag){case 1:return Dn(a.type)&&dd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $a(),mt(In),mt(sn),Zp(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Xp(a),null;case 13:if(mt(Et),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return mt(Et),null;case 4:return $a(),null;case 10:return qp(a.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Pd=!1,ln=!1,lI=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ha(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Ct(s,a,h)}else u.current=null}function vm(s,a,u){try{u()}catch(h){Ct(s,a,h)}}var Ow=!1;function uI(s,a){if(Pp=as,s=hv(),Sp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var x=0,O=-1,B=-1,K=0,se=0,oe=s,ie=null;t:for(;;){for(var pe;oe!==u||g!==0&&oe.nodeType!==3||(O=x+g),oe!==w||h!==0&&oe.nodeType!==3||(B=x+h),oe.nodeType===3&&(x+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)ie=oe,oe=pe;for(;;){if(oe===s)break t;if(ie===u&&++K===g&&(O=x),ie===w&&++se===h&&(B=x),(pe=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=pe}u=O===-1||B===-1?null:{start:O,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ap={focusedElem:s,selectionRange:u},as=!1,ve=a;ve!==null;)if(a=ve,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ve=s;else for(;ve!==null;){a=ve;try{var Ee=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,Dt=Ee.memoizedState,z=a.stateNode,$=z.getSnapshotBeforeUpdate(a.elementType===a.type?Te:br(a.type,Te),Dt);z.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Ct(a,a.return,ae)}if(s=a.sibling,s!==null){s.return=a.return,ve=s;break}ve=a.return}return Ee=Ow,Ow=!1,Ee}function Su(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&vm(a,u,w)}g=g.next}while(g!==h)}}function Ad(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function wm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Lw(s){var a=s.alternate;a!==null&&(s.alternate=null,Lw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Kr],delete a[fu],delete a[Lp],delete a[zb],delete a[qb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Fw(s){return s.tag===5||s.tag===3||s.tag===4}function Vw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Em(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ud));else if(h!==4&&(s=s.child,s!==null))for(Em(s,a,u),s=s.sibling;s!==null;)Em(s,a,u),s=s.sibling}function Tm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Tm(s,a,u),s=s.sibling;s!==null;)Tm(s,a,u),s=s.sibling}var Jt=null,Ir=!1;function gs(s,a,u){for(u=u.child;u!==null;)jw(s,a,u),u=u.sibling}function jw(s,a,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(uo,u)}catch{}switch(u.tag){case 5:ln||Ha(u,a);case 6:var h=Jt,g=Ir;Jt=null,gs(s,a,u),Jt=h,Ir=g,Jt!==null&&(Ir?(s=Jt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Jt.removeChild(u.stateNode));break;case 18:Jt!==null&&(Ir?(s=Jt,u=u.stateNode,s.nodeType===8?Op(s.parentNode,u):s.nodeType===1&&Op(s,u),Sr(s)):Op(Jt,u.stateNode));break;case 4:h=Jt,g=Ir,Jt=u.stateNode.containerInfo,Ir=!0,gs(s,a,u),Jt=h,Ir=g;break;case 0:case 11:case 14:case 15:if(!ln&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&(w&2||w&4)&&vm(u,a,x),g=g.next}while(g!==h)}gs(s,a,u);break;case 1:if(!ln&&(Ha(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){Ct(u,a,O)}gs(s,a,u);break;case 21:gs(s,a,u);break;case 22:u.mode&1?(ln=(h=ln)||u.memoizedState!==null,gs(s,a,u),ln=h):gs(s,a,u);break;default:gs(s,a,u)}}function Uw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new lI),a.forEach(function(h){var g=_I.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Dr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=s,x=a,O=x;e:for(;O!==null;){switch(O.tag){case 5:Jt=O.stateNode,Ir=!1;break e;case 3:Jt=O.stateNode.containerInfo,Ir=!0;break e;case 4:Jt=O.stateNode.containerInfo,Ir=!0;break e}O=O.return}if(Jt===null)throw Error(t(160));jw(w,x,g),Jt=null,Ir=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(K){Ct(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Bw(a,s),a=a.sibling}function Bw(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(a,s),Xr(s),h&4){try{Su(3,s,s.return),Ad(3,s)}catch(Te){Ct(s,s.return,Te)}try{Su(5,s,s.return)}catch(Te){Ct(s,s.return,Te)}}break;case 1:Dr(a,s),Xr(s),h&512&&u!==null&&Ha(u,u.return);break;case 5:if(Dr(a,s),Xr(s),h&512&&u!==null&&Ha(u,u.return),s.flags&32){var g=s.stateNode;try{Zi(g,"")}catch(Te){Ct(s,s.return,Te)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=u!==null?u.memoizedProps:w,O=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&Ur(g,w),Wl(O,x);var K=Wl(O,w);for(x=0;x<B.length;x+=2){var se=B[x],oe=B[x+1];se==="style"?Ul(g,oe):se==="dangerouslySetInnerHTML"?Vl(g,oe):se==="children"?Zi(g,oe):j(g,se,oe,K)}switch(O){case"input":hr(g,w);break;case"textarea":gi(g,w);break;case"select":var ie=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?mr(g,!!w.multiple,pe,!1):ie!==!!w.multiple&&(w.defaultValue!=null?mr(g,!!w.multiple,w.defaultValue,!0):mr(g,!!w.multiple,w.multiple?[]:"",!1))}g[fu]=w}catch(Te){Ct(s,s.return,Te)}}break;case 6:if(Dr(a,s),Xr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Te){Ct(s,s.return,Te)}}break;case 3:if(Dr(a,s),Xr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Sr(a.containerInfo)}catch(Te){Ct(s,s.return,Te)}break;case 4:Dr(a,s),Xr(s);break;case 13:Dr(a,s),Xr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Cm=ct())),h&4&&Uw(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(ln=(K=ln)||se,Dr(a,s),ln=K):Dr(a,s),Xr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!se&&s.mode&1)for(ve=s,se=s.child;se!==null;){for(oe=ve=se;ve!==null;){switch(ie=ve,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Su(4,ie,ie.return);break;case 1:Ha(ie,ie.return);var Ee=ie.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=ie,u=ie.return;try{a=h,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){Ct(h,u,Te)}}break;case 5:Ha(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Hw(oe);continue}}pe!==null?(pe.return=ie,ve=pe):Hw(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{g=oe.stateNode,K?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=oe.stateNode,B=oe.memoizedProps.style,x=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=jl("display",x))}catch(Te){Ct(s,s.return,Te)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(Te){Ct(s,s.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Dr(a,s),Xr(s),h&4&&Uw(s);break;case 21:break;default:Dr(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Fw(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Zi(g,""),h.flags&=-33);var w=Vw(s);Tm(s,w,g);break;case 3:case 4:var x=h.stateNode.containerInfo,O=Vw(s);Em(s,O,x);break;default:throw Error(t(161))}}catch(B){Ct(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cI(s,a,u){ve=s,$w(s)}function $w(s,a,u){for(var h=(s.mode&1)!==0;ve!==null;){var g=ve,w=g.child;if(g.tag===22&&h){var x=g.memoizedState!==null||Pd;if(!x){var O=g.alternate,B=O!==null&&O.memoizedState!==null||ln;O=Pd;var K=ln;if(Pd=x,(ln=B)&&!K)for(ve=g;ve!==null;)x=ve,B=x.child,x.tag===22&&x.memoizedState!==null?zw(g):B!==null?(B.return=x,ve=B):zw(g);for(;w!==null;)ve=w,$w(w),w=w.sibling;ve=g,Pd=O,ln=K}Ww(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ve=w):Ww(s)}}function Ww(s){for(;ve!==null;){var a=ve;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ln||Ad(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!ln)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:br(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Hv(a,w,h);break;case 3:var x=a.updateQueue;if(x!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Hv(a,x,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Sr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||a.flags&512&&wm(a)}catch(ie){Ct(a,a.return,ie)}}if(a===s){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function Hw(s){for(;ve!==null;){var a=ve;if(a===s){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function zw(s){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Ad(4,a)}catch(B){Ct(a,u,B)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(B){Ct(a,g,B)}}var w=a.return;try{wm(a)}catch(B){Ct(a,w,B)}break;case 5:var x=a.return;try{wm(a)}catch(B){Ct(a,x,B)}}}catch(B){Ct(a,a.return,B)}if(a===s){ve=null;break}var O=a.sibling;if(O!==null){O.return=a.return,ve=O;break}ve=a.return}}var dI=Math.ceil,Nd=q.ReactCurrentDispatcher,Sm=q.ReactCurrentOwner,or=q.ReactCurrentBatchConfig,Ge=0,Ht=null,Mt=null,Zt=0,zn=0,za=ds(0),Ut=0,ku=null,ko=0,Md=0,km=0,Cu=null,Pn=null,Cm=0,qa=1/0,Ri=null,Od=!1,xm=null,ys=null,Ld=!1,_s=null,Fd=0,xu=0,bm=null,Vd=-1,jd=0;function _n(){return Ge&6?ct():Vd!==-1?Vd:Vd=ct()}function vs(s){return s.mode&1?Ge&2&&Zt!==0?Zt&-Zt:Kb.transition!==null?(jd===0&&(jd=fo()),jd):(s=ze,s!==0||(s=window.event,s=s===void 0?16:eu(s.type)),s):1}function Rr(s,a,u,h){if(50<xu)throw xu=0,bm=null,Error(t(185));rs(s,u,h),(!(Ge&2)||s!==Ht)&&(s===Ht&&(!(Ge&2)&&(Md|=u),Ut===4&&ws(s,Zt)),An(s,h),u===1&&Ge===0&&!(a.mode&1)&&(qa=ct()+500,hd&&hs()))}function An(s,a){var u=s.callbackNode;_i(s,a);var h=co(s,s===Ht?Zt:0);if(h===0)u!==null&&Ql(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&Ql(u),a===1)s.tag===0?Yb(Yw.bind(null,s)):Av(Yw.bind(null,s)),Wb(function(){!(Ge&6)&&hs()}),u=null;else{switch(ss(h)){case 1:u=lo;break;case 4:u=es;break;case 16:u=Zn;break;case 536870912:u=jc;break;default:u=Zn}u=tE(u,qw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function qw(s,a){if(Vd=-1,jd=0,Ge&6)throw Error(t(327));var u=s.callbackNode;if(Ya()&&s.callbackNode!==u)return null;var h=co(s,s===Ht?Zt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||a)a=Ud(s,h);else{a=h;var g=Ge;Ge|=2;var w=Qw();(Ht!==s||Zt!==a)&&(Ri=null,qa=ct()+500,xo(s,a));do try{pI();break}catch(O){Kw(s,O)}while(!0);zp(),Nd.current=w,Ge=g,Mt!==null?a=0:(Ht=null,Zt=0,a=Ut)}if(a!==0){if(a===2&&(g=Un(s),g!==0&&(h=g,a=Im(s,g))),a===1)throw u=ku,xo(s,0),ws(s,h),An(s,ct()),u;if(a===6)ws(s,h);else{if(g=s.current.alternate,!(h&30)&&!fI(g)&&(a=Ud(s,h),a===2&&(w=Un(s),w!==0&&(h=w,a=Im(s,w))),a===1))throw u=ku,xo(s,0),ws(s,h),An(s,ct()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:bo(s,Pn,Ri);break;case 3:if(ws(s,h),(h&130023424)===h&&(a=Cm+500-ct(),10<a)){if(co(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Mp(bo.bind(null,s,Pn,Ri),a);break}bo(s,Pn,Ri);break;case 4:if(ws(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var x=31-mn(h);w=1<<x,x=a[x],x>g&&(g=x),h&=~w}if(h=g,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*dI(h/1960))-h,10<h){s.timeoutHandle=Mp(bo.bind(null,s,Pn,Ri),h);break}bo(s,Pn,Ri);break;case 5:bo(s,Pn,Ri);break;default:throw Error(t(329))}}}return An(s,ct()),s.callbackNode===u?qw.bind(null,s):null}function Im(s,a){var u=Cu;return s.current.memoizedState.isDehydrated&&(xo(s,a).flags|=256),s=Ud(s,a),s!==2&&(a=Pn,Pn=u,a!==null&&Dm(a)),s}function Dm(s){Pn===null?Pn=s:Pn.push.apply(Pn,s)}function fI(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!Cr(w(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ws(s,a){for(a&=~km,a&=~Md,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-mn(a),h=1<<u;s[u]=-1,a&=~h}}function Yw(s){if(Ge&6)throw Error(t(327));Ya();var a=co(s,0);if(!(a&1))return An(s,ct()),null;var u=Ud(s,a);if(s.tag!==0&&u===2){var h=Un(s);h!==0&&(a=h,u=Im(s,h))}if(u===1)throw u=ku,xo(s,0),ws(s,a),An(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,bo(s,Pn,Ri),An(s,ct()),null}function Rm(s,a){var u=Ge;Ge|=1;try{return s(a)}finally{Ge=u,Ge===0&&(qa=ct()+500,hd&&hs())}}function Co(s){_s!==null&&_s.tag===0&&!(Ge&6)&&Ya();var a=Ge;Ge|=1;var u=or.transition,h=ze;try{if(or.transition=null,ze=1,s)return s()}finally{ze=h,or.transition=u,Ge=a,!(Ge&6)&&hs()}}function Pm(){zn=za.current,mt(za)}function xo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,$b(u)),Mt!==null)for(u=Mt.return;u!==null;){var h=u;switch(Up(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&dd();break;case 3:$a(),mt(In),mt(sn),Zp();break;case 5:Xp(h);break;case 4:$a();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:qp(h.type._context);break;case 22:case 23:Pm()}u=u.return}if(Ht=s,Mt=s=Es(s.current,null),Zt=zn=a,Ut=0,ku=null,km=Md=ko=0,Pn=Cu=null,Eo!==null){for(a=0;a<Eo.length;a++)if(u=Eo[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var x=w.next;w.next=g,h.next=x}u.pending=h}Eo=null}return s}function Kw(s,a){do{var u=Mt;try{if(zp(),Sd.current=bd,kd){for(var h=Tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}kd=!1}if(So=0,Wt=jt=Tt=null,_u=!1,vu=0,Sm.current=null,u===null||u.return===null){Ut=1,ku=a,Mt=null;break}e:{var w=s,x=u.return,O=u,B=a;if(a=Zt,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,se=O,oe=se.tag;if(!(se.mode&1)&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=vw(x);if(pe!==null){pe.flags&=-257,ww(pe,x,O,w,a),pe.mode&1&&_w(w,K,a),a=pe,B=K;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(B),a.updateQueue=Te}else Ee.add(B);break e}else{if(!(a&1)){_w(w,K,a),Am();break e}B=Error(t(426))}}else if(vt&&O.mode&1){var Dt=vw(x);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),ww(Dt,x,O,w,a),Wp(Wa(B,O));break e}}w=B=Wa(B,O),Ut!==4&&(Ut=2),Cu===null?Cu=[w]:Cu.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var z=gw(w,B,a);Wv(w,z);break e;case 1:O=B;var $=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof $.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ys===null||!ys.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var ae=yw(w,O,a);Wv(w,ae);break e}}w=w.return}while(w!==null)}Xw(u)}catch(Se){a=Se,Mt===u&&u!==null&&(Mt=u=u.return);continue}break}while(!0)}function Qw(){var s=Nd.current;return Nd.current=bd,s===null?bd:s}function Am(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||!(ko&268435455)&&!(Md&268435455)||ws(Ht,Zt)}function Ud(s,a){var u=Ge;Ge|=2;var h=Qw();(Ht!==s||Zt!==a)&&(Ri=null,xo(s,a));do try{hI();break}catch(g){Kw(s,g)}while(!0);if(zp(),Ge=u,Nd.current=h,Mt!==null)throw Error(t(261));return Ht=null,Zt=0,Ut}function hI(){for(;Mt!==null;)Gw(Mt)}function pI(){for(;Mt!==null&&!Fc();)Gw(Mt)}function Gw(s){var a=eE(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?Xw(s):Mt=a,Sm.current=null}function Xw(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=aI(u,a),u!==null){u.flags&=32767,Mt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,Mt=null;return}}else if(u=oI(u,a,zn),u!==null){Mt=u;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);Ut===0&&(Ut=5)}function bo(s,a,u){var h=ze,g=or.transition;try{or.transition=null,ze=1,mI(s,a,u,h)}finally{or.transition=g,ze=h}return null}function mI(s,a,u,h){do Ya();while(_s!==null);if(Ge&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(lt(s,w),s===Ht&&(Mt=Ht=null,Zt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ld||(Ld=!0,tE(Zn,function(){return Ya(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=or.transition,or.transition=null;var x=ze;ze=1;var O=Ge;Ge|=4,Sm.current=null,uI(s,u),Bw(u,s),Ob(Ap),as=!!Pp,Ap=Pp=null,s.current=u,cI(u),mp(),Ge=O,ze=x,or.transition=w}else s.current=u;if(Ld&&(Ld=!1,_s=s,Fd=g),w=s.pendingLanes,w===0&&(ys=null),Uc(u.stateNode),An(s,ct()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(Od)throw Od=!1,s=xm,xm=null,s;return Fd&1&&s.tag!==0&&Ya(),w=s.pendingLanes,w&1?s===bm?xu++:(xu=0,bm=s):xu=0,hs(),null}function Ya(){if(_s!==null){var s=ss(Fd),a=or.transition,u=ze;try{if(or.transition=null,ze=16>s?16:s,_s===null)var h=!1;else{if(s=_s,_s=null,Fd=0,Ge&6)throw Error(t(331));var g=Ge;for(Ge|=4,ve=s.current;ve!==null;){var w=ve,x=w.child;if(ve.flags&16){var O=w.deletions;if(O!==null){for(var B=0;B<O.length;B++){var K=O[B];for(ve=K;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:Su(8,se,w)}var oe=se.child;if(oe!==null)oe.return=se,ve=oe;else for(;ve!==null;){se=ve;var ie=se.sibling,pe=se.return;if(Lw(se),se===K){ve=null;break}if(ie!==null){ie.return=pe,ve=ie;break}ve=pe}}}var Ee=w.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var Dt=Te.sibling;Te.sibling=null,Te=Dt}while(Te!==null)}}ve=w}}if(w.subtreeFlags&2064&&x!==null)x.return=w,ve=x;else e:for(;ve!==null;){if(w=ve,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Su(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,ve=z;break e}ve=w.return}}var $=s.current;for(ve=$;ve!==null;){x=ve;var Y=x.child;if(x.subtreeFlags&2064&&Y!==null)Y.return=x,ve=Y;else e:for(x=$;ve!==null;){if(O=ve,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Ad(9,O)}}catch(Se){Ct(O,O.return,Se)}if(O===x){ve=null;break e}var ae=O.sibling;if(ae!==null){ae.return=O.return,ve=ae;break e}ve=O.return}}if(Ge=g,hs(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(uo,s)}catch{}h=!0}return h}finally{ze=u,or.transition=a}}return!1}function Jw(s,a,u){a=Wa(u,a),a=gw(s,a,1),s=ms(s,a,1),a=_n(),s!==null&&(rs(s,1,a),An(s,a))}function Ct(s,a,u){if(s.tag===3)Jw(s,s,u);else for(;a!==null;){if(a.tag===3){Jw(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ys===null||!ys.has(h))){s=Wa(u,s),s=yw(a,s,1),a=ms(a,s,1),s=_n(),a!==null&&(rs(a,1,s),An(a,s));break}}a=a.return}}function gI(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&u,Ht===s&&(Zt&u)===u&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>ct()-Cm?xo(s,0):km|=u),An(s,a)}function Zw(s,a){a===0&&(s.mode&1?(a=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):a=1);var u=_n();s=bi(s,a),s!==null&&(rs(s,a,u),An(s,u))}function yI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Zw(s,u)}function _I(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),Zw(s,u)}var eE;eE=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||In.current)Rn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return Rn=!1,sI(s,a,u);Rn=!!(s.flags&131072)}else Rn=!1,vt&&a.flags&1048576&&Nv(a,md,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Rd(s,a),s=a.pendingProps;var g=Oa(a,sn.current);Ba(a,u),g=nm(null,a,h,s,g,u);var w=rm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Dn(h)?(w=!0,fd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Qp(a),g.updater=Id,a.stateNode=g,g._reactInternals=a,um(a,h,s,u),a=hm(null,a,h,!0,w,u)):(a.tag=0,vt&&w&&jp(a),yn(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(Rd(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=wI(h),s=br(h,s),g){case 0:a=fm(null,a,h,s,u);break e;case 1:a=xw(null,a,h,s,u);break e;case 11:a=Ew(null,a,h,s,u);break e;case 14:a=Tw(null,a,h,br(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),fm(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),xw(s,a,h,g,u);case 3:e:{if(bw(a),s===null)throw Error(t(387));h=a.pendingProps,w=a.memoizedState,g=w.element,$v(s,a),Ed(a,h,null,u);var x=a.memoizedState;if(h=x.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=Wa(Error(t(423)),a),a=Iw(s,a,h,u,g);break e}else if(h!==g){g=Wa(Error(t(424)),a),a=Iw(s,a,h,u,g);break e}else for(Hn=cs(a.stateNode.containerInfo.firstChild),Wn=a,vt=!0,xr=null,u=Uv(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Va(),h===g){a=Di(s,a,u);break e}yn(s,a,h,u)}a=a.child}return a;case 5:return zv(a),s===null&&$p(a),h=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,Np(h,g)?x=null:w!==null&&Np(h,w)&&(a.flags|=32),Cw(s,a),yn(s,a,x,u),a.child;case 6:return s===null&&$p(a),null;case 13:return Dw(s,a,u);case 4:return Gp(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ja(a,null,h,u):yn(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),Ew(s,a,h,g,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,w=a.memoizedProps,x=g.value,dt(_d,h._currentValue),h._currentValue=x,w!==null)if(Cr(w.value,x)){if(w.children===g.children&&!In.current){a=Di(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var O=w.dependencies;if(O!==null){x=w.child;for(var B=O.firstContext;B!==null;){if(B.context===h){if(w.tag===1){B=Ii(-1,u&-u),B.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?B.next=B:(B.next=se.next,se.next=B),K.pending=B}}w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),Yp(w.return,u,a),O.lanes|=u;break}B=B.next}}else if(w.tag===10)x=w.type===a.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(t(341));x.lanes|=u,O=x.alternate,O!==null&&(O.lanes|=u),Yp(x,u,a),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===a){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}yn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Ba(a,u),g=ir(g),h=h(g),a.flags|=1,yn(s,a,h,u),a.child;case 14:return h=a.type,g=br(h,a.pendingProps),g=br(h.type,g),Tw(s,a,h,g,u);case 15:return Sw(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:br(h,g),Rd(s,a),a.tag=1,Dn(h)?(s=!0,fd(a)):s=!1,Ba(a,u),pw(a,h,g),um(a,h,g,u),hm(null,a,h,!0,s,u);case 19:return Pw(s,a,u);case 22:return kw(s,a,u)}throw Error(t(156,a.tag))};function tE(s,a){return pa(s,a)}function vI(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,a,u,h){return new vI(s,a,u,h)}function Nm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wI(s){if(typeof s=="function")return Nm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Ie)return 14}return 2}function Es(s,a){var u=s.alternate;return u===null?(u=ar(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Bd(s,a,u,h,g,w){var x=2;if(h=s,typeof s=="function")Nm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case A:return Io(u.children,g,w,a);case D:x=8,g|=8;break;case P:return s=ar(12,u,a,g|2),s.elementType=P,s.lanes=w,s;case M:return s=ar(13,u,a,g),s.elementType=M,s.lanes=w,s;case ke:return s=ar(19,u,a,g),s.elementType=ke,s.lanes=w,s;case de:return $d(u,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:x=10;break e;case V:x=9;break e;case U:x=11;break e;case Ie:x=14;break e;case he:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ar(x,u,a,g),a.elementType=s,a.type=h,a.lanes=w,a}function Io(s,a,u,h){return s=ar(7,s,h,a),s.lanes=u,s}function $d(s,a,u,h){return s=ar(22,s,h,a),s.elementType=de,s.lanes=u,s.stateNode={isHidden:!1},s}function Mm(s,a,u){return s=ar(6,s,null,a),s.lanes=u,s}function Om(s,a,u){return a=ar(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function EI(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Lm(s,a,u,h,g,w,x,O,B){return s=new EI(s,a,u,O,B),a===1?(a=1,w===!0&&(a|=8)):a=0,w=ar(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(w),s}function TI(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function nE(s){if(!s)return fs;s=s._reactInternals;e:{if(_r(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Dn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Dn(u))return Rv(s,u,a)}return a}function rE(s,a,u,h,g,w,x,O,B){return s=Lm(u,h,!0,s,g,w,x,O,B),s.context=nE(null),u=s.current,h=_n(),g=vs(u),w=Ii(h,g),w.callback=a??null,ms(u,w,g),s.current.lanes=g,rs(s,g,h),An(s,h),s}function Wd(s,a,u,h){var g=a.current,w=_n(),x=vs(g);return u=nE(u),a.context===null?a.context=u:a.pendingContext=u,a=Ii(w,x),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=ms(g,a,x),s!==null&&(Rr(s,g,x,w),wd(s,g,x)),x}function Hd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function iE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Fm(s,a){iE(s,a),(s=s.alternate)&&iE(s,a)}var sE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Vm(s){this._internalRoot=s}zd.prototype.render=Vm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Wd(s,a,null,null)},zd.prototype.unmount=Vm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Co(function(){Wd(null,s,null,null)}),a[Si]=null}};function zd(s){this._internalRoot=s}zd.prototype.unstable_scheduleHydration=function(s){if(s){var a=zc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Hr.length&&a!==0&&a<Hr[u].priority;u++);Hr.splice(u,0,s),u===0&&Kc(s)}};function jm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function oE(){}function SI(s,a,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var K=Hd(x);w.call(K)}}var x=rE(a,h,s,0,null,!1,!1,"",oE);return s._reactRootContainer=x,s[Si]=x.current,cu(s.nodeType===8?s.parentNode:s),Co(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var K=Hd(B);O.call(K)}}var B=Lm(s,0,!1,null,null,!1,!1,"",oE);return s._reactRootContainer=B,s[Si]=B.current,cu(s.nodeType===8?s.parentNode:s),Co(function(){Wd(a,B,u,h)}),B}function Yd(s,a,u,h,g){var w=u._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var O=g;g=function(){var B=Hd(x);O.call(B)}}Wd(a,x,s,g)}else x=SI(u,a,s,g,h);return Hd(x)}Wc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ts(a.pendingLanes);u!==0&&(is(a,u|1),An(a,ct()),!(Ge&6)&&(qa=ct()+500,hs()))}break;case 13:Co(function(){var h=bi(s,1);if(h!==null){var g=_n();Rr(h,s,1,g)}}),Fm(s,1)}},ya=function(s){if(s.tag===13){var a=bi(s,134217728);if(a!==null){var u=_n();Rr(a,s,134217728,u)}Fm(s,134217728)}},Hc=function(s){if(s.tag===13){var a=vs(s),u=bi(s,a);if(u!==null){var h=_n();Rr(u,s,a,h)}Fm(s,a)}},zc=function(){return ze},qc=function(s,a){var u=ze;try{return ze=s,a()}finally{ze=u}},la=function(s,a,u){switch(a){case"input":if(hr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=cd(h);if(!g)throw Error(t(90));Vn(h),hr(h,g)}}}break;case"textarea":gi(s,u);break;case"select":a=u.value,a!=null&&mr(s,!!u.multiple,a,!1)}},io=Rm,zl=Co;var kI={usingClientEntryPoint:!1,Events:[hu,Na,cd,$r,Hl,Rm]},bu={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CI={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Kl(s),s===null?null:s.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{uo=Kd.inject(CI),jn=Kd}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI,Nn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(a))throw Error(t(200));return TI(s,a,null,u)},Nn.createRoot=function(s,a){if(!jm(s))throw Error(t(299));var u=!1,h="",g=sE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Lm(s,1,!1,null,null,u,!1,h,g),s[Si]=a.current,cu(s.nodeType===8?s.parentNode:s),new Vm(a)},Nn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Kl(a),s=s===null?null:s.stateNode,s},Nn.flushSync=function(s){return Co(s)},Nn.hydrate=function(s,a,u){if(!qd(a))throw Error(t(200));return Yd(null,s,a,!0,u)},Nn.hydrateRoot=function(s,a,u){if(!jm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",x=sE;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),a=rE(a,null,s,1,u??null,g,!1,w,x),s[Si]=a.current,cu(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new zd(a)},Nn.render=function(s,a,u){if(!qd(a))throw Error(t(200));return Yd(null,s,a,!1,u)},Nn.unmountComponentAtNode=function(s){if(!qd(s))throw Error(t(40));return s._reactRootContainer?(Co(function(){Yd(null,null,s,!1,function(){s._reactRootContainer=null,s[Si]=null})}),!0):!1},Nn.unstable_batchedUpdates=Rm,Nn.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!qd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Yd(s,a,u,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var pE;function tk(){if(pE)return $m.exports;pE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$m.exports=LI(),$m.exports}var mE;function FI(){if(mE)return Qd;mE=1;var r=tk();return Qd.createRoot=r.createRoot,Qd.hydrateRoot=r.hydrateRoot,Qd}var VI=FI(),Du={},gE;function jI(){if(gE)return Du;gE=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.parse=l,Du.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const C=new o,I=_.length;if(I<2)return C;const b=(E==null?void 0:E.decode)||m;let N=0;do{const F=_.indexOf("=",N);if(F===-1)break;const j=_.indexOf(";",N),q=j===-1?I:j;if(F>q){N=_.lastIndexOf(";",F-1)+1;continue}const X=c(_,N,F),Z=d(_,F,X),A=_.slice(X,Z);if(C[A]===void 0){let D=c(_,F+1,q),P=d(_,q,D);const L=b(_.slice(D,P));C[A]=L}N=q+1}while(N<I);return C}function c(_,E,C){do{const I=_.charCodeAt(E);if(I!==32&&I!==9)return E}while(++E<C);return C}function d(_,E,C){for(;E>C;){const I=_.charCodeAt(--E);if(I!==32&&I!==9)return E+1}return C}function p(_,E,C){const I=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=I(E);if(!e.test(b))throw new TypeError(`argument val is invalid: ${E}`);let N=_+"="+b;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!y(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Du}jI();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yE="popstate";function UI(r={}){function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return Dg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Ju(i)}return $I(e,t,null,r)}function wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BI(){return Math.random().toString(36).substring(2,10)}function _E(r,e){return{usr:r.state,key:r.key,idx:e}}function Dg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:t,key:e&&e.key||n||BI()}}function Ju({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Cl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function $I(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let b=m(),N=b==null?null:b-p;p=b,d&&d({action:c,location:I.location,delta:N})}function _(b,N){c="PUSH";let F=Dg(I.location,b,N);p=m()+1;let j=_E(F,p),q=I.createHref(F);try{l.pushState(j,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}o&&d&&d({action:c,location:I.location,delta:1})}function E(b,N){c="REPLACE";let F=Dg(I.location,b,N);p=m();let j=_E(F,p),q=I.createHref(F);l.replaceState(j,"",q),o&&d&&d({action:c,location:I.location,delta:0})}function C(b){let N=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof b=="string"?b:Ju(b);return F=F.replace(/ $/,"%20"),wt(N,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,N)}let I={get action(){return c},get location(){return r(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(yE,y),d=b,()=>{i.removeEventListener(yE,y),d=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let N=C(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:E,go(b){return l.go(b)}};return I}function nk(r,e,t="/"){return WI(r,e,t,!1)}function WI(r,e,t,n){let i=typeof e=="string"?Cl(e):e,o=Us(i.pathname||"/",t);if(o==null)return null;let l=rk(r);HI(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=tD(o);c=ZI(l[d],p,n)}return c}function rk(r,e=[],t=[],n=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=Oi([n,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rk(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:XI(p,o.index),routesMeta:m})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of ik(o.path))i(o,l,d)}),e}function ik(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=ik(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function HI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:JI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var zI=/^:[\w-]+$/,qI=3,YI=2,KI=1,QI=10,GI=-2,vE=r=>r==="*";function XI(r,e){let t=r.split("/"),n=t.length;return t.some(vE)&&(n+=GI),e&&(n+=YI),t.filter(i=>!vE(i)).reduce((i,o)=>i+(zI.test(o)?qI:o===""?KI:QI),n)}function JI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function ZI(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Oi([o,y.pathname]),pathnameBase:sD(Oi([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Oi([o,y.pathnameBase]))}return l}function Lf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=eD(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:y},_)=>{if(m==="*"){let C=c[_]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const E=c[_];return y&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:r}}function eD(r,e=!1,t=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function tD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Us(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function nD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Cl(r):r;return{pathname:t?t.startsWith("/")?t:rD(t,e):e,search:oD(n),hash:aD(i)}}function rD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ky(r){let e=iD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Cy(r,e,t,n=!1){let i;typeof r=="string"?i=Cl(r):(i={...r},wt(!i.pathname||!i.pathname.includes("?"),zm("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),zm("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),zm("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=nD(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),sD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function lD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sk=["POST","PUT","PATCH","DELETE"];new Set(sk);var uD=["GET",...sk];new Set(uD);var xl=k.createContext(null);xl.displayName="DataRouter";var Th=k.createContext(null);Th.displayName="DataRouterState";var ok=k.createContext({isTransitioning:!1});ok.displayName="ViewTransition";var cD=k.createContext(new Map);cD.displayName="Fetchers";var dD=k.createContext(null);dD.displayName="Await";var Lr=k.createContext(null);Lr.displayName="Navigation";var hc=k.createContext(null);hc.displayName="Location";var Fr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var xy=k.createContext(null);xy.displayName="RouteError";function fD(r,{relative:e}={}){wt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=k.useContext(Lr),{hash:i,pathname:o,search:l}=mc(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),n.createHref({pathname:c,search:l,hash:i})}function bl(){return k.useContext(hc)!=null}function Ks(){return wt(bl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(hc).location}var ak="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lk(r){k.useContext(Lr).static||k.useLayoutEffect(r)}function pc(){let{isDataRoute:r}=k.useContext(Fr);return r?CD():hD()}function hD(){wt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(xl),{basename:e,navigator:t}=k.useContext(Lr),{matches:n}=k.useContext(Fr),{pathname:i}=Ks(),o=JSON.stringify(ky(n)),l=k.useRef(!1);return lk(()=>{l.current=!0}),k.useCallback((d,p={})=>{if(Ar(l.current,ak),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Cy(d,JSON.parse(o),i,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,r])}k.createContext(null);function by(){let{matches:r}=k.useContext(Fr),e=r[r.length-1];return e?e.params:{}}function mc(r,{relative:e}={}){let{matches:t}=k.useContext(Fr),{pathname:n}=Ks(),i=JSON.stringify(ky(t));return k.useMemo(()=>Cy(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function pD(r,e){return uk(r,e)}function uk(r,e,t,n){var N;wt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Lr),{matches:o}=k.useContext(Fr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let F=m&&m.path||"";ck(d,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Ks(),_;if(e){let F=typeof e=="string"?Cl(e):e;wt(p==="/"||((N=F.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),_=F}else _=y;let E=_.pathname||"/",C=E;if(p!=="/"){let F=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let I=nk(r,{pathname:C});Ar(m||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ar(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=vD(I&&I.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:Oi([p,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Oi([p,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),o,t,n);return e&&b?k.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},b):b}function mD(){let r=kD(),e=lD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,l)}var gD=k.createElement(mD,null),yD=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?k.createElement(Fr.Provider,{value:this.props.routeContext},k.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _D({routeContext:r,match:e,children:t}){let n=k.useContext(xl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Fr.Provider,{value:r},t)}function vD(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:y}=t,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let y,_=!1,E=null,C=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||gD,l&&(c<0&&m===0?(ck("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):c===m&&(_=!0,C=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),b=()=>{let N;return y?N=E:_?N=C:p.route.Component?N=k.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,k.createElement(_D,{match:p,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?k.createElement(yD,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:b(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):b()},null)}function Iy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wD(r){let e=k.useContext(xl);return wt(e,Iy(r)),e}function ED(r){let e=k.useContext(Th);return wt(e,Iy(r)),e}function TD(r){let e=k.useContext(Fr);return wt(e,Iy(r)),e}function Dy(r){let e=TD(r),t=e.matches[e.matches.length-1];return wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function SD(){return Dy("useRouteId")}function kD(){var n;let r=k.useContext(xy),e=ED("useRouteError"),t=Dy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function CD(){let{router:r}=wD("useNavigate"),e=Dy("useNavigate"),t=k.useRef(!1);return lk(()=>{t.current=!0}),k.useCallback(async(i,o={})=>{Ar(t.current,ak),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var wE={};function ck(r,e,t){!e&&!wE[r]&&(wE[r]=!0,Ar(!1,t))}k.memo(xD);function xD({routes:r,future:e,state:t}){return uk(r,void 0,t,e)}function EE({to:r,replace:e,state:t,relative:n}){wt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Lr);Ar(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(Fr),{pathname:l}=Ks(),c=pc(),d=Cy(r,ky(o),l,n==="path"),p=JSON.stringify(d);return k.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:n})},[c,p,n,e,t]),null}function lr(r){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bD({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){wt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Cl(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:_="default"}=t,E=k.useMemo(()=>{let C=Us(d,l);return C==null?null:{location:{pathname:C,search:p,hash:m,state:y,key:_},navigationType:n}},[l,d,p,m,y,_,n]);return Ar(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:k.createElement(Lr.Provider,{value:c},k.createElement(hc.Provider,{children:e,value:E}))}function ID({children:r,location:e}){return pD(Rg(r),e)}function Rg(r,e=[]){let t=[];return k.Children.forEach(r,(n,i)=>{if(!k.isValidElement(n))return;let o=[...e,i];if(n.type===k.Fragment){t.push.apply(t,Rg(n.props.children,o));return}wt(n.type===lr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Rg(n.props.children,o)),t.push(l)}),t}var hf="get",pf="application/x-www-form-urlencoded";function Sh(r){return r!=null&&typeof r.tagName=="string"}function DD(r){return Sh(r)&&r.tagName.toLowerCase()==="button"}function RD(r){return Sh(r)&&r.tagName.toLowerCase()==="form"}function PD(r){return Sh(r)&&r.tagName.toLowerCase()==="input"}function AD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ND(r,e){return r.button===0&&(!e||e==="_self")&&!AD(r)}var Gd=null;function MD(){if(Gd===null)try{new FormData(document.createElement("form"),0),Gd=!1}catch{Gd=!0}return Gd}var OD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(r){return r!=null&&!OD.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):r}function LD(r,e){let t,n,i,o,l;if(RD(r)){let c=r.getAttribute("action");n=c?Us(c,e):null,t=r.getAttribute("method")||hf,i=qm(r.getAttribute("enctype"))||pf,o=new FormData(r)}else if(DD(r)||PD(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Us(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||hf,i=qm(r.getAttribute("formenctype"))||qm(c.getAttribute("enctype"))||pf,o=new FormData(c,r),!MD()){let{name:p,type:m,value:y}=r;if(m==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,y)}}else{if(Sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hf,n=null,i=pf,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Ry(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function FD(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jD(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await FD(o,t);return l.links?l.links():[]}return[]}));return WD(n.flat(1).filter(VD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TE(r,e,t,n,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,c=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?e.filter((d,p)=>{var y;let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function UD(r,e){return BD(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function BD(r){return[...new Set(r)]}function $D(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function WD(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify($D(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function HD(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function zD(){let r=k.useContext(xl);return Ry(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qD(){let r=k.useContext(Th);return Ry(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Py=k.createContext(void 0);Py.displayName="FrameworkContext";function dk(){let r=k.useContext(Py);return Ry(r,"You must render this element inside a <HydratedRouter> element"),r}function YD(r,e){let t=k.useContext(Py),[n,i]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,_=k.useRef(null);k.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let I=N=>{N.forEach(F=>{l(F.isIntersecting)})},b=new IntersectionObserver(I,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[r]),k.useEffect(()=>{if(n){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[n]);let E=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,_,{}]:[o,_,{onFocus:Ru(c,E),onBlur:Ru(d,C),onMouseEnter:Ru(p,E),onMouseLeave:Ru(m,C),onTouchStart:Ru(y,E)}]:[!1,_,{}]}function Ru(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function KD({page:r,...e}){let{router:t}=zD(),n=k.useMemo(()=>nk(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?k.createElement(GD,{page:r,matches:n,...e}):null}function QD(r){let{manifest:e,routeModules:t}=dk(),[n,i]=k.useState([]);return k.useEffect(()=>{let o=!1;return jD(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function GD({page:r,matches:e,...t}){let n=Ks(),{manifest:i,routeModules:o}=dk(),{loaderData:l,matches:c}=qD(),d=k.useMemo(()=>TE(r,e,c,i,n,"data"),[r,e,c,i,n]),p=k.useMemo(()=>TE(r,e,c,i,n,"assets"),[r,e,c,i,n]),m=k.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,C=!1;if(e.forEach(b=>{var F;let N=i.routes[b.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===b.route.id)&&b.route.id in l&&((F=o[b.route.id])!=null&&F.shouldRevalidate)||N.hasClientLoader?C=!0:E.add(b.route.id))}),E.size===0)return[];let I=HD(r);return C&&E.size>0&&I.searchParams.set("_routes",e.filter(b=>E.has(b.route.id)).map(b=>b.route.id).join(",")),[I.pathname+I.search]},[l,n,i,d,e,r,o]),y=k.useMemo(()=>UD(p,i),[p,i]),_=QD(p);return k.createElement(k.Fragment,null,m.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:C})=>k.createElement("link",{key:E,...C})))}function XD(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fk&&(window.__reactRouterVersion="7.1.3")}catch{}function JD({basename:r,children:e,window:t}){let n=k.useRef();n.current==null&&(n.current=UI({window:t,v5Compat:!0}));let i=n.current,[o,l]=k.useState({action:i.action,location:i.location}),c=k.useCallback(d=>{k.startTransition(()=>l(d))},[l]);return k.useLayoutEffect(()=>i.listen(c),[i,c]),k.createElement(bD,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ns=k.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:y,..._},E){let{basename:C}=k.useContext(Lr),I=typeof p=="string"&&hk.test(p),b,N=!1;if(typeof p=="string"&&I&&(b=p,fk))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=Us(L.pathname,C);L.origin===P.origin&&V!=null?p=V+L.search+L.hash:N=!0}catch{Ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=fD(p,{relative:i}),[j,q,X]=YD(n,_),Z=tR(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function A(P){e&&e(P),P.defaultPrevented||Z(P)}let D=k.createElement("a",{..._,...X,href:b||F,onClick:N||o?e:A,ref:XD(E,q),target:d,"data-discover":!I&&t==="render"?"true":void 0});return j&&!I?k.createElement(k.Fragment,null,D,k.createElement(KD,{page:F})):D});Ns.displayName="Link";var Ro=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...p},m){let y=mc(l,{relative:p.relative}),_=Ks(),E=k.useContext(Th),{navigator:C,basename:I}=k.useContext(Lr),b=E!=null&&oR(y)&&c===!0,N=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,F=_.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&I&&(j=Us(j,I)||j);const q=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let X=F===N||!i&&F.startsWith(N)&&F.charAt(q)==="/",Z=j!=null&&(j===N||!i&&j.startsWith(N)&&j.charAt(N.length)==="/"),A={isActive:X,isPending:Z,isTransitioning:b},D=X?e:void 0,P;typeof n=="function"?P=n(A):P=[n,X?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(A):o;return k.createElement(Ns,{...p,"aria-current":D,className:P,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(A):d)});Ro.displayName="NavLink";var ZD=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=hf,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,..._},E)=>{let C=iR(),I=sR(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&hk.test(c),F=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,X=(q==null?void 0:q.getAttribute("formmethod"))||l;C(q||j.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return k.createElement("form",{ref:E,method:b,action:I,onSubmit:n?d:F,..._,"data-discover":!N&&r==="render"?"true":void 0})});ZD.displayName="Form";function eR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pk(r){let e=k.useContext(xl);return wt(e,eR(r)),e}function tR(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=pc(),d=Ks(),p=mc(r,{relative:o});return k.useCallback(m=>{if(ND(m,e)){m.preventDefault();let y=t!==void 0?t:Ju(d)===Ju(p);c(r,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,t,n,e,r,i,o,l])}var nR=0,rR=()=>`__${String(++nR)}__`;function iR(){let{router:r}=pk("useSubmit"),{basename:e}=k.useContext(Lr),t=SD();return k.useCallback(async(n,i={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=LD(n,e);if(i.navigate===!1){let m=i.fetcherKey||rR();await r.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function sR(r,{relative:e}={}){let{basename:t}=k.useContext(Lr),n=k.useContext(Fr);wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...mc(r||".",{relative:e})},l=Ks();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),Ju(o)}function oR(r,e={}){let t=k.useContext(ok);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pk("useViewTransitionState"),i=mc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Us(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Us(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Lf(i.pathname,l)!=null||Lf(i.pathname,o)!=null}new TextEncoder;var mk=tk();const Oo=Eh(mk),gk=k.createContext(void 0),aR=({children:r})=>{const[e,t]=k.useState("met");return S.jsx(gk.Provider,{value:{selectedMuseum:e,setSelectedMuseum:t},children:r})},kh=()=>{const r=k.useContext(gk);if(!r)throw new Error("useMuseum must be used within a MuseumProvider");return r},yk=k.createContext(void 0),Ay=()=>k.useContext(yk),lR=({children:r})=>{const[e,t]=k.useState("");return S.jsx(yk.Provider,{value:{query:e,setQuery:t},children:r})},_k=k.createContext(void 0),vk=()=>k.useContext(_k),uR=({children:r})=>{const[e,t]=k.useState("artist");return S.jsx(_k.Provider,{value:{type:e,setType:t},children:r})};var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},cR=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ek={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|p>>6,E=p&63;d||(E=64,l||(_=64)),n.push(t[m],t[y],t[_],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wk(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||p==null||y==null)throw new dR;const _=o<<2|c>>4;if(n.push(_),p!==64){const E=c<<4&240|p>>2;if(n.push(E),y!==64){const C=p<<6&192|y;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(r){const e=wk(r);return Ek.encodeByteArray(e,!0)},Ff=function(r){return fR(r).replace(/\./g,"")},Tk=function(r){try{return Ek.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=()=>hR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof SE>"u")return;const r=SE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Tk(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return pR()||mR()||gR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sk=r=>{var e,t;return(t=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},yR=r=>{const e=Sk(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},kk=()=>{var r;return(r=Ch())===null||r===void 0?void 0:r.config},Ck=r=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ff(JSON.stringify(t)),Ff(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function ER(){var r;const e=(r=Ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xR(){return!ER()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="FirebaseError";class Vr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=DR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?RR(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Vr(i,c,n)}}function RR(r,e){return r.replace(PR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const PR=/\{\$([^}]+)}/g;function AR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vf(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(kE(o)&&kE(l)){if(!Vf(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function kE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Lu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function NR(r,e){const t=new MR(r,e);return t.subscribe.bind(t)}class MR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");OR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Ym),i.error===void 0&&(i.error=Ym),i.complete===void 0&&(i.complete=Ym);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class Yo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new _R;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VR(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(r){return r===Po?void 0:r}function VR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($e||($e={}));const UR={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},BR=$e.INFO,$R={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},WR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=$R[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const HR=(r,e)=>e.some(t=>r instanceof t);let CE,xE;function zR(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xk=new WeakMap,Pg=new WeakMap,bk=new WeakMap,Km=new WeakMap,My=new WeakMap;function YR(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Ms(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&xk.set(t,r)}).catch(()=>{}),My.set(e,r),e}function KR(r){if(Pg.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Pg.set(r,e)}let Ag={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Pg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bk.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QR(r){Ag=r(Ag)}function GR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Qm(this),e,...t);return bk.set(n,e.sort?e.sort():[e]),Ms(n)}:qR().includes(r)?function(...e){return r.apply(Qm(this),e),Ms(xk.get(this))}:function(...e){return Ms(r.apply(Qm(this),e))}}function XR(r){return typeof r=="function"?GR(r):(r instanceof IDBTransaction&&KR(r),HR(r,zR())?new Proxy(r,Ag):r)}function Ms(r){if(r instanceof IDBRequest)return YR(r);if(Km.has(r))return Km.get(r);const e=XR(r);return e!==r&&(Km.set(r,e),My.set(e,r)),e}const Qm=r=>My.get(r);function JR(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Ms(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ms(l.result),d.oldVersion,d.newVersion,Ms(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const ZR=["get","getKey","getAll","getAllKeys","count"],eP=["put","add","delete","clear"],Gm=new Map;function bE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=eP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ZR.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return Gm.set(e,o),o}QR(r=>({...r,get:(e,t,n)=>bE(e,t)||r.get(e,t,n),has:(e,t)=>!!bE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nP(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function nP(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ng="@firebase/app",IE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Ny("@firebase/app"),rP="@firebase/app-compat",iP="@firebase/analytics-compat",sP="@firebase/analytics",oP="@firebase/app-check-compat",aP="@firebase/app-check",lP="@firebase/auth",uP="@firebase/auth-compat",cP="@firebase/database",dP="@firebase/data-connect",fP="@firebase/database-compat",hP="@firebase/functions",pP="@firebase/functions-compat",mP="@firebase/installations",gP="@firebase/installations-compat",yP="@firebase/messaging",_P="@firebase/messaging-compat",vP="@firebase/performance",wP="@firebase/performance-compat",EP="@firebase/remote-config",TP="@firebase/remote-config-compat",SP="@firebase/storage",kP="@firebase/storage-compat",CP="@firebase/firestore",xP="@firebase/vertexai",bP="@firebase/firestore-compat",IP="firebase",DP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",RP={[Ng]:"fire-core",[rP]:"fire-core-compat",[sP]:"fire-analytics",[iP]:"fire-analytics-compat",[aP]:"fire-app-check",[oP]:"fire-app-check-compat",[lP]:"fire-auth",[uP]:"fire-auth-compat",[cP]:"fire-rtdb",[dP]:"fire-data-connect",[fP]:"fire-rtdb-compat",[hP]:"fire-fn",[pP]:"fire-fn-compat",[mP]:"fire-iid",[gP]:"fire-iid-compat",[yP]:"fire-fcm",[_P]:"fire-fcm-compat",[vP]:"fire-perf",[wP]:"fire-perf-compat",[EP]:"fire-rc",[TP]:"fire-rc-compat",[SP]:"fire-gcs",[kP]:"fire-gcs-compat",[CP]:"fire-fst",[bP]:"fire-fst-compat",[xP]:"fire-vertex","fire-js":"fire-js",[IP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,PP=new Map,Og=new Map;function DE(r,e){try{r.container.addComponent(e)}catch(t){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function dl(r){const e=r.name;if(Og.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,r);for(const t of jf.values())DE(t,r);for(const t of PP.values())DE(t,r);return!0}function Oy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new gc("app","Firebase",AP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=DP;function Ik(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(t||(t=kk()),!t)throw Os.create("no-options");const o=jf.get(i);if(o){if(Vf(t,o.options)&&Vf(n,o.config))return o;throw Os.create("duplicate-app",{appName:i})}const l=new jR(i);for(const d of Og.values())l.addComponent(d);const c=new NP(t,n,l);return jf.set(i,c),c}function Dk(r=Mg){const e=jf.get(r);if(!e&&r===Mg&&kk())return Ik();if(!e)throw Os.create("no-app",{appName:r});return e}function Ls(r,e,t){var n;let i=(n=RP[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}dl(new Yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="firebase-heartbeat-database",OP=1,Zu="firebase-heartbeat-store";let Xm=null;function Rk(){return Xm||(Xm=JR(MP,OP,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Os.create("idb-open",{originalErrorMessage:r.message})})),Xm}async function LP(r){try{const t=(await Rk()).transaction(Zu),n=await t.objectStore(Zu).get(Pk(r));return await t.done,n}catch(e){if(e instanceof Vr)Wi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(t.message)}}}async function RE(r,e){try{const n=(await Rk()).transaction(Zu,"readwrite");await n.objectStore(Zu).put(e,Pk(r)),await n.done}catch(t){if(t instanceof Vr)Wi.warn(t.message);else{const n=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}function Pk(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1024,VP=30*24*60*60*1e3;class jP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BP(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=VP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Wi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PE(),{heartbeatsToSend:n,unsentEntries:i}=UP(this._heartbeatsCache.heartbeats),o=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function PE(){return new Date().toISOString().substring(0,10)}function UP(r,e=FP){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),AE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),AE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class BP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AE(r){return Ff(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(r){dl(new Yo("platform-logger",e=>new tP(e),"PRIVATE")),dl(new Yo("heartbeat",e=>new jP(e),"PRIVATE")),Ls(Ng,IE,r),Ls(Ng,IE,"esm2017"),Ls("fire-js","")}$P("");var WP="firebase",HP="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(WP,HP,"app");function Ly(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zP=Ak,Nk=new gc("auth","Firebase",Ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Ny("@firebase/auth");function qP(r,...e){Uf.logLevel<=$e.WARN&&Uf.warn(`Auth (${Il}): ${r}`,...e)}function mf(r,...e){Uf.logLevel<=$e.ERROR&&Uf.error(`Auth (${Il}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,...e){throw Fy(r,...e)}function oi(r,...e){return Fy(r,...e)}function Mk(r,e,t){const n=Object.assign(Object.assign({},zP()),{[e]:t});return new gc("auth","Firebase",n).create(e,{appName:r.name})}function Li(r){return Mk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fy(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Nk.create(r,...e)}function Pe(r,e,...t){if(!r)throw Fy(e,...t)}function Ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mf(e),new Error(e)}function Hi(r,e){r||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function YP(){return NE()==="http:"||NE()==="https:"}function NE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YP()||SR()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=wR()||kR()}get(){return KP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r,e){Hi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new _c(3e4,6e4);function Qs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Gs(r,e,t,n,i={}){return Lk(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=yc(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return TR()||(p.referrerPolicy="no-referrer"),Ok.fetch()(Fk(r,r.config.apiHost,t,c),p)})}async function Lk(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},GP),e);try{const i=new ZP(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Xd(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Xd(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Xd(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mk(r,m,p);Nr(r,m)}}catch(i){if(i instanceof Vr)throw i;Nr(r,"network-request-failed",{message:String(i)})}}async function vc(r,e,t,n,i={}){const o=await Gs(r,e,t,n,i);return"mfaPendingCredential"in o&&Nr(r,"multi-factor-auth-required",{_serverResponse:o}),o}function Fk(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Vy(r.config,i):`${r.config.apiScheme}://${i}`}function JP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),XP.get())})}}function Xd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=oi(r,e,n);return i.customData._tokenResponse=t,i}function ME(r){return r!==void 0&&r.enterprise!==void 0}class eA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tA(r,e){return Gs(r,"GET","/v2/recaptchaConfig",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(r,e){return Gs(r,"POST","/v1/accounts:delete",e)}async function Vk(r,e){return Gs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rA(r,e=!1){const t=Kt(r),n=await t.getIdToken(e),i=jy(n);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:qu(Jm(i.auth_time)),issuedAtTime:qu(Jm(i.iat)),expirationTime:qu(Jm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Jm(r){return Number(r)*1e3}function jy(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(t);return i?JSON.parse(i):(mf("Failed to decode base64 JWT payload"),null)}catch(i){return mf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function OE(r){const e=jy(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Vr&&iA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function iA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(r){var e;const t=r.auth,n=await r.getIdToken(),i=await ec(r,Vk(t,{idToken:n}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jk(o.providerUserInfo):[],c=aA(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Fg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function oA(r){const e=Kt(r);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aA(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function jk(r){return r.map(e=>{var{providerId:t}=e,n=Ly(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(r,e){const t=await Lk(r,{},async()=>{const n=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=Fk(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ok.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uA(r,e){return Gs(r,"POST","/v2/accounts:revokeToken",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=OE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await lA(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new il;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rA(this,e)}reload(){return oA(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await ec(this,nA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,p,m;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:q,isAnonymous:X,providerData:Z,stsTokenManager:A}=t;Pe(j&&A,e,"internal-error");const D=il.fromJSON(this.name,A);Pe(typeof j=="string",e,"internal-error"),Ss(y,e.name),Ss(_,e.name),Pe(typeof q=="boolean",e,"internal-error"),Pe(typeof X=="boolean",e,"internal-error"),Ss(E,e.name),Ss(C,e.name),Ss(I,e.name),Ss(b,e.name),Ss(N,e.name),Ss(F,e.name);const P=new Ni({uid:j,auth:e,email:_,emailVerified:q,displayName:y,isAnonymous:X,photoURL:C,phoneNumber:E,tenantId:I,stsTokenManager:D,createdAt:N,lastLoginAt:F});return Z&&Array.isArray(Z)&&(P.providerData=Z.map(L=>Object.assign({},L))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,n=!1){const i=new il;i.updateFromServerResponse(t);const o=new Ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Bf(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new il;c.updateFromIdToken(n);const d=new Ni({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Mi(r){Hi(r instanceof Function,"Expected a class definition");let e=LE.get(r);return e?(Hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,LE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uk.type="NONE";const FE=Uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r,e,t){return`firebase:${r}:${e}:${t}`}class sl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=gf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new sl(Mi(FE),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Mi(FE);const l=gf(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Ni._fromJSON(e,m);p!==o&&(c=y),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new sl(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new sl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qk(e))return"Blackberry";if(Yk(e))return"Webos";if($k(e))return"Safari";if((e.includes("chrome/")||Wk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Bk(r=pn()){return/firefox\//i.test(r)}function $k(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wk(r=pn()){return/crios\//i.test(r)}function Hk(r=pn()){return/iemobile/i.test(r)}function zk(r=pn()){return/android/i.test(r)}function qk(r=pn()){return/blackberry/i.test(r)}function Yk(r=pn()){return/webos/i.test(r)}function Uy(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cA(r=pn()){var e;return Uy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dA(){return CR()&&document.documentMode===10}function Kk(r=pn()){return Uy(r)||zk(r)||Yk(r)||qk(r)||/windows phone/i.test(r)||Hk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(r,e=[]){let t;switch(r){case"Browser":t=VE(pn());break;case"Worker":t=`${VE(pn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(r,e={}){return Gs(r,"GET","/v2/passwordPolicy",Qs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=6;class mA{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:pA,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new fA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vk(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Li(this));const t=e?Kt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hA(this),t=new mA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await uA(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ta(r){return Kt(r)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=NR(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yA(r){xh=r}function Gk(r){return xh.loadJS(r)}function _A(){return xh.recaptchaEnterpriseScript}function vA(){return xh.gapiScript}function wA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class EA{constructor(){this.enterprise=new TA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SA="recaptcha-enterprise",Xk="NO_RECAPTCHA";class kA{constructor(e){this.type=SA,this.auth=ta(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{tA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new eA(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;ME(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Xk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EA().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&ME(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_A();d.length!==0&&(d+=c),Gk(d).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function UE(r,e,t,n=!1,i=!1){const o=new kA(r);let l;if(i)l=Xk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Vg(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await UE(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await UE(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(r,e){const t=Oy(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Vf(o,e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}function xA(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function bA(r,e,t){const n=ta(r);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Jk(e),{host:l,port:c}=IA(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),DA()}function Jk(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function IA(r){const e=Jk(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:BE(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:BE(l)}}}function BE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DA(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function RA(r,e){return Gs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r,e){return vc(r,"POST","/v1/accounts:signInWithPassword",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(r,e){return vc(r,"POST","/v1/accounts:signInWithEmailLink",Qs(r,e))}async function NA(r,e){return vc(r,"POST","/v1/accounts:signInWithEmailLink",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends By{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,t,"signInWithPassword",PA);case"emailLink":return AA(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,n,"signUpPassword",RA);case"emailLink":return NA(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r,e){return vc(r,"POST","/v1/accounts:signInWithIdp",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="http://localhost";class Ko extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Ly(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Ko(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ol(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:MA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LA(r){const e=Lu(Fu(r)).link,t=e?Lu(Fu(e)).deep_link_id:null,n=Lu(Fu(r)).deep_link_id;return(n?Lu(Fu(n)).link:null)||n||t||e||r}class $y{constructor(e){var t,n,i,o,l,c;const d=Lu(Fu(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,y=OA((i=d.mode)!==null&&i!==void 0?i:null);Pe(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=LA(e);try{return new $y(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$y.parseLink(t);return Pe(n,"argument-error"),tc._fromEmailAndCode(e,n.code,n.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Zk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends wc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return bs.credential(t,n)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends wc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends wc{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ds.credential(t,n)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,e){return vc(r,"POST","/v1/accounts:signUp",Qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Ni._fromIdTokenResponse(e,n,i),l=$E(n);return new Qo({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=$E(n);return new Qo({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function $E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Vr{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new $f(e,t,n,i)}}function eC(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(r,o,e,n):o})}async function VA(r,e,t=!1){const n=await ec(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(r,e,t=!1){const{auth:n}=r;if(ii(n.app))return Promise.reject(Li(n));const i="reauthenticate";try{const o=await ec(r,eC(n,i,e,r),t);Pe(o.idToken,n,"internal-error");const l=jy(o.idToken);Pe(l,n,"internal-error");const{sub:c}=l;return Pe(r.uid===c,n,"user-mismatch"),Qo._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Nr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e,t=!1){if(ii(r.app))return Promise.reject(Li(r));const n="signIn",i=await eC(r,n,e),o=await Qo._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function UA(r,e){return tC(ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BA(r,e,t){if(ii(r.app))return Promise.reject(Li(r));const n=ta(r),l=await Vg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nC(r),d}),c=await Qo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function $A(r,e,t){return ii(r.app)?Promise.reject(Li(r)):UA(Kt(r),Dl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nC(r),n})}function WA(r,e,t,n){return Kt(r).onIdTokenChanged(e,t,n)}function HA(r,e,t){return Kt(r).beforeAuthStateChanged(e,t)}function zA(r){return Kt(r).signOut()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1e3,YA=10;class iC extends rC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);dA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YA):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},qA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iC.type="LOCAL";const KA=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends rC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sC.type="SESSION";const oC=sC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new bh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await QA(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=Wy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function XA(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function JA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function eN(){return aC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebaseLocalStorageDb",tN=1,Hf="firebaseLocalStorage",uC="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ih(r,e){return r.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function nN(){const r=indexedDB.deleteDatabase(lC);return new Ec(r).toPromise()}function jg(){const r=indexedDB.open(lC,tN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Hf,{keyPath:uC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Hf)?e(n):(n.close(),await nN(),e(await jg()))})})}async function WE(r,e,t){const n=Ih(r,!0).put({[uC]:e,value:t});return new Ec(n).toPromise()}async function rN(r,e){const t=Ih(r,!1).get(e),n=await new Ec(t).toPromise();return n===void 0?null:n.value}function HE(r,e){const t=Ih(r,!0).delete(e);return new Ec(t).toPromise()}const iN=800,sN=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>sN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(eN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await JA(),!this.activeServiceWorker)return;this.sender=new GA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await WE(e,Wf,"1"),await HE(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>rN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ih(i,!1).getAll();return new Ec(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const oN=cC;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r,e){return e?Mi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lN(r){return tC(r.auth,new Hy(r),r.bypassAuthState)}function uN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),jA(t,new Hy(r),r.bypassAuthState)}async function cN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),VA(t,new Hy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return cN;case"reauthViaPopup":case"reauthViaRedirect":return uN;default:Nr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new _c(2e3,1e4);class rl extends dC{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dN.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="pendingRedirect",yf=new Map;class hN extends dC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const n=await pN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pN(r,e){const t=yN(e),n=gN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function mN(r,e){yf.set(r._key(),e)}function gN(r){return Mi(r._redirectPersistence)}function yN(r){return gf(fN,r.config.apiKey,r.name)}async function _N(r,e,t=!1){if(ii(r.app))return Promise.reject(Li(r));const n=ta(r),i=aN(n,e),l=await new hN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=10*60*1e3;class wN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(e))}saveEventToCache(e){this.cachedEventUids.add(zE(e)),this.lastProcessedEventTime=Date.now()}}function zE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e={}){return Gs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function CN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TN(r);for(const t of e)try{if(xN(t))return}catch{}Nr(r,"unauthorized-domain")}function xN(r){const e=Lg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!kN.test(t))return!1;if(SN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new _c(3e4,6e4);function qE(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function IN(r){return new Promise((e,t)=>{var n,i,o;function l(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),t(oi(r,"network-request-failed"))},timeout:bN.get()})}if(!((i=(n=ai().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)l();else{const c=wA("iframefcb");return ai()[c]=()=>{gapi.load?l():t(oi(r,"network-request-failed"))},Gk(`${vA()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw _f=null,e})}let _f=null;function DN(r){return _f=_f||IN(r),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new _c(5e3,15e3),PN="__/auth/iframe",AN="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ON(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vy(e,AN):`https://${r.config.authDomain}/${PN}`,n={apiKey:e.apiKey,appName:r.name,v:Il},i=MN.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${yc(n).slice(1)}`}async function LN(r){const e=await DN(r),t=ai().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:ON(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=oi(r,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},RN.get());function d(){ai().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,jN=600,UN="_blank",BN="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(r,e,t,n=VN,i=jN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},FN),{width:n.toString(),height:i.toString(),top:o,left:l}),p=pn().toLowerCase();t&&(c=Wk(p)?UN:t),Bk(p)&&(e=e||BN,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(cA(p)&&c!=="_self")return WN(e||"",c),new YE(null);const y=window.open(e||"",c,m);Pe(y,r,"popup-blocked");try{y.focus()}catch{}return new YE(y)}function WN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",zN="emulator/auth/handler",qN=encodeURIComponent("fac");async function KE(r,e,t,n,i,o){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Il,eventId:i};if(e instanceof Zk){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",AR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof wc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),p=d?`#${qN}=${encodeURIComponent(d)}`:"";return`${YN(r)}?${yc(c).slice(1)}${p}`}function YN({config:r}){return r.emulator?Vy(r,zN):`https://${r.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class KN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oC,this._completeRedirectFn=_N,this._overrideRedirectResult=mN}async _openPopup(e,t,n,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await KE(e,t,n,Lg(),i);return $N(e,l,Wy())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await KE(e,t,n,Lg(),i);return XA(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await LN(e),n=new wN(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zm,{type:Zm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Zm];l!==void 0&&t(!!l),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kk()||$k()||Uy()}}const QN=KN;var QE="@firebase/auth",GE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(r){dl(new Yo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qk(r)},p=new gA(n,i,o,d);return xA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),dl(new Yo("auth-internal",e=>{const t=ta(e.getProvider("auth").getImmediate());return(n=>new GN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(QE,GE,XN(r)),Ls(QE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,e1=Ck("authIdTokenMaxAge")||ZN;let XE=null;const t1=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>e1)return;const i=t==null?void 0:t.token;XE!==i&&(XE=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n1(r=Dk()){const e=Oy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=CA(r,{popupRedirectResolver:QN,persistence:[oN,KA,oC]}),n=Ck("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=t1(o.toString());HA(t,l,()=>l(t.currentUser)),WA(t,c=>l(c))}}const i=Sk("auth");return i&&bA(t,`http://${i}`),t}function r1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}yA({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=oi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",r1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,hC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,D){function P(){}P.prototype=D.prototype,A.D=D.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(L,V,U){for(var M=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)M[ke-2]=arguments[ke];return D.prototype[V].apply(L,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,D,P){P||(P=0);var L=Array(16);if(typeof D=="string")for(var V=0;16>V;++V)L[V]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(V=0;16>V;++V)L[V]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=A.g[0],P=A.g[1],V=A.g[2];var U=A.g[3],M=D+(U^P&(V^U))+L[0]+3614090360&4294967295;D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+L[1]+3905402710&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+L[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+L[3]+3250441966&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+L[4]+4118548399&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+L[5]+1200080426&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+L[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+L[7]+4249261313&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+L[8]+1770035416&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+L[9]+2336552879&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+L[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+L[11]+2304563134&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(U^P&(V^U))+L[12]+1804603682&4294967295,D=P+(M<<7&4294967295|M>>>25),M=U+(V^D&(P^V))+L[13]+4254626195&4294967295,U=D+(M<<12&4294967295|M>>>20),M=V+(P^U&(D^P))+L[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=P+(D^V&(U^D))+L[15]+1236535329&4294967295,P=V+(M<<22&4294967295|M>>>10),M=D+(V^U&(P^V))+L[1]+4129170786&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+L[6]+3225465664&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+L[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+L[0]+3921069994&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+L[5]+3593408605&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+L[10]+38016083&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+L[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+L[4]+3889429448&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+L[9]+568446438&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+L[14]+3275163606&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+L[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+L[8]+1163531501&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(V^U&(P^V))+L[13]+2850285829&4294967295,D=P+(M<<5&4294967295|M>>>27),M=U+(P^V&(D^P))+L[2]+4243563512&4294967295,U=D+(M<<9&4294967295|M>>>23),M=V+(D^P&(U^D))+L[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=P+(U^D&(V^U))+L[12]+2368359562&4294967295,P=V+(M<<20&4294967295|M>>>12),M=D+(P^V^U)+L[5]+4294588738&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+L[8]+2272392833&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+L[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+L[14]+4259657740&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+L[1]+2763975236&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+L[4]+1272893353&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+L[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+L[10]+3200236656&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+L[13]+681279174&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+L[0]+3936430074&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+L[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+L[6]+76029189&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(P^V^U)+L[9]+3654602809&4294967295,D=P+(M<<4&4294967295|M>>>28),M=U+(D^P^V)+L[12]+3873151461&4294967295,U=D+(M<<11&4294967295|M>>>21),M=V+(U^D^P)+L[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=P+(V^U^D)+L[2]+3299628645&4294967295,P=V+(M<<23&4294967295|M>>>9),M=D+(V^(P|~U))+L[0]+4096336452&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+L[7]+1126891415&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+L[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+L[5]+4237533241&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+L[12]+1700485571&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+L[3]+2399980690&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+L[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+L[1]+2240044497&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+L[8]+1873313359&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+L[15]+4264355552&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+L[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+L[13]+1309151649&4294967295,P=V+(M<<21&4294967295|M>>>11),M=D+(V^(P|~U))+L[4]+4149444226&4294967295,D=P+(M<<6&4294967295|M>>>26),M=U+(P^(D|~V))+L[11]+3174756917&4294967295,U=D+(M<<10&4294967295|M>>>22),M=V+(D^(U|~P))+L[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=P+(U^(V|~D))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+D&4294967295,A.g[1]=A.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}n.prototype.u=function(A,D){D===void 0&&(D=A.length);for(var P=D-this.blockSize,L=this.B,V=this.h,U=0;U<D;){if(V==0)for(;U<=P;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<D;)if(L[V++]=A.charCodeAt(U++),V==this.blockSize){i(this,L),V=0;break}}else for(;U<D;)if(L[V++]=A[U++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=D},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var D=1;D<A.length-8;++D)A[D]=0;var P=8*this.o;for(D=A.length-8;D<A.length;++D)A[D]=P&255,P/=256;for(this.u(A),A=Array(16),D=P=0;4>D;++D)for(var L=0;32>L;L+=8)A[P++]=this.g[D]>>>L&255;return A};function o(A,D){var P=c;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=D(A)}function l(A,D){this.h=D;for(var P=[],L=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;L&&U==D||(P[V]=U,L=!1)}this.g=P}var c={};function d(A){return-128<=A&&128>A?o(A,function(D){return new l([D|0],0>D?-1:0)}):new l([A|0],0>A?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return y;if(0>A)return b(p(-A));for(var D=[],P=1,L=0;A>=P;L++)D[L]=A/P|0,P*=4294967296;return new l(D,0)}function m(A,D){if(A.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A.charAt(0)=="-")return b(m(A.substring(1),D));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(D,8)),L=y,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),M=parseInt(A.substring(V,V+U),D);8>U?(U=p(Math.pow(D,U)),L=L.j(U).add(p(M))):(L=L.j(P),L=L.add(p(M)))}return L}var y=d(0),_=d(1),E=d(16777216);r=l.prototype,r.m=function(){if(I(this))return-b(this).m();for(var A=0,D=1,P=0;P<this.g.length;P++){var L=this.i(P);A+=(0<=L?L:4294967296+L)*D,D*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(I(this))return"-"+b(this).toString(A);for(var D=p(Math.pow(A,6)),P=this,L="";;){var V=q(P,D).g;P=N(P,V.j(D));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=V,C(P))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var D=0;D<A.g.length;D++)if(A.g[D]!=0)return!1;return!0}function I(A){return A.h==-1}r.l=function(A){return A=N(this,A),I(A)?-1:C(A)?0:1};function b(A){for(var D=A.g.length,P=[],L=0;L<D;L++)P[L]=~A.g[L];return new l(P,~A.h).add(_)}r.abs=function(){return I(this)?b(this):this},r.add=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0,V=0;V<=D;V++){var U=L+(this.i(V)&65535)+(A.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);L=M>>>16,U&=65535,M&=65535,P[V]=M<<16|U}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(A,D){return A.add(b(D))}r.j=function(A){if(C(this)||C(A))return y;if(I(this))return I(A)?b(this).j(b(A)):b(b(this).j(A));if(I(A))return b(this.j(b(A)));if(0>this.l(E)&&0>A.l(E))return p(this.m()*A.m());for(var D=this.g.length+A.g.length,P=[],L=0;L<2*D;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<A.g.length;V++){var U=this.i(L)>>>16,M=this.i(L)&65535,ke=A.i(V)>>>16,Ie=A.i(V)&65535;P[2*L+2*V]+=M*Ie,F(P,2*L+2*V),P[2*L+2*V+1]+=U*Ie,F(P,2*L+2*V+1),P[2*L+2*V+1]+=M*ke,F(P,2*L+2*V+1),P[2*L+2*V+2]+=U*ke,F(P,2*L+2*V+2)}for(L=0;L<D;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=D;L<2*D;L++)P[L]=0;return new l(P,0)};function F(A,D){for(;(A[D]&65535)!=A[D];)A[D+1]+=A[D]>>>16,A[D]&=65535,D++}function j(A,D){this.g=A,this.h=D}function q(A,D){if(C(D))throw Error("division by zero");if(C(A))return new j(y,y);if(I(A))return D=q(b(A),D),new j(b(D.g),b(D.h));if(I(D))return D=q(A,b(D)),new j(b(D.g),D.h);if(30<A.g.length){if(I(A)||I(D))throw Error("slowDivide_ only works with positive integers.");for(var P=_,L=D;0>=L.l(A);)P=X(P),L=X(L);var V=Z(P,1),U=Z(L,1);for(L=Z(L,2),P=Z(P,2);!C(L);){var M=U.add(L);0>=M.l(A)&&(V=V.add(P),U=M),L=Z(L,1),P=Z(P,1)}return D=N(A,V.j(D)),new j(V,D)}for(V=y;0<=A.l(D);){for(P=Math.max(1,Math.floor(A.m()/D.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(P),M=U.j(D);I(M)||0<M.l(A);)P-=L,U=p(P),M=U.j(D);C(U)&&(U=_),V=V.add(U),A=N(A,M)}return new j(V,A)}r.A=function(A){return q(this,A).h},r.and=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)&A.i(L);return new l(P,this.h&A.h)},r.or=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)|A.i(L);return new l(P,this.h|A.h)},r.xor=function(A){for(var D=Math.max(this.g.length,A.g.length),P=[],L=0;L<D;L++)P[L]=this.i(L)^A.i(L);return new l(P,this.h^A.h)};function X(A){for(var D=A.g.length+1,P=[],L=0;L<D;L++)P[L]=A.i(L)<<1|A.i(L-1)>>>31;return new l(P,A.h)}function Z(A,D){var P=D>>5;D%=32;for(var L=A.g.length-P,V=[],U=0;U<L;U++)V[U]=0<D?A.i(U+P)>>>D|A.i(U+P+1)<<32-D:A.i(U+P);return new l(V,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,hC=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Fs=l}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pC,Vu,mC,vf,Ug,gC,yC,_C;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(f,v){if(v)e:{var T=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var H=f[R];if(!(H in T))break e;T=T[H]}f=f[f.length-1],R=T[f],v=v(R),v!=R&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var T=0,R=!1,H={next:function(){if(!R&&T<f.length){var Q=T++;return{value:v(Q,f[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function y(f,v,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),f.apply(v,H)}}return function(){return f.apply(v,arguments)}}function _(f,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function E(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function C(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,H,Q){for(var ue=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ue[rt-2]=arguments[rt];return v.prototype[H].apply(R,ue)}}function I(f){const v=f.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=f[R];return T}return[]}function b(f,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(d(R)){const H=f.length||0,Q=R.length||0;f.length=H+Q;for(let ue=0;ue<Q;ue++)f[H+ue]=R[ue]}else f.push(R)}}class N{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var X=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(f,v,T){for(const R in f)v.call(T,f[R],R,f)}function A(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function D(f){const v={};for(const T in f)v[T]=f[T];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)f[T]=R[T];for(let Q=0;Q<P.length;Q++)T=P[Q],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function V(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function U(f){c.setTimeout(()=>{throw f},0)}function M(){var f=ce;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ke{constructor(){this.h=this.g=null}add(v,T){const R=Ie.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Ie=new N(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,G=!1,ce=new ke,le=()=>{const f=c.Promise.resolve(void 0);de=()=>{f.then(W)}};var W=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(T){U(T)}var v=Ie;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}G=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f}();function Oe(f,v){if(_e.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(X){e:{try{q(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}C(Oe,_e);var Ve={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),He=0;function Je(f,v,T,R,H){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=H,this.key=++He,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Sn(f){this.src=f,this.g={},this.h=0}Sn.prototype.add=function(f,v,T,R,H){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var ue=kn(f,v,R,H);return-1<ue?(v=f[ue],T||(v.fa=!1)):(v=new Je(v,this.src,Q,!!R,H),v.fa=T,f.push(v)),v};function Vn(f,v){var T=v.type;if(T in f.g){var R=f.g[T],H=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(R,H,1),Q&&(ht(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function kn(f,v,T,R){for(var H=0;H<f.length;++H){var Q=f[H];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==R)return H}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),et={};function Ur(f,v,T,R,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ur(f,v[Q],T,R,H);return null}return T=eo(T),f&&f[Be]?f.K(v,T,p(R)?!!R.capture:!1,H):hr(f,v,T,!1,R,H)}function hr(f,v,T,R,H,Q){if(!v)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,rt=Ji(f);if(rt||(f[Cn]=rt=new Sn(f)),T=rt.add(v,T,R,ue,Q),T.proxy)return T;if(R=oa(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)Re||(H=ue),H===void 0&&(H=!1),f.addEventListener(v.toString(),R,H);else if(f.attachEvent)f.attachEvent(mr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function oa(){function f(T){return v.call(f.src,f.listener,T)}const v=Zs;return f}function Xi(f,v,T,R,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xi(f,v[Q],T,R,H);else R=p(R)?!!R.capture:!!R,T=eo(T),f&&f[Be]?(f=f.i,v=String(v).toString(),v in f.g&&(Q=f.g[v],T=kn(Q,T,R,H),-1<T&&(ht(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete f.g[v],f.h--)))):f&&(f=Ji(f))&&(v=f.g[v.toString()],f=-1,v&&(f=kn(v,T,R,H)),(T=-1<f?v[f]:null)&&pr(T))}function pr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Be])Vn(v.i,f);else{var T=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(T,R,f.capture):v.detachEvent?v.detachEvent(mr(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Ji(v))?(Vn(T,f),T.h==0&&(T.src=null,v[Cn]=null)):ht(f)}}}function mr(f){return f in et?et[f]:et[f]="on"+f}function Zs(f,v){if(f.da)f=!0;else{v=new Oe(v,this);var T=f.listener,R=f.ha||f.src;f.fa&&pr(f),f=T.call(R,v)}return f}function Ji(f){return f=f[Cn],f instanceof Sn?f:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(f){return typeof f=="function"?f:(f[gi]||(f[gi]=function(v){return f.handleEvent(v)}),f[gi])}function De(){te.call(this),this.i=new Sn(this),this.M=this,this.F=null}C(De,te),De.prototype[Be]=!0,De.prototype.removeEventListener=function(f,v,T,R){Xi(this,f,v,T,R)};function ut(f,v){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new _e(v,f);else if(v instanceof _e)v.target=v.target||f;else{var H=v;v=new _e(R,f),L(v,H)}if(H=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ue=v.g=T[Q];H=Xn(ue,R,!0,v)&&H}if(ue=v.g=f,H=Xn(ue,R,!0,v)&&H,H=Xn(ue,R,!1,v)&&H,T)for(Q=0;Q<T.length;Q++)ue=v.g=T[Q],H=Xn(ue,R,!1,v)&&H}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],R=0;R<T.length;R++)ht(T[R]);delete f.g[v],f.h--}}this.F=null},De.prototype.K=function(f,v,T,R){return this.i.add(String(f),v,!1,T,R)},De.prototype.L=function(f,v,T,R){return this.i.add(String(f),v,!0,T,R)};function Xn(f,v,T,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var ue=v[Q];if(ue&&!ue.da&&ue.capture==T){var rt=ue.listener,Vt=ue.ha||ue.src;ue.fa&&Vn(f.i,ue),H=rt.call(Vt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Vl(f,v,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(f,v||0)}function Zi(f){f.g=Vl(()=>{f.g=null,f.i&&(f.i=!1,Zi(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class to extends te{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(f){te.call(this),this.h=f,this.g={}}C(no,te);var jl=[];function Ul(f){Z(f.g,function(v,T){this.g.hasOwnProperty(T)&&pr(v)},f),f.g={}}no.prototype.N=function(){no.aa.N.call(this),Ul(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bl=c.JSON.stringify,$l=c.JSON.parse,Wl=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ro(){}ro.prototype.h=null;function aa(f){return f.h||(f.h=f.i())}function la(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){_e.call(this,"d")}C(Br,_e);function ua(){_e.call(this,"c")}C(ua,_e);var $r={},Hl=null;function io(){return Hl=Hl||new De}$r.La="serverreachability";function zl(f){_e.call(this,$r.La,f)}C(zl,_e);function yi(f){const v=io();ut(v,new zl(v))}$r.STAT_EVENT="statevent";function ql(f,v){_e.call(this,$r.STAT_EVENT,f),this.stat=v}C(ql,_e);function It(f){const v=io();ut(v,new ql(v,f))}$r.Ma="timingevent";function ca(f,v){_e.call(this,$r.Ma,f),this.size=v}C(ca,_e);function gr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function oo(f,v,T,R,H,Q){f.info(function(){if(f.g)if(Q)for(var ue="",rt=Q.split("&"),Vt=0;Vt<rt.length;Vt++){var Ye=rt[Vt].split("=");if(1<Ye.length){var $t=Ye[0];Ye=Ye[1];var Nt=$t.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+($t+"="+Ye+"&"):ue+($t+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+T+`
`+ue})}function da(f,v,T,R,H,Q,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+T+`
`+Q+" "+ue})}function yr(f,v,T,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+pp(f,T)+(R?" "+R:"")})}function Yl(f,v){f.info(function(){return"TIMEOUT: "+v})}so.prototype.info=function(){};function pp(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Bl(T)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function ao(){}C(ao,ro),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},_r=new ao;function vr(f,v,T,R){this.j=f,this.i=v,this.l=T,this.R=R||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lc}function Lc(){this.i=null,this.g="",this.h=!1}var Kl={},ha={};function pa(f,v,T){f.L=1,f.v=is(Un(v)),f.m=T,f.P=!0,Ql(f,null)}function Ql(f,v){f.F=Date.now(),ct(f),f.A=Un(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),os(T.i,"t",R),f.C=0,T=f.j.J,f.h=new Lc,f.g=ed(f.j,T?v:null,!f.m),0<f.O&&(f.M=new to(_(f.Y,f,f.g),f.O)),v=f.U,T=f.g,R=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(jl[0]=H.toString()),H=jl);for(var Q=0;Q<H.length;Q++){var ue=Ur(T,H[Q],R||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),yi(),oo(f.i,f.u,f.A,f.l,f.R,f.m)}vr.prototype.ca=function(f){f=f.target;const v=this.M;v&&bn(f)==3?v.j():this.Y(f)},vr.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=bn(this.g);var v=this.g.Ba();const tr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=tr?yi(3):yi(2)),lo(this);var T=this.g.Z();this.X=T;t:if(Fc(this)){var R=tu(this.g);f="";var H=R.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),es(this);var ue="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(Q&&v==H-1)});R.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,da(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Vt=this.g;if((rt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(rt)){var Ye=rt;break t}}Ye=null}if(T=Ye)yr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gl(this,T);else{this.o=!1,this.s=3,It(12),Zn(this),es(this);break e}}if(this.P){T=!0;let $n;for(;!this.J&&this.C<ue.length;)if($n=mp(this,ue),$n==ha){Nt==4&&(this.s=4,It(14),T=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Kl){this.s=4,It(15),yr(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else yr(this.i,this.l,$n,null),Gl(this,$n);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,It(16),T=!1),this.o=this.o&&T,!T)yr(this.i,this.l,ue,"[Invalid Chunked Response]"),Zn(this),es(this);else if(0<ue.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ru($t),$t.M=!0,It(11))}}else yr(this.i,this.l,ue,null),Gl(this,ue);Nt==4&&Zn(this),this.o&&!this.J&&(Nt==4?Ca(this.j,this):(this.o=!1,ct(this)))}else wa(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Zn(this),es(this)}}}catch{}finally{}};function Fc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function mp(f,v){var T=f.C,R=v.indexOf(`
`,T);return R==-1?ha:(T=Number(v.substring(T,R)),isNaN(T)?Kl:(R+=1,R+T>v.length?ha:(v=v.slice(R,R+T),f.C=R+T,v)))}vr.prototype.cancel=function(){this.J=!0,Zn(this)};function ct(f){f.S=Date.now()+f.I,Vc(f,f.I)}function Vc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gr(_(f.ba,f),v)}function lo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}vr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Yl(this.i,this.A),this.L!=2&&(yi(),It(17)),Zn(this),this.s=2,es(this)):Vc(this,this.S-f)};function es(f){f.j.G==0||f.J||Ca(f.j,f)}function Zn(f){lo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ul(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Gl(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||mn(T.h,f))){if(!f.K&&mn(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)ka(T),kr(T);else break e;Sa(T),It(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=gr(_(T.Za,T),6e3));if(1>=Uc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ti(T,11)}else if((f.K||T.g==f)&&ka(T),!F(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let Ye=H[v];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const $t=Ye[3];$t!=null&&(T.la=$t,T.j.info("VER="+T.la));const Nt=Ye[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const tr=Ye[5];tr!=null&&typeof tr=="number"&&0<tr&&(R=1.5*tr,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const $n=f.g;if($n){const go=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var Q=R.h;Q.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Xl(Q,Q.h),Q.h=null))}if(R.D){const ba=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(R.ya=ba,lt(R.I,R.D,ba))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ue=f;if(R.qa=Zc(R,R.J?R.ia:null,R.W),ue.K){Bc(R.h,ue);var rt=ue,Vt=R.L;Vt&&(rt.I=Vt),rt.B&&(lo(rt),ct(rt)),R.g=ue}else mo(R);0<T.i.length&&qr(T)}else Ye[0]!="stop"&&Ye[0]!="close"||Ti(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ti(T,7):Xt(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}yi(4)}catch{}}var jc=class{constructor(f,v){this.g=f,this.map=v}};function uo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Uc(f){return f.h?1:f.g?f.g.size:0}function mn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Xl(f,v){f.g?f.g.add(v):f.h=v}function Bc(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}uo.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $c(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return I(f.i)}function ma(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],T=f.length,R=0;R<T;R++)v.push(f[R]);return v}v=[],T=0;for(R in f)v[T++]=f[R];return v}function ga(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const R in f)v[T++]=R;return v}}}function ts(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=ga(f),R=ma(f),H=R.length,Q=0;Q<H;Q++)v.call(void 0,R[Q],T&&T[Q],f)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),H=null;if(0<=R){var Q=f[T].substring(0,R);H=f[T].substring(R+1)}else Q=f[T];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _i(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _i){this.h=f.h,fo(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.s),this.l=f.l;var v=f.i,T=new Wr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),rs(this,T),this.m=f.m}else f&&(v=String(f).match(co))?(this.h=!1,fo(this,v[1]||"",!0),this.o=ze(v[2]||""),this.g=ze(v[3]||"",!0),ns(this,v[4]),this.l=ze(v[5]||"",!0),rs(this,v[6]||"",!0),this.m=ze(v[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}_i.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ss(v,ya,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ss(v,ya,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ss(T,T.charAt(0)=="/"?zc:Hc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ss(T,Jl)),f.join("")};function Un(f){return new _i(f)}function fo(f,v,T){f.j=T?ze(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function rs(f,v,T){v instanceof Wr?(f.i=v,Hr(f.i,f.h)):(T||(v=ss(v,qc)),f.i=new Wr(v,f.h))}function lt(f,v,T){f.i.set(v,T)}function is(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ss(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Wc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ya=/[#\/\?@]/g,Hc=/[#\?:]/g,zc=/[#\?]/g,qc=/[#\?@]/g,Jl=/#/g;function Wr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gt(f){f.g||(f.g=new Map,f.h=0,f.i&&gp(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=Wr.prototype,r.add=function(f,v){Gt(this),this.i=null,f=er(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function wr(f,v){Gt(f),v=er(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Er(f,v){return Gt(f),v=er(f,v),f.g.has(v)}r.forEach=function(f,v){Gt(this),this.g.forEach(function(T,R){T.forEach(function(H){f.call(v,H,R,this)},this)},this)},r.na=function(){Gt(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const H=f[R];for(let Q=0;Q<H.length;Q++)T.push(v[R])}return T},r.V=function(f){Gt(this);let v=[];if(typeof f=="string")Er(this,f)&&(v=v.concat(this.g.get(er(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},r.set=function(f,v){return Gt(this),this.i=null,f=er(this,f),Er(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},r.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function os(f,v,T){wr(f,v),0<T.length&&(f.i=null,f.g.set(er(f,v),I(T)),f.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const Q=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var H=Q;ue[R]!==""&&(H+="="+encodeURIComponent(String(ue[R]))),f.push(H)}}return this.i=f.join("&")};function er(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Hr(f,v){v&&!f.j&&(Gt(f),f.i=null,f.g.forEach(function(T,R){var H=R.toLowerCase();R!=H&&(wr(this,R),os(this,H,T))},f)),f.j=v}function yp(f,v){const T=new so;if(c.Image){const R=new Image;R.onload=E(xn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=E(xn,T,"TestLoadImage: error",!1,v,R),R.onabort=E(xn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=E(xn,T,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Yc(f,v){const T=new so,R=new AbortController,H=setTimeout(()=>{R.abort(),xn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?xn(T,"TestPingServer: ok",!0,v):xn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),xn(T,"TestPingServer: error",!1,v)})}function xn(f,v,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function _p(){this.g=new Wl}function Kc(f,v,T){const R=T||"";try{ts(f,function(H,Q){let ue=H;p(H)&&(ue=Bl(H)),v.push(R+Q+"="+encodeURIComponent(ue))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function vi(f){this.l=f.Ub||null,this.j=f.eb||!1}C(vi,ro),vi.prototype.g=function(){return new ho(this.l,this.j)},vi.prototype.i=function(f){return function(){return f}}({});function ho(f,v){De.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ho,De),r=ho.prototype,r.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Sr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Tr(this):Sr(this),this.readyState==3&&Qc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Tr(this))},r.Qa=function(f){this.g&&(this.response=f,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Sr(f)}r.setRequestHeader=function(f,v){this.u.append(f,v)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Sr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wi(f){let v="";return Z(f,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function as(f,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=wi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):lt(f,v,T))}function _t(f){De.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(_t,De);var vp=/^https?$/i,Zl=["POST","PUT"];r=_t.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?aa(this.o):aa(_r),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Q){po(this,Q);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())T.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Zl,v,void 0))||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of T)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){po(this,Q)}};function po(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,_a(f),Bn(f)}function _a(f){f.A||(f.A=!0,ut(f,"complete"),ut(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ut(this,"complete"),ut(this,"abort"),Bn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?eu(this):this.bb())},r.bb=function(){eu(this)};function eu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||bn(f)!=4||f.Z()!=2)){if(f.u&&bn(f)==4)Vl(f.Ea,0,f);else if(ut(f,"readystatechange"),bn(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=ue===0){var H=String(f.D).match(co)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),R=!vp.test(H?H.toLowerCase():"")}T=R}if(T)ut(f,"complete"),ut(f,"success");else{f.m=6;try{var Q=2<bn(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",_a(f)}}finally{Bn(f)}}}}function Bn(f,v){if(f.g){va(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ut(f,"ready");try{T.onreadystatechange=R}catch{}}}function va(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function bn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),$l(v)}};function tu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(f){const v={};f=(f.g&&2<=bn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(F(f[R]))continue;var T=V(f[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[H]||[];v[H]=Q,Q.push(T)}A(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function nu(f){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,f),this.cb=zr("retryDelaySeedMs",1e4,f),this.Wa=zr("forwardChannelMaxRetries",2,f),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(f&&f.concurrentRequestLimit),this.Da=new _p,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=nu.prototype,r.la=8,r.G=1,r.connect=function(f,v,T,R){It(0),this.W=f,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Zc(this,null,this.W),qr(this)};function Xt(f){if(Ea(f),f.G==3){var v=f.U++,T=Un(f.I);if(lt(T,"SID",f.K),lt(T,"RID",v),lt(T,"TYPE","terminate"),Ei(f,T),v=new vr(f,f.j,v),v.L=2,v.v=is(Un(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=ed(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ct(v)}Jc(f)}function kr(f){f.g&&(ru(f),f.g.cancel(),f.g=null)}function Ea(f){kr(f),f.u&&(c.clearTimeout(f.u),f.u=null),ka(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function qr(f){if(!jn(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||le(),G||(de(),G=!0),ce.add(v,f),f.B=0}}function wp(f,v){return Uc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gr(_(f.Ga,f,v),Xc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new vr(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=D(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=ls(this,H,v),T=Un(this.I),lt(T,"RID",f),lt(T,"CVER",22),this.D&&lt(T,"X-HTTP-Session-Id",this.D),Ei(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(wi(Q)))+"&"+v:this.m&&as(T,this.m,Q)),Xl(this.h,H),this.Ua&&lt(T,"TYPE","init"),this.P?(lt(T,"$req",v),lt(T,"SID","null"),H.T=!0,pa(H,T,null)):pa(H,T,v),this.G=2}}else this.G==3&&(f?Ta(this,f):this.i.length==0||jn(this.h)||Ta(this))};function Ta(f,v){var T;v?T=v.l:T=f.U++;const R=Un(f.I);lt(R,"SID",f.K),lt(R,"RID",T),lt(R,"AID",f.T),Ei(f,R),f.m&&f.o&&as(R,f.m,f.o),T=new vr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=ls(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xl(f.h,T),pa(T,R,v)}function Ei(f,v){f.H&&Z(f.H,function(T,R){lt(v,R,T)}),f.l&&ts({},function(T,R){lt(v,R,T)})}function ls(f,v,T){T=Math.min(f.i.length,T);var R=f.l?_(f.l.Na,f.l,f):null;e:{var H=f.i;let Q=-1;for(;;){const ue=["count="+T];Q==-1?0<T?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let rt=!0;for(let Vt=0;Vt<T;Vt++){let Ye=H[Vt].g;const $t=H[Vt].map;if(Ye-=Q,0>Ye)Q=Math.max(0,H[Vt].g-100),rt=!1;else try{Kc($t,ue,"req"+Ye+"_")}catch{R&&R($t)}}if(rt){R=ue.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,R}function mo(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||le(),G||(de(),G=!0),ce.add(v,f),f.v=0}}function Sa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gr(_(f.Fa,f),Xc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gr(_(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),kr(this),Gc(this))};function ru(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Gc(f){f.g=new vr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Un(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Ei(f,v),f.m&&f.o&&as(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=is(Un(v)),T.m=null,T.P=!0,Ql(T,f)}r.Za=function(){this.C!=null&&(this.C=null,kr(this),Sa(this),It(19))};function ka(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ca(f,v){var T=null;if(f.g==v){ka(f),ru(f),f.g=null;var R=2}else if(mn(f.h,v))T=v.D,Bc(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=f.B;R=io(),ut(R,new ca(R,T)),qr(f)}else mo(f);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&wp(f,v)||R==2&&Sa(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),H){case 1:Ti(f,5);break;case 4:Ti(f,10);break;case 3:Ti(f,6);break;default:Ti(f,2)}}}function Xc(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function Ti(f,v){if(f.j.info("Error code "+v),v==2){var T=_(f.fb,f),R=f.Xa;const H=!R;R=new _i(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fo(R,"https"),is(R),H?yp(R.toString(),T):Yc(R.toString(),T)}else It(2);f.G=0,f.l&&f.l.sa(v),Jc(f),Ea(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Jc(f){if(f.G=0,f.ka=[],f.l){const v=$c(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Zc(f,v,T){var R=T instanceof _i?Un(T):new _i(T);if(R.g!="")v&&(R.g=v+"."+R.g),ns(R,R.s);else{var H=c.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new _i(null);R&&fo(Q,R),v&&(Q.g=v),H&&ns(Q,H),T&&(Q.l=T),R=Q}return T=f.D,v=f.ya,T&&v&&lt(R,T,v),lt(R,"VER",f.la),Ei(f,R),R}function ed(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new _t(new vi({eb:T})):new _t(f.pa),v.Ha(f.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}r=iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(f,v){return new gn(f,v)};function gn(f,v){De.call(this),this.g=new nu(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Yr(this)}C(gn,De),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Bl(f),f=T);v.i.push(new jc(v.Ya++,f)),v.G==3&&qr(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)};function td(f){Br.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}C(td,Br);function nd(){ua.call(this),this.status=1}C(nd,ua);function Yr(f){this.g=f}C(Yr,iu),Yr.prototype.ua=function(){ut(this.g,"a")},Yr.prototype.ta=function(f){ut(this.g,new td(f))},Yr.prototype.sa=function(f){ut(this.g,new nd)},Yr.prototype.ra=function(){ut(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,_C=function(){return new xa},yC=function(){return io()},gC=$r,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,vf=fa,Oc.COMPLETE="complete",mC=Oc,la.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",De.prototype.listen=De.prototype.K,Vu=la,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,pC=_t}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Ny("@firebase/firestore");function Ja(){return Go.logLevel}function ye(r,...e){if(Go.logLevel<=$e.DEBUG){const t=e.map(zy);Go.debug(`Firestore (${Rl}): ${r}`,...t)}}function zi(r,...e){if(Go.logLevel<=$e.ERROR){const t=e.map(zy);Go.error(`Firestore (${Rl}): ${r}`,...t)}}function fl(r,...e){if(Go.logLevel<=$e.WARN){const t=e.map(zy);Go.warn(`Firestore (${Rl}): ${r}`,...t)}}function zy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+r;throw zi(e),new Error(e)}function nt(r,e){r||Ne()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class s1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class o1{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nt(typeof n.accessToken=="string"),new vC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new cn(e)}}class a1{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class l1{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new a1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const n=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new u1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=d1(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function qe(r,e){return r<e?-1:r>e?1:0}function hl(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ft(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ft(0,0))}static max(){return new Me(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ne(),n===void 0?n=e.length-t:n>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Zr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Zr.isNumericId(e),i=Zr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class gt extends Zr{construct(e,t,n){return new gt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const f1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Zr{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return f1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(gt.fromString(e))}static fromName(e){return new Ce(gt.fromString(e).popFirst(5))}static empty(){return new Ce(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new gt(e.slice()))}}function h1(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(n===1e9?new Ft(t+1,0):new Ft(t,n));return new Bs(i,Ce.empty(),e)}function p1(r){return new Bs(r.readTime,r.key,-1)}class Bs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bs(Me.min(),Ce.empty(),-1)}static max(){return new Bs(Me.max(),Ce.empty(),-1)}}function m1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==g1)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,n)=>{t(e)})}static reject(e){return new ne((t,n)=>{n(e)})}static waitFor(e){return new ne((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=ne.resolve(!1);for(const n of e)t=t.next(i=>i?ne.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ne((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new ne((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function _1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dh.oe=-1;function Rh(r){return r==null}function zf(r){return r===0&&1/r==-1/0}function v1(r){return typeof r=="number"&&Number.isInteger(r)&&!zf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=eT(e)),e=E1(r.get(t),e);return eT(e)}function E1(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function eT(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function EC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zd(this.root,e,this.comparator,!0)}}class Zd{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??en.RED,this.left=i??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new en(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,n,i,o){return this}insert(e,t,n){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Bt(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TC("Invalid base64 string: "+o):o}}(e);return new rn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const T1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(nt(!!r),typeof r=="string"){let e=0;const t=T1.exec(r);if(nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ph(r){const e=r.mapValue.fields.__previous_value__;return qy(e)?Ph(e):e}function nc(r){const e=$s(r.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,n,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class rc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qy(r)?4:C1(r)?9007199254740991:k1(r)?10:11:Ne()}function hi(r,e){if(r===e)return!0;const t=Hs(r);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nc(r).isEqual(nc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=$s(i.timestampValue),c=$s(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Ws(i.bytesValue).isEqual(Ws(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Rt(i.doubleValue),c=Rt(o.doubleValue);return l===c?zf(l)===zf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return hl(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(tT(l)!==tT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!hi(l[d],c[d])))return!1;return!0}(r,e);default:return Ne()}}function ic(r,e){return(r.values||[]).find(t=>hi(t,e))!==void 0}function pl(r,e){if(r===e)return 0;const t=Hs(r),n=Hs(e);if(t!==n)return qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Rt(o.integerValue||o.doubleValue),d=Rt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return rT(r.timestampValue,e.timestampValue);case 4:return rT(nc(r),nc(e));case 5:return qe(r.stringValue,e.stringValue);case 6:return function(o,l){const c=Ws(o),d=Ws(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=qe(c[p],d[p]);if(m!==0)return m}return qe(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=qe(Rt(o.latitude),Rt(l.latitude));return c!==0?c:qe(Rt(o.longitude),Rt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return iT(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,m;const y=o.fields||{},_=l.fields||{},E=(c=y.value)===null||c===void 0?void 0:c.arrayValue,C=(d=_.value)===null||d===void 0?void 0:d.arrayValue,I=qe(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:iT(E,C)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===ef.mapValue&&l===ef.mapValue)return 0;if(o===ef.mapValue)return 1;if(l===ef.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=qe(d[y],m[y]);if(_!==0)return _;const E=pl(c[d[y]],p[m[y]]);if(E!==0)return E}return qe(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Ne()}}function rT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=$s(r),n=$s(e),i=qe(t.seconds,n.seconds);return i!==0?i:qe(t.nanos,n.nanos)}function iT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=pl(t[i],n[i]);if(o)return o}return qe(t.length,n.length)}function ml(r){return Bg(r)}function Bg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=$s(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ws(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ce.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Bg(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${Bg(t.fields[l])}`;return i+"}"}(r.mapValue):Ne()}function wf(r){switch(Hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+wf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+wf(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Xs(n.fields,(o,l)=>{i+=o.length+wf(l)}),i}(r.mapValue);default:throw Ne()}}function sT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $g(r){return!!r&&"integerValue"in r}function Yy(r){return!!r&&"arrayValue"in r}function oT(r){return!!r&&"nullValue"in r}function aT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ef(r){return!!r&&"mapValue"in r}function k1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Yu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Yu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function C1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=tn.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=Yu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Xs(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new On(Yu(this.value))}}function SC(r){const e=[];return Xs(r.fields,(t,n)=>{const i=new tn([t]);if(Ef(n)){const o=SC(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new dn(e,0,Me.min(),Me.min(),Me.min(),On.empty(),0)}static newFoundDocument(e,t,n,i){return new dn(e,1,t,Me.min(),n,i,0)}static newNoDocument(e,t){return new dn(e,2,t,Me.min(),Me.min(),On.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Me.min(),Me.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.position=e,this.inclusive=t}}function lT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Ce.comparator(Ce.fromName(l.referenceValue),t.key):n=pl(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function uT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t="asc"){this.field=e,this.dir=t}}function x1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class Lt extends kC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new I1(e,t,n):t==="array-contains"?new P1(e,n):t==="in"?new A1(e,n):t==="not-in"?new N1(e,n):t==="array-contains-any"?new M1(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new D1(e,n):new R1(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pl(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends kC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Mr(e,t)}matches(e){return CC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CC(r){return r.op==="and"}function xC(r){return b1(r)&&CC(r)}function b1(r){for(const e of r.filters)if(e instanceof Mr)return!1;return!0}function Wg(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+ml(r.value);if(xC(r))return r.filters.map(e=>Wg(e)).join(",");{const e=r.filters.map(t=>Wg(t)).join(",");return`${r.op}(${e})`}}function bC(r,e){return r instanceof Lt?function(n,i){return i instanceof Lt&&n.op===i.op&&n.field.isEqual(i.field)&&hi(n.value,i.value)}(r,e):r instanceof Mr?function(n,i){return i instanceof Mr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&bC(l,i.filters[c]),!0):!1}(r,e):void Ne()}function IC(r){return r instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(r):r instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map(IC).join(" ,")+"}"}(r):"Filter"}class I1 extends Lt{constructor(e,t,n){super(e,t,n),this.key=Ce.fromName(n.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class D1 extends Lt{constructor(e,t){super(e,"in",t),this.keys=DC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class R1 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=DC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DC(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ce.fromName(n.referenceValue))}class P1 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yy(t)&&ic(t.arrayValue,this.value)}}class A1 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ic(this.value.arrayValue,t)}}class N1 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ic(this.value.arrayValue,t)}}class M1 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ic(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function cT(r,e=null,t=[],n=[],i=null,o=null,l=null){return new O1(r,e,t,n,i,o,l)}function Ky(r){const e=Le(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Wg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>ml(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>ml(n)).join(",")),e.ue=t}return e.ue}function Qy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!x1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bC(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uT(r.startAt,e.startAt)&&uT(r.endAt,e.endAt)}function Hg(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L1(r,e,t,n,i,o,l,c){return new Tc(r,e,t,n,i,o,l,c)}function Ah(r){return new Tc(r)}function dT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RC(r){return r.collectionGroup!==null}function Ku(r){const e=Le(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bt(tn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yf(o,n))}),t.has(tn.keyField().canonicalString())||e.ce.push(new Yf(tn.keyField(),n))}return e.ce}function li(r){const e=Le(r);return e.le||(e.le=F1(e,Ku(r))),e.le}function F1(r,e){if(r.limitType==="F")return cT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yf(i.field,o)});const t=r.endAt?new qf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new qf(r.startAt.position,r.startAt.inclusive):null;return cT(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function zg(r,e){const t=r.filters.concat([e]);return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function qg(r,e,t){return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Nh(r,e){return Qy(li(r),li(e))&&r.limitType===e.limitType}function PC(r){return`${Ky(li(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>IC(i)).join(", ")}]`),Rh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ml(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ml(i)).join(",")),`Target(${n})`}(li(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ce.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Ku(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const p=lT(l,c,d);return l.inclusive?p<=0:p<0}(n.startAt,Ku(n),i)||n.endAt&&!function(l,c,d){const p=lT(l,c,d);return l.inclusive?p>=0:p>0}(n.endAt,Ku(n),i))}(r,e)}function V1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AC(r){return(e,t)=>{let n=!1;for(const i of Ku(r)){const o=j1(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function j1(r,e,t){const n=r.field.isKeyField()?Ce.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?pl(d,p):Ne()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new kt(Ce.comparator);function qi(){return U1}const NC=new kt(Ce.comparator);function ju(...r){let e=NC;for(const t of r)e=e.insert(t.key,t);return e}function MC(r){let e=NC;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Lo(){return Qu()}function OC(){return Qu()}function Qu(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const B1=new kt(Ce.comparator),$1=new Bt(Ce.comparator);function We(...r){let e=$1;for(const t of r)e=e.add(t);return e}const W1=new Bt(qe);function H1(){return W1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function LC(r){return{integerValue:""+r}}function z1(r,e){return v1(e)?LC(e):Gy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function q1(r,e,t){return r instanceof sc?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qy(o)&&(o=Ph(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof oc?VC(r,e):r instanceof ac?jC(r,e):function(i,o){const l=FC(i,o),c=fT(l)+fT(i.Pe);return $g(l)&&$g(i.Pe)?LC(c):Gy(i.serializer,c)}(r,e)}function Y1(r,e,t){return r instanceof oc?VC(r,e):r instanceof ac?jC(r,e):t}function FC(r,e){return r instanceof Kf?function(n){return $g(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class sc extends Oh{}class oc extends Oh{constructor(e){super(),this.elements=e}}function VC(r,e){const t=UC(e);for(const n of r.elements)t.some(i=>hi(i,n))||t.push(n);return{arrayValue:{values:t}}}class ac extends Oh{constructor(e){super(),this.elements=e}}function jC(r,e){let t=UC(e);for(const n of r.elements)t=t.filter(i=>!hi(i,n));return{arrayValue:{values:t}}}class Kf extends Oh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function fT(r){return Rt(r.integerValue||r.doubleValue)}function UC(r){return Yy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.field=e,this.transform=t}}function Q1(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof oc&&i instanceof oc||n instanceof ac&&i instanceof ac?hl(n.elements,i.elements,hi):n instanceof Kf&&i instanceof Kf?hi(n.Pe,i.Pe):n instanceof sc&&i instanceof sc}(r.transform,e.transform)}class G1{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function BC(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xy(r.key,dr.none()):new Sc(r.key,r.data,dr.none());{const t=r.data,n=On.empty();let i=new Bt(tn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Js(r.key,n,new Kn(i.toArray()),dr.none())}}function X1(r,e,t){r instanceof Sc?function(i,o,l){const c=i.value.clone(),d=pT(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Js?function(i,o,l){if(!Tf(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=pT(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll($C(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gu(r,e,t,n){return r instanceof Sc?function(o,l,c,d){if(!Tf(o.precondition,l))return c;const p=o.value.clone(),m=mT(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Js?function(o,l,c,d){if(!Tf(o.precondition,l))return c;const p=mT(o.fieldTransforms,d,l),m=l.data;return m.setAll($C(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(r,e,t,n):function(o,l,c){return Tf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function J1(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=FC(n.transform,i||null);o!=null&&(t===null&&(t=On.empty()),t.set(n.field,o))}return t||null}function hT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&hl(n,i,(o,l)=>Q1(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Sc extends Lh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Js extends Lh{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $C(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function pT(r,e,t){const n=new Map;nt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,Y1(l,c,t[i]))}return n}function mT(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,q1(o,l,e))}return n}class Xy extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z1 extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&X1(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Gu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Gu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=OC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=BC(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,(t,n)=>hT(t,n))&&hl(this.baseMutations,e.baseMutations,(t,n)=>hT(t,n))}}class Jy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){nt(e.mutations.length===n.length);let i=function(){return B1}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new Jy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ke;function rM(r){switch(r){default:return Ne();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function WC(r){if(r===void 0)return zi("GRPC error has no .code"),re.UNKNOWN;switch(r){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return Ne()}}(Ke=Ot||(Ot={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Fs([4294967295,4294967295],0);function gT(r){const e=iM().encode(r),t=new hC;return t.update(e),new Uint8Array(t.digest())}function yT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([t,n],0),new Fs([i,o],0)]}class Zy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(n<0)throw new Uu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Fs.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Fs.fromNumber(n)));return i.compare(sM)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=gT(e),[n,i]=yT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Zy(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=gT(e),[n,i]=yT(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fh(Me.min(),i,new kt(qe),qi(),We())}}class kc{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kc(n,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class HC{constructor(e,t){this.targetId=e,this.me=t}}class zC{constructor(e,t,n=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class _T{constructor(){this.fe=0,this.ge=vT(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),n=We();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ne()}}),new kc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=vT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oM{constructor(e){this.Be=e,this.Le=new Map,this.ke=qi(),this.qe=tf(),this.Qe=tf(),this.Ke=new kt(qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(Hg(o))if(n===0){const l=new Ce(o.path);this.We(t,l,dn.newNoDocument(l,Me.min()))}else nt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ws(n).toUint8Array()}catch(d){if(d instanceof TC)return fl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Zy(l,i,o)}catch(d){return fl(d instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Hg(c.target)){const d=new Ce(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,dn.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=We();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Fh(e,t,this.Ke,this.ke,n);return this.ke=qi(),this.qe=tf(),this.Qe=tf(),this.Ke=new kt(qe),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new _T,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Bt(qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new _T),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function tf(){return new kt(Ce.comparator)}function vT(){return new kt(Ce.comparator)}const aM={asc:"ASCENDING",desc:"DESCENDING"},lM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uM={and:"AND",or:"OR"};class cM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yg(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function Qf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qC(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dM(r,e){return Qf(r,e.toTimestamp())}function ui(r){return nt(!!r),Me.fromTimestamp(function(t){const n=$s(t);return new Ft(n.seconds,n.nanos)}(r))}function e_(r,e){return Kg(r,e).canonicalString()}function Kg(r,e){const t=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function YC(r){const e=gt.fromString(r);return nt(JC(e)),e}function Qg(r,e){return e_(r.databaseId,e.path)}function eg(r,e){const t=YC(e);if(t.get(1)!==r.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(QC(t))}function KC(r,e){return e_(r.databaseId,e)}function fM(r){const e=YC(r);return e.length===4?gt.emptyPath():QC(e)}function Gg(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QC(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function wT(r,e,t){return{name:Qg(r,e),fields:t.value.mapValue.fields}}function hM(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(nt(m===void 0||typeof m=="string"),rn.fromBase64String(m||"")):(nt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),rn.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?re.UNKNOWN:WC(p.code);return new we(m,p.message||"")}(l);t=new zC(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=eg(r,n.document.name),o=ui(n.document.updateTime),l=n.document.createTime?ui(n.document.createTime):Me.min(),c=new On({mapValue:{fields:n.document.fields}}),d=dn.newFoundDocument(i,o,l,c),p=n.targetIds||[],m=n.removedTargetIds||[];t=new Sf(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=eg(r,n.document),o=n.readTime?ui(n.readTime):Me.min(),l=dn.newNoDocument(i,o),c=n.removedTargetIds||[];t=new Sf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=eg(r,n.document),o=n.removedTargetIds||[];t=new Sf([],o,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new nM(i,o),c=n.targetId;t=new HC(c,l)}}return t}function pM(r,e){let t;if(e instanceof Sc)t={update:wT(r,e.key,e.value)};else if(e instanceof Xy)t={delete:Qg(r,e.key)};else if(e instanceof Js)t={update:wT(r,e.key,e.data),updateMask:SM(e.fieldMask)};else{if(!(e instanceof Z1))return Ne();t={verify:Qg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof sc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ne()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(r,e.precondition)),t}function mM(r,e){return r&&r.length>0?(nt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ui(i.updateTime):ui(o);return l.isEqual(Me.min())&&(l=ui(o)),new G1(l,i.transformResults||[])}(t,e))):[]}function gM(r,e){return{documents:[KC(r,e.path)]}}function yM(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=KC(r,i);const o=function(p){if(p.length!==0)return XC(Mr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:el(_.field),direction:wM(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Yg(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function _M(r){let e=fM(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){nt(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const _=GC(y);return _ instanceof Mr&&xC(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(C){return new Yf(tl(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Rh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(y){const _=!!y.before,E=y.values||[];return new qf(E,_)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const _=!y.before,E=y.values||[];return new qf(E,_)}(t.endAt)),L1(e,i,l,o,c,"F",d,p)}function vM(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GC(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=tl(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(t.unaryFilter.field);return Lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tl(t.unaryFilter.field);return Lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tl(t.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(r):r.fieldFilter!==void 0?function(t){return Lt.create(tl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(n=>GC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(r):Ne()}function wM(r){return aM[r]}function EM(r){return lM[r]}function TM(r){return uM[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return tn.fromServerFormat(r.fieldPath)}function XC(r){return r instanceof Lt?function(t){if(t.op==="=="){if(aT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(oT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(oT(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:EM(t.op),value:t.value}}}(r):r instanceof Mr?function(t){const n=t.getFilters().map(i=>XC(i));return n.length===1?n[0]:{compositeFilter:{op:TM(t.op),filters:n}}}(r):Ne()}function SM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,n,i,o=Me.min(),l=Me.min(),c=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.ht=e}}function CM(r){const e=_M({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.ln=new bM}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Bs.min())}updateCollectionGroup(e,t,n){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class bM{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Bt(gt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Bt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new gl(0)}static Qn(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT([r,e],[t,n]){const i=qe(r,t);return i===0?qe(e,n):i}class IM{constructor(e){this.Gn=e,this.buffer=new Bt(TT),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();TT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DM{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Al(t)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Pl(t)}await this.Yn(3e5)})}}class RM{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Dh.oe);const n=new IM(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ET)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(p=Date.now(),Ja()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function PM(r,e){return new RM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.changes=new na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Gu(n.mutation,i,Kn.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,We()).next(()=>n))}getLocalViewOfDocuments(e,t,n=We()){const i=Lo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=ju();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Lo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,We()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=qi();const l=Qu(),c=function(){return Qu()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Js)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Gu(m.mutation,p,m.mutation.getFieldMask(),Ft.now())):l.set(p.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return c.set(p,new NM(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Qu();let i=new kt((l,c)=>l-c),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||Kn.empty();m=c.applyToLocalView(p,m),n.set(d,m);const y=(i.get(c.batchId)||We()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=OC();m.forEach(_=>{if(!o.has(_)){const E=BC(t.get(_),n.get(_));E!==null&&y.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ne.resolve(Lo());let c=-1,d=o;return l.next(p=>ne.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,We())).next(m=>({batchId:c,changes:MC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(n=>{let i=ju();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=ju();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,d=>{const p=function(y,_){return new Tc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,dn.newInvalidDocument(m)))});let c=ju();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Gu(m.mutation,p,Kn.empty(),Ft.now()),Mh(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:CM(i.bundledQuery),readTime:ui(i.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.overlays=new kt(Ce.comparator),this.dr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Lo();return ne.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),ne.resolve()}getOverlaysForCollection(e,t,n){const i=Lo(),o=t.length+1,l=new Ce(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new kt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=Lo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Lo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return ne.resolve(c)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new tM(t,n));let o=this.dr.get(t);o===void 0&&(o=We(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.Er=new Bt(qt.Ar),this.Rr=new Bt(qt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new qt(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new qt(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new Ce(new gt([])),n=new qt(t,e),i=new qt(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ce(new gt([])),n=new qt(t,e),i=new qt(t,e+1);let o=We();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new qt(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ce.comparator(e.key,t.key)||qe(e.br,t.br)}static Vr(e,t){return qe(e.br,t.br)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Bt(qt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new eM(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new qt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qt(t,0),i=new qt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const c=this.Cr(l.br);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bt(qe);return t.forEach(i=>{const o=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{n=n.add(c.br)})}),ne.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ce.isDocumentKey(o)||(o=o.child(""));const l=new qt(new Ce(o),0);let c=new Bt(qe);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.br)),!0)},l),ne.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){nt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return ne.forEach(t.mutations,i=>{const o=new qt(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new qt(t,0),i=this.vr.firstAfterOrEqual(n);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.Nr=e,this.docs=function(){return new kt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ne.resolve(n?n.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let n=qi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=qi();const l=t.path,c=new Ce(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||m1(p1(m),n)<=0||(i.has(m.key)||Mh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ne()}Br(e,t){return ne.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new UM(this)}getSize(e){return ne.resolve(this.size)}}class UM extends AM{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.Lr=new na(t=>Ky(t),Qy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new t_,this.targetCount=0,this.Qr=gl.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return ne.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),ne.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return ne.resolve(n)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Dh(0),this.Ur=!1,this.Ur=!0,this.Wr=new FM,this.referenceDelegate=e(this),this.Gr=new BM(this),this.indexManager=new xM,this.remoteDocumentCache=function(i){return new jM(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new kM(t),this.jr=new OM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new VM(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const i=new $M(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return ne.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class $M extends y1{constructor(e){super(),this.currentSequenceNumber=e}}class n_{constructor(e){this.persistence=e,this.Zr=new t_,this.Xr=null}static ei(e){return new n_(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),ne.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,n=>{const i=Ce.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.ri=new na(n=>w1(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=PM(this,t)}static ei(e,t){return new Gf(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?ne.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(n++,o.removeEntry(l,Me.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}ir(e,t,n){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ne.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new r_(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return xR()?8:_1(pn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new WM;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(Ja()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Ja()<=$e.DEBUG&&ye("QueryEngine","Query:",Za(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(Ja()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):ne.resolve())}Xi(e,t){if(dT(t))return ne.resolve(null);let n=li(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qg(t,null,"F"),n=li(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=We(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.rs(t,c);return this.ss(t,p,l,d.readTime)?this.Xi(e,qg(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,n,i){return dT(t)||i.isEqual(Me.min())?ne.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?ne.resolve(null):(Ja()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(t)),this.os(e,l,t,h1(i,-1)).next(c=>c))})}rs(e,t){let n=new Bt(AC(e));return t.forEach((i,o)=>{Mh(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return Ja()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Za(t)),this.Zi.getDocumentsMatchingQuery(e,t,Bs.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new kt(qe),this.cs=new na(o=>Ky(o),Qy),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function qM(r,e,t,n){return new zM(r,e,t,n)}async function e0(r,e){const t=Le(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=We();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function YM(r,e){const t=Le(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,_=y.keys();let E=ne.resolve();return _.forEach(C=>{E=E.next(()=>m.getEntry(d,C)).next(I=>{const b=p.docVersions.get(C);nt(b!==null),I.version.compareTo(b)<0&&(y.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),m.addEntry(I)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=We();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function t0(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function KM(r,e){const t=Le(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,y)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(rn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,n)),i=i.insert(y,E),function(I,b,N){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,E,m)&&c.push(t.Gr.updateTargetData(o,E))});let d=qi(),p=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(QM(o,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!n.isEqual(Me.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(y=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return ne.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function QM(r,e,t){let n=We(),i=We();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=qi();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function GM(r,e){const t=Le(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function XM(r,e){const t=Le(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,ne.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Ps(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function Xg(r,e,t){const n=Le(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Al(l))throw l;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function ST(r,e,t){const n=Le(r);let i=Me.min(),o=We();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Le(d),_=y.cs.get(m);return _!==void 0?ne.resolve(y.us.get(_)):y.Gr.getTargetData(p,m)}(n,l,li(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:Me.min(),t?o:We())).next(c=>(JM(n,V1(e),c),{documents:c,Es:o})))}function JM(r,e,t){let n=r.ls.get(e)||Me.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class kT{constructor(){this.activeTargetIds=H1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZM{constructor(){this._o=new kT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new kT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function tg(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class rO extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const c=tg(),d=this.No(t,n.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(m=>(ye("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw fl("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,n,i,o,l,c){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=tO[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=tg();return new Promise((l,c)=>{const d=new pC;d.setWithCredentials(!0),d.listenOnce(mC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case vf.NO_ERROR:const m=d.getResponseJson();ye(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case vf.TIMEOUT:ye(un,`RPC '${e}' ${o} timed out`),c(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const y=d.getStatus();if(ye(un,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const C=function(b){const N=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(E.status);c(new we(C,E.message))}else c(new we(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new we(re.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(un,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ye(un,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}qo(e,t,n){const i=tg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_C(),c=yC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");ye(un,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let _=!1,E=!1;const C=new nO({Eo:b=>{E?ye(un,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ye(un,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),ye(un,`RPC '${e}' stream ${i} sending:`,b),y.send(b))},Ao:()=>y.close()}),I=(b,N,F)=>{b.listen(N,j=>{try{F(j)}catch(q){setTimeout(()=>{throw q},0)}})};return I(y,Vu.EventType.OPEN,()=>{E||(ye(un,`RPC '${e}' stream ${i} transport opened.`),C.So())}),I(y,Vu.EventType.CLOSE,()=>{E||(E=!0,ye(un,`RPC '${e}' stream ${i} transport closed`),C.Do())}),I(y,Vu.EventType.ERROR,b=>{E||(E=!0,fl(un,`RPC '${e}' stream ${i} transport errored:`,b),C.Do(new we(re.UNAVAILABLE,"The operation could not be completed")))}),I(y,Vu.EventType.MESSAGE,b=>{var N;if(!E){const F=b.data[0];nt(!!F);const j=F,q=(j==null?void 0:j.error)||((N=j[0])===null||N===void 0?void 0:N.error);if(q){ye(un,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let Z=function(P){const L=Ot[P];if(L!==void 0)return WC(L)}(X),A=q.message;Z===void 0&&(Z=re.INTERNAL,A="Unknown error status: "+X+" with message "+q.message),E=!0,C.Do(new we(Z,A)),y.close()}else ye(un,`RPC '${e}' stream ${i} received:`,F),C.vo(F)}}),I(c,gC.STAT_EVENT,b=>{b.stat===Ug.PROXY?ye(un,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ug.NOPROXY&&ye(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new cM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,n,i,o,l,c,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new n0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iO extends r0{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=hM(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?ui(l.readTime):Me.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Gg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=Hg(d)?{documents:gM(o,d)}:{query:yM(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qC(o,l.resumeToken);const p=Yg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Qf(o,l.snapshotVersion.toTimestamp());const p=Yg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=vM(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.c_(t)}}class sO extends r0{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=mM(e.writeResults,e.commitTime),n=ui(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Gg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>pM(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Kg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(re.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Kg(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(zi(t),this.C_=!1):ye("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{ra(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Le(d);p.k_.add(4),await Cc(p),p.K_.set("Unknown"),p.k_.delete(4),await jh(p)}(this))})}),this.K_=new aO(n,i)}}async function jh(r){if(ra(r))for(const e of r.q_)await e(!0)}async function Cc(r){for(const e of r.q_)await e(!1)}function i0(r,e){const t=Le(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),a_(t)?o_(t):Nl(t).s_()&&s_(t,e))}function i_(r,e){const t=Le(r),n=Nl(t);t.L_.delete(e),n.s_()&&s0(t,e),t.L_.size===0&&(n.s_()?n.a_():ra(t)&&t.K_.set("Unknown"))}function s_(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nl(r).V_(e)}function s0(r,e){r.U_.xe(e),Nl(r).m_(e)}function o_(r){r.U_=new oM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Nl(r).start(),r.K_.F_()}function a_(r){return ra(r)&&!Nl(r).i_()&&r.L_.size>0}function ra(r){return Le(r).k_.size===0}function o0(r){r.U_=void 0}async function uO(r){r.K_.set("Online")}async function cO(r){r.L_.forEach((e,t)=>{s_(r,e)})}async function dO(r,e){o0(r),a_(r)?(r.K_.O_(e),o_(r)):r.K_.set("Unknown")}async function fO(r,e,t){if(r.K_.set("Online"),e instanceof zC&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(r,e)}catch(n){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xf(r,n)}else if(e instanceof Sf?r.U_.$e(e):e instanceof HC?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Me.min()))try{const n=await t0(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.L_.get(p);m&&o.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=o.L_.get(d);if(!m)return;o.L_.set(d,m.withResumeToken(rn.EMPTY_BYTE_STRING,m.snapshotVersion)),s0(o,d);const y=new Ps(m.target,d,p,m.sequenceNumber);s_(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){ye("RemoteStore","Failed to raise snapshot:",n),await Xf(r,n)}}async function Xf(r,e,t){if(!Al(e))throw e;r.k_.add(1),await Cc(r),r.K_.set("Offline"),t||(t=()=>t0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await jh(r)})}function a0(r,e){return e().catch(t=>Xf(r,t,e))}async function Uh(r){const e=Le(r),t=zs(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;hO(e);)try{const i=await GM(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,pO(e,i)}catch(i){await Xf(e,i)}l0(e)&&u0(e)}function hO(r){return ra(r)&&r.B_.length<10}function pO(r,e){r.B_.push(e);const t=zs(r);t.s_()&&t.f_&&t.g_(e.mutations)}function l0(r){return ra(r)&&!zs(r).i_()&&r.B_.length>0}function u0(r){zs(r).start()}async function mO(r){zs(r).w_()}async function gO(r){const e=zs(r);for(const t of r.B_)e.g_(t.mutations)}async function yO(r,e,t){const n=r.B_.shift(),i=Jy.from(n,e,t);await a0(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Uh(r)}async function _O(r,e){e&&zs(r).f_&&await async function(n,i){if(function(l){return rM(l)&&l!==re.ABORTED}(i.code)){const o=n.B_.shift();zs(n).__(),await a0(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uh(n)}}(r,e),l0(r)&&u0(r)}async function xT(r,e){const t=Le(r);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const n=ra(t);t.k_.add(3),await Cc(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await jh(t)}async function vO(r,e){const t=Le(r);e?(t.k_.delete(2),await jh(t)):e||(t.k_.add(2),await Cc(t),t.K_.set("Unknown"))}function Nl(r){return r.W_||(r.W_=function(t,n,i){const o=Le(t);return o.b_(),new iO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:uO.bind(null,r),mo:cO.bind(null,r),po:dO.bind(null,r),R_:fO.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),a_(r)?o_(r):r.K_.set("Unknown")):(await r.W_.stop(),o0(r))})),r.W_}function zs(r){return r.G_||(r.G_=function(t,n,i){const o=Le(t);return o.b_(),new sO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:mO.bind(null,r),po:_O.bind(null,r),p_:gO.bind(null,r),y_:yO.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Uh(r)):(await r.G_.stop(),r.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new l_(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Al(r))return new we(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ce.comparator(t.key,n.key):(t,n)=>Ce.comparator(t.key,n.key),this.keyedMap=ju(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new al;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.z_=new kt(Ce.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class yl{constructor(e,t,n,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new yl(e,t,al.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class EO{constructor(){this.queries=IT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=Le(t),o=i.queries;i.queries=IT(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(n)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function IT(){return new na(r=>PC(r),Nh)}async function c_(r,e){const t=Le(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new wO,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=u_(l,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&f_(t)}async function d_(r,e){const t=Le(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function TO(r,e){const t=Le(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(n=!0);l.H_=i}}n&&f_(t)}function SO(r,e,t){const n=Le(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function f_(r){r.X_.forEach(e=>{e.next()})}var Jg,DT;(DT=Jg||(Jg={})).na="default",DT.Cache="cache";class h_{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new yl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.key=e}}class d0{constructor(e){this.key=e}}class kO{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=AC(e),this.ma=new al(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new bT,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),E=Mh(this.query,y)?y:null,C=!!_&&this.mutatedKeys.has(_.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;_&&E?_.data.isEqual(E.data)?C!==I&&(n.track({type:3,doc:E}),b=!0):this.ya(_,E)||(n.track({type:2,doc:E}),b=!0,(d&&this.Va(E,d)>0||p&&this.Va(E,p)<0)&&(c=!0)):!_&&E?(n.track({type:0,doc:E}),b=!0):_&&!E&&(n.track({type:1,doc:_}),b=!0,(d||p)&&(c=!0)),b&&(E?(l=l.add(E),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{ma:l,pa:n,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,y)=>function(E,C){const I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return I(E)-I(C)}(m.type,y.type)||this.Va(m.doc,y.doc)),this.wa(n),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new yl(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new bT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new d0(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new c0(n))}),t}va(e){this.Ea=e.Es,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return yl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class CO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xO{constructor(e){this.key=e,this.Fa=!1}}class bO{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new na(c=>PC(c),Nh),this.Oa=new Map,this.Na=new Set,this.Ba=new kt(Ce.comparator),this.La=new Map,this.ka=new t_,this.qa={},this.Qa=new Map,this.Ka=gl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function IO(r,e,t=!0){const n=y0(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await f0(n,e,t,!0),i}async function DO(r,e){const t=y0(r);await f0(t,e,!0,!1)}async function f0(r,e,t,n){const i=await XM(r.localStore,li(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await RO(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&i0(r.remoteStore,i),c}async function RO(r,e,t,n,i){r.Ua=(y,_,E)=>async function(I,b,N,F){let j=b.view.ga(N);j.ss&&(j=await ST(I.localStore,b.query,!1).then(({documents:A})=>b.view.ga(A,j)));const q=F&&F.targetChanges.get(b.targetId),X=F&&F.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(j,I.isPrimaryClient,q,X);return PT(I,b.targetId,Z.ba),Z.snapshot}(r,y,_,E);const o=await ST(r.localStore,e,!0),l=new kO(e,o.Es),c=l.ga(o.documents),d=kc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(c,r.isPrimaryClient,d);PT(r,t,p.ba);const m=new CO(e,t,l);return r.xa.set(e,m),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),p.snapshot}async function PO(r,e,t){const n=Le(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!Nh(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&i_(n.remoteStore,i.targetId),Zg(n,i.targetId)}).catch(Pl)):(Zg(n,i.targetId),await Xg(n.localStore,i.targetId,!0))}async function AO(r,e){const t=Le(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),i_(t.remoteStore,n.targetId))}async function NO(r,e,t){const n=UO(r);try{const i=await function(l,c){const d=Le(l),p=Ft.now(),m=c.reduce((E,C)=>E.add(C.key),We());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=qi(),I=We();return d.hs.getEntries(E,m).next(b=>{C=b,C.forEach((N,F)=>{F.isValidDocument()||(I=I.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,C)).next(b=>{y=b;const N=[];for(const F of c){const j=J1(F,y.get(F.key).overlayedDocument);j!=null&&N.push(new Js(F.key,j,SC(j.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,N,c)}).next(b=>{_=b;const N=b.applyToLocalDocumentSet(y,I);return d.documentOverlayCache.saveOverlays(E,b.batchId,N)})}).then(()=>({batchId:_.batchId,changes:MC(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new kt(qe)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(n,i.batchId,t),await xc(n,i.changes),await Uh(n.remoteStore)}catch(i){const o=u_(i,"Failed to persist write");t.reject(o)}}async function h0(r,e){const t=Le(r);try{const n=await KM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?nt(l.Fa):i.removedDocuments.size>0&&(nt(l.Fa),l.Fa=!1))}),await xc(t,n,e)}catch(n){await Pl(n)}}function RT(r,e,t){const n=Le(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Le(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const _ of y.J_)_.ea(c)&&(p=!0)}),p&&f_(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function MO(r,e,t){const n=Le(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new kt(Ce.comparator);l=l.insert(o,dn.newNoDocument(o,Me.min()));const c=We().add(o),d=new Fh(Me.min(),new Map,new kt(qe),l,c);await h0(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),p_(n)}else await Xg(n.localStore,e,!1).then(()=>Zg(n,e,t)).catch(Pl)}async function OO(r,e){const t=Le(r),n=e.batch.batchId;try{const i=await YM(t.localStore,e);m0(t,n,null),p0(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await xc(t,i)}catch(i){await Pl(i)}}async function LO(r,e,t){const n=Le(r);try{const i=await function(l,c){const d=Le(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(nt(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);m0(n,e,t),p0(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await xc(n,i)}catch(i){await Pl(i)}}function p0(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function m0(r,e,t){const n=Le(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function Zg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||g0(r,n)})}function g0(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(i_(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),p_(r))}function PT(r,e,t){for(const n of t)n instanceof c0?(r.ka.addReference(n.key,e),FO(r,n)):n instanceof d0?(ye("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||g0(r,n.key)):Ne()}function FO(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(ye("SyncEngine","New document in limbo: "+t),r.Na.add(n),p_(r))}function p_(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Ce(gt.fromString(e)),n=r.Ka.next();r.La.set(n,new xO(t)),r.Ba=r.Ba.insert(t,n),i0(r.remoteStore,new Ps(li(Ah(t.path)),n,"TargetPurposeLimboResolution",Dh.oe))}}async function xc(r,e,t){const n=Le(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,d)=>{l.push(n.Ua(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=r_.zi(d.targetId,p);o.push(y)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,p){const m=Le(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ne.forEach(p,_=>ne.forEach(_.Wi,E=>m.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>ne.forEach(_.Gi,E=>m.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!Al(y))throw y;ye("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const E=m.us.get(_),C=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(C);m.us=m.us.insert(_,I)}}}(n.localStore,o))}async function VO(r,e){const t=Le(r);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const n=await e0(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new we(re.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await xc(t,n.Ts)}}function jO(r,e){const t=Le(r),n=t.La.get(e);if(n&&n.Fa)return We().add(n.key);{let i=We();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function y0(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Ma.R_=TO.bind(null,e.eventManager),e.Ma.Wa=SO.bind(null,e.eventManager),e}function UO(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return qM(this.persistence,new HM,e.initialUser,this.serializer)}ja(e){return new ZC(n_.ei,this.serializer)}za(e){return new ZM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class BO extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){nt(this.persistence.referenceDelegate instanceof Gf);const n=this.persistence.referenceDelegate.garbageCollector;return new DM(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new ZC(n=>Gf.ei(n,t),this.serializer)}}class ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>RT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EO}()}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),n=function(o){return new rO(o)}(e.databaseInfo);return function(o,l,c,d){return new oO(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new lO(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>RT(this.syncEngine,t,0),function(){return CT.p()?new CT:new eO}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,m){const y=new bO(i,o,l,c,d,p);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Le(i);ye("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Cc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=wC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{ye("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(ye("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=u_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rg(r,e){r.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await e0(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function AT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await WO(r);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>xT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>xT(e.remoteStore,i)),r._onlineComponents=e}async function WO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await rg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fl("Error using user provided cache. Falling back to memory cache: "+t),await rg(r,new Jf)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await rg(r,new BO(void 0));return r._offlineComponents}async function _0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await AT(r,r._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await AT(r,new ey))),r._onlineComponents}function HO(r){return _0(r).then(e=>e.syncEngine)}async function Zf(r){const e=await _0(r),t=e.eventManager;return t.onListen=IO.bind(null,e.syncEngine),t.onUnlisten=PO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),t}function zO(r,e,t={}){const n=new Fi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new m_({next:_=>{m.eu(),l.enqueueAndForget(()=>d_(o,y));const E=_.docs.has(c);!E&&_.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new h_(Ah(c.path),m,{includeMetadataChanges:!0,ua:!0});return c_(o,y)}(await Zf(r),r.asyncQueue,e,t,n)),n.promise}function qO(r,e,t={}){const n=new Fi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new m_({next:_=>{m.eu(),l.enqueueAndForget(()=>d_(o,y)),_.fromCache&&d.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new h_(c,m,{includeMetadataChanges:!0,ua:!0});return c_(o,y)}(await Zf(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function YO(r,e,t,n){if(e===!0&&n===!0)throw new we(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function MT(r){if(!Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OT(r){if(Ce.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne()}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(r);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new i1;switch(n.type){case"firstParty":return new l1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=NT.get(t);n&&(ye("ComponentProvider","Removing Datastore"),NT.delete(t),n.terminate())}(this),Promise.resolve()}}function KO(r,e,t,n={}){var i;const o=(r=Ln(r,$h))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=cn.MOCK_USER;else{c=vR(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new cn(p)}r._authCredentials=new s1(new vC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class hn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Vs extends ia{constructor(e,t,n){super(e,t,Ah(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ce(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function ll(r,e,...t){if(r=Kt(r),w0("collection","path",e),r instanceof $h){const n=gt.fromString(e,...t);return OT(n),new Vs(r,null,n)}{if(!(r instanceof hn||r instanceof Vs))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return OT(n),new Vs(r.firestore,null,n)}}function Yn(r,e,...t){if(r=Kt(r),arguments.length===1&&(e=wC.newId()),w0("doc","path",e),r instanceof $h){const n=gt.fromString(e,...t);return MT(n),new hn(r,null,new Ce(n))}{if(!(r instanceof hn||r instanceof Vs))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return MT(n),new hn(r.firestore,r instanceof Vs?r.converter:null,new Ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new n0(this,"async_queue_retry"),this.fu=()=>{const n=ng();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Fi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Al(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw zi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=l_.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function VT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Yi extends $h{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new FT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FT(e),this._firestoreClient=void 0,await e}}}function QO(r,e){const t=typeof r=="object"?r:Dk(),n=typeof r=="string"?r:"(default)",i=Oy(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=yR("firestore");o&&KO(i,...o)}return i}function Wh(r){if(r._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GO(r),r._firestoreClient}function GO(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,p,m){return new S1(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,v0(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new $O(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(rn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _l(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class JO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class E0{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class __{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new __(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return eh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(T0(this.Mu)&&XO.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ZO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vh(e)}$u(e,t,n,i=!1){return new __({Mu:e,methodName:t,Ku:n,path:tn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(r){const e=r._freezeSettings(),t=Vh(r._databaseId);return new ZO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function S0(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);w_("Data must be an object, but it was:",l,n);const c=k0(n,l);let d,p;if(o.merge)d=new Kn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=ty(e,y,t);if(!l.contains(_))throw new we(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);x0(m,_)||m.push(_)}d=new Kn(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new JO(new On(c),d,p)}class Yh extends zh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class v_ extends zh{_toFieldTransform(e){return new K1(e.path,new sc)}isEqual(e){return e instanceof v_}}function eL(r,e,t,n){const i=r.$u(1,e,t);w_("Data must be an object, but it was:",i,n);const o=[],l=On.empty();Xs(n,(d,p)=>{const m=E_(e,d,t);p=Kt(p);const y=i.Lu(m);if(p instanceof Yh)o.push(m);else{const _=bc(p,y);_!=null&&(o.push(m),l.set(m,_))}});const c=new Kn(o);return new E0(l,c,i.fieldTransforms)}function tL(r,e,t,n,i,o){const l=r.$u(1,e,t),c=[ty(e,n,t)],d=[i];if(o.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(ty(e,o[_])),d.push(o[_+1]);const p=[],m=On.empty();for(let _=c.length-1;_>=0;--_)if(!x0(p,c[_])){const E=c[_];let C=d[_];C=Kt(C);const I=l.Lu(E);if(C instanceof Yh)p.push(E);else{const b=bc(C,I);b!=null&&(p.push(E),m.set(E,b))}}const y=new Kn(p);return new E0(m,y,l.fieldTransforms)}function nL(r,e,t,n=!1){return bc(t,r.$u(n?4:3,e))}function bc(r,e){if(C0(r=Kt(r)))return w_("Unsupported field value:",e,r),k0(r,e);if(r instanceof zh)return function(n,i){if(!T0(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=bc(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return z1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ft.fromDate(n);return{timestampValue:Qf(i.serializer,o)}}if(n instanceof Ft){const o=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qf(i.serializer,o)}}if(n instanceof g_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _l)return{bytesValue:qC(i.serializer,n._byteString)};if(n instanceof hn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof y_)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Gy(c.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${Bh(n)}`)}(r,e)}function k0(r,e){const t={};return EC(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(r,(n,i)=>{const o=bc(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function C0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ft||r instanceof g_||r instanceof _l||r instanceof hn||r instanceof zh||r instanceof y_)}function w_(r,e,t){if(!C0(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Bh(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function ty(r,e,t){if((e=Kt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return E_(r,e);throw eh("Field path arguments must be of type string or ",r,!1,void 0,t)}const rL=new RegExp("[~\\*/\\[\\]]");function E_(r,e,t){if(e.search(rL)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Hh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function eh(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new we(re.INVALID_ARGUMENT,c+r+d)}function x0(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(T_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends b0{data(){return super.data()}}function T_(r,e){return typeof e=="string"?E_(r,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class sL extends S_{}function ny(r,e,...t){let n=[];e instanceof S_&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof k_).length,c=o.filter(d=>d instanceof Kh).length;if(l>1||l>0&&c>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Kh extends sL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kh(e,t,n)}_apply(e){const t=this._parse(e);return D0(e._query,t),new ia(e.firestore,e.converter,zg(e._query,t))}_parse(e){const t=qh(e.firestore);return function(o,l,c,d,p,m,y){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){UT(y,m);const E=[];for(const C of y)E.push(jT(d,o,C));_={arrayValue:{values:E}}}else _=jT(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||UT(y,m),_=nL(c,l,y,m==="in"||m==="not-in");return Lt.create(p,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kf(r,e,t){const n=e,i=T_("where",r);return Kh._create(i,n,t)}class k_ extends S_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new k_(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)D0(l,d),l=zg(l,d)}(e._query,t),new ia(e.firestore,e.converter,zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jT(r,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RC(e)&&t.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(gt.fromString(t));if(!Ce.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sT(r,new Ce(n))}if(t instanceof hn)return sT(r,t._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function UT(r,e){if(!Array.isArray(r)||r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D0(r,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oL{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xs(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Rt(l.doubleValue));return new y_(o)}convertGeoPoint(e){return new g_(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ph(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const t=$s(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gt.fromString(e);nt(JC(n));const i=new rc(n.get(1),n.get(3)),o=new Ce(n.popFirst(5));return i.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P0 extends b0{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(T_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cf extends P0{data(e={}){return super.data(e)}}class A0{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Cf(this._firestore,this._userDataWriter,n.key,n,new Bu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Cf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Cf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:aL(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(r){r=Ln(r,hn);const e=Ln(r.firestore,Yi);return zO(Wh(e),r._key).then(t=>M0(e,r,t))}class C_ extends oL{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function ry(r){r=Ln(r,ia);const e=Ln(r.firestore,Yi),t=Wh(e),n=new C_(e);return I0(r._query),qO(t,r._query).then(i=>new A0(e,n,r,i))}function ig(r,e,t){r=Ln(r,hn);const n=Ln(r.firestore,Yi),i=R0(r.converter,e);return Qh(n,[S0(qh(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,dr.none())])}function xf(r,e,t,...n){r=Ln(r,hn);const i=Ln(r.firestore,Yi),o=qh(i);let l;return l=typeof(e=Kt(e))=="string"||e instanceof Hh?tL(o,"updateDoc",r._key,e,t,n):eL(o,"updateDoc",r._key,e),Qh(i,[l.toMutation(r._key,dr.exists(!0))])}function x_(r){return Qh(Ln(r.firestore,Yi),[new Xy(r._key,dr.none())])}function N0(r,e){const t=Ln(r.firestore,Yi),n=Yn(r),i=R0(r.converter,e);return Qh(t,[S0(qh(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,dr.exists(!1))]).then(()=>n)}function lL(r,...e){var t,n,i;r=Kt(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||VT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VT(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,p,m;if(r instanceof hn)p=Ln(r.firestore,Yi),m=Ah(r._key.path),d={next:y=>{e[l]&&e[l](M0(p,r,y))},error:e[l+1],complete:e[l+2]};else{const y=Ln(r,ia);p=Ln(y.firestore,Yi),m=y._query;const _=new C_(p);d={next:E=>{e[l]&&e[l](new A0(p,_,y,E))},error:e[l+1],complete:e[l+2]},I0(r._query)}return function(_,E,C,I){const b=new m_(I),N=new h_(E,b,C);return _.asyncQueue.enqueueAndForget(async()=>c_(await Zf(_),N)),()=>{b.eu(),_.asyncQueue.enqueueAndForget(async()=>d_(await Zf(_),N))}}(Wh(p),m,c,d)}function Qh(r,e){return function(n,i){const o=new Fi;return n.asyncQueue.enqueueAndForget(async()=>NO(await HO(n),i,o)),o.promise}(Wh(r),e)}function M0(r,e,t){const n=t.docs.get(e._key),i=new C_(r);return new P0(r,i,e._key,n,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}function uL(){return new v_("serverTimestamp")}(function(e,t=!0){(function(i){Rl=i})(Il),dl(new Yo("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Yi(new o1(n.getProvider("auth-internal")),new c1(n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ls(ZE,"4.7.6",e),Ls(ZE,"4.7.6","esm2017")})();const cL={apiKey:"AIzaSyCw25yBHWnOZ0_HBZWBPuXUEf_occK4FpQ",authDomain:"artvoyage-469a7.firebaseapp.com",projectId:"artvoyage-469a7",storageBucket:"artvoyage-469a7.firebasestorage.app",messagingSenderId:"541351917404",appId:"1:541351917404:web:54160b1d171846a9b5b399"},O0=Ik(cL),Vo=n1(O0),Yt=QO(O0),L0=k.createContext(void 0),dL=({children:r})=>{const[e,t]=k.useState(null),[n,i]=k.useState(!0);k.useEffect(()=>Vo.onAuthStateChanged(async p=>{if(p)try{const m=Yn(Yt,"users",p.uid);(await Fo(m)).exists()||await ig(m,{uid:p.uid,email:p.email}),t(p)}catch(m){console.error("Error fetching user data:",m)}else t(null);i(!1)}),[]);const o=async(d,p,m,y)=>{i(!0);try{const E=(await BA(Vo,d,p)).user,C=Yn(Yt,"users",E.uid);await ig(C,{uid:E.uid,email:E.email,firstName:m,lastName:y}),t(E)}catch(_){throw console.error("Error during registration:",_),_}finally{i(!1)}},l=async(d,p)=>{i(!0);try{const y=(await $A(Vo,d,p)).user,_=Yn(Yt,"users",y.uid);(await Fo(_)).exists()||await ig(_,{uid:y.uid,email:y.email}),t(y)}catch(m){throw console.error("Error during login:",m),m}finally{i(!1)}},c=async()=>{i(!0);try{await zA(Vo),t(null)}catch(d){console.error("Error signing out:",d)}finally{i(!1)}};return S.jsx(L0.Provider,{value:{user:e,register:o,login:l,logout:c,loading:n},children:r})},Ic=()=>{const r=k.useContext(L0);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},fL="/assets/exhibition1-BW6NN6oe.jpg",hL="/assets/exhibition2-Bp82pQTc.jpg",pL="/assets/exhibition3-CUGk1TBl.jpg",mL="/assets/exhibition4-CXiZda6W.jpg",gL="/assets/exhibition5-D8QkfkG0.jpg",yL="/assets/exhibition6-CzllBLVx.webp",_L="/assets/exhibition7-_6taQLDR.webp",vL="/assets/exhibition8-DiC_I8PB.jpg",BT=[fL,hL,pL,mL,gL,yL,_L,vL],wL=()=>{const r=Math.floor(Math.random()*BT.length);return BT[r]},EL=()=>{const{user:r,loading:e}=Ic(),[t,n]=k.useState([]),[i,o]=k.useState(!0),l=(_,E)=>{throw console.error("Firestore Error:",_),new Error(_.message||E)};return k.useEffect(()=>{e||(async()=>{if(!r){o(!1);return}const E=Yn(Yt,"users",r.uid);if((await Fo(E)).exists()){const I=ny(ll(Yt,"exhibitions"),kf("userId","==",r.uid)),b=lL(I,N=>{o(!1);const F=N.docs.map(j=>({id:j.id,...j.data()}));n(F)},N=>{o(!1),l(N,"Failed to fetch exhibitions.")});return()=>{b()}}})().catch(E=>{o(!1),l(E,"Failed to fetch user exhibitions.")})},[r,e]),{exhibitions:t,addExhibition:async _=>{if(r)try{const E=ny(ll(Yt,"exhibitions"),kf("name","==",_.name),kf("userId","==",r.uid));if(!(await ry(E)).empty)throw new Error("An exhibition with this name already exists. Please try another name");const I=wL(),b=await N0(ll(Yt,"exhibitions"),{..._,image:I,userId:r.uid,createdAt:uL()});n(N=>[...N,{id:b.id,..._,image:I,userId:r.uid}])}catch(E){l(E,"An error occurred while adding the exhibition.")}else throw new Error("User not authenticated.")},addArtworkToExhibition:async(_,E)=>{var C;if(r)try{const I=Yn(Yt,"exhibitions",_),b=await Fo(I);if(b.exists()){const N=((C=b.data())==null?void 0:C.artworks)||[];if(N.some(j=>j.id===E.id))throw new Error("This artwork has already been added to this exhibition. Please choose a different artwork or a different exhibition");await xf(I,{artworks:[...N,E]})}else throw new Error("Exhibition not found.")}catch(I){l(I,"An error occurred while adding the artwork.")}else throw new Error("User not authenticated.")},editExhibition:async(_,E)=>{if(r)try{const C=Yn(Yt,"exhibitions",_);if((await Fo(C)).exists())await xf(C,E),n(b=>b.map(N=>N.id===_?{...N,...E}:N));else throw new Error("Exhibition not found.")}catch(C){l(C,"An error occurred while editing the exhibition.")}else throw new Error("User not authenticated.")},deleteArtworkFromExhibition:async(_,E)=>{var C;if(r)try{const I=Yn(Yt,"exhibitions",_),b=await Fo(I);if(b.exists()){const F=(((C=b.data())==null?void 0:C.artworks)||[]).filter(j=>j.id!==E);await xf(I,{artworks:F}),n(j=>j.map(q=>q.id===_?{...q,artworks:F}:q))}else throw new Error("Exhibition not found.")}catch(I){l(I,"An error occurred while deleting the artwork.")}else throw new Error("User not authenticated.")},deleteExhibition:async _=>{if(r)try{await x_(Yn(Yt,"exhibitions",_)),n(E=>E.filter(C=>C.id!==_))}catch(E){l(E,"An error occurred while deleting the exhibition.")}else throw new Error("User not authenticated.")},loading:i}},F0=k.createContext(void 0),TL=({children:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c}=EL();return S.jsx(F0.Provider,{value:{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:c},children:r})},b_=()=>{const r=k.useContext(F0);if(!r)throw new Error("useExhibitions must be used within an ExhibitionProvider");return r},V0=k.createContext(void 0),SL=({children:r})=>{const[e,t]=k.useState([]);return S.jsx(V0.Provider,{value:{artworks:e,setArtworks:t},children:r})},I_=()=>{const r=k.useContext(V0);if(!r)throw new Error("useArtworksContext must be used within an ArtworksProvider");return r},kL=({children:r})=>S.jsx(dL,{children:S.jsx(aR,{children:S.jsx(SL,{children:S.jsx(lR,{children:S.jsx(uR,{children:S.jsx(TL,{children:r})})})})})}),CL=()=>{const{user:r,logout:e}=Ic(),t=pc(),n=async()=>{try{await e(),t("/auth"),window.location.reload()}catch(i){console.error("Sign out error:",i)}};return S.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#6A4C9C"},children:S.jsxs("div",{className:"container-fluid",children:[S.jsx(Ro,{className:"navbar-brand",to:"/home",children:"ArtVoyage"}),S.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:S.jsx("span",{className:"navbar-toggler-icon"})}),S.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:S.jsxs("ul",{className:"navbar-nav ms-auto",children:[S.jsx("li",{className:"nav-item",children:S.jsx(Ro,{className:"nav-link",to:"/home",children:"Home"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Ro,{className:"nav-link",to:"/profile",children:"Profile"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Ro,{className:"nav-link",to:"/search",children:"Search"})}),S.jsx("li",{className:"nav-item",children:S.jsx(Ro,{className:"nav-link",to:"/exhibitions",children:"My Exhibitions"})}),r?S.jsx("li",{className:"nav-item",children:S.jsx("button",{className:"btn btn-outline-light",onClick:n,"aria-label":"Sign out",children:"Sign Out"})}):S.jsx("li",{className:"nav-item",children:S.jsx(Ro,{className:"nav-link",to:"/auth",children:"Login/Register"})})]})})]})})},xL=()=>{const{setSelectedMuseum:r}=kh(),{setQuery:e}=Ay(),t=n=>{e(""),r(n)};return S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Choose a museum to start searching:"}),S.jsxs("div",{className:"d-flex justify-content-center",children:[S.jsx("div",{className:"card homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(Ns,{to:"/museum/met",onClick:()=>t("met"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/73/The_Metropolitan_Museum_of_Art_Logo.svg",className:"card-img-top",alt:"Metropolitan Museum of Art",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),S.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(Ns,{to:"/museum/chicago",onClick:()=>t("chicago"),className:"text-decoration-none",children:S.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Art_Institute_of_Chicago_Logo.png",className:"card-img-top",alt:"Art Institute of Chicago",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),S.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:S.jsx(Ns,{to:"/collection/search",onClick:()=>{e(""),r("")},className:"text-decoration-none",children:S.jsx("img",{src:"https://example.com/collection-icon.png",className:"card-img-top",alt:"Collection Search",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})})]})]})},bL=r=>{const[e,t]=k.useState(null),[n,i]=k.useState(!1),[o,l]=k.useState(null),c=()=>{const y=Vo.currentUser;if(!y||y.uid!==r)throw new Error("Unauthorized access")},d=k.useCallback(async()=>{if(r){i(!0),l(null);try{c();const y=Yn(Yt,"users",r),_=await Fo(y);_.exists()?t(_.data()):(t(null),console.warn(`No user data found for userId: ${r}`))}catch(y){l("Error fetching user data."),console.error(y)}finally{i(!1)}}},[r]),p=async y=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const _=Yn(Yt,"users",r);await xf(_,y),t(E=>({...E,...y}))}catch(_){l("Error updating user data."),console.error(_)}finally{i(!1)}},m=async()=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{c();const y=Yn(Yt,"users",r);await x_(y),t(null)}catch(y){l("Error deleting user data."),console.error(y)}finally{i(!1)}};return k.useEffect(()=>{d()},[d]),{userData:e,fetchUserData:d,editUserData:p,deleteUserData:m,loading:n,error:o}};var sg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var $T;function IL(){return $T||($T=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(sg)),sg.exports}var DL=IL();const at=Eh(DL);function iy(){return iy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},iy.apply(null,arguments)}function j0(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function WT(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function RL(r){var e=PL(r,"string");return typeof e=="symbol"?e:String(e)}function PL(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function AL(r,e,t){var n=k.useRef(r!==void 0),i=k.useState(e),o=i[0],l=i[1],c=r!==void 0,d=n.current;return n.current=c,!c&&d&&o!==e&&l(e),[c?r:o,k.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function NL(r,e){return Object.keys(e).reduce(function(t,n){var i,o=t,l=o[WT(n)],c=o[n],d=j0(o,[WT(n),n].map(RL)),p=e[n],m=AL(c,l,r[p]),y=m[0],_=m[1];return iy({},d,(i={},i[n]=y,i[p]=_,i))},r)}function sy(r,e){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},sy(r,e)}function ML(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,sy(r,e)}const OL=["xxl","xl","lg","md","sm","xs"],LL="xs",Gh=k.createContext({prefixes:{},breakpoints:OL,minBreakpoint:LL});function xt(r,e){const{prefixes:t}=k.useContext(Gh);return r||t[e]||e}function FL(){const{breakpoints:r}=k.useContext(Gh);return r}function VL(){const{minBreakpoint:r}=k.useContext(Gh);return r}function jL(){const{dir:r}=k.useContext(Gh);return r==="rtl"}function Xh(r){return r&&r.ownerDocument||document}function UL(r){var e=Xh(r);return e&&e.defaultView||window}function BL(r,e){return UL(r).getComputedStyle(r,e)}var $L=/([A-Z])/g;function WL(r){return r.replace($L,"-$1").toLowerCase()}var HL=/^ms-/;function rf(r){return WL(r).replace(HL,"-ms-")}var zL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qL(r){return!!(r&&zL.test(r))}function Bo(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(rf(e))||BL(r).getPropertyValue(rf(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?r.style.removeProperty(rf(i)):qL(i)?n+=i+"("+o+") ":t+=rf(i)+": "+o+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var og={exports:{}},ag,HT;function YL(){if(HT)return ag;HT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ag=r,ag}var lg,zT;function KL(){if(zT)return lg;zT=1;var r=YL();function e(){}function t(){}return t.resetWarningCache=e,lg=function(){function n(l,c,d,p,m,y){if(y!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},lg}var qT;function QL(){return qT||(qT=1,og.exports=KL()()),og.exports}var GL=QL();const Vi=Eh(GL),YT={disabled:!1},U0=ee.createContext(null);var XL=function(e){return e.scrollTop},$u="unmounted",Ao="exited",Cs="entering",Mo="entered",oy="exiting",Gi=function(r){ML(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?c?(d=Ao,o.appearStatus=Cs):d=Mo:n.unmountOnExit||n.mountOnEnter?d=$u:d=Ao,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===$u?{status:Ao}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Cs&&l!==Mo&&(o=Cs):(l===Cs||l===Mo)&&(o=oy)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Cs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Oo.findDOMNode(this);l&&XL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ao&&this.setState({status:$u})},t.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Oo.findDOMNode(this),c],p=d[0],m=d[1],y=this.getTimeouts(),_=c?y.appear:y.enter;if(!i&&!l||YT.disabled){this.safeSetState({status:Mo},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Cs},function(){o.props.onEntering(p,m),o.onTransitionEnd(_,function(){o.safeSetState({status:Mo},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Oo.findDOMNode(this);if(!o||YT.disabled){this.safeSetState({status:Ao},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:oy},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Ao},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Oo.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],m=d[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===$u)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=j0(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ee.createElement(U0.Provider,{value:null},typeof l=="function"?l(i,c):ee.cloneElement(ee.Children.only(l),c))},e}(ee.Component);Gi.contextType=U0;Gi.propTypes={};function Ka(){}Gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ka,onEntering:Ka,onEntered:Ka,onExit:Ka,onExiting:Ka,onExited:Ka};Gi.UNMOUNTED=$u;Gi.EXITED=Ao;Gi.ENTERING=Cs;Gi.ENTERED=Mo;Gi.EXITING=oy;function JL(r){return r.code==="Escape"||r.keyCode===27}function ZL(){const r=k.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function B0(r){if(!r||typeof r=="function")return null;const{major:e}=ZL();return e>=19?r.props.ref:r.ref}const Ml=!!(typeof window<"u"&&window.document&&window.document.createElement);var ay=!1,ly=!1;try{var ug={get passive(){return ay=!0},get once(){return ly=ay=!0}};Ml&&(window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,!0))}catch{}function $0(r,e,t,n){if(n&&typeof n!="boolean"&&!ly){var i=n.once,o=n.capture,l=t;!ly&&i&&(l=t.__once||function c(d){this.removeEventListener(e,c,o),t.call(this,d)},t.__once=l),r.addEventListener(e,l,ay?n:o)}r.addEventListener(e,t,n)}function uy(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function th(r,e,t,n){return $0(r,e,t,n),function(){uy(r,e,t,n)}}function e2(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function t2(r){var e=Bo(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function n2(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||e2(r,"transitionend",!0)},e+t),o=th(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),o()}}function W0(r,e,t,n){t==null&&(t=t2(r)||0);var i=n2(r,t,n),o=th(r,"transitionend",e);return function(){i(),o()}}function KT(r,e){const t=Bo(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function r2(r,e){const t=KT(r,"transitionDuration"),n=KT(r,"transitionDelay"),i=W0(r,o=>{o.target===r&&(i(),e(o))},t+n)}function i2(r){r.offsetHeight}const QT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function s2(r,e){const t=QT(r),n=QT(e);return i=>{t&&t(i),n&&n(i)}}function H0(r,e){return k.useMemo(()=>s2(r,e),[r,e])}function o2(r){return r&&"setState"in r?Oo.findDOMNode(r):r??null}const a2=ee.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:o,addEndListener:l,children:c,childRef:d,...p},m)=>{const y=k.useRef(null),_=H0(y,d),E=Z=>{_(o2(Z))},C=Z=>A=>{Z&&y.current&&Z(y.current,A)},I=k.useCallback(C(r),[r]),b=k.useCallback(C(e),[e]),N=k.useCallback(C(t),[t]),F=k.useCallback(C(n),[n]),j=k.useCallback(C(i),[i]),q=k.useCallback(C(o),[o]),X=k.useCallback(C(l),[l]);return S.jsx(Gi,{ref:m,...p,onEnter:I,onEntered:N,onEntering:b,onExit:F,onExited:q,onExiting:j,addEndListener:X,nodeRef:y,children:typeof c=="function"?(Z,A)=>c(Z,{...A,ref:E}):ee.cloneElement(c,{ref:E})})});function l2(r){const e=k.useRef(r);return k.useEffect(()=>{e.current=r},[r]),e}function nh(r){const e=l2(r);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const z0=r=>k.forwardRef((e,t)=>S.jsx("div",{...e,ref:t,className:at(e.className,r)})),q0=z0("h4");q0.displayName="DivStyledAsH4";const Y0=k.forwardRef(({className:r,bsPrefix:e,as:t=q0,...n},i)=>(e=xt(e,"alert-heading"),S.jsx(t,{ref:i,className:at(r,e),...n})));Y0.displayName="AlertHeading";function u2(r){const e=k.useRef(r);return k.useEffect(()=>{e.current=r},[r]),e}function Rs(r){const e=u2(r);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function c2(){const r=k.useRef(!0),e=k.useRef(()=>r.current);return k.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function d2(r){const e=k.useRef(null);return k.useEffect(()=>{e.current=r}),e.current}const f2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",h2=typeof document<"u",GT=h2||f2?k.useLayoutEffect:k.useEffect,p2=["as","disabled"];function m2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function g2(r){return!r||r.trim()==="#"}function D_({tagName:r,disabled:e,href:t,target:n,rel:i,role:o,onClick:l,tabIndex:c=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const p={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},p];const m=_=>{if((e||r==="a"&&g2(t))&&_.preventDefault(),e){_.stopPropagation();return}l==null||l(_)},y=_=>{_.key===" "&&(_.preventDefault(),m(_))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const y2=k.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=m2(r,p2);const[o,{tagName:l}]=D_(Object.assign({tagName:t,disabled:n},i));return S.jsx(l,Object.assign({},i,o,{ref:e}))});y2.displayName="Button";const _2=["onKeyDown"];function v2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function w2(r){return!r||r.trim()==="#"}const K0=k.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=v2(r,_2);const[i]=D_(Object.assign({tagName:"a"},n)),o=Rs(l=>{i.onKeyDown(l),t==null||t(l)});return w2(n.href)||n.role==="button"?S.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:o})):S.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});K0.displayName="Anchor";const Q0=k.forwardRef(({className:r,bsPrefix:e,as:t=K0,...n},i)=>(e=xt(e,"alert-link"),S.jsx(t,{ref:i,className:at(r,e),...n})));Q0.displayName="AlertLink";const E2={[Cs]:"show",[Mo]:"show"},lc=k.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=k.useCallback((d,p)=>{i2(d),n==null||n(d,p)},[n]);return S.jsx(a2,{ref:o,addEndListener:r2,...l,onEnter:c,childRef:B0(e),children:(d,p)=>k.cloneElement(e,{...p,className:at("fade",r,e.props.className,E2[d],t[d])})})});lc.displayName="Fade";const T2={"aria-label":Vi.string,onClick:Vi.func,variant:Vi.oneOf(["white"])},Jh=k.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>S.jsx("button",{ref:i,type:"button",className:at("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));Jh.displayName="CloseButton";Jh.propTypes=T2;const G0=k.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:c,variant:d="primary",onClose:p,dismissible:m,transition:y=lc,..._}=NL(r,{show:"onClose"}),E=xt(t,"alert"),C=nh(N=>{p&&p(!1,N)}),I=y===!0?lc:y,b=S.jsxs("div",{role:"alert",...I?void 0:_,ref:e,className:at(l,E,d&&`${E}-${d}`,m&&`${E}-dismissible`),children:[m&&S.jsx(Jh,{onClick:C,"aria-label":i,variant:o}),c]});return I?S.jsx(I,{unmountOnExit:!0,..._,ref:void 0,in:n,children:b}):n?b:null});G0.displayName="Alert";const S2=Object.assign(G0,{Link:Q0,Heading:Y0}),Wu=k.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:o=!1,className:l,...c},d)=>{const p=xt(e,"btn"),[m,{tagName:y}]=D_({tagName:r,disabled:o,...c}),_=y;return S.jsx(_,{...m,...c,ref:d,disabled:o,className:at(l,p,i&&"active",t&&`${p}-${t}`,n&&`${p}-${n}`,c.href&&o&&"disabled")})});Wu.displayName="Button";function k2(r){const e=k.useRef(r);return e.current=r,e}function C2(r){const e=k2(r);k.useEffect(()=>()=>e.current(),[])}function x2(r,e){return k.Children.toArray(r).some(t=>k.isValidElement(t)&&t.type===e)}function b2({as:r,bsPrefix:e,className:t,...n}){e=xt(e,"col");const i=FL(),o=VL(),l=[],c=[];return i.forEach(d=>{const p=n[d];delete n[d];let m,y,_;typeof p=="object"&&p!=null?{span:m,offset:y,order:_}=p:m=p;const E=d!==o?`-${d}`:"";m&&l.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),_!=null&&c.push(`order${E}-${_}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...n,className:at(t,...l,...c)},{as:r,bsPrefix:e,spans:l}]}const X0=k.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:o,spans:l}]=b2(r);return S.jsx(i,{...n,ref:e,className:at(t,!l.length&&o)})});X0.displayName="Col";var I2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qa(r,e){return I2(r.querySelectorAll(e))}function XT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const D2="data-rr-ui-";function R2(r){return`${D2}${r}`}const J0=k.createContext(Ml?window:void 0);J0.Provider;function R_(){return k.useContext(J0)}const P2={type:Vi.string,tooltip:Vi.bool,as:Vi.elementType},Zh=k.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},o)=>S.jsx(r,{...i,ref:o,className:at(e,`${t}-${n?"tooltip":"feedback"}`)}));Zh.displayName="Feedback";Zh.propTypes=P2;const Ki=k.createContext({}),P_=k.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},d)=>{const{controlId:p}=k.useContext(Ki);return e=xt(e,"form-check-input"),S.jsx(l,{...c,ref:d,type:n,id:r||p,className:at(t,e,i&&"is-valid",o&&"is-invalid")})});P_.displayName="FormCheckInput";const rh=k.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:o}=k.useContext(Ki);return r=xt(r,"form-check-label"),S.jsx("label",{...n,ref:i,htmlFor:t||o,className:at(e,r)})});rh.displayName="FormCheckLabel";const Z0=k.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:p,feedbackType:m,className:y,style:_,title:E="",type:C="checkbox",label:I,children:b,as:N="input",...F},j)=>{e=xt(e,"form-check"),t=xt(t,"form-switch");const{controlId:q}=k.useContext(Ki),X=k.useMemo(()=>({controlId:r||q}),[q,r]),Z=!b&&I!=null&&I!==!1||x2(b,rh),A=S.jsx(P_,{...F,type:C==="switch"?"checkbox":C,ref:j,isValid:l,isInvalid:c,disabled:o,as:N});return S.jsx(Ki.Provider,{value:X,children:S.jsx("div",{style:_,className:at(y,Z&&e,n&&`${e}-inline`,i&&`${e}-reverse`,C==="switch"&&t),children:b||S.jsxs(S.Fragment,{children:[A,Z&&S.jsx(rh,{title:E,children:I}),p&&S.jsx(Zh,{type:m,tooltip:d,children:p})]})})})});Z0.displayName="FormCheck";const ih=Object.assign(Z0,{Input:P_,Label:rh}),ex=k.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:d,readOnly:p,as:m="input",...y},_)=>{const{controlId:E}=k.useContext(Ki);return r=xt(r,"form-control"),S.jsx(m,{...y,type:e,size:n,ref:_,readOnly:p,id:i||E,className:at(o,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,l&&"is-valid",c&&"is-invalid")})});ex.displayName="FormControl";const A2=Object.assign(ex,{Feedback:Zh}),tx=k.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"form-floating"),S.jsx(t,{ref:i,className:at(r,e),...n})));tx.displayName="FormFloating";const A_=k.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=k.useMemo(()=>({controlId:r}),[r]);return S.jsx(Ki.Provider,{value:i,children:S.jsx(e,{...t,ref:n})})});A_.displayName="FormGroup";const nx=k.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:d}=k.useContext(Ki);e=xt(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=at(i,e,n&&"visually-hidden",t&&p);return o=o||d,t?S.jsx(X0,{ref:c,as:"label",className:m,htmlFor:o,...l}):S.jsx(r,{ref:c,className:m,htmlFor:o,...l})});nx.displayName="FormLabel";const rx=k.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:o}=k.useContext(Ki);return r=xt(r,"form-range"),S.jsx("input",{...n,type:"range",ref:i,className:at(e,r),id:t||o})});rx.displayName="FormRange";const ix=k.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:o=!1,id:l,...c},d)=>{const{controlId:p}=k.useContext(Ki);return r=xt(r,"form-select"),S.jsx("select",{...c,size:t,ref:d,className:at(n,r,e&&`${r}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});ix.displayName="FormSelect";const sx=k.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},o)=>(r=xt(r,"form-text"),S.jsx(t,{...i,ref:o,className:at(e,r,n&&"text-muted")})));sx.displayName="FormText";const ox=k.forwardRef((r,e)=>S.jsx(ih,{...r,ref:e,type:"switch"}));ox.displayName="Switch";const N2=Object.assign(ox,{Input:ih.Input,Label:ih.Label}),ax=k.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...o},l)=>(r=xt(r,"form-floating"),S.jsxs(A_,{ref:l,className:at(e,r),controlId:n,...o,children:[t,S.jsx("label",{htmlFor:n,children:i})]})));ax.displayName="FloatingLabel";const M2={_ref:Vi.any,validated:Vi.bool,as:Vi.elementType},N_=k.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>S.jsx(t,{...n,ref:i,className:at(r,e&&"was-validated")}));N_.displayName="Form";N_.propTypes=M2;const Do=Object.assign(N_,{Group:A_,Control:A2,Floating:tx,Check:ih,Switch:N2,Label:nx,Text:sx,Range:rx,Select:ix,FloatingLabel:ax}),JT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function O2(r,e){const t=JT(r),n=JT(e);return i=>{t&&t(i),n&&n(i)}}function M_(r,e){return k.useMemo(()=>O2(r,e),[r,e])}var sf;function ZT(r){if((!sf&&sf!==0||r)&&Ml){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sf}function L2(){return k.useState(null)}function cg(r){r===void 0&&(r=Xh());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function F2(r){const e=k.useRef(r);return e.current=r,e}function V2(r){const e=F2(r);k.useEffect(()=>()=>e.current(),[])}function j2(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const eS=R2("modal-open");class O_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return j2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Bo(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(eS,""),Bo(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(eS),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const dg=(r,e)=>Ml?r==null?(e||Xh()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function U2(r,e){const t=R_(),[n,i]=k.useState(()=>dg(r,t==null?void 0:t.document));if(!n){const o=dg(r);o&&i(o)}return k.useEffect(()=>{},[e,n]),k.useEffect(()=>{const o=dg(r);o!==n&&i(o)},[r,n]),n}function B2({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const o=k.useRef(null),l=k.useRef(e),c=Rs(t);k.useEffect(()=>{e?l.current=!0:c(o.current)},[e,c]);const d=M_(o,r.ref),p=k.cloneElement(r,{ref:d});return e?p:i||!l.current&&n?null:p}const $2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function W2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function H2(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:d}=r,p=W2(r,$2);const m=k.useRef(null),y=M_(m,B0(d)),_=q=>X=>{q&&m.current&&q(m.current,X)},E=k.useCallback(_(e),[e]),C=k.useCallback(_(t),[t]),I=k.useCallback(_(n),[n]),b=k.useCallback(_(i),[i]),N=k.useCallback(_(o),[o]),F=k.useCallback(_(l),[l]),j=k.useCallback(_(c),[c]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:E},t&&{onEntering:C},n&&{onEntered:I},i&&{onExit:b},o&&{onExiting:N},l&&{onExited:F},c&&{addEndListener:j},{children:typeof d=="function"?(q,X)=>d(q,Object.assign({},X,{ref:y})):k.cloneElement(d,{ref:y})})}const z2=["component"];function q2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}const Y2=k.forwardRef((r,e)=>{let{component:t}=r,n=q2(r,z2);const i=H2(n);return S.jsx(t,Object.assign({ref:e},i))});function K2({in:r,onTransition:e}){const t=k.useRef(null),n=k.useRef(!0),i=Rs(e);return GT(()=>{if(!t.current)return;let o=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[r,i]),GT(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function Q2({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[o,l]=k.useState(!e);e&&o&&l(!1);const c=K2({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?n==null||n(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),d=M_(c,r.ref);return o&&!e?null:k.cloneElement(r,{ref:d})}function tS(r,e,t){return r?S.jsx(Y2,Object.assign({},t,{component:r})):e?S.jsx(Q2,Object.assign({},t,{transition:e})):S.jsx(B2,Object.assign({},t))}const G2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function X2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}let fg;function J2(r){return fg||(fg=new O_({ownerDocument:r==null?void 0:r.document})),fg}function Z2(r){const e=R_(),t=r||J2(e),n=k.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:k.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:k.useCallback(i=>{n.current.backdrop=i},[])})}const lx=k.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:o,children:l,backdrop:c=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:_,backdropTransition:E,runBackdropTransition:C,autoFocus:I=!0,enforceFocus:b=!0,restoreFocus:N=!0,restoreFocusOptions:F,renderDialog:j,renderBackdrop:q=et=>S.jsx("div",Object.assign({},et)),manager:X,container:Z,onShow:A,onHide:D=()=>{},onExit:P,onExited:L,onExiting:V,onEnter:U,onEntering:M,onEntered:ke}=r,Ie=X2(r,G2);const he=R_(),de=U2(Z),G=Z2(X),ce=c2(),le=d2(t),[W,te]=k.useState(!t),_e=k.useRef(null);k.useImperativeHandle(e,()=>G,[G]),Ml&&!le&&t&&(_e.current=cg(he==null?void 0:he.document)),t&&W&&te(!1);const Re=Rs(()=>{if(G.add(),ht.current=th(document,"keydown",He),Je.current=th(document,"focus",()=>setTimeout(Ve),!0),A&&A(),I){var et,Ur;const hr=cg((et=(Ur=G.dialog)==null?void 0:Ur.ownerDocument)!=null?et:he==null?void 0:he.document);G.dialog&&hr&&!XT(G.dialog,hr)&&(_e.current=hr,G.dialog.focus())}}),Oe=Rs(()=>{if(G.remove(),ht.current==null||ht.current(),Je.current==null||Je.current(),N){var et;(et=_e.current)==null||et.focus==null||et.focus(F),_e.current=null}});k.useEffect(()=>{!t||!de||Re()},[t,de,Re]),k.useEffect(()=>{W&&Oe()},[W,Oe]),V2(()=>{Oe()});const Ve=Rs(()=>{if(!b||!ce()||!G.isTopModal())return;const et=cg(he==null?void 0:he.document);G.dialog&&et&&!XT(G.dialog,et)&&G.dialog.focus()}),Be=Rs(et=>{et.target===et.currentTarget&&(p==null||p(et),c===!0&&D())}),He=Rs(et=>{d&&JL(et)&&G.isTopModal()&&(m==null||m(et),et.defaultPrevented||D())}),Je=k.useRef(),ht=k.useRef(),Sn=(...et)=>{te(!0),L==null||L(...et)};if(!de)return null;const Vn=Object.assign({role:n,ref:G.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},Ie,{style:o,className:i,tabIndex:-1});let kn=j?j(Vn):S.jsx("div",Object.assign({},Vn,{children:k.cloneElement(l,{role:"document"})}));kn=tS(y,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:V,onExited:Sn,onEnter:U,onEntering:M,onEntered:ke,children:kn});let Cn=null;return c&&(Cn=q({ref:G.setBackdropRef,onClick:Be}),Cn=tS(E,C,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Cn})),S.jsx(S.Fragment,{children:Oo.createPortal(S.jsxs(S.Fragment,{children:[Cn,kn]}),de)})});lx.displayName="Modal";const eF=Object.assign(lx,{Manager:O_});function tF(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function nF(r,e){r.classList?r.classList.add(e):tF(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function nS(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function rF(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=nS(r.className,e):r.setAttribute("class",nS(r.className&&r.className.baseVal||"",e))}const Ga={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class iF extends O_{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,Bo(t,{[e]:`${parseFloat(Bo(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],Bo(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(nF(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Qa(t,Ga.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),Qa(t,Ga.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Qa(t,Ga.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();rF(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Qa(t,Ga.FIXED_CONTENT).forEach(o=>this.restore(n,o)),Qa(t,Ga.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Qa(t,Ga.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let hg;function sF(r){return hg||(hg=new iF(r)),hg}const ux=k.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"modal-body"),S.jsx(t,{ref:i,className:at(r,e),...n})));ux.displayName="ModalBody";const cx=k.createContext({onHide(){}}),L_=k.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:n,size:i,fullscreen:o,children:l,scrollable:c,...d},p)=>{r=xt(r,"modal");const m=`${r}-dialog`,y=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return S.jsx("div",{...d,ref:p,className:at(m,e,i&&`${r}-${i}`,n&&`${m}-centered`,c&&`${m}-scrollable`,o&&y),children:S.jsx("div",{className:at(`${r}-content`,t),children:l})})});L_.displayName="ModalDialog";const dx=k.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=xt(e,"modal-footer"),S.jsx(t,{ref:i,className:at(r,e),...n})));dx.displayName="ModalFooter";const oF=k.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...o},l)=>{const c=k.useContext(cx),d=nh(()=>{c==null||c.onHide(),n==null||n()});return S.jsxs("div",{ref:l,...o,children:[i,t&&S.jsx(Jh,{"aria-label":r,variant:e,onClick:d})]})}),fx=k.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},o)=>(r=xt(r,"modal-header"),S.jsx(oF,{ref:o,...i,className:at(e,r),closeLabel:t,closeButton:n})));fx.displayName="ModalHeader";const aF=z0("h4"),hx=k.forwardRef(({className:r,bsPrefix:e,as:t=aF,...n},i)=>(e=xt(e,"modal-title"),S.jsx(t,{ref:i,className:at(r,e),...n})));hx.displayName="ModalTitle";function lF(r){return S.jsx(lc,{...r,timeout:null})}function uF(r){return S.jsx(lc,{...r,timeout:null})}const px=k.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:n,contentClassName:i,children:o,dialogAs:l=L_,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":p,"aria-label":m,show:y=!1,animation:_=!0,backdrop:E=!0,keyboard:C=!0,onEscapeKeyDown:I,onShow:b,onHide:N,container:F,autoFocus:j=!0,enforceFocus:q=!0,restoreFocus:X=!0,restoreFocusOptions:Z,onEntered:A,onExit:D,onExiting:P,onEnter:L,onEntering:V,onExited:U,backdropClassName:M,manager:ke,...Ie},he)=>{const[de,G]=k.useState({}),[ce,le]=k.useState(!1),W=k.useRef(!1),te=k.useRef(!1),_e=k.useRef(null),[Re,Oe]=L2(),Ve=H0(he,Oe),Be=nh(N),He=jL();r=xt(r,"modal");const Je=k.useMemo(()=>({onHide:Be}),[Be]);function ht(){return ke||sF({isRTL:He})}function Sn(De){if(!Ml)return;const ut=ht().getScrollbarWidth()>0,Xn=De.scrollHeight>Xh(De).documentElement.clientHeight;G({paddingRight:ut&&!Xn?ZT():void 0,paddingLeft:!ut&&Xn?ZT():void 0})}const Vn=nh(()=>{Re&&Sn(Re.dialog)});C2(()=>{uy(window,"resize",Vn),_e.current==null||_e.current()});const kn=()=>{W.current=!0},Cn=De=>{W.current&&Re&&De.target===Re.dialog&&(te.current=!0),W.current=!1},et=()=>{le(!0),_e.current=W0(Re.dialog,()=>{le(!1)})},Ur=De=>{De.target===De.currentTarget&&et()},hr=De=>{if(E==="static"){Ur(De);return}if(te.current||De.target!==De.currentTarget){te.current=!1;return}N==null||N()},oa=De=>{C?I==null||I(De):(De.preventDefault(),E==="static"&&et())},Xi=(De,ut)=>{De&&Sn(De),L==null||L(De,ut)},pr=De=>{_e.current==null||_e.current(),D==null||D(De)},mr=(De,ut)=>{V==null||V(De,ut),$0(window,"resize",Vn)},Zs=De=>{De&&(De.style.display=""),U==null||U(De),uy(window,"resize",Vn)},Ji=k.useCallback(De=>S.jsx("div",{...De,className:at(`${r}-backdrop`,M,!_&&"show")}),[_,M,r]),gi={...t,...de};gi.display="block";const eo=De=>S.jsx("div",{role:"dialog",...De,style:gi,className:at(e,r,ce&&`${r}-static`,!_&&"show"),onClick:E?hr:void 0,onMouseUp:Cn,"data-bs-theme":c,"aria-label":m,"aria-labelledby":d,"aria-describedby":p,children:S.jsx(l,{...Ie,onMouseDown:kn,className:n,contentClassName:i,children:o})});return S.jsx(cx.Provider,{value:Je,children:S.jsx(eF,{show:y,ref:Ve,backdrop:E,container:F,keyboard:!0,autoFocus:j,enforceFocus:q,restoreFocus:X,restoreFocusOptions:Z,onEscapeKeyDown:oa,onShow:b,onHide:N,onEnter:Xi,onEntering:mr,onEntered:A,onExit:pr,onExiting:P,onExited:Zs,manager:ht(),transition:_?lF:void 0,backdropTransition:_?uF:void 0,renderBackdrop:Ji,renderDialog:eo})})});px.displayName="Modal";const vn=Object.assign(px,{Body:ux,Header:fx,Title:hx,Footer:dx,Dialog:L_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),cF=({user:r})=>{const e=r==null?void 0:r.uid,{userData:t,fetchUserData:n,editUserData:i,deleteUserData:o,loading:l,error:c}=bL(e||null),[d,p]=k.useState(!1),[m,y]=k.useState(!1),[_,E]=k.useState({firstName:"",lastName:""}),[C,I]=k.useState("");k.useEffect(()=>{e&&n()},[e,n]);const b=async()=>{try{await i(_),console.log("User updated successfully!"),p(!1),I("Your profile was updated successfully!"),setTimeout(()=>I(""),5e3)}catch(j){console.error("Error updating user:",j)}},N=async()=>{try{await o(),console.log("User deleted successfully!"),y(!1)}catch(j){console.error("Error deleting user:",j)}},F=()=>{t&&(E({firstName:t.firstName,lastName:t.lastName}),p(!0))};return l?S.jsx("p",{className:"text-center mt-4",children:"Loading..."}):c?S.jsx("p",{className:"text-danger text-center mt-4",children:c}):S.jsxs("div",{className:"container mt-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"User Profile"}),t?S.jsxs("div",{className:"card mx-auto",style:{maxWidth:"600px"},"aria-labelledby":"userProfileCard",children:[S.jsx("div",{className:"card-header text-white",style:{background:"rgba(84, 37, 122, 0.84)"},children:S.jsx("h2",{className:"card-title",id:"userProfileCard",children:"Profile Information"})}),S.jsxs("div",{className:"card-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Email:"})," ",t.email]}),S.jsxs("p",{children:[S.jsx("strong",{children:"First Name:"})," ",t.firstName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Last Name:"})," ",t.lastName]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{className:"btn btn-warning",onClick:F,"aria-label":"Edit User Information",children:"Edit User"}),S.jsx("button",{className:"btn btn-danger",onClick:()=>y(!0),"aria-label":"Delete User Account",children:"Delete User"})]})]})]}):S.jsx("p",{className:"text-center text-muted",children:"No user data available."}),C&&S.jsx(S2,{variant:"success",className:"mt-4 text-center",children:C}),S.jsxs(vn,{show:d,onHide:()=>p(!1),children:[S.jsx(vn.Header,{closeButton:!0,children:S.jsx(vn.Title,{children:"Edit User"})}),S.jsx(vn.Body,{children:S.jsxs(Do,{children:[S.jsxs(Do.Group,{controlId:"formFirstName",children:[S.jsx(Do.Label,{children:"First Name"}),S.jsx(Do.Control,{type:"text",value:_.firstName,onChange:j=>E({..._,firstName:j.target.value})})]}),S.jsxs(Do.Group,{controlId:"formLastName",className:"mt-3",children:[S.jsx(Do.Label,{children:"Last Name"}),S.jsx(Do.Control,{type:"text",value:_.lastName,onChange:j=>E({..._,lastName:j.target.value})})]})]})}),S.jsxs(vn.Footer,{children:[S.jsx(Wu,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),S.jsx(Wu,{variant:"primary",onClick:b,children:"Save Changes"})]})]}),S.jsxs(vn,{show:m,onHide:()=>y(!1),children:[S.jsx(vn.Header,{closeButton:!0,children:S.jsx(vn.Title,{children:"Confirm Delete"})}),S.jsx(vn.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),S.jsxs(vn.Footer,{children:[S.jsx(Wu,{variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),S.jsx(Wu,{variant:"danger",onClick:N,children:"Delete Account"})]})]})]})};function mx(r,e){return function(){return r.apply(e,arguments)}}const{toString:dF}=Object.prototype,{getPrototypeOf:F_}=Object,ep=(r=>e=>{const t=dF.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jr=r=>(r=r.toLowerCase(),e=>ep(e)===r),tp=r=>e=>typeof e===r,{isArray:Ol}=Array,uc=tp("undefined");function fF(r){return r!==null&&!uc(r)&&r.constructor!==null&&!uc(r.constructor)&&Qn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const gx=jr("ArrayBuffer");function hF(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&gx(r.buffer),e}const pF=tp("string"),Qn=tp("function"),yx=tp("number"),np=r=>r!==null&&typeof r=="object",mF=r=>r===!0||r===!1,bf=r=>{if(ep(r)!=="object")return!1;const e=F_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},gF=jr("Date"),yF=jr("File"),_F=jr("Blob"),vF=jr("FileList"),wF=r=>np(r)&&Qn(r.pipe),EF=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Qn(r.append)&&((e=ep(r))==="formdata"||e==="object"&&Qn(r.toString)&&r.toString()==="[object FormData]"))},TF=jr("URLSearchParams"),[SF,kF,CF,xF]=["ReadableStream","Request","Response","Headers"].map(jr),bF=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dc(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ol(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let c;for(n=0;n<l;n++)c=o[n],e.call(null,r[c],c,r)}}function _x(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vx=r=>!uc(r)&&r!==jo;function cy(){const{caseless:r}=vx(this)&&this||{},e={},t=(n,i)=>{const o=r&&_x(e,i)||i;bf(e[o])&&bf(n)?e[o]=cy(e[o],n):bf(n)?e[o]=cy({},n):Ol(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Dc(arguments[n],t);return e}const IF=(r,e,t,{allOwnKeys:n}={})=>(Dc(e,(i,o)=>{t&&Qn(i)?r[o]=mx(i,t):r[o]=i},{allOwnKeys:n}),r),DF=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),RF=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},PF=(r,e,t,n)=>{let i,o,l;const c={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!c[l]&&(e[l]=r[l],c[l]=!0);r=t!==!1&&F_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},AF=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},NF=r=>{if(!r)return null;if(Ol(r))return r;let e=r.length;if(!yx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},MF=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&F_(Uint8Array)),OF=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},LF=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},FF=jr("HTMLFormElement"),VF=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),rS=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),jF=jr("RegExp"),wx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Dc(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},UF=r=>{wx(r,(e,t)=>{if(Qn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Qn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},BF=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return Ol(r)?n(r):n(String(r).split(e)),t},$F=()=>{},WF=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,pg="abcdefghijklmnopqrstuvwxyz",iS="0123456789",Ex={DIGIT:iS,ALPHA:pg,ALPHA_DIGIT:pg+pg.toUpperCase()+iS},HF=(r=16,e=Ex.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function zF(r){return!!(r&&Qn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const qF=r=>{const e=new Array(10),t=(n,i)=>{if(np(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Ol(n)?[]:{};return Dc(n,(l,c)=>{const d=t(l,i+1);!uc(d)&&(o[c]=d)}),e[i]=void 0,o}}return n};return t(r,0)},YF=jr("AsyncFunction"),KF=r=>r&&(np(r)||Qn(r))&&Qn(r.then)&&Qn(r.catch),Tx=((r,e)=>r?setImmediate:e?((t,n)=>(jo.addEventListener("message",({source:i,data:o})=>{i===jo&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),jo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Qn(jo.postMessage)),QF=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||Tx,J={isArray:Ol,isArrayBuffer:gx,isBuffer:fF,isFormData:EF,isArrayBufferView:hF,isString:pF,isNumber:yx,isBoolean:mF,isObject:np,isPlainObject:bf,isReadableStream:SF,isRequest:kF,isResponse:CF,isHeaders:xF,isUndefined:uc,isDate:gF,isFile:yF,isBlob:_F,isRegExp:jF,isFunction:Qn,isStream:wF,isURLSearchParams:TF,isTypedArray:MF,isFileList:vF,forEach:Dc,merge:cy,extend:IF,trim:bF,stripBOM:DF,inherits:RF,toFlatObject:PF,kindOf:ep,kindOfTest:jr,endsWith:AF,toArray:NF,forEachEntry:OF,matchAll:LF,isHTMLForm:FF,hasOwnProperty:rS,hasOwnProp:rS,reduceDescriptors:wx,freezeMethods:UF,toObjectSet:BF,toCamelCase:VF,noop:$F,toFiniteNumber:WF,findKey:_x,global:jo,isContextDefined:vx,ALPHABET:Ex,generateString:HF,isSpecCompliantForm:zF,toJSONObject:qF,isAsyncFn:YF,isThenable:KF,setImmediate:Tx,asap:QF};function Fe(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}J.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Sx=Fe.prototype,kx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{kx[r]={value:r}});Object.defineProperties(Fe,kx);Object.defineProperty(Sx,"isAxiosError",{value:!0});Fe.from=(r,e,t,n,i,o)=>{const l=Object.create(Sx);return J.toFlatObject(r,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Fe.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const GF=null;function dy(r){return J.isPlainObject(r)||J.isArray(r)}function Cx(r){return J.endsWith(r,"[]")?r.slice(0,-2):r}function sS(r,e,t){return r?r.concat(e).map(function(i,o){return i=Cx(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function XF(r){return J.isArray(r)&&!r.some(dy)}const JF=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function rp(r,e,t){if(!J.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,b){return!J.isUndefined(b[I])});const n=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(J.isDate(C))return C.toISOString();if(!d&&J.isBlob(C))throw new Fe("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(C)||J.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,I,b){let N=C;if(C&&!b&&typeof C=="object"){if(J.endsWith(I,"{}"))I=n?I:I.slice(0,-2),C=JSON.stringify(C);else if(J.isArray(C)&&XF(C)||(J.isFileList(C)||J.endsWith(I,"[]"))&&(N=J.toArray(C)))return I=Cx(I),N.forEach(function(j,q){!(J.isUndefined(j)||j===null)&&e.append(l===!0?sS([I],q,o):l===null?I:I+"[]",p(j))}),!1}return dy(C)?!0:(e.append(sS(b,I,o),p(C)),!1)}const y=[],_=Object.assign(JF,{defaultVisitor:m,convertValue:p,isVisitable:dy});function E(C,I){if(!J.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+I.join("."));y.push(C),J.forEach(C,function(N,F){(!(J.isUndefined(N)||N===null)&&i.call(e,N,J.isString(F)?F.trim():F,I,_))===!0&&E(N,I?I.concat(F):[F])}),y.pop()}}if(!J.isObject(r))throw new TypeError("data must be an object");return E(r),e}function oS(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function V_(r,e){this._pairs=[],r&&rp(r,this,e)}const xx=V_.prototype;xx.append=function(e,t){this._pairs.push([e,t])};xx.toString=function(e){const t=e?function(n){return e.call(this,n,oS)}:oS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function ZF(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bx(r,e,t){if(!e)return r;const n=t&&t.encode||ZF;J.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=J.isURLSearchParams(e)?e.toString():new V_(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class aS{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eV=typeof URLSearchParams<"u"?URLSearchParams:V_,tV=typeof FormData<"u"?FormData:null,nV=typeof Blob<"u"?Blob:null,rV={isBrowser:!0,classes:{URLSearchParams:eV,FormData:tV,Blob:nV},protocols:["http","https","file","blob","url","data"]},j_=typeof window<"u"&&typeof document<"u",fy=typeof navigator=="object"&&navigator||void 0,iV=j_&&(!fy||["ReactNative","NativeScript","NS"].indexOf(fy.product)<0),sV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oV=j_&&window.location.href||"http://localhost",aV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:j_,hasStandardBrowserEnv:iV,hasStandardBrowserWebWorkerEnv:sV,navigator:fy,origin:oV},Symbol.toStringTag,{value:"Module"})),fn={...aV,...rV};function lV(r,e){return rp(r,new fn.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return fn.isNode&&J.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function uV(r){return J.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cV(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function Dx(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&J.isArray(i)?i.length:l,d?(J.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!c):((!i[l]||!J.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&J.isArray(i[l])&&(i[l]=cV(i[l])),!c)}if(J.isFormData(r)&&J.isFunction(r.entries)){const t={};return J.forEachEntry(r,(n,i)=>{e(uV(n),i,t,0)}),t}return null}function dV(r,e,t){if(J.isString(r))try{return(e||JSON.parse)(r),J.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Rc={transitional:Ix,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=J.isObject(e);if(o&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(Dx(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return lV(e,this.formSerializer).toString();if((c=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return rp(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),dV(e)):e}],transformResponse:[function(e){const t=this.transitional||Rc.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Fe.from(c,Fe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],r=>{Rc.headers[r]={}});const fV=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&fV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},lS=Symbol("internals");function Pu(r){return r&&String(r).trim().toLowerCase()}function If(r){return r===!1||r==null?r:J.isArray(r)?r.map(If):String(r)}function pV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const mV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function mg(r,e,t,n,i){if(J.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function gV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function yV(r,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class Fn{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(c,d,p){const m=Pu(d);if(!m)throw new Error("header name must be a non-empty string");const y=J.findKey(i,m);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||d]=If(c))}const l=(c,d)=>J.forEach(c,(p,m)=>o(p,m,d));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(J.isString(e)&&(e=e.trim())&&!mV(e))l(hV(e),t);else if(J.isHeaders(e))for(const[c,d]of e.entries())o(d,c,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Pu(e),e){const n=J.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return pV(i);if(J.isFunction(t))return t.call(this,i,n);if(J.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pu(e),e){const n=J.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||mg(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=Pu(l),l){const c=J.findKey(n,l);c&&(!t||mg(n,n[c],c,t))&&(delete n[c],i=!0)}}return J.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||mg(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return J.forEach(this,(i,o)=>{const l=J.findKey(n,o);if(l){t[l]=If(i),delete t[o];return}const c=e?gV(o):String(o).trim();c!==o&&delete t[o],t[c]=If(i),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&J.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[lS]=this[lS]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Pu(l);n[c]||(yV(i,l),n[c]=!0)}return J.isArray(e)?e.forEach(o):o(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Fn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});J.freezeMethods(Fn);function gg(r,e){const t=this||Rc,n=e||t,i=Fn.from(n.headers);let o=n.data;return J.forEach(r,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Rx(r){return!!(r&&r.__CANCEL__)}function Ll(r,e,t){Fe.call(this,r??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(Ll,Fe,{__CANCEL__:!0});function Px(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function _V(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function vV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=n[o];l||(l=p),t[i]=d,n[i]=p;let y=o,_=0;for(;y!==i;)_+=t[y++],y=y%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),p-l<e)return;const E=m&&p-m;return E?Math.round(_*1e3/E):void 0}}function wV(r,e){let t=0,n=1e3/e,i,o;const l=(p,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),r.apply(null,p)};return[(...p)=>{const m=Date.now(),y=m-t;y>=n?l(p,m):(i=p,o||(o=setTimeout(()=>{o=null,l(i)},n-y)))},()=>i&&l(i)]}const sh=(r,e,t=3)=>{let n=0;const i=vV(50,250);return wV(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-n,p=i(d),m=l<=c;n=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-l)/p:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(y)},t)},uS=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},cS=r=>(...e)=>J.asap(()=>r(...e)),EV=fn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,fn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,TV=fn.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];J.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),J.isString(n)&&l.push("path="+n),J.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function kV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Ax(r,e){return r&&!SV(e)?kV(r,e):e}const dS=r=>r instanceof Fn?{...r}:r;function Xo(r,e){e=e||{};const t={};function n(p,m,y,_){return J.isPlainObject(p)&&J.isPlainObject(m)?J.merge.call({caseless:_},p,m):J.isPlainObject(m)?J.merge({},m):J.isArray(m)?m.slice():m}function i(p,m,y,_){if(J.isUndefined(m)){if(!J.isUndefined(p))return n(void 0,p,y,_)}else return n(p,m,y,_)}function o(p,m){if(!J.isUndefined(m))return n(void 0,m)}function l(p,m){if(J.isUndefined(m)){if(!J.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,y){if(y in e)return n(p,m);if(y in r)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,m,y)=>i(dS(p),dS(m),y,!0)};return J.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=d[m]||i,_=y(r[m],e[m],m);J.isUndefined(_)&&y!==c||(t[m]=_)}),t}const Nx=r=>{const e=Xo({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Fn.from(l),e.url=bx(Ax(e.baseURL,e.url),r.params,r.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(J.isFormData(t)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(fn.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&EV(e.url))){const p=i&&o&&TV.read(o);p&&l.set(i,p)}return e},CV=typeof XMLHttpRequest<"u",xV=CV&&function(r){return new Promise(function(t,n){const i=Nx(r);let o=i.data;const l=Fn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=i,m,y,_,E,C;function I(){E&&E(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function N(){if(!b)return;const j=Fn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),X={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:r,request:b};Px(function(A){t(A),I()},function(A){n(A),I()},X),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(n(new Fe("Request aborted",Fe.ECONNABORTED,r,b)),b=null)},b.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,r,b)),b=null},b.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||Ix;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),n(new Fe(q,X.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,r,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&J.forEach(l.toJSON(),function(q,X){b.setRequestHeader(X,q)}),J.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),p&&([_,C]=sh(p,!0),b.addEventListener("progress",_)),d&&b.upload&&([y,E]=sh(d),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=j=>{b&&(n(!j||j.type?new Ll(null,r,b):j),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const F=_V(i.url);if(F&&fn.protocols.indexOf(F)===-1){n(new Fe("Unsupported protocol "+F+":",Fe.ERR_BAD_REQUEST,r));return}b.send(o||null)})},bV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(p){if(!i){i=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Fe?m:new Ll(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const c=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),r=null)};r.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>J.asap(c),d}},IV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},DV=async function*(r,e){for await(const t of RV(r))yield*IV(t,e)},RV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},fS=(r,e,t,n)=>{const i=DV(r,e);let o=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await i.next();if(p){c(),d.close();return}let y=m.byteLength;if(t){let _=o+=y;t(_)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},ip=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mx=ip&&typeof ReadableStream=="function",PV=ip&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Ox=(r,...e)=>{try{return!!r(...e)}catch{return!1}},AV=Mx&&Ox(()=>{let r=!1;const e=new Request(fn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),hS=64*1024,hy=Mx&&Ox(()=>J.isReadableStream(new Response("").body)),oh={stream:hy&&(r=>r.body)};ip&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!oh[e]&&(oh[e]=J.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const NV=async r=>{if(r==null)return 0;if(J.isBlob(r))return r.size;if(J.isSpecCompliantForm(r))return(await new Request(fn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(J.isArrayBufferView(r)||J.isArrayBuffer(r))return r.byteLength;if(J.isURLSearchParams(r)&&(r=r+""),J.isString(r))return(await PV(r)).byteLength},MV=async(r,e)=>{const t=J.toFiniteNumber(r.getContentLength());return t??NV(e)},OV=ip&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:m,withCredentials:y="same-origin",fetchOptions:_}=Nx(r);p=p?(p+"").toLowerCase():"text";let E=bV([i,o&&o.toAbortSignal()],l),C;const I=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let b;try{if(d&&AV&&t!=="get"&&t!=="head"&&(b=await MV(m,n))!==0){let X=new Request(e,{method:"POST",body:n,duplex:"half"}),Z;if(J.isFormData(n)&&(Z=X.headers.get("content-type"))&&m.setContentType(Z),X.body){const[A,D]=uS(b,sh(cS(d)));n=fS(X.body,hS,A,D)}}J.isString(y)||(y=y?"include":"omit");const N="credentials"in Request.prototype;C=new Request(e,{..._,signal:E,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:N?y:void 0});let F=await fetch(C);const j=hy&&(p==="stream"||p==="response");if(hy&&(c||j&&I)){const X={};["status","statusText","headers"].forEach(P=>{X[P]=F[P]});const Z=J.toFiniteNumber(F.headers.get("content-length")),[A,D]=c&&uS(Z,sh(cS(c),!0))||[];F=new Response(fS(F.body,hS,A,()=>{D&&D(),I&&I()}),X)}p=p||"text";let q=await oh[J.findKey(oh,p)||"text"](F,r);return!j&&I&&I(),await new Promise((X,Z)=>{Px(X,Z,{data:q,headers:Fn.from(F.headers),status:F.status,statusText:F.statusText,config:r,request:C})})}catch(N){throw I&&I(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,r,C),{cause:N.cause||N}):Fe.from(N,N&&N.code,r,C)}}),py={http:GF,xhr:xV,fetch:OV};J.forEach(py,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const pS=r=>`- ${r}`,LV=r=>J.isFunction(r)||r===null||r===!1,Lx={getAdapter:r=>{r=J.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!LV(t)&&(n=py[(l=String(t)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(pS).join(`
`):" "+pS(o[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:py};function yg(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ll(null,r)}function mS(r){return yg(r),r.headers=Fn.from(r.headers),r.data=gg.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Lx.getAdapter(r.adapter||Rc.adapter)(r).then(function(n){return yg(r),n.data=gg.call(r,r.transformResponse,n),n.headers=Fn.from(n.headers),n},function(n){return Rx(n)||(yg(r),n&&n.response&&(n.response.data=gg.call(r,r.transformResponse,n.response),n.response.headers=Fn.from(n.response.headers))),Promise.reject(n)})}const Fx="1.7.9",sp={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{sp[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const gS={};sp.transitional=function(e,t,n){function i(o,l){return"[Axios v"+Fx+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,c)=>{if(e===!1)throw new Fe(i(l," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!gS[l]&&(gS[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};sp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function FV(r,e,t){if(typeof r!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const c=r[o],d=c===void 0||l(c,o,r);if(d!==!0)throw new Fe("option "+o+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+o,Fe.ERR_BAD_OPTION)}}const Df={assertOptions:FV,validators:sp},Jr=Df.validators;class $o{constructor(e){this.defaults=e,this.interceptors={request:new aS,response:new aS}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xo(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&Df.assertOptions(n,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),i!=null&&(J.isFunction(i)?t.paramsSerializer={serialize:i}:Df.assertOptions(i,{encode:Jr.function,serialize:Jr.function},!0)),Df.assertOptions(t,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&J.merge(o.common,o[t.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),t.headers=Fn.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,c.unshift(I.fulfilled,I.rejected))});const p=[];this.interceptors.response.forEach(function(I){p.push(I.fulfilled,I.rejected)});let m,y=0,_;if(!d){const C=[mS.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,p),_=C.length,m=Promise.resolve(t);y<_;)m=m.then(C[y++],C[y++]);return m}_=c.length;let E=t;for(y=0;y<_;){const C=c[y++],I=c[y++];try{E=C(E)}catch(b){I.call(this,b);break}}try{m=mS.call(this,E)}catch(C){return Promise.reject(C)}for(y=0,_=p.length;y<_;)m=m.then(p[y++],p[y++]);return m}getUri(e){e=Xo(this.defaults,e);const t=Ax(e.baseURL,e.url);return bx(t,e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){$o.prototype[e]=function(t,n){return this.request(Xo(n||{},{method:e,url:t,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,c){return this.request(Xo(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}$o.prototype[e]=t(),$o.prototype[e+"Form"]=t(!0)});class U_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{n.subscribe(c),o=c}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,c){n.reason||(n.reason=new Ll(o,l,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new U_(function(i){e=i}),cancel:e}}}function VV(r){return function(t){return r.apply(null,t)}}function jV(r){return J.isObject(r)&&r.isAxiosError===!0}const my={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(my).forEach(([r,e])=>{my[e]=r});function Vx(r){const e=new $o(r),t=mx($o.prototype.request,e);return J.extend(t,$o.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Vx(Xo(r,i))},t}const ft=Vx(Rc);ft.Axios=$o;ft.CanceledError=Ll;ft.CancelToken=U_;ft.isCancel=Rx;ft.VERSION=Fx;ft.toFormData=rp;ft.AxiosError=Fe;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=VV;ft.isAxiosError=jV;ft.mergeConfig=Xo;ft.AxiosHeaders=Fn;ft.formToJSON=r=>Dx(J.isHTMLForm(r)?new FormData(r):r);ft.getAdapter=Lx.getAdapter;ft.HttpStatusCode=my;ft.default=ft;const UV=async(r,e)=>{try{return(await ft.get("/.netlify/functions/fetchMetArtworkDetails",{params:{type:r,q:e}})).data.map(o=>{const l=o.artistDisplayName||"an unknown Artist",c=o.artistNationality||"Unknown nationality",d=o.objectDate||"an undetermined time",p=o.medium||"an artistic medium",m=o.dimensions||"unknown dimensions",y=o.classification||"an extraordinary artwork",_=o.department||"an unspecified department",E=o.objectURL||"https://www.metmuseum.org/art/collection",C=o.creditLine||"an anonymous donor",I=o.period||"an unspecified period",b=o.geographyType||"a broad location",N=o.city||"an unknown city",F=o.country||"an unknown country",j=m.match(/\(([^)]+)\)/),q=j?j[1]:m,X=`<p>${o.title} is a ${y.toLowerCase()} by ${l} (${c}). Created in ${d}, this ${p} artwork measures approximately <i>${q}</i>. It is part of the ${_} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${I}</em>, and its geographical origins are linked to <em>${b}</em>, with specific ties to <em>${N}</em>, ${F}. The artwork is credited to ${C}. Learn more about this artwork <a href="${E}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:o.objectID,title:o.title,artist_title:o.artistDisplayName,artist_bio:o.artistDisplayBio,date:o.objectDate,medium_display:o.medium,imageUrl:o.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:o.objectURL,description:X}})}catch(t){throw t}},BV="https://api.artic.edu/api/v1/artworks/search",$V="https://www.artic.edu/iiif/2",WV=async(r,e)=>{const t={query:{bool:{must:[{match:{[e]:r}},{term:{is_on_view:!0}}]}}};try{const o=(await ft.post(BV,t,{headers:{"Content-Type":"application/json"}})).data.data.map(d=>ft.get(`https://api.artic.edu/api/v1/artworks/${d.id}`,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}}));return(await Promise.all(o)).map(d=>{const p=d.data.data,m=p.image_id?`${$V}/${p.image_id}/full/843,/0/default.jpg`:"",y=p.artist_display.match(/\(([^)]+)\)/),_=y?y[1]:null;return{id:p.id,title:p.title,artist_title:p.artist_title,artist_bio:_,date:p.date_display,medium_display:p.medium_display,imageUrl:m||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:p.description}})}catch(n){throw ft.isAxiosError(n)?new Error(`Axios error fetching artworks from Chicago: ${n.message}
        `):new Error(`Unexpected error fetching artworks from Chicago: ${n} `)}},HV=(r,e,t)=>{const{artworks:n,setArtworks:i}=I_(),[o,l]=k.useState(!1),[c,d]=k.useState(null);return k.useEffect(()=>{r&&e?(async()=>{var y,_;l(!0),d(null);const m={artist:r==="met"?"artistOrCulture":"artist_display",title:"title"};try{if(r!==""){const E=r==="met"?await UV(m[t]||"artistOrCulture",e):await WV(e,m[t]||"artist_display");i(E)}}catch(E){d(((_=(y=E.response)==null?void 0:y.data)==null?void 0:_.error)||"An error occurred while fetching artworks. Please try again.")}finally{l(!1)}})():i([])},[e,t,r,i]),{artworks:n,loading:o,error:c,setArtworks:i}},zV=(r,e)=>{const[t,n]=k.useState([]),[i,o]=k.useState(!1),{setArtworks:l}=I_();return k.useEffect(()=>{(async()=>{o(!0);try{const _=(await ry(ll(Yt,"artworks"))).docs.map(E=>E.data());n(_)}catch(y){console.error("Error loading collection:",y)}finally{o(!1)}})()},[]),{collectionState:t,addToCollection:async m=>{try{await N0(ll(Yt,"artworks"),m),n(y=>[...y,m])}catch(y){console.error("Error adding artwork:",y)}},removeFromCollection:async m=>{try{const y=Yn(Yt,"artworks",m.toString());await x_(y),n(_=>_.filter(E=>E.id!==m))}catch(y){console.error("Error removing artwork:",y)}},searchCollection:async()=>{r||l([]);try{o(!0);const m=ny(ll(Yt,"artworks"),kf(e,"==",r)),_=(await ry(m)).docs.map(E=>E.data());n(_),l(_)}catch(m){console.error("Error searching collection:",m)}finally{o(!1)}},loadingCollection:i}},qV=({sortOption:r,setSortOption:e,sortDirection:t,setSortDirection:n})=>{const[i,o]=k.useState(null),{setQuery:l}=Ay(),{setType:c}=vk(),[d,p]=k.useState(""),[m,y]=k.useState(""),_=()=>{if(d.trim()===""){o("Please enter an artist name.");return}l(d),c("artist"),o(null),p("")},E=()=>{if(m.trim()===""){o("Please enter a title.");return}l(m),c("title"),o(null),y("")},C=I=>{n(b=>({...b,[I]:b[I]==="asc"?"desc":"asc"}))};return S.jsxs("div",{className:"container my-3",children:[S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:d,onChange:I=>p(I.target.value),placeholder:"Search by Artist","aria-label":"Search by Artist"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-primary w-100",onClick:_,"aria-label":"Search by Artist",children:"Search by Artist"})})]}),S.jsxs("div",{className:"row justify-content-center",children:[S.jsx("div",{className:"col-md-4 mb-3",children:S.jsx("input",{type:"text",className:"form-control",value:m,onChange:I=>y(I.target.value),placeholder:"Search by Title","aria-label":"Search by Title"})}),S.jsx("div",{className:"col-md-2 mb-3",children:S.jsx("button",{className:"btn btn-secondary w-100",onClick:E,"aria-label":"Search by Title",children:"Search by Title"})})]}),S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-md-4 mb-3",children:S.jsxs("div",{className:"input-group",children:[S.jsxs("select",{className:"form-select",value:r,onChange:I=>e(I.target.value),"aria-label":"Sort by",children:[S.jsx("option",{value:"artist",children:"Sort by Artist"}),S.jsx("option",{value:"title",children:"Sort by Title"}),S.jsx("option",{value:"date",children:"Sort by Date"})]}),S.jsx("button",{className:"btn btn-info",onClick:()=>C(r),"aria-label":"Toggle Sort Direction",children:t[r]==="asc"?"":""})]})})}),i&&S.jsx("div",{className:"text-danger mt-2",children:i})]})},YV=k.createContext(void 0),KV=()=>{const r=k.useContext(YV);if(!r)throw new Error("useCollection must be used within a CollectionProvider");return r};function jx(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=jx(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function nn(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=jx(r))&&(n&&(n+=" "),n+=e);return n}function me(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function st(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Pr(r,e){const t=me(r);return isNaN(e)?st(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Or(r,e){const t=me(r);if(isNaN(e))return st(r,NaN);if(!e)return t;const n=t.getDate(),i=st(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function B_(r,e){const t=+me(r);return st(r,t+e)}const Ux=6048e5,QV=864e5,op=6e4,ap=36e5,GV=1e3;function XV(r,e){return B_(r,e*ap)}let JV={};function sa(){return JV}function Qi(r,e){var c,d,p,m;const t=sa(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function vl(r){return Qi(r,{weekStartsOn:1})}function Bx(r){const e=me(r),t=e.getFullYear(),n=st(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=vl(n),o=st(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=vl(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Jo(r){const e=me(r);return e.setHours(0,0,0,0),e}function ah(r){const e=me(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function wl(r,e){const t=Jo(r),n=Jo(e),i=+t-ah(t),o=+n-ah(n);return Math.round((i-o)/QV)}function ZV(r){const e=Bx(r),t=st(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),vl(t)}function gy(r,e){return B_(r,e*op)}function $_(r,e){const t=e*3;return Or(r,t)}function ej(r,e){return B_(r,e*1e3)}function lh(r,e){const t=e*7;return Pr(r,t)}function ji(r,e){return Or(r,e*12)}function yS(r){let e;return r.forEach(function(t){const n=me(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function _S(r){let e;return r.forEach(t=>{const n=me(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function tj(r,e){const t=Jo(r),n=Jo(e);return+t==+n}function Ui(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function uh(r){if(!Ui(r)&&typeof r!="number")return!1;const e=me(r);return!isNaN(Number(e))}function ch(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function Wo(r){const e=me(r);return Math.trunc(e.getMonth()/3)+1}function dh(r,e){const t=me(r),n=me(e),i=t.getFullYear()-n.getFullYear(),o=Wo(t)-Wo(n);return i*4+o}function fh(r,e){const t=me(r),n=me(e);return t.getFullYear()-n.getFullYear()}function nj(r,e){const t=me(r),n=me(e),i=vS(t,n),o=Math.abs(wl(t,n));t.setDate(t.getDate()-i*o);const l=+(vS(t,n)===-i),c=i*(o-l);return c===0?0:c}function vS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function $x(r){const e=me(r);return e.setHours(23,59,59,999),e}function Wx(r){const e=me(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function yy(r){const e=me(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function Hx(r){const e=me(r);return e.setDate(1),e.setHours(0,0,0,0),e}function zx(r){const e=me(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function lp(r){const e=me(r),t=st(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function rj(r,e){var c,d;const t=sa(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=me(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const ij={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sj=(r,e,t)=>{let n;const i=ij[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function _g(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const oj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uj={date:_g({formats:oj,defaultWidth:"full"}),time:_g({formats:aj,defaultWidth:"full"}),dateTime:_g({formats:lj,defaultWidth:"full"})},cj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dj=(r,e,t,n)=>cj[r];function Au(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const fj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_j=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vj={ordinalNumber:_j,era:Au({values:fj,defaultWidth:"wide"}),quarter:Au({values:hj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Au({values:pj,defaultWidth:"wide"}),day:Au({values:mj,defaultWidth:"wide"}),dayPeriod:Au({values:gj,defaultWidth:"wide",formattingValues:yj,defaultFormattingWidth:"wide"})};function Nu(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?Ej(c,y=>y.test(l)):wj(c,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function wj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Ej(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Tj(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const Sj=/^(\d+)(th|st|nd|rd)?/i,kj=/\d+/i,Cj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xj={any:[/^b/i,/^(a|c)/i]},bj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ij={any:[/1/i,/2/i,/3/i,/4/i]},Dj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oj={ordinalNumber:Tj({matchPattern:Sj,parsePattern:kj,valueCallback:r=>parseInt(r,10)}),era:Nu({matchPatterns:Cj,defaultMatchWidth:"wide",parsePatterns:xj,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:Ij,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Nu({matchPatterns:Dj,defaultMatchWidth:"wide",parsePatterns:Rj,defaultParseWidth:"any"}),day:Nu({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:Aj,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:Nj,defaultMatchWidth:"any",parsePatterns:Mj,defaultParseWidth:"any"})},qx={code:"en-US",formatDistance:sj,formatLong:uj,formatRelative:dj,localize:vj,match:Oj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lj(r){const e=me(r);return wl(e,lp(e))+1}function W_(r){const e=me(r),t=+vl(e)-+ZV(e);return Math.round(t/Ux)+1}function H_(r,e){var m,y,_,E;const t=me(r),n=t.getFullYear(),i=sa(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(_=i.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,l=st(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Qi(l,e),d=st(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Qi(d,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=p.getTime()?n:n-1}function Fj(r,e){var c,d,p,m;const t=sa(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=H_(r,e),o=st(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Qi(o,e)}function Yx(r,e){const t=me(r),n=+Qi(t,e)-+Fj(t,e);return Math.round(n/Ux)+1}function it(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const ks={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(r,e){return it(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return it(r.getHours()%12||12,e.length)},H(r,e){return it(r.getHours(),e.length)},m(r,e){return it(r.getMinutes(),e.length)},s(r,e){return it(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return it(i,e.length)}},Xa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return ks.y(r,e)},Y:function(r,e,t,n){const i=H_(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return it(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(r,e){const t=Bx(r);return it(t,e.length)},u:function(r,e){const t=r.getFullYear();return it(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return ks.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Yx(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):it(i,e.length)},I:function(r,e,t){const n=W_(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):ks.d(r,e)},D:function(r,e,t){const n=Lj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return it(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Xa.noon:n===0?i=Xa.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Xa.evening:n>=12?i=Xa.afternoon:n>=4?i=Xa.morning:i=Xa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ks.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):ks.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):ks.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):ks.s(r,e)},S:function(r,e){return ks.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return TS(n);case"XXXX":case"XX":return No(n);case"XXXXX":case"XXX":default:return No(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return TS(n);case"xxxx":case"xx":return No(n);case"xxxxx":case"xxx":default:return No(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ES(n,":");case"OOOO":default:return"GMT"+No(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ES(n,":");case"zzzz":default:return"GMT"+No(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return it(n,e.length)},T:function(r,e,t){const n=r.getTime();return it(n,e.length)}};function ES(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+it(o,2)}function TS(r,e){return r%60===0?(r>0?"-":"+")+it(Math.abs(r)/60,2):No(r,e)}function No(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=it(Math.trunc(n/60),2),o=it(n%60,2);return t+i+e+o}const SS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Kx=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return SS(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",SS(n,e)).replace("{{time}}",Kx(i,e))},hh={p:Kx,P:Vj},jj=/^D+$/,Uj=/^Y+$/,Bj=["D","DD","YY","YYYY"];function Qx(r){return jj.test(r)}function Gx(r){return Uj.test(r)}function _y(r,e,t){const n=$j(r,e,t);if(console.warn(n),Bj.includes(r))throw new RangeError(n)}function $j(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zj=/^'([^]*?)'?$/,qj=/''/g,Yj=/[a-zA-Z]/;function kS(r,e,t){var m,y,_,E,C,I,b,N;const n=sa(),i=(t==null?void 0:t.locale)??n.locale??qx,o=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(_=n.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((I=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:I.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,c=me(r);if(!uh(c))throw new RangeError("Invalid time value");let d=e.match(Hj).map(F=>{const j=F[0];if(j==="p"||j==="P"){const q=hh[j];return q(F,i.formatLong)}return F}).join("").match(Wj).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const j=F[0];if(j==="'")return{isToken:!1,value:Kj(F)};if(wS[j])return{isToken:!0,value:F};if(j.match(Yj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:F}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(F=>{if(!F.isToken)return F.value;const j=F.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Gx(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Qx(j))&&_y(j,e,String(r));const q=wS[j[0]];return q(c,j,i.localize,p)}).join("")}function Kj(r){const e=r.match(zj);return e?e[1].replace(qj,"'"):r}function CS(r){return me(r).getDate()}function Qj(r){return me(r).getDay()}function Gj(r){const e=me(r),t=e.getFullYear(),n=e.getMonth(),i=st(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Xj(){return Object.assign({},sa())}function ci(r){return me(r).getHours()}function Jj(r){let t=me(r).getDay();return t===0&&(t=7),t}function di(r){return me(r).getMinutes()}function En(r){return me(r).getMonth()}function Bi(r){return me(r).getSeconds()}function vy(r){return me(r).getTime()}function Ue(r){return me(r).getFullYear()}function qs(r,e){const t=me(r),n=me(e);return t.getTime()>n.getTime()}function Zo(r,e){const t=me(r),n=me(e);return+t<+n}function Zj(r,e){const t=me(r),n=me(e);return+t==+n}function eU(r,e){const t=e instanceof Date?st(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const tU=10;class Xx{constructor(){ge(this,"subPriority",0)}validate(e,t){return!0}}class nU extends Xx{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class rU extends Xx{constructor(){super(...arguments);ge(this,"priority",tU);ge(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:st(t,eU(t,Date))}}class tt{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new nU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class iU extends tt{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(r,e){return r&&{value:e(r.value),rest:r.rest}}function St(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ri(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*ap+o*op+l*GV),rest:e.slice(t[0].length)}}function Jx(r){return St(Pt.anyDigitsSigned,r)}function bt(r,e){switch(r){case 1:return St(Pt.singleDigit,e);case 2:return St(Pt.twoDigits,e);case 3:return St(Pt.threeDigits,e);case 4:return St(Pt.fourDigits,e);default:return St(new RegExp("^\\d{1,"+r+"}"),e)}}function ph(r,e){switch(r){case 1:return St(Pt.singleDigitSigned,e);case 2:return St(Pt.twoDigitsSigned,e);case 3:return St(Pt.threeDigitsSigned,e);case 4:return St(Pt.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+r+"}"),e)}}function z_(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Zx(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function eb(r){return r%400===0||r%4===0&&r%100!==0}class sU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return At(bt(4,t),o);case"yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=Zx(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class oU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return At(bt(4,t),o);case"Yo":return At(i.ordinalNumber(t,{unit:"year"}),o);default:return At(bt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=H_(t,o);if(i.isTwoDigitYear){const d=Zx(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}}class aU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return ph(n==="R"?4:n.length,t)}set(t,n,i){const o=st(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),vl(o)}}class lU extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return ph(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class uU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return bt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class cU extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return bt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class dU extends tt{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return At(St(Pt.month,t),o);case"MM":return At(bt(2,t),o);case"Mo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class fU extends tt{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return At(St(Pt.month,t),o);case"LL":return At(bt(2,t),o);case"Lo":return At(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function hU(r,e,t){const n=me(r),i=Yx(n,t)-e;return n.setDate(n.getDate()-i*7),n}class pU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return St(Pt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Qi(hU(t,i,o),o)}}function mU(r,e){const t=me(r),n=W_(t)-e;return t.setDate(t.getDate()-n*7),t}class gU extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return St(Pt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return vl(mU(t,i))}}const yU=[31,28,31,30,31,30,31,31,30,31,30,31],_U=[31,29,31,30,31,30,31,31,30,31,30,31];class vU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return St(Pt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=eb(i),l=t.getMonth();return o?n>=1&&n<=_U[l]:n>=1&&n<=yU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class wU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return St(Pt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return bt(n.length,t)}}validate(t,n){const i=t.getFullYear();return eb(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function q_(r,e,t){var y,_,E,C;const n=sa(),i=(t==null?void 0:t.weekStartsOn)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((C=(E=n.locale)==null?void 0:E.options)==null?void 0:C.weekStartsOn)??0,o=me(r),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return Pr(o,m)}class EU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=q_(t,i,o),t.setHours(0,0,0,0),t}}class TU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return At(bt(n.length,t),l);case"eo":return At(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=q_(t,i,o),t.setHours(0,0,0,0),t}}class SU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return At(bt(n.length,t),l);case"co":return At(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=q_(t,i,o),t.setHours(0,0,0,0),t}}function kU(r,e){const t=me(r),n=Jj(t),i=e-n;return Pr(t,i)}class CU extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return bt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return At(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return At(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return At(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return At(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=kU(t,i),t.setHours(0,0,0,0),t}}class xU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(z_(i),0,0,0),t}}class bU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(z_(i),0,0,0),t}}class IU extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(z_(i),0,0,0),t}}class DU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return St(Pt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class RU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return St(Pt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class PU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return St(Pt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class AU extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return St(Pt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return bt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class NU extends tt{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return St(Pt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class MU extends tt{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return St(Pt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return bt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class OU extends tt{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return At(bt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class LU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ri(ni.basicOptionalMinutes,t);case"XX":return ri(ni.basic,t);case"XXXX":return ri(ni.basicOptionalSeconds,t);case"XXXXX":return ri(ni.extendedOptionalSeconds,t);case"XXX":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-ah(t)-i)}}class FU extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ri(ni.basicOptionalMinutes,t);case"xx":return ri(ni.basic,t);case"xxxx":return ri(ni.basicOptionalSeconds,t);case"xxxxx":return ri(ni.extendedOptionalSeconds,t);case"xxx":default:return ri(ni.extended,t)}}set(t,n,i){return n.timestampIsSet?t:st(t,t.getTime()-ah(t)-i)}}class VU extends tt{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(t){return Jx(t)}set(t,n,i){return[st(t,i*1e3),{timestampIsSet:!0}]}}class jU extends tt{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(t){return Jx(t)}set(t,n,i){return[st(t,i),{timestampIsSet:!0}]}}const UU={G:new iU,y:new sU,Y:new oU,R:new aU,u:new lU,Q:new uU,q:new cU,M:new dU,L:new fU,w:new pU,I:new gU,d:new vU,D:new wU,E:new EU,e:new TU,c:new SU,i:new CU,a:new xU,b:new bU,B:new IU,h:new DU,H:new RU,K:new PU,k:new AU,m:new NU,s:new MU,S:new OU,X:new LU,x:new FU,t:new VU,T:new jU},BU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$U=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WU=/^'([^]*?)'?$/,HU=/''/g,zU=/\S/,qU=/[a-zA-Z]/;function vg(r,e,t,n){var I,b,N,F,j,q,X,Z;const i=Xj(),o=(n==null?void 0:n.locale)??i.locale??qx,l=(n==null?void 0:n.firstWeekContainsDate)??((b=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((F=(N=i.locale)==null?void 0:N.options)==null?void 0:F.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((q=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:q.weekStartsOn)??i.weekStartsOn??((Z=(X=i.locale)==null?void 0:X.options)==null?void 0:Z.weekStartsOn)??0;if(e==="")return r===""?me(t):st(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},p=[new rU],m=e.match($U).map(A=>{const D=A[0];if(D in hh){const P=hh[D];return P(A,o.formatLong)}return A}).join("").match(BU),y=[];for(let A of m){!(n!=null&&n.useAdditionalWeekYearTokens)&&Gx(A)&&_y(A,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Qx(A)&&_y(A,e,r);const D=A[0],P=UU[D];if(P){const{incompatibleTokens:L}=P;if(Array.isArray(L)){const U=y.find(M=>L.includes(M.token)||M.token===D);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${A}\` at the same time`)}else if(P.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);y.push({token:D,fullToken:A});const V=P.run(r,A,o.match,d);if(!V)return st(t,NaN);p.push(V.setter),r=V.rest}else{if(D.match(qU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(A==="''"?A="'":D==="'"&&(A=YU(A)),r.indexOf(A)===0)r=r.slice(A.length);else return st(t,NaN)}}if(r.length>0&&zU.test(r))return st(t,NaN);const _=p.map(A=>A.priority).sort((A,D)=>D-A).filter((A,D,P)=>P.indexOf(A)===D).map(A=>p.filter(D=>D.priority===A).sort((D,P)=>P.subPriority-D.subPriority)).map(A=>A[0]);let E=me(t);if(isNaN(E.getTime()))return st(t,NaN);const C={};for(const A of _){if(!A.validate(E,d))return st(t,NaN);const D=A.set(E,C,d);Array.isArray(D)?(E=D[0],Object.assign(C,D[1])):E=D}return st(t,E)}function YU(r){return r.match(WU)[1].replace(HU,"'")}function KU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function QU(r,e){const t=yy(r),n=yy(e);return+t==+n}function GU(r,e){const t=me(r),n=me(e);return t.getFullYear()===n.getFullYear()}function cc(r,e){const t=+me(r),[n,i]=[+me(e.start),+me(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function XU(r,e){return Pr(r,-1)}function JU(r,e){const n=n4(r);let i;if(n.date){const d=r4(n.date,2);i=i4(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,c;if(n.time&&(l=s4(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(c=o4(n.timezone),isNaN(c))return new Date(NaN)}else{const d=new Date(o+l),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(o+l+c)}const of={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,t4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function n4(r){const e={},t=r.split(of.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],of.timeZoneDelimiter.test(e.date)&&(e.date=r.split(of.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=of.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function r4(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function i4(r,e){if(e===null)return new Date(NaN);const t=r.match(ZU);if(!t)return new Date(NaN);const n=!!t[4],i=Mu(t[1]),o=Mu(t[2])-1,l=Mu(t[3]),c=Mu(t[4]),d=Mu(t[5])-1;if(n)return d4(e,c,d)?a4(e,c,d):new Date(NaN);{const p=new Date(0);return!u4(e,o,l)||!c4(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function Mu(r){return r?parseInt(r):1}function s4(r){const e=r.match(e4);if(!e)return NaN;const t=wg(e[1]),n=wg(e[2]),i=wg(e[3]);return f4(t,n,i)?t*ap+n*op+i*1e3:NaN}function wg(r){return r&&parseFloat(r.replace(",","."))||0}function o4(r){if(r==="Z")return 0;const e=r.match(t4);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return h4(n,i)?t*(n*ap+i*op):NaN}function a4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const l4=[31,null,31,30,31,30,31,31,30,31,30,31];function tb(r){return r%400===0||r%4===0&&r%100!==0}function u4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(l4[e]||(tb(r)?29:28))}function c4(r,e){return e>=1&&e<=(tb(r)?366:365)}function d4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function f4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function h4(r,e){return e>=0&&e<=59}function qn(r,e){const t=me(r),n=t.getFullYear(),i=t.getDate(),o=st(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=Gj(o);return t.setMonth(e,Math.min(i,l)),t}function p4(r,e){let t=me(r);return isNaN(+t)?st(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=qn(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Rf(r,e){const t=me(r);return t.setHours(e),t}function Pf(r,e){const t=me(r);return t.setMinutes(e),t}function nl(r,e){const t=me(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return qn(t,t.getMonth()+i*3)}function Af(r,e){const t=me(r);return t.setSeconds(e),t}function ei(r,e){const t=me(r);return isNaN(+t)?st(r,NaN):(t.setFullYear(e),t)}function Ho(r,e){return Or(r,-e)}function nb(r,e){return $_(r,-1)}function xS(r,e){return lh(r,-1)}function El(r,e){return ji(r,-e)}function up(){return typeof window<"u"}function Fl(r){return rb(r)?(r.nodeName||"").toLowerCase():"#document"}function Gn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function mi(r){var e;return(e=(rb(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function rb(r){return up()?r instanceof Node||r instanceof Gn(r).Node:!1}function Tn(r){return up()?r instanceof Element||r instanceof Gn(r).Element:!1}function pi(r){return up()?r instanceof HTMLElement||r instanceof Gn(r).HTMLElement:!1}function bS(r){return!up()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Gn(r).ShadowRoot}function Pc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=fr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function m4(r){return["table","td","th"].includes(Fl(r))}function cp(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Y_(r){const e=K_(),t=Tn(r)?fr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function g4(r){let e=Ys(r);for(;pi(e)&&!Tl(e);){if(Y_(e))return e;if(cp(e))return null;e=Ys(e)}return null}function K_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tl(r){return["html","body","#document"].includes(Fl(r))}function fr(r){return Gn(r).getComputedStyle(r)}function dp(r){return Tn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ys(r){if(Fl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||bS(r)&&r.host||mi(r);return bS(e)?e.host:e}function ib(r){const e=Ys(r);return Tl(e)?r.ownerDocument?r.ownerDocument.body:r.body:pi(e)&&Pc(e)?e:ib(e)}function dc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=ib(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Gn(i);if(o){const c=wy(l);return e.concat(l,l.visualViewport||[],Pc(i)?i:[],c&&t?dc(c):[])}return e.concat(i,dc(i,[],t))}function wy(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Sl=Math.min,zo=Math.max,mh=Math.round,af=Math.floor,fi=r=>({x:r,y:r}),y4={left:"right",right:"left",bottom:"top",top:"bottom"},_4={start:"end",end:"start"};function v4(r,e,t){return zo(r,Sl(e,t))}function fp(r,e){return typeof r=="function"?r(e):r}function kl(r){return r.split("-")[0]}function Ac(r){return r.split("-")[1]}function w4(r){return r==="x"?"y":"x"}function Q_(r){return r==="y"?"height":"width"}function fc(r){return["top","bottom"].includes(kl(r))?"y":"x"}function G_(r){return w4(fc(r))}function E4(r,e,t){t===void 0&&(t=!1);const n=Ac(r),i=G_(r),o=Q_(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=gh(l)),[l,gh(l)]}function T4(r){const e=gh(r);return[Ey(r),e,Ey(e)]}function Ey(r){return r.replace(/start|end/g,e=>_4[e])}function S4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function k4(r,e,t,n){const i=Ac(r);let o=S4(kl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Ey)))),o}function gh(r){return r.replace(/left|right|bottom|top/g,e=>y4[e])}function C4(r){return{top:0,right:0,bottom:0,left:0,...r}}function sb(r){return typeof r!="number"?C4(r):{top:r,right:r,bottom:r,left:r}}function yh(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function IS(r,e,t){let{reference:n,floating:i}=r;const o=fc(e),l=G_(e),c=Q_(l),d=kl(e),p=o==="y",m=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,_=n[c]/2-i[c]/2;let E;switch(d){case"top":E={x:m,y:n.y-i.height};break;case"bottom":E={x:m,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y};break;case"left":E={x:n.x-i.width,y};break;default:E={x:n.x,y:n.y}}switch(Ac(e)){case"start":E[l]-=_*(t&&p?-1:1);break;case"end":E[l]+=_*(t&&p?-1:1);break}return E}const x4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y}=IS(p,n,d),_=n,E={},C=0;for(let I=0;I<c.length;I++){const{name:b,fn:N}=c[I],{x:F,y:j,data:q,reset:X}=await N({x:m,y,initialPlacement:n,placement:_,strategy:i,middlewareData:E,rects:p,platform:l,elements:{reference:r,floating:e}});m=F??m,y=j??y,E={...E,[b]:{...E[b],...q}},X&&C<=50&&(C++,typeof X=="object"&&(X.placement&&(_=X.placement),X.rects&&(p=X.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):X.rects),{x:m,y}=IS(p,_,d)),I=-1)}return{x:m,y,placement:_,strategy:i,middlewareData:E}};async function b4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:E=0}=fp(e,r),C=sb(E),b=c[_?y==="floating"?"reference":"floating":y],N=yh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(b)))==null||t?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),F=y==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),q=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},X=yh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:j,strategy:d}):F);return{top:(N.top-X.top+C.top)/q.y,bottom:(X.bottom-N.bottom+C.bottom)/q.y,left:(N.left-X.left+C.left)/q.x,right:(X.right-N.right+C.right)/q.x}}const I4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=fp(r,e)||{};if(p==null)return{};const y=sb(m),_={x:t,y:n},E=G_(i),C=Q_(E),I=await l.getDimensions(p),b=E==="y",N=b?"top":"left",F=b?"bottom":"right",j=b?"clientHeight":"clientWidth",q=o.reference[C]+o.reference[E]-_[E]-o.floating[C],X=_[E]-o.reference[E],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let A=Z?Z[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(Z)))&&(A=c.floating[j]||o.floating[C]);const D=q/2-X/2,P=A/2-I[C]/2-1,L=Sl(y[N],P),V=Sl(y[F],P),U=L,M=A-I[C]-V,ke=A/2-I[C]/2+D,Ie=v4(U,ke,M),he=!d.arrow&&Ac(i)!=null&&ke!==Ie&&o.reference[C]/2-(ke<U?L:V)-I[C]/2<0,de=he?ke<U?ke-U:ke-M:0;return{[E]:_[E]+de,data:{[E]:Ie,centerOffset:ke-Ie-de,...he&&{alignmentOffset:de}},reset:he}}}),D4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:I=!0,...b}=fp(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=kl(i),F=fc(c),j=kl(c)===c,q=await(d.isRTL==null?void 0:d.isRTL(p.floating)),X=_||(j||!I?[gh(c)]:T4(c)),Z=C!=="none";!_&&Z&&X.push(...k4(c,I,C,q));const A=[c,...X],D=await b4(e,b),P=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&P.push(D[N]),y){const ke=E4(i,l,q);P.push(D[ke[0]],D[ke[1]])}if(L=[...L,{placement:i,overflows:P}],!P.every(ke=>ke<=0)){var V,U;const ke=(((V=o.flip)==null?void 0:V.index)||0)+1,Ie=A[ke];if(Ie)return{data:{index:ke,overflows:L},reset:{placement:Ie}};let he=(U=L.filter(de=>de.overflows[0]<=0).sort((de,G)=>de.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!he)switch(E){case"bestFit":{var M;const de=(M=L.filter(G=>{if(Z){const ce=fc(G.placement);return ce===F||ce==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ce=>ce>0).reduce((ce,le)=>ce+le,0)]).sort((G,ce)=>G[1]-ce[1])[0])==null?void 0:M[0];de&&(he=de);break}case"initialPlacement":he=c;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function R4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=kl(t),c=Ac(t),d=fc(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,y=fp(e,r);let{mainAxis:_,crossAxis:E,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof C=="number"&&(E=c==="end"?C*-1:C),d?{x:E*m,y:_*p}:{x:_*p,y:E*m}}const P4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await R4(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function ob(r){const e=fr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=pi(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=mh(t)!==o||mh(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function X_(r){return Tn(r)?r:r.contextElement}function ul(r){const e=X_(r);if(!pi(e))return fi(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=ob(e);let l=(o?mh(t.width):t.width)/n,c=(o?mh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const A4=fi(0);function ab(r){const e=Gn(r);return!K_()||!e.visualViewport?A4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function N4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gn(r)?!1:e}function ea(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=X_(r);let l=fi(1);e&&(n?Tn(n)&&(l=ul(n)):l=ul(r));const c=N4(o,t,n)?ab(o):fi(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(o){const _=Gn(o),E=n&&Tn(n)?Gn(n):n;let C=_,I=wy(C);for(;I&&n&&E!==C;){const b=ul(I),N=I.getBoundingClientRect(),F=fr(I),j=N.left+(I.clientLeft+parseFloat(F.paddingLeft))*b.x,q=N.top+(I.clientTop+parseFloat(F.paddingTop))*b.y;d*=b.x,p*=b.y,m*=b.x,y*=b.y,d+=j,p+=q,C=Gn(I),I=wy(C)}}return yh({width:m,height:y,x:d,y:p})}function J_(r,e){const t=dp(r).scrollLeft;return e?e.left+t:ea(mi(r)).left+t}function lb(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:J_(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function M4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=mi(n),c=e?cp(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=fi(1);const m=fi(0),y=pi(n);if((y||!y&&!o)&&((Fl(n)!=="body"||Pc(l))&&(d=dp(n)),pi(n))){const E=ea(n);p=ul(n),m.x=E.x+n.clientLeft,m.y=E.y+n.clientTop}const _=l&&!y&&!o?lb(l,d,!0):fi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+_.x,y:t.y*p.y-d.scrollTop*p.y+m.y+_.y}}function O4(r){return Array.from(r.getClientRects())}function L4(r){const e=mi(r),t=dp(r),n=r.ownerDocument.body,i=zo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=zo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+J_(r);const c=-t.scrollTop;return fr(n).direction==="rtl"&&(l+=zo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function F4(r,e){const t=Gn(r),n=mi(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=K_();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function V4(r,e){const t=ea(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=pi(r)?ul(r):fi(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function DS(r,e,t){let n;if(e==="viewport")n=F4(r,t);else if(e==="document")n=L4(mi(r));else if(Tn(e))n=V4(e,t);else{const i=ab(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yh(n)}function ub(r,e){const t=Ys(r);return t===e||!Tn(t)||Tl(t)?!1:fr(t).position==="fixed"||ub(t,e)}function j4(r,e){const t=e.get(r);if(t)return t;let n=dc(r,[],!1).filter(c=>Tn(c)&&Fl(c)!=="body"),i=null;const o=fr(r).position==="fixed";let l=o?Ys(r):r;for(;Tn(l)&&!Tl(l);){const c=fr(l),d=Y_(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pc(l)&&!d&&ub(r,l))?n=n.filter(m=>m!==l):i=c,l=Ys(l)}return e.set(r,n),n}function U4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?cp(e)?[]:j4(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,m)=>{const y=DS(e,m,i);return p.top=zo(y.top,p.top),p.right=Sl(y.right,p.right),p.bottom=Sl(y.bottom,p.bottom),p.left=zo(y.left,p.left),p},DS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function B4(r){const{width:e,height:t}=ob(r);return{width:e,height:t}}function $4(r,e,t){const n=pi(e),i=mi(e),o=t==="fixed",l=ea(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=fi(0);if(n||!n&&!o)if((Fl(e)!=="body"||Pc(i))&&(c=dp(e)),n){const _=ea(e,!0,o,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=J_(i));const p=i&&!n&&!o?lb(i,c):fi(0),m=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:m,y,width:l.width,height:l.height}}function Eg(r){return fr(r).position==="static"}function RS(r,e){if(!pi(r)||fr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return mi(r)===t&&(t=t.ownerDocument.body),t}function cb(r,e){const t=Gn(r);if(cp(r))return t;if(!pi(r)){let i=Ys(r);for(;i&&!Tl(i);){if(Tn(i)&&!Eg(i))return i;i=Ys(i)}return t}let n=RS(r,e);for(;n&&m4(n)&&Eg(n);)n=RS(n,e);return n&&Tl(n)&&Eg(n)&&!Y_(n)?t:n||g4(r)||t}const W4=async function(r){const e=this.getOffsetParent||cb,t=this.getDimensions,n=await t(r.floating);return{reference:$4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function H4(r){return fr(r).direction==="rtl"}const z4={convertOffsetParentRelativeRectToViewportRelativeRect:M4,getDocumentElement:mi,getClippingRect:U4,getOffsetParent:cb,getElementRects:W4,getClientRects:O4,getDimensions:B4,getScale:ul,isElement:Tn,isRTL:H4};function db(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function q4(r,e){let t=null,n;const i=mi(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:y,width:_,height:E}=p;if(c||e(),!_||!E)return;const C=af(y),I=af(i.clientWidth-(m+_)),b=af(i.clientHeight-(y+E)),N=af(m),j={rootMargin:-C+"px "+-I+"px "+-b+"px "+-N+"px",threshold:zo(0,Sl(1,d))||1};let q=!0;function X(Z){const A=Z[0].intersectionRatio;if(A!==d){if(!q)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!db(p,r.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(X,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(X,j)}t.observe(r)}return l(!0),o}function Y4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=X_(r),m=i||o?[...p?dc(p):[],...dc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const y=p&&c?q4(p,t):null;let _=-1,E=null;l&&(E=new ResizeObserver(N=>{let[F]=N;F&&F.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=E)==null||j.observe(e)})),t()}),p&&!d&&E.observe(p),E.observe(e));let C,I=d?ea(r):null;d&&b();function b(){const N=ea(r);I&&!db(I,N)&&t(),I=N,C=requestAnimationFrame(b)}return t(),()=>{var N;m.forEach(F=>{i&&F.removeEventListener("scroll",t),o&&F.removeEventListener("resize",t)}),y==null||y(),(N=E)==null||N.disconnect(),E=null,d&&cancelAnimationFrame(C)}}const K4=P4,Q4=D4,PS=I4,G4=(r,e,t)=>{const n=new Map,i={platform:z4,...t},o={...i.platform,_c:n};return x4(r,e,{...i,platform:o})};var Nf=typeof document<"u"?k.useLayoutEffect:k.useEffect;function _h(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!_h(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!_h(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function fb(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function AS(r,e){const t=fb(r);return Math.round(e*t)/t}function Tg(r){const e=k.useRef(r);return Nf(()=>{e.current=r}),e}function X4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[m,y]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,E]=k.useState(n);_h(_,n)||E(n);const[C,I]=k.useState(null),[b,N]=k.useState(null),F=k.useCallback(G=>{G!==Z.current&&(Z.current=G,I(G))},[]),j=k.useCallback(G=>{G!==A.current&&(A.current=G,N(G))},[]),q=o||C,X=l||b,Z=k.useRef(null),A=k.useRef(null),D=k.useRef(m),P=d!=null,L=Tg(d),V=Tg(i),U=Tg(p),M=k.useCallback(()=>{if(!Z.current||!A.current)return;const G={placement:e,strategy:t,middleware:_};V.current&&(G.platform=V.current),G4(Z.current,A.current,G).then(ce=>{const le={...ce,isPositioned:U.current!==!1};ke.current&&!_h(D.current,le)&&(D.current=le,mk.flushSync(()=>{y(le)}))})},[_,e,t,V,U]);Nf(()=>{p===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(G=>({...G,isPositioned:!1})))},[p]);const ke=k.useRef(!1);Nf(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Nf(()=>{if(q&&(Z.current=q),X&&(A.current=X),q&&X){if(L.current)return L.current(q,X,M);M()}},[q,X,M,L,P]);const Ie=k.useMemo(()=>({reference:Z,floating:A,setReference:F,setFloating:j}),[F,j]),he=k.useMemo(()=>({reference:q,floating:X}),[q,X]),de=k.useMemo(()=>{const G={position:t,left:0,top:0};if(!he.floating)return G;const ce=AS(he.floating,m.x),le=AS(he.floating,m.y);return c?{...G,transform:"translate("+ce+"px, "+le+"px)",...fb(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:le}},[t,c,he.floating,m.x,m.y]);return k.useMemo(()=>({...m,update:M,refs:Ie,elements:he,floatingStyles:de}),[m,M,Ie,he,de])}const J4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?PS({element:n.current,padding:i}).fn(t):{}:n?PS({element:n,padding:i}).fn(t):{}}}},Z4=(r,e)=>({...K4(r),options:[r,e]}),eB=(r,e)=>({...Q4(r),options:[r,e]}),tB=(r,e)=>({...J4(r),options:[r,e]}),hb={...NI},nB=hb.useInsertionEffect,rB=nB||(r=>r());function iB(r){const e=k.useRef(()=>{});return rB(()=>{e.current=r}),k.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var vh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let NS=!1,sB=0;const MS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sB++;function oB(){const[r,e]=k.useState(()=>NS?MS():void 0);return vh(()=>{r==null&&e(MS())},[]),k.useEffect(()=>{NS=!0},[]),r}const aB=hb.useId,pb=aB||oB,lB=k.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:_,d:E,style:{transform:C,...I}={},...b}=e,N=pb(),[F,j]=k.useState(!1);if(vh(()=>{if(!i)return;fr(i).direction==="rtl"&&j(!0)},[i]),!i)return null;const[q,X]=n.split("-"),Z=q==="top"||q==="bottom";let A=y;(Z&&l!=null&&l.x||!Z&&l!=null&&l.y)&&(A=null);const D=m*2,P=D/2,L=c/2*(p/-8+1),V=d/2*p/4,U=!!E,M=A&&X==="end"?"bottom":"top";let ke=A&&X==="end"?"right":"left";A&&F&&(ke=X==="end"?"left":"right");const Ie=(o==null?void 0:o.x)!=null?A||o.x:"",he=(o==null?void 0:o.y)!=null?A||o.y:"",de=E||"M0,0"+(" H"+c)+(" L"+(c-L)+","+(d-V))+(" Q"+c/2+","+d+" "+L+","+(d-V))+" Z",G={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[q];return S.jsxs("svg",{...b,"aria-hidden":!0,ref:t,width:U?c:c+D,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[ke]:Ie,[M]:he,[q]:Z||U?"100%":"calc(100% - "+D/2+"px)",transform:[G,C].filter(ce=>!!ce).join(" "),...I},children:[D>0&&S.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:_,strokeWidth:D+(E?0:1),d:de}),S.jsx("path",{stroke:D&&!E?b.fill:"none",d:de}),S.jsx("clipPath",{id:N,children:S.jsx("rect",{x:-P,y:P*(U?-1:1),width:c+D,height:c})})]})});function uB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const cB=k.createContext(null),dB=k.createContext(null),fB=()=>{var r;return((r=k.useContext(cB))==null?void 0:r.id)||null},hB=()=>k.useContext(dB);function pB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=pb(),o=k.useRef({}),[l]=k.useState(()=>uB()),c=fB()!=null,[d,p]=k.useState(n.reference),m=iB((E,C,I)=>{o.current.openEvent=E?C:void 0,l.emit("openchange",{open:E,event:C,reason:I,nested:c}),t==null||t(E,C,I)}),y=k.useMemo(()=>({setPositionReference:p}),[]),_=k.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return k.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:_,events:l,floatingId:i,refs:y}),[e,m,_,l,i,y])}function mB(r){r===void 0&&(r={});const{nodeId:e}=r,t=pB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=k.useState(null),[c,d]=k.useState(null),m=(i==null?void 0:i.domReference)||o,y=k.useRef(null),_=hB();vh(()=>{m&&(y.current=m)},[m]);const E=X4({...r,elements:{...i,...c&&{reference:c}}}),C=k.useCallback(j=>{const q=Tn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;d(q),E.refs.setReference(q)},[E.refs]),I=k.useCallback(j=>{(Tn(j)||j===null)&&(y.current=j,l(j)),(Tn(E.refs.reference.current)||E.refs.reference.current===null||j!==null&&!Tn(j))&&E.refs.setReference(j)},[E.refs]),b=k.useMemo(()=>({...E.refs,setReference:I,setPositionReference:C,domReference:y}),[E.refs,I,C]),N=k.useMemo(()=>({...E.elements,domReference:m}),[E.elements,m]),F=k.useMemo(()=>({...E,...n,refs:b,elements:N,nodeId:e}),[E,b,N,e,n]);return vh(()=>{n.dataRef.current.floatingContext=F;const j=_==null?void 0:_.nodesRef.current.find(q=>q.id===e);j&&(j.context=F)}),k.useMemo(()=>({...E,context:F,refs:b,elements:N}),[E,b,N,F])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ty=function(e,t){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Ty(e,t)};function Qt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ty(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Xe.apply(this,arguments)};function si(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var gB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ee.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},yB=function(r,e){var t=k.useRef(null),n=k.useRef(r);n.current=r;var i=k.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return k.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},hp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=yB(t,l);return ee.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},fe;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(fe||(fe={}));function mb(){var r=typeof window<"u"?window:globalThis;return r}var Nc=12,_B=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ot(r){if(r==null)return new Date;var e=typeof r=="string"?JU(r):me(r);return Pi(e)?e:new Date}function Sg(r,e,t,n,i){var o,l=null,c=qo(t)||qo(Xu()),d=!0;if(Array.isArray(e))return e.forEach(function(m){var y=vg(r,m,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Pi(y,i)&&r===yt(y,m,t)),Pi(y,i)&&d&&(l=y)}),l;if(l=vg(r,e,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Pi(l)&&r===yt(l,e,t);else if(!Pi(l)){var p=((o=e.match(_B))!==null&&o!==void 0?o:[]).map(function(m){var y=m[0];if(y==="p"||y==="P"){var _=hh[y];return c?_(m,c.formatLong):y}return m}).join("");r.length>0&&(l=vg(r,p.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Pi(l)||(l=new Date(r))}return Pi(l)&&d?l:null}function Pi(r,e){return uh(r)&&!Zo(r,e??new Date("1/1/1800"))}function yt(r,e,t){if(t==="en")return kS(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?qo(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&Xu()&&qo(Xu())&&(n=qo(Xu())),kS(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ur(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&yt(r,i,n)||""}function vB(r,e,t){if(!r)return"";var n=ur(r,t),i=e?ur(e,t):"";return"".concat(n," - ").concat(i)}function wB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?ur(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=ur(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function kg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Rf(Pf(Af(r,c),o),n)}function EB(r){return W_(r)}function TB(r,e){return yt(r,"ddd",e)}function Mf(r){return Jo(r)}function js(r,e,t){var n=qo(e||Xu());return Qi(r,{locale:n,weekStartsOn:t})}function $i(r){return Hx(r)}function Hu(r){return lp(r)}function OS(r){return yy(r)}function LS(){return Jo(ot())}function FS(r){return $x(r)}function SB(r){return rj(r)}function kB(r){return Wx(r)}function ti(r,e){return r&&e?GU(r,e):!r&&!e}function wn(r,e){return r&&e?KU(r,e):!r&&!e}function wh(r,e){return r&&e?QU(r,e):!r&&!e}function Qe(r,e){return r&&e?tj(r,e):!r&&!e}function Uo(r,e){return r&&e?Zj(r,e):!r&&!e}function zu(r,e,t){var n,i=Jo(e),o=$x(t);try{n=cc(r,{start:i,end:o})}catch{n=!1}return n}function Xu(){var r=mb();return r.__localeId__}function qo(r){if(typeof r=="string"){var e=mb();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function CB(r,e,t){return e(yt(r,"EEEE",t))}function xB(r,e){return yt(r,"EEEEEE",e)}function bB(r,e){return yt(r,"EEE",e)}function Z_(r,e){return yt(qn(ot(),r),"LLLL",e)}function gb(r,e){return yt(qn(ot(),r),"LLL",e)}function IB(r,e){return yt(nl(ot(),r),"QQQ",e)}function cr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return Mc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Qe(r,m):Qe(r,m.date)})||l&&l.some(function(m){var y=m.start,_=m.end;return cc(r,{start:y,end:_})})||c&&!c.some(function(m){return Qe(r,m)})||d&&!d.some(function(m){var y=m.start,_=m.end;return cc(r,{start:y,end:_})})||p&&!p(ot(r))||!1}function ev(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return cc(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?Qe(r,o):Qe(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function yb(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Mc(r,{minDate:n?Hx(n):void 0,maxDate:i?Wx(i):void 0})||(o==null?void 0:o.some(function(d){return wn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return wn(r,d)})||c&&!c(ot(r))||!1}function lf(r,e,t,n){var i=Ue(r),o=En(r),l=Ue(e),c=En(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function DB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Mc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return wn(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return wn(c,r)})||!1}function uf(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Mc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return wh(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return wh(r,d)})||c&&!c(ot(r))||!1}function cf(r,e,t){if(!e||!t||!uh(e)||!uh(t))return!1;var n=Ue(e),i=Ue(t);return n<=r&&i>=r}function Of(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return Mc(d,{minDate:n?lp(n):void 0,maxDate:i?zx(i):void 0})||(o==null?void 0:o.some(function(p){return ti(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return ti(d,p)})||c&&!c(ot(d))||!1}function df(r,e,t,n){var i=Ue(r),o=Wo(r),l=Ue(e),c=Wo(e),d=Ue(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function Mc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&wl(r,i)<0||o&&wl(r,o)>0)!==null&&t!==void 0?t:!1}function VS(r,e){return e.some(function(t){return ci(t)===ci(r)&&di(t)===di(r)&&Bi(t)===Bi(r)})}function jS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&VS(r,n)||i&&!VS(r,i)||o&&!o(r)||!1}function US(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=ot();i=Rf(i,ci(r)),i=Pf(i,di(r)),i=Af(i,Bi(r));var o=ot();o=Rf(o,ci(t)),o=Pf(o,di(t)),o=Af(o,Bi(t));var l=ot();l=Rf(l,ci(n)),l=Pf(l,di(n)),l=Af(l,Bi(n));var c;try{c=!cc(i,{start:o,end:l})}catch{c=!1}return c}function BS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Ho(r,1);return n&&ch(n,o)>0||i&&i.every(function(l){return ch(l,o)>0})||!1}function $S(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Or(r,1);return n&&ch(o,n)>0||i&&i.every(function(l){return ch(o,l)>0})||!1}function RB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=lp(r),l=nb(o);return n&&dh(n,l)>0||i&&i.every(function(c){return dh(c,l)>0})||!1}function PB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=zx(r),l=$_(o,1);return n&&dh(l,n)>0||i&&i.every(function(c){return dh(l,c)>0})||!1}function WS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=El(r,1);return n&&fh(n,o)>0||i&&i.every(function(l){return fh(l,o)>0})||!1}function AB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Nc:i,l=Hu(El(r,o)),c=As(l,o).endPeriod,d=n&&Ue(n);return d&&d>c||!1}function HS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=ji(r,1);return n&&fh(o,n)>0||i&&i.every(function(l){return fh(o,l)>0})||!1}function NB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Nc:i,l=ji(r,o),c=As(l,o).startPeriod,d=n&&Ue(n);return d&&d<c||!1}function _b(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return wl(i,e)>=0});return _S(n)}else return t?_S(t):e}function vb(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return wl(i,e)<=0});return yS(n)}else return t?yS(t):e}function zS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Ui(l)){var c=yt(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var _=0,E=y.length;_<E;_++){var C=y[_];if(C){var c=yt(C,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function MB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function OB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Ui(i)){var l=yt(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&MB(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?si(si([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function LB(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,p=i[c];p&&(d=XV(d,ci(p)),d=gy(d,di(p)),d=ej(d,Bi(p)));var m=gy(r,(t+1)*n);qs(d,e)&&Zo(d,m)&&p!=null&&l.push(p)}return l}function qS(r){return r<10?"0".concat(r):"".concat(r)}function As(r,e){e===void 0&&(e=Nc);var t=Math.ceil(Ue(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function FB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function YS(r){var e=r.getSeconds(),t=r.getMilliseconds();return me(r.getTime()-e*1e3-t)}function VB(r,e){return YS(r).getTime()===YS(e).getTime()}function KS(r){if(!Ui(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function QS(r,e){if(!Ui(r)||!Ui(e))throw new Error("Invalid date received");var t=KS(r),n=KS(e);return Zo(t,n)}function wb(r){return r.key===fe.Space}var jB=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),p=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),y=m[0],_=m[1];p.setHours(Number(y)),p.setMinutes(Number(_))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?k.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(k.Component),UB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=k.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return ev(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,js(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,js(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=yt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=yt(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:zu(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,y=i.endDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!_||!p&&t.isDisabled()?!1:l&&y&&(Zo(_,y)||Uo(_,y))?zu(o,_,y):c&&m&&(qs(_,m)||Uo(_,m))||d&&m&&!y&&(qs(_,m)||Uo(_,m))?zu(o,m,_):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(o,d):Qe(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Qe(o,p):Qe(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(l,i)},t.isWeekend=function(){var n=Qj(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===En(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(En(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ot())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return nn("react-datepicker__day",i,"react-datepicker__day--"+TB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(yt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=yt(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(c==null?void 0:c.filter(function(m){return m instanceof Date?Qe(m,i):Qe(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(CS(t.props.day),t.props.day):CS(t.props.day)},t.render=function(){return ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(k.Component),BB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=k.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:nn(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(k.Component),$B=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,p=new Date(n),m=0;m<7;m++){var y=new Date(n);y.setDate(y.getDate()+m);var _=!t.isDisabled(y);if(_){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):EB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Pr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Pr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(ee.createElement(BB,Xe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Pr(n,c);return ee.createElement(UB,Xe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return js(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:nn(t)},this.renderDays())},e}(k.Component),Ou,WB=6,cl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Cg=(Ou={},Ou[cl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ou[cl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ou[cl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ou),ff=1;function GS(r,e){return r?cl.FOUR_COLUMNS:e?cl.TWO_COLUMNS:cl.THREE_COLUMNS}var HB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=si([],Array(12),!0).map(function(){return k.createRef()}),t.QUARTER_REFS=si([],Array(4),!0).map(function(){return k.createRef()}),t.isDisabled=function(n){return cr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return ev(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:wn(qn(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:wh(nl(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:wn(qn(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:wh(nl(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?lf(_,y,n,l):d&&m||p&&m&&!y?lf(m,_,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,p=qn(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?wn(p,m):wn(p,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=qn(l,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?wn(m,y):wn(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!_?!1:c&&y?df(_,y,n,l):d&&m||p&&m&&!y?df(m,_,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Pr(n,6);return wn(n,i)||wn(o,i)},t.isCurrentMonth=function(n,i){return Ue(n)===Ue(ot())&&i===En(ot())},t.isCurrentQuarter=function(n,i){return Ue(n)===Ue(ot())&&i===Wo(ot())},t.isSelectedMonth=function(n,i,o){return En(o)===i&&Ue(n)===Ue(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return Wo(n)===i&&Ue(n)===Ue(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=js($i(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(C){return t.props.showWeekPicker?js(C,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(C){return t.props.showWeekPicker?js(C,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ee.createElement($B,Xe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:En(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=lh(c,1);var _=i&&o>=WB,E=!i&&!t.isWeekInMonth(c);if(_||E)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick($i(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter($i(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,p=c.preSelection,m=c.setPreSelection,y=c.minDate,_=c.maxDate,E=c.showFourColumnMonthYearPicker,C=c.showTwoColumnMonthYearPicker;if(p){var I=GS(E,C),b=t.getVerticalOffset(I),N=(l=Cg[I])===null||l===void 0?void 0:l.grid,F=function(A,D,P){var L,V,U=D,M=P;switch(A){case fe.ArrowRight:U=Or(D,ff),M=P===11?0:P+ff;break;case fe.ArrowLeft:U=Ho(D,ff),M=P===0?11:P-ff;break;case fe.ArrowUp:U=Ho(D,b),M=!((L=N==null?void 0:N[0])===null||L===void 0)&&L.includes(P)?P+12-b:P-b;break;case fe.ArrowDown:U=Or(D,b),M=!((V=N==null?void 0:N[N.length-1])===null||V===void 0)&&V.includes(P)?P-12+b:P+b;break}return{newCalculatedDate:U,newCalculatedMonth:M}},j=function(A,D,P){for(var L=40,V=A,U=!1,M=0,ke=F(V,D,P),Ie=ke.newCalculatedDate,he=ke.newCalculatedMonth;!U;){if(M>=L){Ie=D,he=P;break}if(y&&Ie<y){V=fe.ArrowRight;var de=F(V,Ie,he);Ie=de.newCalculatedDate,he=de.newCalculatedMonth}if(_&&Ie>_){V=fe.ArrowLeft;var de=F(V,Ie,he);Ie=de.newCalculatedDate,he=de.newCalculatedMonth}if(DB(Ie,t.props)){var de=F(V,Ie,he);Ie=de.newCalculatedDate,he=de.newCalculatedMonth}else U=!0;M++}return{newCalculatedDate:Ie,newCalculatedMonth:he}};if(i===fe.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var q=j(i,p,o),X=q.newCalculatedDate,Z=q.newCalculatedMonth;switch(i){case fe.ArrowRight:case fe.ArrowLeft:case fe.ArrowUp:case fe.ArrowDown:t.handleMonthNavigation(Z,X);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=Cg[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==fe.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=nl(t.props.day,i);uf(o,t.props)||t.handleDayClick(OS(o),n)},t.onQuarterMouseEnter=function(n){var i=nl(t.props.day,n);uf(i,t.props)||t.handleDayMouseEnter(OS(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case fe.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case fe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,$_(t.props.preSelection,1));break;case fe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,nb(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=qn(l,n);return{isDisabled:(i=(c||d||p||m)&&yb(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(qn(o,n)):void 0,y=t.getSelection();return nn("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(o,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?lf(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=En(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Wo(t.props.preSelection),o=uf(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,p=i.day,m=i.locale,y=qn(p,n),_=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(_," ").concat(yt(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,y=i.excludeDates,_=i.includeDates,E=i.filterDate,C=i.preSelection,I=i.disabledKeyboardNavigation,b=(p||m||y||_||E)&&uf(nl(o,n),t.props);return nn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!I&&C&&t.isSelectedQuarter(o,n,C)&&!b,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?df(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,p=gb(n,c),m=Z_(n,c);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=IB(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,p=(n=Cg[GS(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,y){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(_,E){return ee.createElement("div",{ref:t.MONTH_REFS[_],key:E,onClick:function(C){t.onMonthClick(C,_)},onKeyDown:function(C){wb(C)&&(C.preventDefault(),C.key=fe.Enter),t.onMonthKeyDown(C,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(c,_)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,_,d):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return ee.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,c)},onKeyDown:function(p){t.onQuarterKeyDown(p,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return nn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(yt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(k.Component),zB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ee.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ee.createElement(hp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),qB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return ee.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ee.createElement(zB,Xe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return gb(o,t.props.locale)}:function(o){return Z_(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(k.Component);function YB(r,e){for(var t=[],n=$i(r),i=$i(e);!qs(n,i);)t.push(ot(n)),n=Or(n,1);return t}var KB=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=vy(i),l=ti(n.props.date,i)&&wn(n.props.date,i);return ee.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:YB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=nn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(hp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),QB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=$i(t.props.minDate),i=$i(t.props.maxDate),o=[];!qs(n,i);){var l=vy(n);o.push(ee.createElement("option",{key:l,value:l},yt(n,t.props.dateFormat,t.props.locale))),n=Or(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:vy($i(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=yt(t.props.date,t.props.dateFormat,t.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ee.createElement(KB,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=ot(n);ti(t.props.date,i)&&wn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),GB=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&US(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&jS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&VB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&US(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&jS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ci(n)*3600+di(n)*60+Bi(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(n.key===fe.ArrowUp||n.key===fe.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===fe.ArrowDown||n.key===fe.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===fe.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ot(),d=Mf(c),p=t.props.injectTimes&&t.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),m=60*FB(c),y=m/l,_=0;_<y;_++){var E=gy(d,_*l);if(i.push(E),p){var C=LB(d,E,_,l,p);i=i.concat(C)}}var I=i.reduce(function(b,N){return N.getTime()<=c.getTime()?N:b},i[0]);return i.map(function(b){return ee.createElement("li",{key:b.valueOf(),onClick:t.handleClick.bind(t,b),className:t.liClasses(b),ref:function(N){b===I&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,b)},tabIndex:b===I?0:-1,role:"option","aria-selected":t.isSelectedTime(b)?"true":void 0,"aria-disabled":t.isDisabledTime(b)?"true":void 0},yt(b,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(k.Component),XS=3,XB=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=si([],Array(n.props.yearItemNumber),!0).map(function(){return k.createRef()}),n.isDisabled=function(i){return cr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return ev(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,p,m=n.props,y=m.date,_=m.yearItemNumber;if(!(y===void 0||_===void 0)){var E=As(y,_).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-E<0?n.updateFocusOnPaginate(_-(E-i)):i-E>=_?n.updateFocusOnPaginate(Math.abs(_-(i-E))):(p=(d=n.YEAR_REFS[i-E])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return Qe(i,o)},n.isCurrentYear=function(i){return i===Ue(ot())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&ti(ei(ot(),i),n.props.endDate)},n.isInRange=function(i){return cf(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?cf(i,n.selectingDate(),m):c&&p||d&&p&&!m?cf(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,p=ei(ot(),i);return d?ti(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(p,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=ei(ot(),i);return d||p?ti(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):ti(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,y=Hu(ei(n.props.date,i)),_=(l||c||d||p||m)&&Of(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(y,Hu(n.props.selected))&&Qe(y,Hu(n.props.preSelection))&&!_}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Hu(ei(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,p=n.props,m=p.date,y=p.yearItemNumber,_=p.handleOnKeyDown;if(d!==fe.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case fe.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case fe.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ji(n.props.preSelection,1));break;case fe.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,El(n.props.preSelection,1));break;case fe.ArrowUp:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var E=As(m,y).startPeriod,C=XS,I=o-C;if(I<E){var b=y%C;o>=E&&o<E+b?C=b:C+=b,I=o-C}n.handleYearNavigation(I,El(n.props.preSelection,C));break}case fe.ArrowDown:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var N=As(m,y).endPeriod,C=XS,I=o+C;if(I>N){var b=y%C;o<=N&&o>N-b?C=b:C+=b,I=o+C}n.handleYearNavigation(I,ji(n.props.preSelection,C));break}}_&&_(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,p=o.selected,m=o.excludeDates,y=o.includeDates,_=o.filterDate,E=o.yearClassName;return nn("react-datepicker__year-text","react-datepicker__year-".concat(i),l?E==null?void 0:E(ei(l,i)):void 0,{"react-datepicker__year-text--selected":p?i===Ue(p):void 0,"react-datepicker__year-text--disabled":(c||d||m||y||_)&&Of(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Ue(n.props.preSelection),l=Of(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=As(o,l),m=p.startPeriod,y=p.endPeriod,_=function(I){n.push(ee.createElement("div",{ref:E.YEAR_REFS[I-m],onClick:function(b){t.onYearClick(b,I)},onKeyDown:function(b){wb(b)&&(b.preventDefault(),b.key=fe.Enter),t.onYearKeyDown(b,I)},tabIndex:Number(E.getYearTabIndex(I)),className:E.getYearClassNames(I),onMouseEnter:E.props.usePointerEvent?void 0:function(b){return c(b,I)},onPointerEnter:E.props.usePointerEvent?function(b){return c(b,I)}:void 0,onMouseLeave:E.props.usePointerEvent?void 0:function(b){return d(b,I)},onPointerLeave:E.props.usePointerEvent?function(b){return d(b,I)}:void 0,key:I,"aria-current":E.isCurrentYear(I)?"date":void 0},E.getYearContent(I)))},E=this,C=m;C<=y;C++)_(C);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(k.Component);function JB(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=Ue(t)<=l),n&&c&&(c=Ue(n)>=l),c&&i.push(l)}return i}var ZB=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(y){return ee.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?ee.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),p=n.props.minDate?Ue(n.props.minDate):null,m=n.props.maxDate?Ue(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(y){return y===m}))&&d.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(y){return y===p}))&&d.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(p){return p+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:JB(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=k.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=nn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(hp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),e3=function(r){Qt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ue(t.props.minDate):1900,i=t.props.maxDate?Ue(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(ee.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ee.createElement(ZB,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),t3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],n3=function(r){var e=(r.className||"").split(/\s+/);return t3.some(function(t){return e.indexOf(t)>=0})},r3=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;n3(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=_b(n.props),p=vb(n.props),m=ot(),y=c||l||o;return y||(d&&Zo(m,d)?d:p&&qs(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Or(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ho(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ei(ot(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!cr(i,n.props))return i;for(var o=$i(i),l=kB(i),c=nj(l,o),d=null,p=0;p<=c;p++){var m=Pr(o,p);if(!cr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:qn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:ei(qn(l,En(i)),Ue(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=js(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Pr(o,c),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ee.createElement("div",{key:c,"aria-label":yt(d,"EEEE",n.props.locale),className:nn("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?CB(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?bB(i,o):xB(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:El(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=Ho(n.state.date,p),y;switch(!0){case n.props.showMonthYearPicker:y=WS(n.state.date,n.props);break;case n.props.showYearPicker:y=AB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=RB(n.state.date,n.props);break;default:y=BS(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],E=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(E.push("react-datepicker__navigation--previous--disabled"),C=void 0);var I=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,N=b.previousMonthButtonLabel,F=N===void 0?e.defaultProps.previousMonthButtonLabel:N,j=b.previousYearButtonLabel,q=j===void 0?e.defaultProps.previousYearButtonLabel:j,X=n.props,Z=X.previousMonthAriaLabel,A=Z===void 0?typeof F=="string"?F:"Previous Month":Z,D=X.previousYearAriaLabel,P=D===void 0?typeof q=="string"?q:"Previous Year":D;return ee.createElement("button",{type:"button",className:E.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":I?P:A},ee.createElement("span",{className:_.join(" ")},I?q:F))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:ji(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=HS(n.state.date,n.props);break;case n.props.showYearPicker:o=NB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=PB(n.state.date,n.props);break;default:o=$S(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,y=m.nextMonthButtonLabel,_=y===void 0?e.defaultProps.nextMonthButtonLabel:y,E=m.nextYearButtonLabel,C=E===void 0?e.defaultProps.nextYearButtonLabel:E,I=n.props,b=I.nextMonthAriaLabel,N=b===void 0?typeof _=="string"?_:"Next Month":b,F=I.nextYearAriaLabel,j=F===void 0?typeof C=="string"?C:"Next Year":F;return ee.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?j:N},ee.createElement("span",{className:c.join(" ")},p?C:_))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},yt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ee.createElement(e3,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ue(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ee.createElement(qB,Xe({},e.defaultProps,n.props,{month:En(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ee.createElement(QB,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(LS(),i),n.props.setPreSelection&&n.props.setPreSelection(LS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=BS(n.state.date,n.props),m=$S(n.state.date,n.props),y=WS(n.state.date,n.props),_=HS(n.state.date,n.props),E=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Xe(Xe({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:y,nextYearButtonDisabled:_})),E&&ee.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=As(o,p),y=m.startPeriod,_=m.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(_):Ue(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(n.state.date,d):Ho(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,y=0;y<c;++y){var _=y-m+d,E=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(p,_):Or(p,_),C="month-".concat(y),I=y<c-1,b=y>0;l.push(ee.createElement("div",{key:C,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:E,i:y}),ee.createElement(HB,Xe({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:E,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:I,monthShowsDuplicateDaysStart:b}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(XB,Xe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(GB,Xe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Pi(i)&&!!n.props.selected,l=o?"".concat(qS(i.getHours()),":").concat(qS(i.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(jB,Xe({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=As(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Ue(n.state.date):d="".concat(Z_(En(n.state.date),n.props.locale)," ").concat(Ue(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=k.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!wn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||gB;return ee.createElement(hp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement(t,{className:nn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(k.Component),i3=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):ee.isValidElement(e)?ee.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):ee.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Eb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Oo.createPortal(this.props.children,this.el)},e}(k.Component),s3="[tabindex], a, button, input, select, textarea",o3=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Tb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(s3),1,-1).filter(o3)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=k.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(k.Component);function a3(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=k.useRef(null),l=mB(Xe({open:!i,whileElementsMounted:Y4,placement:t.popperPlacement,middleware:si([eB({padding:15}),Z4(10),tB({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Xe(Xe({},t),{hidePopper:i,popperProps:Xe(Xe({},l),{arrowRef:o})});return ee.createElement(r,Xe({},c))};return e}var l3=function(r){Qt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,y=t.portalId,_=t.portalHost,E=t.popperProps,C=t.showArrow,I=void 0;if(!l){var b=nn("react-datepicker-popper",n);I=ee.createElement(Tb,{enableTabLoop:p},ee.createElement("div",{ref:E.refs.setFloating,style:E.floatingStyles,className:b,"data-placement":E.placement,onKeyDown:m},c,C&&ee.createElement(lB,{ref:E.arrowRef,context:E.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=k.createElement(this.props.popperContainer,{},I)),y&&!l&&(I=ee.createElement(Eb,{portalId:y,portalHost:_},I));var N=nn("react-datepicker-wrapper",i);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:E.refs.setReference,className:N},d),I)},e}(k.Component),u3=a3(l3),JS="react-datepicker-ignore-onclickoutside";function c3(r,e){return r&&e?En(r)!==En(e)||Ue(r)!==Ue(e):r!==e}var xg="Date input not valid.",Sb=function(r){Qt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Pi(c)?si(si([],o,!0),[Xe(Xe({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=_b(n.props),c=vb(n.props),d=l&&Zo(o,Mf(l))?l:c&&qs(o,FS(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:zS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:bg},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ui(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:d3});var p=n.props,m=p.dateFormat,y=m===void 0?e.defaultProps.dateFormat:m,_=p.strictParsing,E=_===void 0?e.defaultProps.strictParsing:_,C=p.selectsRange,I=p.startDate,b=p.endDate,N=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(C){var F=N.split("-",2).map(function(L){return L.trim()}),j=F[0],q=F[1],X=Sg(j??"",y,n.props.locale,E),Z=Sg(q??"",y,n.props.locale,E),A=(I==null?void 0:I.getTime())!==(X==null?void 0:X.getTime()),D=(b==null?void 0:b.getTime())!==(Z==null?void 0:Z.getTime());if(!A&&!D||X&&cr(X,n.props)||Z&&cr(Z,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[X,Z],d)}else{var P=Sg(N,y,n.props.locale,E,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&P&&!Qe(P,n.props.selected)&&(P=p4(n.props.selected,{hours:ci(P),minutes:di(P),seconds:Bi(P)})),(P||!N)&&n.setSelected(P,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,p=c.endDate;d&&!p&&(n.props.swapRange||!QS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&Of(Ue(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&yb(m,n.props))return}else if(m!==null&&cr(m,n.props))return;var y=n.props,_=y.onChange,E=y.selectsRange,C=y.startDate,I=y.endDate,b=y.selectsMultiple,N=y.selectedDates,F=y.minTime,j=y.swapRange;if(!Uo(n.props.selected,m)||n.props.allowSameDay||E||b)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=kg(m,{hour:ci(n.props.selected),minute:di(n.props.selected),second:Bi(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&F&&(m=kg(m,{hour:F.getHours(),minute:F.getMinutes(),second:F.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),E){var q=!C&&!I,X=C&&!I,Z=C&&I;q?_==null||_([m,null],o):X&&(m===null?_==null||_([null,null],o):QS(m,C)?j?_==null||_([m,C],o):_==null||_([m,null],o):_==null||_([C,m],o)),Z&&(_==null||_([m,null],o))}else if(b){if(m!==null)if(!(N!=null&&N.length))_==null||_([m],o);else{var A=N.some(function(P){return Qe(P,m)});if(A){var D=N.filter(function(P){return!Qe(P,m)});_==null||_(D,o)}else _==null||_(si(si([],N,!0),[m],!1),o)}}else _==null||_(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Ui(n.props.minDate),l=Ui(n.props.maxDate),c=!0;if(i){var d=Mf(i);if(o&&l)c=zu(i,n.props.minDate,n.props.maxDate);else if(o){var p=Mf(n.props.minDate);c=qs(i,p)||Uo(d,p)}else if(l){var m=FS(n.props.maxDate);c=Zo(i,m)||Uo(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:kg(c,{hour:ci(i),minute:di(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===fe.ArrowDown||y===fe.ArrowUp||y===fe.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===fe.ArrowDown||y===fe.ArrowUp){i.preventDefault();var _=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',E=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(_);E instanceof HTMLElement&&E.focus({preventScroll:!0});return}var C=ot(n.state.preSelection);y===fe.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===bg?(n.handleSelect(C,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):y===fe.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===fe.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:xg})}},n.onPortalKeyDown=function(i){var o=i.key;o===fe.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,p,m,y=n.props,_=y.minDate,E=y.maxDate,C=y.disabledKeyboardNavigation,I=y.showWeekPicker,b=y.shouldCloseOnSelect,N=y.locale,F=y.calendarStartDay,j=y.adjustDateOnChange,q=y.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!C){var X=i.key,Z=i.shiftKey,A=ot(n.state.preSelection),D=function(Ie,he){var de=he;switch(Ie){case fe.ArrowRight:de=I?lh(he,1):Pr(he,1);break;case fe.ArrowLeft:de=I?xS(he):XU(he);break;case fe.ArrowUp:de=xS(he);break;case fe.ArrowDown:de=lh(he,1);break;case fe.PageUp:de=Z?El(he,1):Ho(he,1);break;case fe.PageDown:de=Z?ji(he,1):Or(he,1);break;case fe.Home:de=js(he,N,F);break;case fe.End:de=SB(he);break}return de},P=function(Ie,he){for(var de=40,G=Ie,ce=!1,le=0,W=D(Ie,he);!ce;){if(le>=de){W=he;break}_&&W<_&&(G=fe.ArrowRight,W=cr(_,n.props)?D(G,W):_),E&&W>E&&(G=fe.ArrowLeft,W=cr(E,n.props)?D(G,W):E),cr(W,n.props)?((G===fe.PageUp||G===fe.Home)&&(G=fe.ArrowRight),(G===fe.PageDown||G===fe.End)&&(G=fe.ArrowLeft),W=D(G,W)):ce=!0,le++}return W};if(X===fe.Enter){i.preventDefault(),n.handleSelect(A,i),!b&&n.setPreSelection(A);return}else if(X===fe.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:xg});return}var L=null;switch(X){case fe.ArrowLeft:case fe.ArrowRight:case fe.ArrowUp:case fe.ArrowDown:case fe.PageUp:case fe.PageDown:case fe.Home:case fe.End:L=P(X,A);break}if(!L){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:xg});return}if(i.preventDefault(),n.setState({lastPreSelectChange:bg}),j&&n.setSelected(L),n.setPreSelection(L),q){var V=En(A),U=En(L),M=Ue(A),ke=Ue(L);V!==U||M!==ke?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===fe.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(r3,Xe({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:OB(n.modifyHolidays()),outsideClickIgnoreClass:JS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(ur(n.props.startDate,{dateFormat:p,locale:c}),". ").concat(n.props.endDate?"End date: "+ur(n.props.endDate,{dateFormat:p,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(ur(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(ur(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(ur(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(ur(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(ur(n.props.selected,{dateFormat:p,locale:c})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=nn(n.props.className,(i={},i[JS]=n.state.open,i)),d=n.props.customInput||ee.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,y=m.dateFormat,_=y===void 0?e.defaultProps.dateFormat:y,E=m.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?vB(n.props.startDate,n.props.endDate,{dateFormat:_,locale:E}):n.props.selectsMultiple?wB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:_,locale:E}):ur(n.props.selected,{dateFormat:_,locale:E});return k.cloneElement(d,(o={},o[p]=function(I){n.input=I},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=nn(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,y=i.clearButtonClassName,_=y===void 0?"":y,E=i.ariaLabelClose,C=E===void 0?"Close":E,I=i.selectedDates;return o&&(c!=null||d!=null||p!=null||I!=null&&I.length)?ee.createElement("button",{type:"button",className:nn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":C,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&c3(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:zS(this.props.highlightDates)}),!n.focused&&!Uo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(i3,Xe({icon:i,className:nn(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ee.createElement(Tb,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(Eb,Xe({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(u3,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(k.Component),d3="input",bg="navigate";const f3=r=>{const e=["th","st","nd","rd"],t=r%10,n=t>=1&&t<=3&&Math.floor(r/10)!==1?e[t]:e[0];return`${r}${n}`},ZS=r=>{const[e,t,n]=r.split("T")[0].split("-"),i=f3(Number(n)),o=new Date(`${e}-${t}`).toLocaleString("en-GB",{month:"long"});return{formattedDay:i,monthName:o,year:e}},kb=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{formattedDay:t,monthName:n,year:i}=ZS(r),{formattedDay:o,monthName:l,year:c}=ZS(e);let d=`From the ${t}`;return n===l&&i===c?d+=` to the ${o} of ${n} of ${i}`:i===c?d+=` of ${n} to the ${o} of ${l} of ${i}`:d+=` of ${n} of ${i} to the ${o} of ${l} of ${c}`,d},ek=r=>{const[e,t,n]=r.split("T")[0].split("-");return{day:n,month:t,year:e}},h3=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{day:t,month:n,year:i}=ek(r),{day:o,month:l,year:c}=ek(e);return`(${t}/${n}/${i} - ${o}/${l}/${c})`},p3=r=>{const e=r instanceof Ft?new Date(r.seconds*1e3):new Date(r);return`${e.toLocaleTimeString("en-GB")} on the ${e.toLocaleDateString("en-GB")}`},m3=({exhibitions:r,selectedExhibitionId:e,setSelectedExhibitionId:t,newExhibitionName:n,setNewExhibitionName:i,newExhibitionStartDate:o,newExhibitionEndDate:l,handleDateChange:c,handleSubmit:d,loading:p,setIsFormVisible:m,successMessage:y})=>{const _=!!e,E=()=>{if(!_){if(!n.trim())return alert("Exhibition name is required."),!1;if(!o||!l)return alert("Both start and end dates are required."),!1;if(o>l)return alert("Start date must be before the end date."),!1}return!0},C=I=>{I.preventDefault(),E()&&d(I)};return S.jsxs("form",{onSubmit:C,className:"mt-4 p-4 rounded shadow-sm",style:{background:"rgba(204, 173, 227, 0.84)"},children:[y&&S.jsx("div",{className:"alert alert-success",role:"alert",children:y}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"existingExhibition",className:"form-label fw-bold",children:"Select one of your exhibitions:"}),S.jsxs("select",{id:"existingExhibition",className:"form-select",onChange:I=>t(I.target.value),value:e||"","aria-label":"Select one of your exhibitions",children:[S.jsx("option",{value:"",children:"Select an exhibition"}),r.map(I=>S.jsxs("option",{value:I.id,children:[I.name," ",h3(I.startDate,I.endDate)]},I.id))]})]}),S.jsxs("fieldset",{disabled:_,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"newExhibitionName",className:"form-label fw-bold",children:"Create a new exhibition:"}),S.jsx("input",{type:"text",id:"newExhibitionName",className:"form-control",placeholder:"Exhibition name",value:n,onChange:I=>i(I.target.value),required:!_,"aria-required":!_})]}),S.jsx("div",{className:"mb-4",children:S.jsx(Sb,{selected:o,onChange:c,startDate:o,endDate:l,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates",required:!_})})]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{type:"submit",className:"btn btn-success",disabled:p,children:p?"Submitting...":"Add"}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),"aria-label":"Cancel and close form",children:"Cancel"})]})]})},g3=({artwork:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,loading:i}=b_(),{addToCollection:o}=KV(),[l,c]=k.useState(!1),[d,p]=k.useState(null),[m,y]=k.useState(""),[_,E]=k.useState(null),[C,I]=k.useState(null),[b,N]=k.useState(null),[F,j]=k.useState(null),[q,X]=k.useState(!1),Z=()=>{c(!0),j(null)},A=(V,U)=>(console.error("Firestore Error:",V),V.message||U),D=async V=>{V.preventDefault(),N(null);const U=Vo.currentUser;if(!U){N("User is not authenticated.");return}try{if(d)await n(d,r);else if(m&&_&&C){const M=new Date(_).toISOString(),ke=new Date(C).toISOString(),Ie={name:m,startDate:M,endDate:ke,artworks:[r],userId:U.uid,createdAt:new Date};await t(Ie)}else{N("Please fill in all the required fields.");return}c(!1),y(""),E(null),I(null),p(null),j("Artwork added to the exhibition successfully!"),setTimeout(()=>j(null),5e3)}catch(M){const ke=A(M,"An unexpected error occurred. Please try again.");N(ke)}},P=V=>{const[U,M]=V;E(U),I(M)},L=async()=>{try{await o(r),j("Artwork added to the collection successfully!"),setTimeout(()=>j(null),5e3)}catch{N("Error adding artwork to collection.")}};return S.jsxs("div",{children:[b&&S.jsx("div",{className:"alert alert-danger",children:b}),S.jsxs(Ns,{to:`/artwork/${r.id}`,className:"text-decoration-none text-reset d-block h-100",style:{textDecoration:"none"},children:[S.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:r.title}),r.imageUrl&&S.jsx("img",{src:r.imageUrl,alt:`Artwork titled "${r.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),S.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",S.jsx("strong",{children:r.artist_title})," in ",r.date]}),S.jsx("p",{className:"mb-2",children:r.medium_display})]}),S.jsx("button",{onClick:Z,onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),className:"btn",style:{backgroundColor:q?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)",color:"white",border:"none",transition:"background-color 0.3s ease"},children:"Add to an Exhibition"}),S.jsx("button",{onClick:L,disabled:!d,onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),className:"btn mt-3",style:{backgroundColor:q?"rgba(0, 123, 255, 0.9)":"rgba(0, 99, 204, 0.84)",color:"white",border:"none",transition:"background-color 0.3s ease"},children:"Add to Collection"}),l&&S.jsx(m3,{exhibitions:e,selectedExhibitionId:d,setSelectedExhibitionId:p,newExhibitionName:m,setNewExhibitionName:y,newExhibitionStartDate:_,newExhibitionEndDate:C,handleDateChange:P,handleSubmit:D,loading:i,setIsFormVisible:c,successMessage:F}),b&&S.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:b}),!b&&F&&S.jsx("div",{className:"alert alert-success mt-3",role:"alert",style:{maxWidth:"400px",margin:"0 auto"},children:F})]})},y3=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},i=()=>{r<e&&t(r+1)},o=()=>t(1),l=()=>t(e),c=()=>{const d=[];for(let p=Math.max(1,r-1);p<=Math.min(e,r+1);p++)d.push(S.jsx("li",{className:`page-item ${p===r?"active":""}`,children:S.jsx("button",{className:"page-link",onClick:()=>t(p),disabled:p===r,children:p})},p));return d};return S.jsx("nav",{"aria-label":"Pagination",className:"my-4",children:S.jsxs("ul",{className:"pagination justify-content-center",children:[S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:o,disabled:r===1,children:"First"})}),S.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:n,disabled:r===1,children:" Previous"})}),c(),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:i,disabled:r===e,children:"Next "})}),S.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:S.jsx("button",{className:"page-link",onClick:l,disabled:r===e,children:"Last"})})]})})},_3=({sortOption:r,sortDirection:e})=>{const{artworks:t}=I_(),[n,i]=k.useState(1),o=10,l=[...t].sort((y,_)=>r==="artist"?e.artist==="asc"?y.artist_title.localeCompare(_.artist_title):_.artist_title.localeCompare(y.artist_title):r==="title"?e.title==="asc"?y.title.localeCompare(_.title):_.title.localeCompare(y.title):r==="date"?e.date==="asc"?new Date(y.date).getTime()-new Date(_.date).getTime():new Date(_.date).getTime()-new Date(y.date).getTime():0),c=n*o,d=c-o,p=l.slice(d,c),m=Math.ceil(t.length/o);return S.jsxs("div",{className:"container my-4",children:[p.length>0?S.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:p.map(y=>S.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.transform="scale(1.03)"},onMouseLeave:_=>{_.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${y.title}`,tabIndex:0,onKeyDown:_=>{_.key==="Enter"&&(window.location.href=`/artwork/${y.id}`)},children:S.jsx(g3,{artwork:y})},y.id))}):S.jsx("p",{children:"Start your search here "}),m>1&&S.jsxs(S.Fragment,{children:[S.jsx(y3,{currentPage:n,totalPages:m,onPageChange:i}),S.jsx("div",{className:"text-center mt-2",children:S.jsxs("small",{className:"text-muted",children:["Page ",n," of ",m]})})]})]})},Ig=()=>{const{museumName:r}=by(),{query:e,setQuery:t}=Ay(),{type:n,setType:i}=vk(),{setSelectedMuseum:o}=kh(),[l,c]=k.useState(""),[d,p]=k.useState("artist"),[m,y]=k.useState({artist:"asc",title:"asc",date:"asc"}),{collectionState:_,loadingCollection:E,searchCollection:C}=zV(e,n);k.useEffect(()=>{r&&c({met:"The Metropolitan Museum of Art",chicago:"The Art Institute of Chicago"}[r]||"")},[r]);const{loading:I,error:b,setArtworks:N}=HV(r||"",e,n);return k.useEffect(()=>{r?(t(""),i("artist"),N([]),o(r)):N([])},[t,i,N,o,r]),k.useEffect(()=>{C()},[e,n,C]),S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center mb-5 fs-1 py-5",children:l||"Collection"}),S.jsx(qV,{sortOption:d,setSortOption:p,sortDirection:m,setSortDirection:y}),I||E&&S.jsx("div",{className:"text-center mt-3",children:"Loading..."}),b&&S.jsxs("div",{className:"alert alert-danger mt-3",children:["Error: ",b]}),S.jsx(_3,{sortOption:d,sortDirection:m})]})},v3=()=>{const{exhibitions:r,loading:e}=b_(),t=pc();return k.useEffect(()=>{Vo.currentUser||t("/login")},[t]),e?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):S.jsxs("div",{className:"container my-5",children:[S.jsx("h1",{className:"text-center fs-1 mb-4",children:"Exhibitions"}),r.length>0?S.jsx("div",{className:"row g-4",children:r.map(n=>S.jsx("div",{className:"col-md-6 col-lg-4",children:S.jsx(Ns,{to:`/exhibition/${n.id}`,className:"btn btn-outline-secondary mt-3","aria-label":`Manage exhibition ${n.name}`,children:S.jsx("div",{className:"card h-100 shadow-sm",children:S.jsxs("div",{className:"card-body d-flex flex-column",children:[S.jsx("h2",{className:"card-title text-decoration-underline text-center py-3 fs-2",children:n.name}),S.jsx("p",{className:"card-text text-center text-muted",children:kb(n.startDate,n.endDate)}),S.jsx("img",{src:n.image,alt:`Exhibition titled "${n.name}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),S.jsxs("ul",{className:"list-group list-group-flush",children:[S.jsx("h5",{className:"text-decoration-underline",children:"What you will be seeing:"}),n.artworks.map(i=>S.jsx("li",{className:"list-group-item justify-content-between mb-3",children:S.jsx("div",{children:S.jsxs("span",{className:"ms-2 d-block",children:['"',i.title,'" by ',S.jsx("i",{children:i.artist_title})]})})},i.id))]}),S.jsxs("p",{className:"card-text text-center text-muted",children:["Created at ",p3(n.createdAt)]})]})})})},n.id))}):S.jsx("p",{className:"text-center",children:"No exhibitions found."})]})},w3=()=>{const{login:r,loading:e}=Ic(),[t,n]=k.useState(""),[i,o]=k.useState(""),[l,c]=k.useState(null),d=m=>{switch(m.code){case"auth/user-not-found":return{field:"email",message:"No user found with this email."};case"auth/wrong-password":return{field:"password",message:"Incorrect password. Please try again."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};case"auth/user-disabled":return{field:"form",message:"This user account has been disabled."};default:return{field:"form",message:"Failed to login. Please try again later."}}},p=async m=>{m.preventDefault(),c(null);try{await r(t,i)}catch(y){y instanceof Vr?c(d(y)):c({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to login:",y)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Login"}),l&&l.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:l.message}),S.jsxs("form",{onSubmit:p,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(l==null?void 0:l.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:m=>n(m.target.value),required:!0}),(l==null?void 0:l.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(l==null?void 0:l.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:m=>o(m.target.value),required:!0}),(l==null?void 0:l.field)==="password"&&S.jsx("div",{className:"invalid-feedback",children:l.message})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Logging in...":"Login"})]})]})})})},E3=()=>{const{register:r,loading:e}=Ic(),[t,n]=k.useState(""),[i,o]=k.useState(""),[l,c]=k.useState(""),[d,p]=k.useState(""),[m,y]=k.useState(null),_=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),E=N=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(N),C=N=>/^[A-Za-z- ]+$/.test(N),I=N=>{switch(N.code){case"auth/email-already-in-use":return{field:"email",message:"This email is already in use. Please use a different email."};case"auth/weak-password":return{field:"password",message:"The password is too weak."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};default:return{field:"form",message:"Failed to register. Please try again later."}}},b=async N=>{if(N.preventDefault(),y(null),!l||!d){y({field:"name",message:"Please provide both first name and last name."});return}if(!C(l)||!C(d)){y({field:"name",message:"First name and last name can only contain letters, hyphens, and spaces."});return}if(!_(t)){y({field:"email",message:"Please enter a valid email address."});return}if(!E(i)){y({field:"password",message:"Password must include: <ul><li>At least 8 characters</li><li>One uppercase letter</li><li>One lowercase letter</li><li>One number</li></ul>"});return}try{await r(t,i,l,d)}catch(F){F instanceof Vr?y(I(F)):y({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to register:",F)}};return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[S.jsx("h2",{className:"text-center mb-4 fs-1",children:"Register"}),m&&m.field==="form"&&S.jsx("div",{className:"alert alert-danger",children:m.message}),S.jsxs("form",{onSubmit:b,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),S.jsx("input",{type:"text",id:"firstName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your first name",value:l,onChange:N=>c(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),S.jsx("input",{type:"text",id:"lastName",className:`form-control ${(m==null?void 0:m.field)==="name"?"is-invalid":""}`,placeholder:"Enter your last name",value:d,onChange:N=>p(N.target.value),required:!0}),(m==null?void 0:m.field)==="name"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),S.jsx("input",{type:"email",id:"email",className:`form-control ${(m==null?void 0:m.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:N=>n(N.target.value),required:!0}),(m==null?void 0:m.field)==="email"&&S.jsx("div",{className:"invalid-feedback",children:m.message})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:`form-control ${(m==null?void 0:m.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:N=>o(N.target.value),required:!0}),(m==null?void 0:m.field)==="password"&&S.jsx("div",{className:"invalid-feedback",dangerouslySetInnerHTML:{__html:m.message}})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Registering...":"Register"})]})]})})})},T3=()=>{const[r,e]=k.useState(!0);return S.jsx("div",{className:"container my-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-sm-10 col-md-6 col-lg-5",children:[S.jsx("h1",{className:"text-center mb-4",children:"Welcome to ArtVoyage"}),S.jsxs("div",{className:"d-flex justify-content-center mb-4",role:"group","aria-label":"Login and Register options",children:[S.jsx("button",{className:`btn custom-btn ${r?"active-btn":"inactive-btn"} me-2`,onClick:()=>e(!0),"aria-pressed":r,children:"Login"}),S.jsx("button",{className:`btn custom-btn ${r?"inactive-btn":"active-btn"}`,onClick:()=>e(!1),"aria-pressed":!r,children:"Register"})]}),S.jsx("div",{className:"card authcard shadow",children:S.jsx("div",{className:"card-body",children:r?S.jsxs("div",{children:[S.jsx(w3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!1),role:"button","aria-label":"Go to Register form",children:"Register here."})]})]}):S.jsxs("div",{children:[S.jsx(E3,{}),S.jsxs("p",{className:"text-center mt-3",children:["Already have an account?"," ",S.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!0),role:"button","aria-label":"Go to Login form",children:"Login here."})]})]})})})]})})})},S3=async r=>{try{return(await ft.get("/.netlify/functions/fetchMetSingleArtworkDetails",{params:{id:r}})).data.map(i=>{const o=i.artistDisplayName||"an unknown Artist",l=i.artistNationality||"Unknown nationality",c=i.objectDate||"an undetermined time",d=i.medium||"an artistic medium",p=i.dimensions||"unknown dimensions",m=i.classification||"an extraordinary artwork",y=i.department||"an unspecified department",_=i.objectURL||"https://www.metmuseum.org/art/collection",E=i.creditLine||"an anonymous donor",C=i.period||"an unspecified period",I=i.geographyType||"a broad location",b=i.city||"an unknown city",N=i.country||"an unknown country",F=p.match(/\(([^)]+)\)/),j=F?F[1]:p,q=`<p>${i.title} is a ${m.toLowerCase()} by ${o} (${l}). Created in ${c}, this ${d} artwork measures approximately <i>${j}</i>. It is part of the ${y} department at the Metropolitan Museum of Art. This work belongs to the period of <em>${C}</em>, and its geographical origins are linked to <em>${I}</em>, with specific ties to <em>${b}</em>, ${N}. The artwork is credited to ${E}. Learn more about this artwork <a href="${_}" target="_blank" rel="noopener noreferrer">here</a></p>`;return{id:i.objectID,title:i.title,artist_title:i.artistDisplayName,artist_bio:i.artistDisplayBio,date:i.objectDate,medium_display:i.medium,imageUrl:i.primaryImage||"",source:"The Metropolitan Museum of Art",objectUrl:i.objectURL,description:q}})}catch(e){throw e}},k3="https://www.artic.edu/iiif/2",C3=async r=>{try{const e=await ft.get("https://api.artic.edu/api/v1/artworks/"+r,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description"}});if(e.data&&e.data.data){const t=e.data.data,n=t.image_id?`${k3}/${t.image_id}/full/843,/0/default.jpg`:"",i=t.artist_display.match(/\(([^)]+)\)/),o=i?i[1]:null;return[{id:t.id,title:t.title,artist_title:t.artist_title,artist_bio:o,date:t.date_display,medium_display:t.medium_display,imageUrl:n||"",source:"The Chicago Art Institute",objectUrl:"https://www.artic.edu/collection",description:t.description}]}else throw console.error("Artwork not found."),new Error("Artwork not found.")}catch(e){throw ft.isAxiosError(e)?new Error(`Axios error fetching artwork from Chicago: ${e.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${e.message}`)}},x3=(r,e)=>{const[t,n]=k.useState(null),[i,o]=k.useState(!1),[l,c]=k.useState(null);return k.useEffect(()=>{if(!e){c("No artwork ID provided.");return}(async()=>{var p,m;o(!0),c(null);try{const y=r==="met"?await S3(e):await C3(e);n(y[0])}catch(y){c(((m=(p=y.response)==null?void 0:p.data)==null?void 0:m.error)||"Error fetching the artwork.")}finally{o(!1)}})()},[e,r]),{artwork:t,loading:i,error:l}},b3=()=>{const{selectedMuseum:r}=kh(),{id:e}=by(),{artwork:t,loading:n,error:i}=x3(r,e);return S.jsxs("div",{className:"container my-5",children:[n&&S.jsx("div",{children:"Loading..."}),i&&S.jsxs("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:["Error fetching artwork: ",i]}),!n&&!i&&!t&&S.jsx("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:"Artwork not found. Please check the ID or return to the home page."}),t&&S.jsx("div",{className:"row justify-content-center",children:S.jsx("div",{className:"col-lg-8",children:S.jsx("div",{className:"card shadow-lg rounded-3",children:S.jsxs("div",{className:"card-body",children:[S.jsx("div",{className:"artwork-image-container mb-4",children:S.jsx("img",{src:t.imageUrl,alt:`Artwork titled "${t.title}" by ${t.artist_title}`,className:"img-fluid rounded-3 shadow-lg"})}),S.jsx("h2",{className:"text-center mb-3",children:t.title}),S.jsxs("p",{className:"text-muted text-center",children:[S.jsx("strong",{children:t.artist_title}),t.artist_bio&&S.jsxs("span",{children:[" (",t.artist_bio,")"]})]}),S.jsxs("p",{className:"text-center text-muted",children:["Created in ",t.date]}),S.jsx("p",{className:"font-weight-bold",children:t.medium_display}),t.description&&S.jsx("div",{dangerouslySetInnerHTML:{__html:t.description}}),S.jsxs("div",{className:"text-center mt-4",children:[S.jsx("a",{href:t.objectUrl,className:"btn btn-outline-secondary btn-lg mx-2",target:"_blank",rel:"noopener noreferrer",children:"View on Source"}),S.jsx("button",{className:"btn btn-outline-primary btn-lg mx-2",onClick:()=>window.history.back(),children:"Go Back"})]})]})})})})]})},I3=({show:r,handleClose:e,handleDelete:t,entityType:n,entityId:i})=>{const o=n==="artwork"?"artwork":"exhibition";return S.jsxs(vn,{show:r,onHide:e,"aria-labelledby":"deleteModalLabel",children:[S.jsx(vn.Header,{closeButton:!0,children:S.jsxs(vn.Title,{id:"deleteModalLabel",children:["Confirm ",o.charAt(0).toUpperCase()+o.slice(1)," ","Deletion"]})}),S.jsx(vn.Body,{children:S.jsxs("p",{children:["Are you sure you want to delete this ",o,"?"]})}),S.jsxs(vn.Footer,{children:[S.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{className:"btn btn-danger",onClick:()=>{i&&t(i),e()},children:"Confirm"})]})]})},D3=({show:r,handleClose:e,handleEditExhibition:t,exhibition:n})=>{const[i,o]=k.useState(""),[l,c]=k.useState(null),[d,p]=k.useState(null),m=_=>{const[E,C]=_;c(E),p(C)};k.useEffect(()=>{if(n){o(n.name);const _=n.startDate?new Date(n.startDate):null,E=n.endDate?new Date(n.endDate):null;c(_),p(E)}},[n]);const y=()=>{if(!i){alert("Exhibition name is required.");return}if(!l||!d){alert("Both start and end dates are required.");return}if(l&&d&&l>d){alert("Start date must be before the end date.");return}const _=new Date(l).toISOString(),E=new Date(d).toISOString();n&&(t(n.id,{name:i,startDate:_,endDate:E}),e())};return!r||!n?null:S.jsx("div",{className:"modal show d-block",children:S.jsx("div",{className:"modal-dialog",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:"Edit Exhibition"}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsxs("div",{className:"modal-body",children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"exhibition-name",className:"form-label",children:"Name"}),S.jsx("input",{type:"text",id:"exhibition-name",className:"form-control",value:i,onChange:_=>o(_.target.value)})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"newExhibitionDates",className:"form-label",children:"Exhibition Dates:"}),S.jsx("br",{}),S.jsx(Sb,{selected:l,onChange:m,startDate:l,endDate:d,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates"})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),S.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Save Changes"})]})]})})})},R3=({exhibition:r,handleDeleteExhibition:e,handleDeleteArtwork:t,handleEditExhibition:n})=>{const{setSelectedMuseum:i}=kh(),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[p,m]=k.useState(null),[y,_]=k.useState(null),[E,C]=k.useState(null),I=kb(r.startDate,r.endDate),b=Z=>{i(Z==="The Metropolitan Museum of Art"?"met":"chicago")},N=(Z,A)=>{_(Z),C(A),l(!0)},F=()=>{l(!1),_(null),C(null)},j=Z=>{m(Z),d(!0)},q=()=>{d(!1),m(null)},X=()=>{y==="artwork"&&typeof E=="number"&&E!==null?t(r.id,E):y==="exhibition"&&typeof E=="string"&&e(E)};return S.jsxs("div",{className:"container py-5",children:[S.jsx("div",{className:"row mb-4",children:S.jsxs("div",{className:"col-12 text-center text-white py-3",style:{background:"rgba(47, 21, 68, 0.84)"},children:[S.jsx("h1",{children:r.name}),S.jsx("p",{children:I})]})}),S.jsxs("div",{className:"row",children:[r.artworks.map(Z=>S.jsx("div",{className:"col-md-4 col-lg-3 mb-4",children:S.jsx(Ns,{to:`/artwork/${Z.id}`,className:"btn btn-outline-secondary w-100","aria-label":`View details for artwork titled ${Z.title}`,onClick:()=>b(Z.source),children:S.jsxs("div",{className:"card h-100 align-center",children:[Z.imageUrl&&S.jsx("img",{src:Z.imageUrl,alt:`Artwork titled "${Z.title}"`,className:"card-img-top",style:{objectFit:"cover",height:"200px"}}),S.jsxs("div",{className:"card-body d-flex flex-column",children:[S.jsx("h5",{className:"card-title text-center bg-light py-2 rounded",children:Z.title}),S.jsxs("p",{className:"card-text text-muted text-center",children:[S.jsx("strong",{children:"Artist:"})," ",S.jsx("i",{children:Z.artist_title})]}),S.jsxs("p",{className:"card-text text-center bg-light py-1 rounded",children:[S.jsx("strong",{children:"Medium:"})," ",Z.medium_display]}),S.jsx("div",{className:"d-flex justify-content-center mt-auto",children:S.jsx("button",{onClick:()=>N("artwork",Z.id.toString()),className:"btn btn-outline-danger btn-sm","aria-label":`Delete artwork titled ${Z.title} from exhibition ${r.name}`,children:"Delete Artwork"})})]})]})})},Z.id)),S.jsx("div",{className:"col-12 mb-4",children:S.jsx("div",{className:"card p-4",style:{background:"rgba(117, 92, 176, 0.84)"},children:S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{onClick:()=>j(r),className:"btn btn-warning btn-lg","aria-label":`Edit exhibition ${r.name}`,children:"Edit Exhibition"}),S.jsx("button",{onClick:()=>N("exhibition",r.id),className:"btn btn-danger btn-lg","aria-label":`Delete exhibition ${r.name}`,children:"Delete Exhibition"})]})})})]}),S.jsx(D3,{show:c,handleClose:q,handleEditExhibition:n,exhibition:p}),S.jsx(I3,{show:o,handleClose:F,handleDelete:X,entityType:y??"artwork",entityId:(E==null?void 0:E.toString())??""})]})},P3=()=>{const{exhibitionId:r}=by(),{exhibitions:e,loading:t,editExhibition:n,deleteArtworkFromExhibition:i,deleteExhibition:o}=b_(),[l,c]=k.useState(null),[d,p]=k.useState(null),[m,y]=k.useState(null),_=pc(),E=(F,j)=>(console.error("Firestore Error:",F),F.message||j);k.useEffect(()=>{if(r){const F=e.find(j=>j.id===r);F?c(F):_("/exhibitions")}},[r,e,_]);const C=()=>{_("/search")},I=k.useCallback(async(F,j)=>{try{await n(F,j),p("Exhibition edited successfully.")}catch(q){const X=E(q,"Failed to edit the exhibition");y(X)}},[n]),b=k.useCallback(async F=>{try{await o(F),p("Exhibition deleted successfully.")}catch(j){const q=E(j,"Failed to delete the exhibition.");y(q)}},[o]),N=k.useCallback(async(F,j)=>{try{await i(F,j),p("Artwork deleted successfully.")}catch(q){const X=E(q,"Failed to delete the artwork.");y(X)}},[i]);return k.useEffect(()=>{if(d){const F=setTimeout(()=>{p(null)},3e3);return()=>clearTimeout(F)}},[d]),t?S.jsx("div",{className:"text-center my-5",children:"Loading..."}):m?S.jsx("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:m}):l?S.jsxs(S.Fragment,{children:[S.jsx(R3,{exhibition:l,handleDeleteExhibition:b,handleDeleteArtwork:N,handleEditExhibition:I}),S.jsx("div",{className:"col-12 mb-5",children:S.jsxs("div",{className:"text-center",children:[S.jsx("button",{onClick:C,className:"btn btn-outline-primary btn-lg mx-2","aria-label":"Add new artwork to the exhibition",style:{maxWidth:"200px"},children:"Add Artwork"}),S.jsx("button",{className:"btn btn-outline-secondary btn-lg mx-2",onClick:()=>window.history.back(),"aria-label":"Go back to the previous page",style:{maxWidth:"200px"},children:"Go Back"})]})})]}):S.jsx("div",{className:"text-center my-5",children:"Exhibition not found."})},A3=()=>{const{user:r}=Ic();return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"app-background vh-100 position-fixed top-0 left-0 w-100"}),S.jsxs("div",{className:"container-fluid d-flex flex-column vh-100",children:[r&&S.jsx(CL,{}),S.jsx("div",{className:"flex-grow-1",children:S.jsx(ID,{children:r?S.jsxs(S.Fragment,{children:[S.jsx(lr,{path:"/search",element:S.jsx(xL,{})}),S.jsx(lr,{path:"/profile",element:S.jsx(cF,{user:r})}),S.jsx(lr,{path:"/artwork/:id",element:S.jsx(b3,{})}),S.jsx(lr,{path:"/museum/:museumName",element:S.jsx(Ig,{})}),S.jsx(lr,{path:"/museum/:museumName",element:S.jsx(Ig,{})}),S.jsx(lr,{path:"/collection",element:S.jsx(Ig,{})}),S.jsx(lr,{path:"/exhibitions",element:S.jsx(v3,{})}),S.jsx(lr,{path:"/exhibition/:exhibitionId",element:S.jsx(P3,{})}),S.jsx(lr,{path:"*",element:S.jsx(EE,{to:"/home"})})]}):S.jsxs(S.Fragment,{children:[S.jsx(lr,{path:"/auth",element:S.jsx(T3,{})}),S.jsx(lr,{path:"*",element:S.jsx(EE,{to:"/auth"})})]})})})]})]})},N3=()=>S.jsx(kL,{children:S.jsx(JD,{children:S.jsx(A3,{})})});VI.createRoot(document.getElementById("root")).render(S.jsx(k.StrictMode,{children:S.jsx(N3,{})}));
