var OI=Object.defineProperty;var MI=(r,e,t)=>e in r?OI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ae=(r,e,t)=>MI(r,typeof e!="symbol"?e+"":e,t);function LI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function pm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sy={exports:{}},Ld={},oy={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function FI(){if(AE)return lt;AE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function D(Y,ue,ke){this.props=Y,this.context=ue,this.refs=A,this.updater=ke||S}D.prototype.isReactComponent={},D.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},D.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=D.prototype;function j(Y,ue,ke){this.props=Y,this.context=ue,this.refs=A,this.updater=ke||S}var W=j.prototype=new M;W.constructor=j,C(W,D.prototype),W.isPureReactComponent=!0;var Z=Array.isArray,ee=Object.prototype.hasOwnProperty,le={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function N(Y,ue,ke){var Be,Ke={},Qe=null,st=null;if(ue!=null)for(Be in ue.ref!==void 0&&(st=ue.ref),ue.key!==void 0&&(Qe=""+ue.key),ue)ee.call(ue,Be)&&!F.hasOwnProperty(Be)&&(Ke[Be]=ue[Be]);var ye=arguments.length-2;if(ye===1)Ke.children=ke;else if(1<ye){for(var ct=Array(ye),$t=0;$t<ye;$t++)ct[$t]=arguments[$t+2];Ke.children=ct}if(Y&&Y.defaultProps)for(Be in ye=Y.defaultProps,ye)Ke[Be]===void 0&&(Ke[Be]=ye[Be]);return{$$typeof:r,type:Y,key:Qe,ref:st,props:Ke,_owner:le.current}}function L(Y,ue){return{$$typeof:r,type:Y.type,key:ue,ref:Y.ref,props:Y.props,_owner:Y._owner}}function U(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function $(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ke){return ue[ke]})}var H=/\/+/g;function V(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):ue.toString(36)}function Ue(Y,ue,ke,Be,Ke){var Qe=typeof Y;(Qe==="undefined"||Qe==="boolean")&&(Y=null);var st=!1;if(Y===null)st=!0;else switch(Qe){case"string":case"number":st=!0;break;case"object":switch(Y.$$typeof){case r:case e:st=!0}}if(st)return st=Y,Ke=Ke(st),Y=Be===""?"."+V(st,0):Be,Z(Ke)?(ke="",Y!=null&&(ke=Y.replace(H,"$&/")+"/"),Ue(Ke,ue,ke,"",function($t){return $t})):Ke!=null&&(U(Ke)&&(Ke=L(Ke,ke+(!Ke.key||st&&st.key===Ke.key?"":(""+Ke.key).replace(H,"$&/")+"/")+Y)),ue.push(Ke)),1;if(st=0,Be=Be===""?".":Be+":",Z(Y))for(var ye=0;ye<Y.length;ye++){Qe=Y[ye];var ct=Be+V(Qe,ye);st+=Ue(Qe,ue,ke,ct,Ke)}else if(ct=v(Y),typeof ct=="function")for(Y=ct.call(Y),ye=0;!(Qe=Y.next()).done;)Qe=Qe.value,ct=Be+V(Qe,ye++),st+=Ue(Qe,ue,ke,ct,Ke);else if(Qe==="object")throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return st}function Le(Y,ue,ke){if(Y==null)return Y;var Be=[],Ke=0;return Ue(Y,Be,"","",function(Qe){return ue.call(ke,Qe,Ke++)}),Be}function we(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(ke){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ke)},function(ke){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ke)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var Ee={current:null},ie={transition:null},be={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ie,ReactCurrentOwner:le};function Q(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Le,forEach:function(Y,ue,ke){Le(Y,function(){ue.apply(this,arguments)},ke)},count:function(Y){var ue=0;return Le(Y,function(){ue++}),ue},toArray:function(Y){return Le(Y,function(ue){return ue})||[]},only:function(Y){if(!U(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},lt.Component=D,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=j,lt.StrictMode=n,lt.Suspense=d,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,lt.act=Q,lt.cloneElement=function(Y,ue,ke){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Be=C({},Y.props),Ke=Y.key,Qe=Y.ref,st=Y._owner;if(ue!=null){if(ue.ref!==void 0&&(Qe=ue.ref,st=le.current),ue.key!==void 0&&(Ke=""+ue.key),Y.type&&Y.type.defaultProps)var ye=Y.type.defaultProps;for(ct in ue)ee.call(ue,ct)&&!F.hasOwnProperty(ct)&&(Be[ct]=ue[ct]===void 0&&ye!==void 0?ye[ct]:ue[ct])}var ct=arguments.length-2;if(ct===1)Be.children=ke;else if(1<ct){ye=Array(ct);for(var $t=0;$t<ct;$t++)ye[$t]=arguments[$t+2];Be.children=ye}return{$$typeof:r,type:Y.type,key:Ke,ref:Qe,props:Be,_owner:st}},lt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},lt.createElement=N,lt.createFactory=function(Y){var ue=N.bind(null,Y);return ue.type=Y,ue},lt.createRef=function(){return{current:null}},lt.forwardRef=function(Y){return{$$typeof:u,render:Y}},lt.isValidElement=U,lt.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:we}},lt.memo=function(Y,ue){return{$$typeof:h,type:Y,compare:ue===void 0?null:ue}},lt.startTransition=function(Y){var ue=ie.transition;ie.transition={};try{Y()}finally{ie.transition=ue}},lt.unstable_act=Q,lt.useCallback=function(Y,ue){return Ee.current.useCallback(Y,ue)},lt.useContext=function(Y){return Ee.current.useContext(Y)},lt.useDebugValue=function(){},lt.useDeferredValue=function(Y){return Ee.current.useDeferredValue(Y)},lt.useEffect=function(Y,ue){return Ee.current.useEffect(Y,ue)},lt.useId=function(){return Ee.current.useId()},lt.useImperativeHandle=function(Y,ue,ke){return Ee.current.useImperativeHandle(Y,ue,ke)},lt.useInsertionEffect=function(Y,ue){return Ee.current.useInsertionEffect(Y,ue)},lt.useLayoutEffect=function(Y,ue){return Ee.current.useLayoutEffect(Y,ue)},lt.useMemo=function(Y,ue){return Ee.current.useMemo(Y,ue)},lt.useReducer=function(Y,ue,ke){return Ee.current.useReducer(Y,ue,ke)},lt.useRef=function(Y){return Ee.current.useRef(Y)},lt.useState=function(Y){return Ee.current.useState(Y)},lt.useSyncExternalStore=function(Y,ue,ke){return Ee.current.useSyncExternalStore(Y,ue,ke)},lt.useTransition=function(){return Ee.current.useTransition()},lt.version="18.3.1",lt}var PE;function V_(){return PE||(PE=1,oy.exports=FI()),oy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function VI(){if(NE)return Ld;NE=1;var r=V_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var g,_={},v=null,S=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(_[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:u,key:v,ref:S,props:_,_owner:i.current}}return Ld.Fragment=t,Ld.jsx=l,Ld.jsxs=l,Ld}var OE;function jI(){return OE||(OE=1,sy.exports=VI()),sy.exports}var k=jI(),x=V_();const ae=pm(x),UI=LI({__proto__:null,default:ae},[x]);var Bh={},ay={exports:{}},si={},ly={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function BI(){return ME||(ME=1,function(r){function e(ie,be){var Q=ie.length;ie.push(be);e:for(;0<Q;){var Y=Q-1>>>1,ue=ie[Y];if(0<i(ue,be))ie[Y]=be,ie[Q]=ue,Q=Y;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var be=ie[0],Q=ie.pop();if(Q!==be){ie[0]=Q;e:for(var Y=0,ue=ie.length,ke=ue>>>1;Y<ke;){var Be=2*(Y+1)-1,Ke=ie[Be],Qe=Be+1,st=ie[Qe];if(0>i(Ke,Q))Qe<ue&&0>i(st,Ke)?(ie[Y]=st,ie[Qe]=Q,Y=Qe):(ie[Y]=Ke,ie[Be]=Q,Y=Be);else if(Qe<ue&&0>i(st,Q))ie[Y]=st,ie[Qe]=Q,Y=Qe;else break e}}return be}function i(ie,be){var Q=ie.sortIndex-be.sortIndex;return Q!==0?Q:ie.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],h=[],g=1,_=null,v=3,S=!1,C=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ie){for(var be=t(h);be!==null;){if(be.callback===null)n(h);else if(be.startTime<=ie)n(h),be.sortIndex=be.expirationTime,e(d,be);else break;be=t(h)}}function Z(ie){if(A=!1,W(ie),!C)if(t(d)!==null)C=!0,we(ee);else{var be=t(h);be!==null&&Ee(Z,be.startTime-ie)}}function ee(ie,be){C=!1,A&&(A=!1,M(N),N=-1),S=!0;var Q=v;try{for(W(be),_=t(d);_!==null&&(!(_.expirationTime>be)||ie&&!$());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,v=_.priorityLevel;var ue=Y(_.expirationTime<=be);be=r.unstable_now(),typeof ue=="function"?_.callback=ue:_===t(d)&&n(d),W(be)}else n(d);_=t(d)}if(_!==null)var ke=!0;else{var Be=t(h);Be!==null&&Ee(Z,Be.startTime-be),ke=!1}return ke}finally{_=null,v=Q,S=!1}}var le=!1,F=null,N=-1,L=5,U=-1;function $(){return!(r.unstable_now()-U<L)}function H(){if(F!==null){var ie=r.unstable_now();U=ie;var be=!0;try{be=F(!0,ie)}finally{be?V():(le=!1,F=null)}}else le=!1}var V;if(typeof j=="function")V=function(){j(H)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Le=Ue.port2;Ue.port1.onmessage=H,V=function(){Le.postMessage(null)}}else V=function(){D(H,0)};function we(ie){F=ie,le||(le=!0,V())}function Ee(ie,be){N=D(function(){ie(r.unstable_now())},be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){C||S||(C=!0,we(ee))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var be=3;break;default:be=v}var Q=v;v=be;try{return ie()}finally{v=Q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,be){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Q=v;v=ie;try{return be()}finally{v=Q}},r.unstable_scheduleCallback=function(ie,be,Q){var Y=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,ie){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Q+ue,ie={id:g++,callback:be,priorityLevel:ie,startTime:Q,expirationTime:ue,sortIndex:-1},Q>Y?(ie.sortIndex=Q,e(h,ie),t(d)===null&&ie===t(h)&&(A?(M(N),N=-1):A=!0,Ee(Z,Q-Y))):(ie.sortIndex=ue,e(d,ie),C||S||(C=!0,we(ee))),ie},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(ie){var be=v;return function(){var Q=v;v=be;try{return ie.apply(this,arguments)}finally{v=Q}}}}(uy)),uy}var LE;function $I(){return LE||(LE=1,ly.exports=BI()),ly.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function WI(){if(FE)return si;FE=1;var r=V_(),e=$I();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function v(s){return d.call(_,s)?!0:d.call(g,s)?!1:h.test(s)?_[s]=!0:(g[s]=!0,!1)}function S(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,c,p){if(a===null||typeof a>"u"||S(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,c,p,y,E,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=R}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];D[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(M,j);D[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(M,j);D[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(M,j);D[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,a,c,p){var y=D.hasOwnProperty(a)?D[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,c,y,p)&&(c=null),p||y===null?v(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),le=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ie=Symbol.iterator;function be(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,Y;function ue(s){if(Y===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Y=a&&a[1]||""}return`
`+Y+s}var ke=!1;function Be(s,a){if(!s||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var p=ne}Reflect.construct(s,[],a)}else{try{a.call()}catch(ne){p=ne}s.call(a.prototype)}else{try{throw Error()}catch(ne){p=ne}s()}}catch(ne){if(ne&&p&&typeof ne.stack=="string"){for(var y=ne.stack.split(`
`),E=p.stack.split(`
`),R=y.length-1,B=E.length-1;1<=R&&0<=B&&y[R]!==E[B];)B--;for(;1<=R&&0<=B;R--,B--)if(y[R]!==E[B]){if(R!==1||B!==1)do if(R--,B--,0>B||y[R]!==E[B]){var z=`
`+y[R].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=R&&0<=B);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ue(s):""}function Ke(s){switch(s.tag){case 5:return ue(s.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return s=Be(s.type,!1),s;case 11:return s=Be(s.type.render,!1),s;case 1:return s=Be(s.type,!0),s;default:return""}}function Qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case le:return"Portal";case L:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case Ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return a=s.displayName||null,a!==null?a:Qe(s.type)||"Memo";case we:a=s._payload,s=s._init;try{return Qe(s(a))}catch{}}return null}function st(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ct(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $t(s){var a=ct(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(R){p=""+R,E.call(this,R)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function cr(s){s._valueTracker||(s._valueTracker=$t(s))}function Dr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=ct(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function wn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Gn(s,a){var c=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function dt(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=ye(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xn(s,a){a=a.checked,a!=null&&W(s,"checked",a,!1)}function ci(s,a){Xn(s,a);var c=ye(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?As(s,a.type,c):a.hasOwnProperty("defaultValue")&&As(s,a.type,ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function pa(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function As(s,a,c){(a!=="number"||wn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var di=Array.isArray;function fi(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ye(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function wo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ps(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(di(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:ye(c)}}function qr(s,a){var c=ye(a.value),p=ye(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function dr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ze(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ze(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Cn,Oi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Cn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function hi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(s){rs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Eo[a]=Eo[s]})});function El(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Eo.hasOwnProperty(s)&&Eo[s]?(""+a).trim():a+"px"}function bl(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=El(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Tl=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(s,a){if(a){if(Tl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function kl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function To(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,Rr=null,pi=null;function ma(s){if(s=$o(s)){if(typeof is!="function")throw Error(t(280));var a=s.stateNode;a&&(a=qi(a),is(s.stateNode,s.type,a))}}function Mi(s){Rr?pi?pi.push(s):pi=[s]:Rr=s}function Cl(){if(Rr){var s=Rr,a=pi;if(pi=Rr=null,ma(s),a)for(s=0;s<a.length;s++)ma(a[s])}}function So(s,a){return s(a)}function Li(){}var Ar=!1;function xl(s,a,c){if(Ar)return s(a,c);Ar=!0;try{return So(s,a,c)}finally{Ar=!1,(Rr!==null||pi!==null)&&(Li(),Cl())}}function Jt(s,a){var c=s.stateNode;if(c===null)return null;var p=qi(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ga=!1;if(u)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ga=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ga=!1}function ko(s,a,c,p,y,E,R,B,z){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(c,ne)}catch(pe){this.onError(pe)}}var ss=!1,gi=null,fr=!1,Il=null,Dl={onError:function(s){ss=!0,gi=s}};function ya(s,a,c,p,y,E,R,B,z){ss=!1,gi=null,ko.apply(Dl,arguments)}function Mu(s,a,c,p,y,E,R,B,z){if(ya.apply(this,arguments),ss){if(ss){var ne=gi;ss=!1,gi=null}else throw Error(t(198));fr||(fr=!0,Il=ne)}}function Nn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Zt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kt(s){if(Nn(s)!==s)throw Error(t(188))}function On(s){var a=s.alternate;if(!a){if(a=Nn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var E=y.alternate;if(E===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===c)return Kt(y),s;if(E===p)return Kt(y),a;E=E.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=E;else{for(var R=!1,B=y.child;B;){if(B===c){R=!0,c=y,p=E;break}if(B===p){R=!0,p=y,c=E;break}B=B.sibling}if(!R){for(B=E.child;B;){if(B===c){R=!0,c=E,p=y;break}if(B===p){R=!0,p=E,c=y;break}B=B.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function fn(s){return s=On(s),s!==null?os(s):null}function os(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=os(s);if(a!==null)return a;s=s.sibling}return null}var yi=e.unstable_scheduleCallback,_i=e.unstable_cancelCallback,as=e.unstable_shouldYield,Lu=e.unstable_requestPaint,Pt=e.unstable_now,ls=e.unstable_getCurrentPriorityLevel,Ns=e.unstable_ImmediatePriority,Fi=e.unstable_UserBlockingPriority,hr=e.unstable_NormalPriority,_a=e.unstable_LowPriority,Rl=e.unstable_IdlePriority,Os=null,pr=null;function Al(s){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Os,s,void 0,(s.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Nl,va=Math.log,Pl=Math.LN2;function Nl(s){return s>>>=0,s===0?32:31-(va(s)/Pl|0)|0}var Co=64,Jn=4194304;function on(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pr(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,E=s.pingedLanes,R=c&268435455;if(R!==0){var B=R&~y;B!==0?p=on(B):(E&=R,E!==0&&(p=on(E)))}else R=c&~y,R!==0?p=on(R):E!==0&&(p=on(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Mn(a),y=1<<c,p|=s[c],a&=~y;return p}function mr(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,E=s.pendingLanes;0<E;){var R=31-Mn(E),B=1<<R,z=y[R];z===-1?(!(B&c)||B&p)&&(y[R]=mr(B,a)):z<=a&&(s.expiredLanes|=B),E&=~B}}function Zn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ln(){var s=Co;return Co<<=1,!(Co&4194240)&&(Co=64),s}function gr(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function wi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Mn(a),s[a]=c}function yt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Mn(c),E=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~E}}function Vi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Mn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var ot=0;function Nr(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var wa,xo,Yr,Fu,Ei,Ms=!1,bi=[],en=null,Or=null,er=null,us=new Map,Mr=new Map,Ti=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(s,a){switch(s){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(a.pointerId)}}function tr(s,a,c,p,y,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[y]},a!==null&&(a=$o(a),a!==null&&xo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Ol(s,a,c,p,y){switch(a){case"focusin":return en=tr(en,s,a,c,p,y),!0;case"dragenter":return Or=tr(Or,s,a,c,p,y),!0;case"mouseover":return er=tr(er,s,a,c,p,y),!0;case"pointerover":var E=y.pointerId;return us.set(E,tr(us.get(E)||null,s,a,c,p,y)),!0;case"gotpointercapture":return E=y.pointerId,Mr.set(E,tr(Mr.get(E)||null,s,a,c,p,y)),!0}return!1}function Io(s){var a=qs(s.target);if(a!==null){var c=Nn(a);if(c!==null){if(a=c.tag,a===13){if(a=Zt(c),a!==null){s.blockedOn=a,Ei(s.priority,function(){Yr(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Si(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ao(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);bo=p,c.target.dispatchEvent(p),bo=null}else return a=$o(c),a!==null&&xo(a),s.blockedOn=c,!1;a.shift()}return!0}function Do(s,a,c){Si(s)&&c.delete(a)}function Ro(){Ms=!1,en!==null&&Si(en)&&(en=null),Or!==null&&Si(Or)&&(Or=null),er!==null&&Si(er)&&(er=null),us.forEach(Do),Mr.forEach(Do)}function ki(s,a){s.blockedOn===a&&(s.blockedOn=null,Ms||(Ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ro)))}function Kr(s){function a(y){return ki(y,s)}if(0<bi.length){ki(bi[0],s);for(var c=1;c<bi.length;c++){var p=bi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(en!==null&&ki(en,s),Or!==null&&ki(Or,s),er!==null&&ki(er,s),us.forEach(a),Mr.forEach(a),c=0;c<Ti.length;c++)p=Ti[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Ti.length&&(c=Ti[0],c.blockedOn===null);)Io(c),c.blockedOn===null&&Ti.shift()}var Ci=Z.ReactCurrentBatchConfig,ji=!0;function Wt(s,a,c,p){var y=ot,E=Ci.transition;Ci.transition=null;try{ot=1,cs(s,a,c,p)}finally{ot=y,Ci.transition=E}}function ju(s,a,c,p){var y=ot,E=Ci.transition;Ci.transition=null;try{ot=4,cs(s,a,c,p)}finally{ot=y,Ci.transition=E}}function cs(s,a,c,p){if(ji){var y=Ao(s,a,c,p);if(y===null)gd(s,a,p,ds,c),Vu(s,p);else if(Ol(y,s,a,c,p))p.stopPropagation();else if(Vu(s,p),a&4&&-1<Ls.indexOf(s)){for(;y!==null;){var E=$o(y);if(E!==null&&wa(E),E=Ao(s,a,c,p),E===null&&gd(s,a,p,ds,c),E===y)break;y=E}y!==null&&p.stopPropagation()}else gd(s,a,p,null,c)}}var ds=null;function Ao(s,a,c,p){if(ds=null,s=To(p),s=qs(s),s!==null)if(a=Nn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Zt(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ds=s,null}function Ea(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ls()){case Ns:return 1;case Fi:return 4;case hr:case _a:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var En=null,ba=null,nr=null;function Ta(){if(nr)return nr;var s,a=ba,c=a.length,p,y="value"in En?En.value:En.textContent,E=y.length;for(s=0;s<c&&a[s]===y[s];s++);var R=c-s;for(p=1;p<=R&&a[c-p]===y[E-p];p++);return nr=y.slice(s,1<p?1-p:void 0)}function Po(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function xi(){return!0}function Sa(){return!1}function hn(s){function a(c,p,y,E,R){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xi:Sa,this.isPropagationStopped=Sa,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=hn(Qr),Ui=Q({},Qr,{view:0,detail:0}),Uu=hn(Ui),No,Gr,Fs,Oo=Q({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fs&&(Fs&&s.type==="mousemove"?(No=s.screenX-Fs.screenX,Gr=s.screenY-Fs.screenY):Gr=No=0,Fs=s),No)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),Vs=hn(Oo),Ca=Q({},Oo,{dataTransfer:0}),Ml=hn(Ca),Xr=Q({},Ui,{relatedTarget:0}),js=hn(Xr),Bu=Q({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bi=hn(Bu),$u=Q({},Qr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=hn($u),Hu=Q({},Qr,{data:0}),Ll=hn(Hu),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fs(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=zu[s])?!!a[s]:!1}function Vn(){return fs}var f=Q({},Ui,{key:function(s){if(s.key){var a=Mo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(s){return s.type==="keypress"?Po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=hn(f),T=Q({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=hn(T),X=Q({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),se=hn(X),ve=Q({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ct=hn(ve),pn=Q({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=hn(pn),Nt=[9,13,27,32],tn=u&&"CompositionEvent"in window,Lr=null;u&&"documentMode"in document&&(Lr=document.documentMode);var yr=u&&"TextEvent"in window&&!Lr,Lo=u&&(!tn||Lr&&8<Lr&&11>=Lr),xa=" ",ad=!1;function Fl(s,a){switch(s){case"keyup":return Nt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function zf(s,a){switch(s){case"compositionend":return Hf(a);case"keypress":return a.which!==32?null:(ad=!0,xa);case"textInput":return s=a.data,s===xa&&ad?null:s;default:return null}}function og(s,a){if(Ia)return s==="compositionend"||!tn&&Fl(s,a)?(s=Ta(),nr=ba=En=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Lo&&a.locale!=="ko"?null:a.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ag[s.type]:a==="textarea"}function ud(s,a,c,p){Mi(p),a=Hi(a,"onChange"),0<a.length&&(c=new ka("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Da=null,Us=null;function qf(s){jl(s,0)}function Ra(s){var a=Wo(s);if(Dr(a))return s}function Jr(s,a){if(s==="change")return a}var Yf=!1;if(u){var cd;if(u){var qu="oninput"in document;if(!qu){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),qu=typeof dd.oninput=="function"}cd=qu}else cd=!1;Yf=cd&&(!document.documentMode||9<document.documentMode)}function Kf(){Da&&(Da.detachEvent("onpropertychange",Qf),Us=Da=null)}function Qf(s){if(s.propertyName==="value"&&Ra(Us)){var a=[];ud(a,Us,s,To(s)),xl(qf,a)}}function lg(s,a,c){s==="focusin"?(Kf(),Da=a,Us=c,Da.attachEvent("onpropertychange",Qf)):s==="focusout"&&Kf()}function ug(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ra(Us)}function cg(s,a){if(s==="click")return Ra(a)}function dg(s,a){if(s==="input"||s==="change")return Ra(a)}function Gf(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Zr=typeof Object.is=="function"?Object.is:Gf;function Fo(s,a){if(Zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Zr(s[y],a[y]))return!1}return!0}function Xf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Jf(s,a){var c=Xf(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xf(c)}}function Bs(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bs(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $i(){for(var s=window,a=wn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=wn(s.document)}return a}function Yu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function fg(s){var a=$i(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bs(c.ownerDocument.documentElement,c)){if(p!==null&&Yu(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,E=Math.min(p.start,y);p=p.end===void 0?E:Math.min(p.end,y),!s.extend&&E>p&&(y=p,p=E,E=y),y=Jf(c,E);var R=Jf(c,p);y&&R&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),E>p?(s.addRange(a),s.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Zf=u&&"documentMode"in document&&11>=document.documentMode,Vo=null,Ku=null,Aa=null,fd=!1;function eh(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fd||Vo==null||Vo!==wn(p)||(p=Vo,"selectionStart"in p&&Yu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Aa&&Fo(Aa,p)||(Aa=p,p=Hi(Ku,"onSelect"),0<p.length&&(a=new ka("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Vo)))}function Qu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var jo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Gu={},th={};u&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Xu(s){if(Gu[s])return Gu[s];if(!jo[s])return s;var a=jo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in th)return Gu[s]=a[c];return s}var nh=Xu("animationend"),rh=Xu("animationiteration"),ih=Xu("animationstart"),Wi=Xu("transitionend"),hd=new Map,sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(s,a){hd.set(s,a),o(a,[s])}for(var pd=0;pd<sh.length;pd++){var md=sh[pd],hg=md.toLowerCase(),pg=md[0].toUpperCase()+md.slice(1);$s(hg,"on"+pg)}$s(nh,"onAnimationEnd"),$s(rh,"onAnimationIteration"),$s(ih,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Wi,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Ju(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Mu(p,a,void 0,s),s.currentTarget=null}function jl(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var R=p.length-1;0<=R;R--){var B=p[R],z=B.instance,ne=B.currentTarget;if(B=B.listener,z!==E&&y.isPropagationStopped())break e;Ju(y,B,ne),E=z}else for(R=0;R<p.length;R++){if(B=p[R],z=B.instance,ne=B.currentTarget,B=B.listener,z!==E&&y.isPropagationStopped())break e;Ju(y,B,ne),E=z}}}if(fr)throw s=Il,fr=!1,Il=null,s}function Ht(s,a){var c=a[wd];c===void 0&&(c=a[wd]=new Set);var p=s+"__bubble";c.has(p)||(oh(a,s,2,!1),c.add(p))}function Zu(s,a,c){var p=0;a&&(p|=4),oh(c,s,p,a)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Uo(s){if(!s[Ws]){s[Ws]=!0,n.forEach(function(c){c!=="selectionchange"&&(mg.has(c)||Zu(c,!1,s),Zu(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ws]||(a[Ws]=!0,Zu("selectionchange",!1,a))}}function oh(s,a,c,p){switch(Ea(a)){case 1:var y=Wt;break;case 4:y=ju;break;default:y=cs}c=y.bind(null,a,c,s),y=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function gd(s,a,c,p,y){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var B=p.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(R===4)for(R=p.return;R!==null;){var z=R.tag;if((z===3||z===4)&&(z=R.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;R=R.return}for(;B!==null;){if(R=qs(B),R===null)return;if(z=R.tag,z===5||z===6){p=E=R;continue e}B=B.parentNode}}p=p.return}xl(function(){var ne=E,pe=To(c),me=[];e:{var he=hd.get(s);if(he!==void 0){var Ce=ka,Me=s;switch(s){case"keypress":if(Po(c)===0)break e;case"keydown":case"keyup":Ce=w;break;case"focusin":Me="focus",Ce=js;break;case"focusout":Me="blur",Ce=js;break;case"beforeblur":case"afterblur":Ce=js;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=se;break;case nh:case rh:case ih:Ce=Bi;break;case Wi:Ce=Ct;break;case"scroll":Ce=Uu;break;case"wheel":Ce=ft;break;case"copy":case"cut":case"paste":Ce=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=O}var Ve=(a&4)!==0,gn=!Ve&&s==="scroll",J=Ve?he!==null?he+"Capture":null:he;Ve=[];for(var K=ne,te;K!==null;){te=K;var _e=te.stateNode;if(te.tag===5&&_e!==null&&(te=_e,J!==null&&(_e=Jt(K,J),_e!=null&&Ve.push(Ul(K,_e,te)))),gn)break;K=K.return}0<Ve.length&&(he=new Ce(he,Me,null,c,pe),me.push({event:he,listeners:Ve}))}}if(!(a&7)){e:{if(he=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",he&&c!==bo&&(Me=c.relatedTarget||c.fromElement)&&(qs(Me)||Me[hs]))break e;if((Ce||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,Ce?(Me=c.relatedTarget||c.toElement,Ce=ne,Me=Me?qs(Me):null,Me!==null&&(gn=Nn(Me),Me!==gn||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=ne),Ce!==Me)){if(Ve=Vs,_e="onMouseLeave",J="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=O,_e="onPointerLeave",J="onPointerEnter",K="pointer"),gn=Ce==null?he:Wo(Ce),te=Me==null?he:Wo(Me),he=new Ve(_e,K+"leave",Ce,c,pe),he.target=gn,he.relatedTarget=te,_e=null,qs(pe)===ne&&(Ve=new Ve(J,K+"enter",Me,c,pe),Ve.target=te,Ve.relatedTarget=gn,_e=Ve),gn=_e,Ce&&Me)t:{for(Ve=Ce,J=Me,K=0,te=Ve;te;te=Pa(te))K++;for(te=0,_e=J;_e;_e=Pa(_e))te++;for(;0<K-te;)Ve=Pa(Ve),K--;for(;0<te-K;)J=Pa(J),te--;for(;K--;){if(Ve===J||J!==null&&Ve===J.alternate)break t;Ve=Pa(Ve),J=Pa(J)}Ve=null}else Ve=null;Ce!==null&&ah(me,he,Ce,Ve,!1),Me!==null&&gn!==null&&ah(me,gn,Me,Ve,!0)}}e:{if(he=ne?Wo(ne):window,Ce=he.nodeName&&he.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&he.type==="file")var je=Jr;else if(ld(he))if(Yf)je=dg;else{je=ug;var qe=lg}else(Ce=he.nodeName)&&Ce.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(je=cg);if(je&&(je=je(s,ne))){ud(me,je,c,pe);break e}qe&&qe(s,he,ne),s==="focusout"&&(qe=he._wrapperState)&&qe.controlled&&he.type==="number"&&As(he,"number",he.value)}switch(qe=ne?Wo(ne):window,s){case"focusin":(ld(qe)||qe.contentEditable==="true")&&(Vo=qe,Ku=ne,Aa=null);break;case"focusout":Aa=Ku=Vo=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,eh(me,c,pe);break;case"selectionchange":if(Zf)break;case"keydown":case"keyup":eh(me,c,pe)}var Ye;if(tn)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ia?Fl(s,c)&&(Je="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(Lo&&c.locale!=="ko"&&(Ia||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ia&&(Ye=Ta()):(En=pe,ba="value"in En?En.value:En.textContent,Ia=!0)),qe=Hi(ne,Je),0<qe.length&&(Je=new Ll(Je,s,null,c,pe),me.push({event:Je,listeners:qe}),Ye?Je.data=Ye:(Ye=Hf(c),Ye!==null&&(Je.data=Ye)))),(Ye=yr?zf(s,c):og(s,c))&&(ne=Hi(ne,"onBeforeInput"),0<ne.length&&(pe=new Ll("onBeforeInput","beforeinput",null,c,pe),me.push({event:pe,listeners:ne}),pe.data=Ye))}jl(me,a)})}function Ul(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Hi(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Jt(s,c),E!=null&&p.unshift(Ul(s,E,y)),E=Jt(s,a),E!=null&&p.push(Ul(s,E,y))),s=s.return}return p}function Pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ah(s,a,c,p,y){for(var E=a._reactName,R=[];c!==null&&c!==p;){var B=c,z=B.alternate,ne=B.stateNode;if(z!==null&&z===p)break;B.tag===5&&ne!==null&&(B=ne,y?(z=Jt(c,E),z!=null&&R.unshift(Ul(c,z,B))):y||(z=Jt(c,E),z!=null&&R.push(Ul(c,z,B)))),c=c.return}R.length!==0&&s.push({event:a,listeners:R})}var ec=/\r\n?/g,yd=/\u0000|\uFFFD/g;function lh(s){return(typeof s=="string"?s:""+s).replace(ec,`
`).replace(yd,"")}function Bl(s,a,c){if(a=lh(a),lh(s)!==a&&c)throw Error(t(425))}function tc(){}var Hs=null,$l=null;function nc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,Wl=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(s){return uh.resolve(null).then(s).catch(Bo)}:_d;function Bo(s){setTimeout(function(){throw s})}function vd(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Kr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Kr(a)}function zs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function ch(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),zi="__reactFiber$"+Na,Hl="__reactProps$"+Na,hs="__reactContainer$"+Na,wd="__reactEvents$"+Na,dh="__reactListeners$"+Na,yg="__reactHandles$"+Na;function qs(s){var a=s[zi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[hs]||c[zi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=ch(s);s!==null;){if(c=s[zi])return c;s=ch(s)}return a}s=c,c=s.parentNode}return null}function $o(s){return s=s[zi]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function qi(s){return s[Hl]||null}var rc=[],Ys=-1;function ps(s){return{current:s}}function Lt(s){0>Ys||(s.current=rc[Ys],rc[Ys]=null,Ys--)}function Ft(s,a){Ys++,rc[Ys]=s.current,s.current=a}var Yi={},jn=ps(Yi),an=ps(!1),_r=Yi;function Oa(s,a){var c=s.type.contextTypes;if(!c)return Yi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in c)y[E]=a[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function vr(s){return s=s.childContextTypes,s!=null}function ic(){Lt(an),Lt(jn)}function fh(s,a,c){if(jn.current!==Yi)throw Error(t(168));Ft(jn,a),Ft(an,c)}function hh(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,st(s)||"Unknown",y));return Q({},c,p)}function sc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Yi,_r=jn.current,Ft(jn,s),Ft(an,an.current),!0}function ph(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=hh(s,a,_r),p.__reactInternalMemoizedMergedChildContext=s,Lt(an),Lt(jn),Ft(jn,s)):Lt(an),Ft(an,c)}var ms=null,zl=!1,Ma=!1;function ql(s){ms===null?ms=[s]:ms.push(s)}function _g(s){zl=!0,ql(s)}function Ks(){if(!Ma&&ms!==null){Ma=!0;var s=0,a=ot;try{var c=ms;for(ot=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}ms=null,zl=!1}catch(y){throw ms!==null&&(ms=ms.slice(s+1)),yi(Ns,Ks),y}finally{ot=a,Ma=!1}}return null}var Ki=[],I=0,m=null,b=0,P=[],q=0,G=null,re=1,ce="";function ge(s,a){Ki[I++]=b,Ki[I++]=m,m=s,b=a}function xe(s,a,c){P[q++]=re,P[q++]=ce,P[q++]=G,G=s;var p=re;s=ce;var y=32-Mn(p)-1;p&=~(1<<y),c+=1;var E=32-Mn(a)+y;if(30<E){var R=y-y%5;E=(p&(1<<R)-1).toString(32),p>>=R,y-=R,re=1<<32-Mn(a)+y|c<<y|p,ce=E+s}else re=1<<E|c<<y|p,ce=s}function Ie(s){s.return!==null&&(ge(s,1),xe(s,1,0))}function Te(s){for(;s===m;)m=Ki[--I],Ki[I]=null,b=Ki[--I],Ki[I]=null;for(;s===G;)G=P[--q],P[q]=null,ce=P[--q],P[q]=null,re=P[--q],P[q]=null}var We=null,Fe=null,De=!1,$e=null;function Xe(s,a){var c=Ji(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function xt(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,We=s,Fe=zs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,We=s,Fe=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=G!==null?{id:re,overflow:ce}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ji(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,We=s,Fe=null,!0):!1;default:return!1}}function Ot(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rt(s){if(De){var a=Fe;if(a){var c=a;if(!xt(s,a)){if(Ot(s))throw Error(t(418));a=zs(c.nextSibling);var p=We;a&&xt(s,a)?Xe(p,c):(s.flags=s.flags&-4097|2,De=!1,We=s)}}else{if(Ot(s))throw Error(t(418));s.flags=s.flags&-4097|2,De=!1,We=s}}}function _t(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;We=s}function et(s){if(s!==We)return!1;if(!De)return _t(s),De=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!nc(s.type,s.memoizedProps)),a&&(a=Fe)){if(Ot(s))throw at(),Error(t(418));for(;a;)Xe(s,a),a=zs(a.nextSibling)}if(_t(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Fe=zs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Fe=null}}else Fe=We?zs(s.stateNode.nextSibling):null;return!0}function at(){for(var s=Fe;s;)s=zs(s.nextSibling)}function ht(){Fe=We=null,De=!1}function St(s){$e===null?$e=[s]:$e.push(s)}var It=Z.ReactCurrentBatchConfig;function zt(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(R){var B=y.refs;R===null?delete B[E]:B[E]=R},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Un(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ei(s){var a=s._init;return a(s._payload)}function Bn(s){function a(J,K){if(s){var te=J.deletions;te===null?(J.deletions=[K],J.flags|=16):te.push(K)}}function c(J,K){if(!s)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function p(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function y(J,K){return J=$a(J,K),J.index=0,J.sibling=null,J}function E(J,K,te){return J.index=te,s?(te=J.alternate,te!==null?(te=te.index,te<K?(J.flags|=2,K):te):(J.flags|=2,K)):(J.flags|=1048576,K)}function R(J){return s&&J.alternate===null&&(J.flags|=2),J}function B(J,K,te,_e){return K===null||K.tag!==6?(K=Zg(te,J.mode,_e),K.return=J,K):(K=y(K,te),K.return=J,K)}function z(J,K,te,_e){var je=te.type;return je===F?pe(J,K,te.props.children,_e,te.key):K!==null&&(K.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===we&&ei(je)===K.type)?(_e=y(K,te.props),_e.ref=zt(J,K,te),_e.return=J,_e):(_e=Nh(te.type,te.key,te.props,null,J.mode,_e),_e.ref=zt(J,K,te),_e.return=J,_e)}function ne(J,K,te,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=ey(te,J.mode,_e),K.return=J,K):(K=y(K,te.children||[]),K.return=J,K)}function pe(J,K,te,_e,je){return K===null||K.tag!==7?(K=ru(te,J.mode,_e,je),K.return=J,K):(K=y(K,te),K.return=J,K)}function me(J,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Zg(""+K,J.mode,te),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:return te=Nh(K.type,K.key,K.props,null,J.mode,te),te.ref=zt(J,null,K),te.return=J,te;case le:return K=ey(K,J.mode,te),K.return=J,K;case we:var _e=K._init;return me(J,_e(K._payload),te)}if(di(K)||be(K))return K=ru(K,J.mode,te,null),K.return=J,K;Un(J,K)}return null}function he(J,K,te,_e){var je=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return je!==null?null:B(J,K,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ee:return te.key===je?z(J,K,te,_e):null;case le:return te.key===je?ne(J,K,te,_e):null;case we:return je=te._init,he(J,K,je(te._payload),_e)}if(di(te)||be(te))return je!==null?null:pe(J,K,te,_e,null);Un(J,te)}return null}function Ce(J,K,te,_e,je){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return J=J.get(te)||null,B(K,J,""+_e,je);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ee:return J=J.get(_e.key===null?te:_e.key)||null,z(K,J,_e,je);case le:return J=J.get(_e.key===null?te:_e.key)||null,ne(K,J,_e,je);case we:var qe=_e._init;return Ce(J,K,te,qe(_e._payload),je)}if(di(_e)||be(_e))return J=J.get(te)||null,pe(K,J,_e,je,null);Un(K,_e)}return null}function Me(J,K,te,_e){for(var je=null,qe=null,Ye=K,Je=K=0,zn=null;Ye!==null&&Je<te.length;Je++){Ye.index>Je?(zn=Ye,Ye=null):zn=Ye.sibling;var kt=he(J,Ye,te[Je],_e);if(kt===null){Ye===null&&(Ye=zn);break}s&&Ye&&kt.alternate===null&&a(J,Ye),K=E(kt,K,Je),qe===null?je=kt:qe.sibling=kt,qe=kt,Ye=zn}if(Je===te.length)return c(J,Ye),De&&ge(J,Je),je;if(Ye===null){for(;Je<te.length;Je++)Ye=me(J,te[Je],_e),Ye!==null&&(K=E(Ye,K,Je),qe===null?je=Ye:qe.sibling=Ye,qe=Ye);return De&&ge(J,Je),je}for(Ye=p(J,Ye);Je<te.length;Je++)zn=Ce(Ye,J,Je,te[Je],_e),zn!==null&&(s&&zn.alternate!==null&&Ye.delete(zn.key===null?Je:zn.key),K=E(zn,K,Je),qe===null?je=zn:qe.sibling=zn,qe=zn);return s&&Ye.forEach(function(Wa){return a(J,Wa)}),De&&ge(J,Je),je}function Ve(J,K,te,_e){var je=be(te);if(typeof je!="function")throw Error(t(150));if(te=je.call(te),te==null)throw Error(t(151));for(var qe=je=null,Ye=K,Je=K=0,zn=null,kt=te.next();Ye!==null&&!kt.done;Je++,kt=te.next()){Ye.index>Je?(zn=Ye,Ye=null):zn=Ye.sibling;var Wa=he(J,Ye,kt.value,_e);if(Wa===null){Ye===null&&(Ye=zn);break}s&&Ye&&Wa.alternate===null&&a(J,Ye),K=E(Wa,K,Je),qe===null?je=Wa:qe.sibling=Wa,qe=Wa,Ye=zn}if(kt.done)return c(J,Ye),De&&ge(J,Je),je;if(Ye===null){for(;!kt.done;Je++,kt=te.next())kt=me(J,kt.value,_e),kt!==null&&(K=E(kt,K,Je),qe===null?je=kt:qe.sibling=kt,qe=kt);return De&&ge(J,Je),je}for(Ye=p(J,Ye);!kt.done;Je++,kt=te.next())kt=Ce(Ye,J,Je,kt.value,_e),kt!==null&&(s&&kt.alternate!==null&&Ye.delete(kt.key===null?Je:kt.key),K=E(kt,K,Je),qe===null?je=kt:qe.sibling=kt,qe=kt);return s&&Ye.forEach(function(NI){return a(J,NI)}),De&&ge(J,Je),je}function gn(J,K,te,_e){if(typeof te=="object"&&te!==null&&te.type===F&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case ee:e:{for(var je=te.key,qe=K;qe!==null;){if(qe.key===je){if(je=te.type,je===F){if(qe.tag===7){c(J,qe.sibling),K=y(qe,te.props.children),K.return=J,J=K;break e}}else if(qe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===we&&ei(je)===qe.type){c(J,qe.sibling),K=y(qe,te.props),K.ref=zt(J,qe,te),K.return=J,J=K;break e}c(J,qe);break}else a(J,qe);qe=qe.sibling}te.type===F?(K=ru(te.props.children,J.mode,_e,te.key),K.return=J,J=K):(_e=Nh(te.type,te.key,te.props,null,J.mode,_e),_e.ref=zt(J,K,te),_e.return=J,J=_e)}return R(J);case le:e:{for(qe=te.key;K!==null;){if(K.key===qe)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){c(J,K.sibling),K=y(K,te.children||[]),K.return=J,J=K;break e}else{c(J,K);break}else a(J,K);K=K.sibling}K=ey(te,J.mode,_e),K.return=J,J=K}return R(J);case we:return qe=te._init,gn(J,K,qe(te._payload),_e)}if(di(te))return Me(J,K,te,_e);if(be(te))return Ve(J,K,te,_e);Un(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(c(J,K.sibling),K=y(K,te),K.return=J,J=K):(c(J,K),K=Zg(te,J.mode,_e),K.return=J,J=K),R(J)):c(J,K)}return gn}var xn=Bn(!0),Fr=Bn(!1),qt=ps(null),Vr=null,rr=null,Qs=null;function ln(){Qs=rr=Vr=null}function Dt(s){var a=qt.current;Lt(qt),s._currentValue=a}function In(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Dn(s,a){Vr=s,Qs=rr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(ni=!0),s.firstContext=null)}function mn(s){var a=s._currentValue;if(Qs!==s)if(s={context:s,memoizedValue:a,next:null},rr===null){if(Vr===null)throw Error(t(308));rr=s,Vr.dependencies={lanes:0,firstContext:s}}else rr=rr.next=s;return a}var Qi=null;function oc(s){Qi===null?Qi=[s]:Qi.push(s)}function Ed(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,oc(a)):(c.next=y.next,y.next=c),a.interleaved=c,ti(s,p)}function ti(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gs=!1;function bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Et&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,ti(s,c)}return y=p.interleaved,y===null?(a.next=a,oc(p)):(a.next=y.next,y.next=a),p.interleaved=a,ti(s,c)}function lc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Vi(s,c)}}function Td(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?y=E=R:E=E.next=R,c=c.next}while(c!==null);E===null?y=E=a:E=E.next=a}else y=E=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Yl(s,a,c,p){var y=s.updateQueue;Gs=!1;var E=y.firstBaseUpdate,R=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var z=B,ne=z.next;z.next=null,R===null?E=ne:R.next=ne,R=z;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==R&&(B===null?pe.firstBaseUpdate=ne:B.next=ne,pe.lastBaseUpdate=z))}if(E!==null){var me=y.baseState;R=0,pe=ne=z=null,B=E;do{var he=B.lane,Ce=B.eventTime;if((p&he)===he){pe!==null&&(pe=pe.next={eventTime:Ce,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Me=s,Ve=B;switch(he=a,Ce=c,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){me=Me.call(Ce,me,he);break e}me=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,he=typeof Me=="function"?Me.call(Ce,me,he):Me,he==null)break e;me=Q({},me,he);break e;case 2:Gs=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,he=y.effects,he===null?y.effects=[B]:he.push(B))}else Ce={eventTime:Ce,lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(ne=pe=Ce,z=me):pe=pe.next=Ce,R|=he;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;he=B,B=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);if(pe===null&&(z=me),y.baseState=z,y.firstBaseUpdate=ne,y.lastBaseUpdate=pe,a=y.shared.interleaved,a!==null){y=a;do R|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);Zl|=R,s.lanes=R,s.memoizedState=me}}function mh(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Kl={},$n=ps(Kl),Xs=ps(Kl),La=ps(Kl);function Js(s){if(s===Kl)throw Error(t(174));return s}function Ql(s,a){switch(Ft(La,a),Ft(Xs,s),Ft($n,Kl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Tt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Tt(a,s)}Lt($n),Ft($n,a)}function Ho(){Lt($n),Lt(Xs),Lt(La)}function Sd(s){Js(La.current);var a=Js($n.current),c=Tt(a,s.type);a!==c&&(Ft(Xs,s),Ft($n,c))}function uc(s){Xs.current===s&&(Lt($n),Lt(Xs))}var Yt=ps(0);function cc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var kd=[];function Gl(){for(var s=0;s<kd.length;s++)kd[s]._workInProgressVersionPrimary=null;kd.length=0}var Xl=Z.ReactCurrentDispatcher,vg=Z.ReactCurrentBatchConfig,Jl=0,nn=null,Rn=null,Wn=null,gh=!1,Cd=!1,xd=0,nI=0;function wr(){throw Error(t(321))}function wg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Zr(s[c],a[c]))return!1;return!0}function Eg(s,a,c,p,y,E){if(Jl=E,nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xl.current=s===null||s.memoizedState===null?oI:aI,s=c(p,y),Cd){E=0;do{if(Cd=!1,xd=0,25<=E)throw Error(t(301));E+=1,Wn=Rn=null,a.updateQueue=null,Xl.current=lI,s=c(p,y)}while(Cd)}if(Xl.current=vh,a=Rn!==null&&Rn.next!==null,Jl=0,Wn=Rn=nn=null,gh=!1,a)throw Error(t(300));return s}function bg(){var s=xd!==0;return xd=0,s}function Zs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=s:Wn=Wn.next=s,Wn}function Gi(){if(Rn===null){var s=nn.alternate;s=s!==null?s.memoizedState:null}else s=Rn.next;var a=Wn===null?nn.memoizedState:Wn.next;if(a!==null)Wn=a,Rn=s;else{if(s===null)throw Error(t(310));Rn=s,s={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Wn===null?nn.memoizedState=Wn=s:Wn=Wn.next=s}return Wn}function Id(s,a){return typeof a=="function"?a(s):a}function Tg(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Rn,y=p.baseQueue,E=c.pending;if(E!==null){if(y!==null){var R=y.next;y.next=E.next,E.next=R}p.baseQueue=y=E,c.pending=null}if(y!==null){E=y.next,p=p.baseState;var B=R=null,z=null,ne=E;do{var pe=ne.lane;if((Jl&pe)===pe)z!==null&&(z=z.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),p=ne.hasEagerState?ne.eagerState:s(p,ne.action);else{var me={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};z===null?(B=z=me,R=p):z=z.next=me,nn.lanes|=pe,Zl|=pe}ne=ne.next}while(ne!==null&&ne!==E);z===null?R=p:z.next=B,Zr(p,a.memoizedState)||(ni=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do E=y.lane,nn.lanes|=E,Zl|=E,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Sg(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,E=a.memoizedState;if(y!==null){c.pending=null;var R=y=y.next;do E=s(E,R.action),R=R.next;while(R!==y);Zr(E,a.memoizedState)||(ni=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function gw(){}function yw(s,a){var c=nn,p=Gi(),y=a(),E=!Zr(p.memoizedState,y);if(E&&(p.memoizedState=y,ni=!0),p=p.queue,kg(ww.bind(null,c,p,s),[s]),p.getSnapshot!==a||E||Wn!==null&&Wn.memoizedState.tag&1){if(c.flags|=2048,Dd(9,vw.bind(null,c,p,y,a),void 0,null),Hn===null)throw Error(t(349));Jl&30||_w(c,a,y)}return y}function _w(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function vw(s,a,c,p){a.value=c,a.getSnapshot=p,Ew(a)&&bw(s)}function ww(s,a,c){return c(function(){Ew(a)&&bw(s)})}function Ew(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Zr(s,c)}catch{return!0}}function bw(s){var a=ti(s,1);a!==null&&Es(a,s,1,-1)}function Tw(s){var a=Zs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:s},a.queue=s,s=s.dispatch=sI.bind(null,nn,s),[a.memoizedState,s]}function Dd(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function Sw(){return Gi().memoizedState}function yh(s,a,c,p){var y=Zs();nn.flags|=s,y.memoizedState=Dd(1|a,c,void 0,p===void 0?null:p)}function _h(s,a,c,p){var y=Gi();p=p===void 0?null:p;var E=void 0;if(Rn!==null){var R=Rn.memoizedState;if(E=R.destroy,p!==null&&wg(p,R.deps)){y.memoizedState=Dd(a,c,E,p);return}}nn.flags|=s,y.memoizedState=Dd(1|a,c,E,p)}function kw(s,a){return yh(8390656,8,s,a)}function kg(s,a){return _h(2048,8,s,a)}function Cw(s,a){return _h(4,2,s,a)}function xw(s,a){return _h(4,4,s,a)}function Iw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Dw(s,a,c){return c=c!=null?c.concat([s]):null,_h(4,4,Iw.bind(null,a,s),c)}function Cg(){}function Rw(s,a){var c=Gi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wg(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function Aw(s,a){var c=Gi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wg(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function Pw(s,a,c){return Jl&21?(Zr(c,a)||(c=Ln(),nn.lanes|=c,Zl|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,ni=!0),s.memoizedState=c)}function rI(s,a){var c=ot;ot=c!==0&&4>c?c:4,s(!0);var p=vg.transition;vg.transition={};try{s(!1),a()}finally{ot=c,vg.transition=p}}function Nw(){return Gi().memoizedState}function iI(s,a,c){var p=Ua(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Ow(s))Mw(a,c);else if(c=Ed(s,a,c,p),c!==null){var y=Ur();Es(c,s,p,y),Lw(c,a,p)}}function sI(s,a,c){var p=Ua(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ow(s))Mw(a,y);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var R=a.lastRenderedState,B=E(R,c);if(y.hasEagerState=!0,y.eagerState=B,Zr(B,R)){var z=a.interleaved;z===null?(y.next=y,oc(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=Ed(s,a,y,p),c!==null&&(y=Ur(),Es(c,s,p,y),Lw(c,a,p))}}function Ow(s){var a=s.alternate;return s===nn||a!==null&&a===nn}function Mw(s,a){Cd=gh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Lw(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Vi(s,c)}}var vh={readContext:mn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},oI={readContext:mn,useCallback:function(s,a){return Zs().memoizedState=[s,a===void 0?null:a],s},useContext:mn,useEffect:kw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,yh(4194308,4,Iw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return yh(4194308,4,s,a)},useInsertionEffect:function(s,a){return yh(4,2,s,a)},useMemo:function(s,a){var c=Zs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Zs();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=iI.bind(null,nn,s),[p.memoizedState,s]},useRef:function(s){var a=Zs();return s={current:s},a.memoizedState=s},useState:Tw,useDebugValue:Cg,useDeferredValue:function(s){return Zs().memoizedState=s},useTransition:function(){var s=Tw(!1),a=s[0];return s=rI.bind(null,s[1]),Zs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=nn,y=Zs();if(De){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Hn===null)throw Error(t(349));Jl&30||_w(p,a,c)}y.memoizedState=c;var E={value:c,getSnapshot:a};return y.queue=E,kw(ww.bind(null,p,E,s),[s]),p.flags|=2048,Dd(9,vw.bind(null,p,E,c,a),void 0,null),c},useId:function(){var s=Zs(),a=Hn.identifierPrefix;if(De){var c=ce,p=re;c=(p&~(1<<32-Mn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=xd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=nI++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},aI={readContext:mn,useCallback:Rw,useContext:mn,useEffect:kg,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:xw,useMemo:Aw,useReducer:Tg,useRef:Sw,useState:function(){return Tg(Id)},useDebugValue:Cg,useDeferredValue:function(s){var a=Gi();return Pw(a,Rn.memoizedState,s)},useTransition:function(){var s=Tg(Id)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Nw,unstable_isNewReconciler:!1},lI={readContext:mn,useCallback:Rw,useContext:mn,useEffect:kg,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:xw,useMemo:Aw,useReducer:Sg,useRef:Sw,useState:function(){return Sg(Id)},useDebugValue:Cg,useDeferredValue:function(s){var a=Gi();return Rn===null?a.memoizedState=s:Pw(a,Rn.memoizedState,s)},useTransition:function(){var s=Sg(Id)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Nw,unstable_isNewReconciler:!1};function _s(s,a){if(s&&s.defaultProps){a=Q({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function xg(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:Q({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var wh={isMounted:function(s){return(s=s._reactInternals)?Nn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Ur(),y=Ua(s),E=gs(p,y);E.payload=a,c!=null&&(E.callback=c),a=ys(s,E,y),a!==null&&(Es(a,s,y,p),lc(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Ur(),y=Ua(s),E=gs(p,y);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=ys(s,E,y),a!==null&&(Es(a,s,y,p),lc(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ur(),p=Ua(s),y=gs(c,p);y.tag=2,a!=null&&(y.callback=a),a=ys(s,y,p),a!==null&&(Es(a,s,p,c),lc(a,s,p))}};function Fw(s,a,c,p,y,E,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,R):a.prototype&&a.prototype.isPureReactComponent?!Fo(c,p)||!Fo(y,E):!0}function Vw(s,a,c){var p=!1,y=Yi,E=a.contextType;return typeof E=="object"&&E!==null?E=mn(E):(y=vr(a)?_r:jn.current,p=a.contextTypes,E=(p=p!=null)?Oa(s,y):Yi),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=E),a}function jw(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&wh.enqueueReplaceState(a,a.state,null)}function Ig(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},bd(s);var E=a.contextType;typeof E=="object"&&E!==null?y.context=mn(E):(E=vr(a)?_r:jn.current,y.context=Oa(s,E)),y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(xg(s,a,E,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wh.enqueueReplaceState(y,y.state,null),Yl(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function dc(s,a){try{var c="",p=a;do c+=Ke(p),p=p.return;while(p);var y=c}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:y,digest:null}}function Dg(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Rg(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var uI=typeof WeakMap=="function"?WeakMap:Map;function Uw(s,a,c){c=gs(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){xh||(xh=!0,zg=p),Rg(s,a)},c}function Bw(s,a,c){c=gs(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Rg(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Rg(s,a),typeof p!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function $w(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new uI;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=TI.bind(null,s,a,c),a.then(s,s))}function Ww(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Hw(s,a,c,p,y){return s.mode&1?(s.flags|=65536,s.lanes=y,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=gs(-1,1),a.tag=2,ys(c,a,1))),c.lanes|=1),s)}var cI=Z.ReactCurrentOwner,ni=!1;function jr(s,a,c,p){a.child=s===null?Fr(a,null,c,p):xn(a,s.child,c,p)}function zw(s,a,c,p,y){c=c.render;var E=a.ref;return Dn(a,y),p=Eg(s,a,c,p,E,y),c=bg(),s!==null&&!ni?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,zo(s,a,y)):(De&&c&&Ie(a),a.flags|=1,jr(s,a,p,y),a.child)}function qw(s,a,c,p,y){if(s===null){var E=c.type;return typeof E=="function"&&!Jg(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,Yw(s,a,E,p,y)):(s=Nh(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&y)){var R=E.memoizedProps;if(c=c.compare,c=c!==null?c:Fo,c(R,p)&&s.ref===a.ref)return zo(s,a,y)}return a.flags|=1,s=$a(E,p),s.ref=a.ref,s.return=a,a.child=s}function Yw(s,a,c,p,y){if(s!==null){var E=s.memoizedProps;if(Fo(E,p)&&s.ref===a.ref)if(ni=!1,a.pendingProps=p=E,(s.lanes&y)!==0)s.flags&131072&&(ni=!0);else return a.lanes=s.lanes,zo(s,a,y)}return Ag(s,a,c,p,y)}function Kw(s,a,c){var p=a.pendingProps,y=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(hc,Ii),Ii|=c;else{if(!(c&1073741824))return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ft(hc,Ii),Ii|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,Ft(hc,Ii),Ii|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,Ft(hc,Ii),Ii|=p;return jr(s,a,y,c),a.child}function Qw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ag(s,a,c,p,y){var E=vr(c)?_r:jn.current;return E=Oa(a,E),Dn(a,y),c=Eg(s,a,c,p,E,y),p=bg(),s!==null&&!ni?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,zo(s,a,y)):(De&&p&&Ie(a),a.flags|=1,jr(s,a,c,y),a.child)}function Gw(s,a,c,p,y){if(vr(c)){var E=!0;sc(a)}else E=!1;if(Dn(a,y),a.stateNode===null)bh(s,a),Vw(a,c,p),Ig(a,c,p,y),p=!0;else if(s===null){var R=a.stateNode,B=a.memoizedProps;R.props=B;var z=R.context,ne=c.contextType;typeof ne=="object"&&ne!==null?ne=mn(ne):(ne=vr(c)?_r:jn.current,ne=Oa(a,ne));var pe=c.getDerivedStateFromProps,me=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function";me||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==p||z!==ne)&&jw(a,R,p,ne),Gs=!1;var he=a.memoizedState;R.state=he,Yl(a,p,R,y),z=a.memoizedState,B!==p||he!==z||an.current||Gs?(typeof pe=="function"&&(xg(a,c,pe,p),z=a.memoizedState),(B=Gs||Fw(a,c,B,p,he,z,ne))?(me||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),R.props=p,R.state=z,R.context=ne,p=B):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,ac(s,a),B=a.memoizedProps,ne=a.type===a.elementType?B:_s(a.type,B),R.props=ne,me=a.pendingProps,he=R.context,z=c.contextType,typeof z=="object"&&z!==null?z=mn(z):(z=vr(c)?_r:jn.current,z=Oa(a,z));var Ce=c.getDerivedStateFromProps;(pe=typeof Ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==me||he!==z)&&jw(a,R,p,z),Gs=!1,he=a.memoizedState,R.state=he,Yl(a,p,R,y);var Me=a.memoizedState;B!==me||he!==Me||an.current||Gs?(typeof Ce=="function"&&(xg(a,c,Ce,p),Me=a.memoizedState),(ne=Gs||Fw(a,c,ne,p,he,Me,z)||!1)?(pe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Me,z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Me,z)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Me),R.props=p,R.state=Me,R.context=z,p=ne):(typeof R.componentDidUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),p=!1)}return Pg(s,a,c,p,E,y)}function Pg(s,a,c,p,y,E){Qw(s,a);var R=(a.flags&128)!==0;if(!p&&!R)return y&&ph(a,c,!1),zo(s,a,E);p=a.stateNode,cI.current=a;var B=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&R?(a.child=xn(a,s.child,null,E),a.child=xn(a,null,B,E)):jr(s,a,B,E),a.memoizedState=p.state,y&&ph(a,c,!0),a.child}function Xw(s){var a=s.stateNode;a.pendingContext?fh(s,a.pendingContext,a.pendingContext!==a.context):a.context&&fh(s,a.context,!1),Ql(s,a.containerInfo)}function Jw(s,a,c,p,y){return ht(),St(y),a.flags|=256,jr(s,a,c,p),a.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Og(s){return{baseLanes:s,cachePool:null,transitions:null}}function Zw(s,a,c){var p=a.pendingProps,y=Yt.current,E=!1,R=(a.flags&128)!==0,B;if((B=R)||(B=s!==null&&s.memoizedState===null?!1:(y&2)!==0),B?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Ft(Yt,y&1),s===null)return rt(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(R=p.children,s=p.fallback,E?(p=a.mode,E=a.child,R={mode:"hidden",children:R},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=R):E=Oh(R,p,0,null),s=ru(s,p,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Og(c),a.memoizedState=Ng,s):Mg(a,R));if(y=s.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return dI(s,a,R,p,B,y,c);if(E){E=p.fallback,R=a.mode,y=s.child,B=y.sibling;var z={mode:"hidden",children:p.children};return!(R&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=$a(y,z),p.subtreeFlags=y.subtreeFlags&14680064),B!==null?E=$a(B,E):(E=ru(E,R,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,R=s.child.memoizedState,R=R===null?Og(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=s.childLanes&~c,a.memoizedState=Ng,p}return E=s.child,s=E.sibling,p=$a(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Mg(s,a){return a=Oh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Eh(s,a,c,p){return p!==null&&St(p),xn(a,s.child,null,c),s=Mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function dI(s,a,c,p,y,E,R){if(c)return a.flags&256?(a.flags&=-257,p=Dg(Error(t(422))),Eh(s,a,R,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=p.fallback,y=a.mode,p=Oh({mode:"visible",children:p.children},y,0,null),E=ru(E,y,R,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&xn(a,s.child,null,R),a.child.memoizedState=Og(R),a.memoizedState=Ng,E);if(!(a.mode&1))return Eh(s,a,R,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var B=p.dgst;return p=B,E=Error(t(419)),p=Dg(E,p,void 0),Eh(s,a,R,p)}if(B=(R&s.childLanes)!==0,ni||B){if(p=Hn,p!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|R)?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,ti(s,y),Es(p,s,y,-1))}return Xg(),p=Dg(Error(t(421))),Eh(s,a,R,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=SI.bind(null,s),y._reactRetry=a,null):(s=E.treeContext,Fe=zs(y.nextSibling),We=a,De=!0,$e=null,s!==null&&(P[q++]=re,P[q++]=ce,P[q++]=G,re=s.id,ce=s.overflow,G=a),a=Mg(a,p.children),a.flags|=4096,a)}function eE(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),In(s.return,a,c)}function Lg(s,a,c,p,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=y)}function tE(s,a,c){var p=a.pendingProps,y=p.revealOrder,E=p.tail;if(jr(s,a,p.children,c),p=Yt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eE(s,c,a);else if(s.tag===19)eE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ft(Yt,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&cc(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Lg(a,!1,y,c,E);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&cc(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Lg(a,!0,c,null,E);break;case"together":Lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function zo(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Zl|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=$a(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=$a(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function fI(s,a,c){switch(a.tag){case 3:Xw(a),ht();break;case 5:Sd(a);break;case 1:vr(a.type)&&sc(a);break;case 4:Ql(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;Ft(qt,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Ft(Yt,Yt.current&1),a.flags|=128,null):c&a.child.childLanes?Zw(s,a,c):(Ft(Yt,Yt.current&1),s=zo(s,a,c),s!==null?s.sibling:null);Ft(Yt,Yt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return tE(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ft(Yt,Yt.current),p)break;return null;case 22:case 23:return a.lanes=0,Kw(s,a,c)}return zo(s,a,c)}var nE,Fg,rE,iE;nE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fg=function(){},rE=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,Js($n.current);var E=null;switch(c){case"input":y=Gn(s,y),p=Gn(s,p),E=[];break;case"select":y=Q({},y,{value:void 0}),p=Q({},p,{value:void 0}),E=[];break;case"textarea":y=wo(s,y),p=wo(s,p),E=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=tc)}Sl(c,p);var R;c=null;for(ne in y)if(!p.hasOwnProperty(ne)&&y.hasOwnProperty(ne)&&y[ne]!=null)if(ne==="style"){var B=y[ne];for(R in B)B.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?E||(E=[]):(E=E||[]).push(ne,null));for(ne in p){var z=p[ne];if(B=y!=null?y[ne]:void 0,p.hasOwnProperty(ne)&&z!==B&&(z!=null||B!=null))if(ne==="style")if(B){for(R in B)!B.hasOwnProperty(R)||z&&z.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in z)z.hasOwnProperty(R)&&B[R]!==z[R]&&(c||(c={}),c[R]=z[R])}else c||(E||(E=[]),E.push(ne,c)),c=z;else ne==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,B=B?B.__html:void 0,z!=null&&B!==z&&(E=E||[]).push(ne,z)):ne==="children"?typeof z!="string"&&typeof z!="number"||(E=E||[]).push(ne,""+z):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(z!=null&&ne==="onScroll"&&Ht("scroll",s),E||B===z||(E=[])):(E=E||[]).push(ne,z))}c&&(E=E||[]).push("style",c);var ne=E;(a.updateQueue=ne)&&(a.flags|=4)}},iE=function(s,a,c,p){c!==p&&(a.flags|=4)};function Rd(s,a){if(!De)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Er(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function hI(s,a,c){var p=a.pendingProps;switch(Te(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(a),null;case 1:return vr(a.type)&&ic(),Er(a),null;case 3:return p=a.stateNode,Ho(),Lt(an),Lt(jn),Gl(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(et(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,$e!==null&&(Kg($e),$e=null))),Fg(s,a),Er(a),null;case 5:uc(a);var y=Js(La.current);if(c=a.type,s!==null&&a.stateNode!=null)rE(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Er(a),null}if(s=Js($n.current),et(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[zi]=a,p[Hl]=E,s=(a.mode&1)!==0,c){case"dialog":Ht("cancel",p),Ht("close",p);break;case"iframe":case"object":case"embed":Ht("load",p);break;case"video":case"audio":for(y=0;y<Vl.length;y++)Ht(Vl[y],p);break;case"source":Ht("error",p);break;case"img":case"image":case"link":Ht("error",p),Ht("load",p);break;case"details":Ht("toggle",p);break;case"input":dt(p,E),Ht("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",p);break;case"textarea":Ps(p,E),Ht("invalid",p)}Sl(c,E),y=null;for(var R in E)if(E.hasOwnProperty(R)){var B=E[R];R==="children"?typeof B=="string"?p.textContent!==B&&(E.suppressHydrationWarning!==!0&&Bl(p.textContent,B,s),y=["children",B]):typeof B=="number"&&p.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&Bl(p.textContent,B,s),y=["children",""+B]):i.hasOwnProperty(R)&&B!=null&&R==="onScroll"&&Ht("scroll",p)}switch(c){case"input":cr(p),pa(p,E,!0);break;case"textarea":cr(p),dr(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=tc)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ze(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=R.createElement(c,{is:p.is}):(s=R.createElement(c),c==="select"&&(R=s,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):s=R.createElementNS(s,c),s[zi]=a,s[Hl]=p,nE(s,a,!1,!1),a.stateNode=s;e:{switch(R=kl(c,p),c){case"dialog":Ht("cancel",s),Ht("close",s),y=p;break;case"iframe":case"object":case"embed":Ht("load",s),y=p;break;case"video":case"audio":for(y=0;y<Vl.length;y++)Ht(Vl[y],s);y=p;break;case"source":Ht("error",s),y=p;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),y=p;break;case"details":Ht("toggle",s),y=p;break;case"input":dt(s,p),y=Gn(s,p),Ht("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=Q({},p,{value:void 0}),Ht("invalid",s);break;case"textarea":Ps(s,p),y=wo(s,p),Ht("invalid",s);break;default:y=p}Sl(c,y),B=y;for(E in B)if(B.hasOwnProperty(E)){var z=B[E];E==="style"?bl(s,z):E==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Oi(s,z)):E==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&hi(s,z):typeof z=="number"&&hi(s,""+z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?z!=null&&E==="onScroll"&&Ht("scroll",s):z!=null&&W(s,E,z,R))}switch(c){case"input":cr(s),pa(s,p,!1);break;case"textarea":cr(s),dr(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ye(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?fi(s,!!p.multiple,E,!1):p.defaultValue!=null&&fi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=tc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Er(a),null;case 6:if(s&&a.stateNode!=null)iE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Js(La.current),Js($n.current),et(a)){if(p=a.stateNode,c=a.memoizedProps,p[zi]=a,(E=p.nodeValue!==c)&&(s=We,s!==null))switch(s.tag){case 3:Bl(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bl(p.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[zi]=a,a.stateNode=p}return Er(a),null;case 13:if(Lt(Yt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(De&&Fe!==null&&a.mode&1&&!(a.flags&128))at(),ht(),a.flags|=98560,E=!1;else if(E=et(a),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[zi]=a}else ht(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Er(a),E=!1}else $e!==null&&(Kg($e),$e=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||Yt.current&1?An===0&&(An=3):Xg())),a.updateQueue!==null&&(a.flags|=4),Er(a),null);case 4:return Ho(),Fg(s,a),s===null&&Uo(a.stateNode.containerInfo),Er(a),null;case 10:return Dt(a.type._context),Er(a),null;case 17:return vr(a.type)&&ic(),Er(a),null;case 19:if(Lt(Yt),E=a.memoizedState,E===null)return Er(a),null;if(p=(a.flags&128)!==0,R=E.rendering,R===null)if(p)Rd(E,!1);else{if(An!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(R=cc(s),R!==null){for(a.flags|=128,Rd(E,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,s=p,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,s=R.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ft(Yt,Yt.current&1|2),a.child}s=s.sibling}E.tail!==null&&Pt()>pc&&(a.flags|=128,p=!0,Rd(E,!1),a.lanes=4194304)}else{if(!p)if(s=cc(R),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Rd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!De)return Er(a),null}else 2*Pt()-E.renderingStartTime>pc&&c!==1073741824&&(a.flags|=128,p=!0,Rd(E,!1),a.lanes=4194304);E.isBackwards?(R.sibling=a.child,a.child=R):(c=E.last,c!==null?c.sibling=R:a.child=R,E.last=R)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Pt(),a.sibling=null,c=Yt.current,Ft(Yt,p?c&1|2:c&1),a):(Er(a),null);case 22:case 23:return Gg(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Ii&1073741824&&(Er(a),a.subtreeFlags&6&&(a.flags|=8192)):Er(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function pI(s,a){switch(Te(a),a.tag){case 1:return vr(a.type)&&ic(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ho(),Lt(an),Lt(jn),Gl(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return uc(a),null;case 13:if(Lt(Yt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ht()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Lt(Yt),null;case 4:return Ho(),null;case 10:return Dt(a.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var Th=!1,br=!1,mI=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function fc(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){un(s,a,p)}else c.current=null}function Vg(s,a,c){try{c()}catch(p){un(s,a,p)}}var sE=!1;function gI(s,a){if(Hs=ji,s=$i(),Yu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var R=0,B=-1,z=-1,ne=0,pe=0,me=s,he=null;t:for(;;){for(var Ce;me!==c||y!==0&&me.nodeType!==3||(B=R+y),me!==E||p!==0&&me.nodeType!==3||(z=R+p),me.nodeType===3&&(R+=me.nodeValue.length),(Ce=me.firstChild)!==null;)he=me,me=Ce;for(;;){if(me===s)break t;if(he===c&&++ne===y&&(B=R),he===E&&++pe===p&&(z=R),(Ce=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=Ce}c=B===-1||z===-1?null:{start:B,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for($l={focusedElem:s,selectionRange:c},ji=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Me=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,gn=Me.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:_s(a.type,Ve),gn);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){un(a,a.return,_e)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Me=sE,sE=!1,Me}function Ad(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var E=y.destroy;y.destroy=void 0,E!==void 0&&Vg(a,c,E)}y=y.next}while(y!==p)}}function Sh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function jg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function oE(s){var a=s.alternate;a!==null&&(s.alternate=null,oE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zi],delete a[Hl],delete a[wd],delete a[dh],delete a[yg])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function aE(s){return s.tag===5||s.tag===3||s.tag===4}function lE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||aE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ug(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=tc));else if(p!==4&&(s=s.child,s!==null))for(Ug(s,a,c),s=s.sibling;s!==null;)Ug(s,a,c),s=s.sibling}function Bg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Bg(s,a,c),s=s.sibling;s!==null;)Bg(s,a,c),s=s.sibling}var ir=null,vs=!1;function Fa(s,a,c){for(c=c.child;c!==null;)uE(s,a,c),c=c.sibling}function uE(s,a,c){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Os,c)}catch{}switch(c.tag){case 5:br||fc(c,a);case 6:var p=ir,y=vs;ir=null,Fa(s,a,c),ir=p,vs=y,ir!==null&&(vs?(s=ir,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ir.removeChild(c.stateNode));break;case 18:ir!==null&&(vs?(s=ir,c=c.stateNode,s.nodeType===8?vd(s.parentNode,c):s.nodeType===1&&vd(s,c),Kr(s)):vd(ir,c.stateNode));break;case 4:p=ir,y=vs,ir=c.stateNode.containerInfo,vs=!0,Fa(s,a,c),ir=p,vs=y;break;case 0:case 11:case 14:case 15:if(!br&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var E=y,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Vg(c,a,R),y=y.next}while(y!==p)}Fa(s,a,c);break;case 1:if(!br&&(fc(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(B){un(c,a,B)}Fa(s,a,c);break;case 21:Fa(s,a,c);break;case 22:c.mode&1?(br=(p=br)||c.memoizedState!==null,Fa(s,a,c),br=p):Fa(s,a,c);break;default:Fa(s,a,c)}}function cE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new mI),a.forEach(function(p){var y=kI.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ws(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var E=s,R=a,B=R;e:for(;B!==null;){switch(B.tag){case 5:ir=B.stateNode,vs=!1;break e;case 3:ir=B.stateNode.containerInfo,vs=!0;break e;case 4:ir=B.stateNode.containerInfo,vs=!0;break e}B=B.return}if(ir===null)throw Error(t(160));uE(E,R,y),ir=null,vs=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(ne){un(y,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dE(a,s),a=a.sibling}function dE(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ws(a,s),eo(s),p&4){try{Ad(3,s,s.return),Sh(3,s)}catch(Ve){un(s,s.return,Ve)}try{Ad(5,s,s.return)}catch(Ve){un(s,s.return,Ve)}}break;case 1:ws(a,s),eo(s),p&512&&c!==null&&fc(c,c.return);break;case 5:if(ws(a,s),eo(s),p&512&&c!==null&&fc(c,c.return),s.flags&32){var y=s.stateNode;try{hi(y,"")}catch(Ve){un(s,s.return,Ve)}}if(p&4&&(y=s.stateNode,y!=null)){var E=s.memoizedProps,R=c!==null?c.memoizedProps:E,B=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&Xn(y,E),kl(B,R);var ne=kl(B,E);for(R=0;R<z.length;R+=2){var pe=z[R],me=z[R+1];pe==="style"?bl(y,me):pe==="dangerouslySetInnerHTML"?Oi(y,me):pe==="children"?hi(y,me):W(y,pe,me,ne)}switch(B){case"input":ci(y,E);break;case"textarea":qr(y,E);break;case"select":var he=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Ce=E.value;Ce!=null?fi(y,!!E.multiple,Ce,!1):he!==!!E.multiple&&(E.defaultValue!=null?fi(y,!!E.multiple,E.defaultValue,!0):fi(y,!!E.multiple,E.multiple?[]:"",!1))}y[Hl]=E}catch(Ve){un(s,s.return,Ve)}}break;case 6:if(ws(a,s),eo(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,E=s.memoizedProps;try{y.nodeValue=E}catch(Ve){un(s,s.return,Ve)}}break;case 3:if(ws(a,s),eo(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Kr(a.containerInfo)}catch(Ve){un(s,s.return,Ve)}break;case 4:ws(a,s),eo(s);break;case 13:ws(a,s),eo(s),y=s.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Hg=Pt())),p&4&&cE(s);break;case 22:if(pe=c!==null&&c.memoizedState!==null,s.mode&1?(br=(ne=br)||pe,ws(a,s),br=ne):ws(a,s),eo(s),p&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!pe&&s.mode&1)for(Ne=s,pe=s.child;pe!==null;){for(me=Ne=pe;Ne!==null;){switch(he=Ne,Ce=he.child,he.tag){case 0:case 11:case 14:case 15:Ad(4,he,he.return);break;case 1:fc(he,he.return);var Me=he.stateNode;if(typeof Me.componentWillUnmount=="function"){p=he,c=he.return;try{a=p,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(Ve){un(p,c,Ve)}}break;case 5:fc(he,he.return);break;case 22:if(he.memoizedState!==null){pE(me);continue}}Ce!==null?(Ce.return=he,Ne=Ce):pE(me)}pe=pe.sibling}e:for(pe=null,me=s;;){if(me.tag===5){if(pe===null){pe=me;try{y=me.stateNode,ne?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=me.stateNode,z=me.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null,B.style.display=El("display",R))}catch(Ve){un(s,s.return,Ve)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Ve){un(s,s.return,Ve)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ws(a,s),eo(s),p&4&&cE(s);break;case 21:break;default:ws(a,s),eo(s)}}function eo(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(aE(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(hi(y,""),p.flags&=-33);var E=lE(s);Bg(s,E,y);break;case 3:case 4:var R=p.stateNode.containerInfo,B=lE(s);Ug(s,B,R);break;default:throw Error(t(161))}}catch(z){un(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function yI(s,a,c){Ne=s,fE(s)}function fE(s,a,c){for(var p=(s.mode&1)!==0;Ne!==null;){var y=Ne,E=y.child;if(y.tag===22&&p){var R=y.memoizedState!==null||Th;if(!R){var B=y.alternate,z=B!==null&&B.memoizedState!==null||br;B=Th;var ne=br;if(Th=R,(br=z)&&!ne)for(Ne=y;Ne!==null;)R=Ne,z=R.child,R.tag===22&&R.memoizedState!==null?mE(y):z!==null?(z.return=R,Ne=z):mE(y);for(;E!==null;)Ne=E,fE(E),E=E.sibling;Ne=y,Th=B,br=ne}hE(s)}else y.subtreeFlags&8772&&E!==null?(E.return=y,Ne=E):hE(s)}}function hE(s){for(;Ne!==null;){var a=Ne;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:br||Sh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!br)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:_s(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&mh(a,E,p);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}mh(a,R,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&Kr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}br||a.flags&512&&jg(a)}catch(he){un(a,a.return,he)}}if(a===s){Ne=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function pE(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function mE(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Sh(4,a)}catch(z){un(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){un(a,y,z)}}var E=a.return;try{jg(a)}catch(z){un(a,E,z)}break;case 5:var R=a.return;try{jg(a)}catch(z){un(a,R,z)}}}catch(z){un(a,a.return,z)}if(a===s){Ne=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Ne=B;break}Ne=a.return}}var _I=Math.ceil,kh=Z.ReactCurrentDispatcher,$g=Z.ReactCurrentOwner,Xi=Z.ReactCurrentBatchConfig,Et=0,Hn=null,bn=null,sr=0,Ii=0,hc=ps(0),An=0,Pd=null,Zl=0,Ch=0,Wg=0,Nd=null,ri=null,Hg=0,pc=1/0,qo=null,xh=!1,zg=null,Va=null,Ih=!1,ja=null,Dh=0,Od=0,qg=null,Rh=-1,Ah=0;function Ur(){return Et&6?Pt():Rh!==-1?Rh:Rh=Pt()}function Ua(s){return s.mode&1?Et&2&&sr!==0?sr&-sr:It.transition!==null?(Ah===0&&(Ah=Ln()),Ah):(s=ot,s!==0||(s=window.event,s=s===void 0?16:Ea(s.type)),s):1}function Es(s,a,c,p){if(50<Od)throw Od=0,qg=null,Error(t(185));wi(s,c,p),(!(Et&2)||s!==Hn)&&(s===Hn&&(!(Et&2)&&(Ch|=c),An===4&&Ba(s,sr)),ii(s,p),c===1&&Et===0&&!(a.mode&1)&&(pc=Pt()+500,zl&&Ks()))}function ii(s,a){var c=s.callbackNode;vi(s,a);var p=Pr(s,s===Hn?sr:0);if(p===0)c!==null&&_i(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&_i(c),a===1)s.tag===0?_g(yE.bind(null,s)):ql(yE.bind(null,s)),Wl(function(){!(Et&6)&&Ks()}),c=null;else{switch(Nr(p)){case 1:c=Ns;break;case 4:c=Fi;break;case 16:c=hr;break;case 536870912:c=Rl;break;default:c=hr}c=kE(c,gE.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function gE(s,a){if(Rh=-1,Ah=0,Et&6)throw Error(t(327));var c=s.callbackNode;if(mc()&&s.callbackNode!==c)return null;var p=Pr(s,s===Hn?sr:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=Ph(s,p);else{a=p;var y=Et;Et|=2;var E=vE();(Hn!==s||sr!==a)&&(qo=null,pc=Pt()+500,tu(s,a));do try{EI();break}catch(B){_E(s,B)}while(!0);ln(),kh.current=E,Et=y,bn!==null?a=0:(Hn=null,sr=0,a=An)}if(a!==0){if(a===2&&(y=Zn(s),y!==0&&(p=y,a=Yg(s,y))),a===1)throw c=Pd,tu(s,0),Ba(s,p),ii(s,Pt()),c;if(a===6)Ba(s,p);else{if(y=s.current.alternate,!(p&30)&&!vI(y)&&(a=Ph(s,p),a===2&&(E=Zn(s),E!==0&&(p=E,a=Yg(s,E))),a===1))throw c=Pd,tu(s,0),Ba(s,p),ii(s,Pt()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:nu(s,ri,qo);break;case 3:if(Ba(s,p),(p&130023424)===p&&(a=Hg+500-Pt(),10<a)){if(Pr(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Ur(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=_d(nu.bind(null,s,ri,qo),a);break}nu(s,ri,qo);break;case 4:if(Ba(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var R=31-Mn(p);E=1<<R,R=a[R],R>y&&(y=R),p&=~E}if(p=y,p=Pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*_I(p/1960))-p,10<p){s.timeoutHandle=_d(nu.bind(null,s,ri,qo),p);break}nu(s,ri,qo);break;case 5:nu(s,ri,qo);break;default:throw Error(t(329))}}}return ii(s,Pt()),s.callbackNode===c?gE.bind(null,s):null}function Yg(s,a){var c=Nd;return s.current.memoizedState.isDehydrated&&(tu(s,a).flags|=256),s=Ph(s,a),s!==2&&(a=ri,ri=c,a!==null&&Kg(a)),s}function Kg(s){ri===null?ri=s:ri.push.apply(ri,s)}function vI(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],E=y.getSnapshot;y=y.value;try{if(!Zr(E(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ba(s,a){for(a&=~Wg,a&=~Ch,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Mn(a),p=1<<c;s[c]=-1,a&=~p}}function yE(s){if(Et&6)throw Error(t(327));mc();var a=Pr(s,0);if(!(a&1))return ii(s,Pt()),null;var c=Ph(s,a);if(s.tag!==0&&c===2){var p=Zn(s);p!==0&&(a=p,c=Yg(s,p))}if(c===1)throw c=Pd,tu(s,0),Ba(s,a),ii(s,Pt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,nu(s,ri,qo),ii(s,Pt()),null}function Qg(s,a){var c=Et;Et|=1;try{return s(a)}finally{Et=c,Et===0&&(pc=Pt()+500,zl&&Ks())}}function eu(s){ja!==null&&ja.tag===0&&!(Et&6)&&mc();var a=Et;Et|=1;var c=Xi.transition,p=ot;try{if(Xi.transition=null,ot=1,s)return s()}finally{ot=p,Xi.transition=c,Et=a,!(Et&6)&&Ks()}}function Gg(){Ii=hc.current,Lt(hc)}function tu(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,gg(c)),bn!==null)for(c=bn.return;c!==null;){var p=c;switch(Te(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ic();break;case 3:Ho(),Lt(an),Lt(jn),Gl();break;case 5:uc(p);break;case 4:Ho();break;case 13:Lt(Yt);break;case 19:Lt(Yt);break;case 10:Dt(p.type._context);break;case 22:case 23:Gg()}c=c.return}if(Hn=s,bn=s=$a(s.current,null),sr=Ii=a,An=0,Pd=null,Wg=Ch=Zl=0,ri=Nd=null,Qi!==null){for(a=0;a<Qi.length;a++)if(c=Qi[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,E=c.pending;if(E!==null){var R=E.next;E.next=y,p.next=R}c.pending=p}Qi=null}return s}function _E(s,a){do{var c=bn;try{if(ln(),Xl.current=vh,gh){for(var p=nn.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}gh=!1}if(Jl=0,Wn=Rn=nn=null,Cd=!1,xd=0,$g.current=null,c===null||c.return===null){An=1,Pd=a,bn=null;break}e:{var E=s,R=c.return,B=c,z=a;if(a=sr,B.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ne=z,pe=B,me=pe.tag;if(!(pe.mode&1)&&(me===0||me===11||me===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ce=Ww(R);if(Ce!==null){Ce.flags&=-257,Hw(Ce,R,B,E,a),Ce.mode&1&&$w(E,ne,a),a=Ce,z=ne;var Me=a.updateQueue;if(Me===null){var Ve=new Set;Ve.add(z),a.updateQueue=Ve}else Me.add(z);break e}else{if(!(a&1)){$w(E,ne,a),Xg();break e}z=Error(t(426))}}else if(De&&B.mode&1){var gn=Ww(R);if(gn!==null){!(gn.flags&65536)&&(gn.flags|=256),Hw(gn,R,B,E,a),St(dc(z,B));break e}}E=z=dc(z,B),An!==4&&(An=2),Nd===null?Nd=[E]:Nd.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var J=Uw(E,z,a);Td(E,J);break e;case 1:B=z;var K=E.type,te=E.stateNode;if(!(E.flags&128)&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Va===null||!Va.has(te)))){E.flags|=65536,a&=-a,E.lanes|=a;var _e=Bw(E,B,a);Td(E,_e);break e}}E=E.return}while(E!==null)}EE(c)}catch(je){a=je,bn===c&&c!==null&&(bn=c=c.return);continue}break}while(!0)}function vE(){var s=kh.current;return kh.current=vh,s===null?vh:s}function Xg(){(An===0||An===3||An===2)&&(An=4),Hn===null||!(Zl&268435455)&&!(Ch&268435455)||Ba(Hn,sr)}function Ph(s,a){var c=Et;Et|=2;var p=vE();(Hn!==s||sr!==a)&&(qo=null,tu(s,a));do try{wI();break}catch(y){_E(s,y)}while(!0);if(ln(),Et=c,kh.current=p,bn!==null)throw Error(t(261));return Hn=null,sr=0,An}function wI(){for(;bn!==null;)wE(bn)}function EI(){for(;bn!==null&&!as();)wE(bn)}function wE(s){var a=SE(s.alternate,s,Ii);s.memoizedProps=s.pendingProps,a===null?EE(s):bn=a,$g.current=null}function EE(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=pI(c,a),c!==null){c.flags&=32767,bn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{An=6,bn=null;return}}else if(c=hI(c,a,Ii),c!==null){bn=c;return}if(a=a.sibling,a!==null){bn=a;return}bn=a=s}while(a!==null);An===0&&(An=5)}function nu(s,a,c){var p=ot,y=Xi.transition;try{Xi.transition=null,ot=1,bI(s,a,c,p)}finally{Xi.transition=y,ot=p}return null}function bI(s,a,c,p){do mc();while(ja!==null);if(Et&6)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(yt(s,E),s===Hn&&(bn=Hn=null,sr=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Ih||(Ih=!0,kE(hr,function(){return mc(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=Xi.transition,Xi.transition=null;var R=ot;ot=1;var B=Et;Et|=4,$g.current=null,gI(s,c),dE(c,s),fg($l),ji=!!Hs,$l=Hs=null,s.current=c,yI(c),Lu(),Et=B,ot=R,Xi.transition=E}else s.current=c;if(Ih&&(Ih=!1,ja=s,Dh=y),E=s.pendingLanes,E===0&&(Va=null),Al(c.stateNode),ii(s,Pt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(xh)throw xh=!1,s=zg,zg=null,s;return Dh&1&&s.tag!==0&&mc(),E=s.pendingLanes,E&1?s===qg?Od++:(Od=0,qg=s):Od=0,Ks(),null}function mc(){if(ja!==null){var s=Nr(Dh),a=Xi.transition,c=ot;try{if(Xi.transition=null,ot=16>s?16:s,ja===null)var p=!1;else{if(s=ja,ja=null,Dh=0,Et&6)throw Error(t(331));var y=Et;for(Et|=4,Ne=s.current;Ne!==null;){var E=Ne,R=E.child;if(Ne.flags&16){var B=E.deletions;if(B!==null){for(var z=0;z<B.length;z++){var ne=B[z];for(Ne=ne;Ne!==null;){var pe=Ne;switch(pe.tag){case 0:case 11:case 15:Ad(8,pe,E)}var me=pe.child;if(me!==null)me.return=pe,Ne=me;else for(;Ne!==null;){pe=Ne;var he=pe.sibling,Ce=pe.return;if(oE(pe),pe===ne){Ne=null;break}if(he!==null){he.return=Ce,Ne=he;break}Ne=Ce}}}var Me=E.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var gn=Ve.sibling;Ve.sibling=null,Ve=gn}while(Ve!==null)}}Ne=E}}if(E.subtreeFlags&2064&&R!==null)R.return=E,Ne=R;else e:for(;Ne!==null;){if(E=Ne,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Ad(9,E,E.return)}var J=E.sibling;if(J!==null){J.return=E.return,Ne=J;break e}Ne=E.return}}var K=s.current;for(Ne=K;Ne!==null;){R=Ne;var te=R.child;if(R.subtreeFlags&2064&&te!==null)te.return=R,Ne=te;else e:for(R=K;Ne!==null;){if(B=Ne,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:Sh(9,B)}}catch(je){un(B,B.return,je)}if(B===R){Ne=null;break e}var _e=B.sibling;if(_e!==null){_e.return=B.return,Ne=_e;break e}Ne=B.return}}if(Et=y,Ks(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Os,s)}catch{}p=!0}return p}finally{ot=c,Xi.transition=a}}return!1}function bE(s,a,c){a=dc(c,a),a=Uw(s,a,1),s=ys(s,a,1),a=Ur(),s!==null&&(wi(s,1,a),ii(s,a))}function un(s,a,c){if(s.tag===3)bE(s,s,c);else for(;a!==null;){if(a.tag===3){bE(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Va===null||!Va.has(p))){s=dc(c,s),s=Bw(a,s,1),a=ys(a,s,1),s=Ur(),a!==null&&(wi(a,1,s),ii(a,s));break}}a=a.return}}function TI(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Ur(),s.pingedLanes|=s.suspendedLanes&c,Hn===s&&(sr&c)===c&&(An===4||An===3&&(sr&130023424)===sr&&500>Pt()-Hg?tu(s,0):Wg|=c),ii(s,a)}function TE(s,a){a===0&&(s.mode&1?(a=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):a=1);var c=Ur();s=ti(s,a),s!==null&&(wi(s,a,c),ii(s,c))}function SI(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),TE(s,c)}function kI(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),TE(s,c)}var SE;SE=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||an.current)ni=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return ni=!1,fI(s,a,c);ni=!!(s.flags&131072)}else ni=!1,De&&a.flags&1048576&&xe(a,b,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;bh(s,a),s=a.pendingProps;var y=Oa(a,jn.current);Dn(a,c),y=Eg(null,a,p,s,y,c);var E=bg();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vr(p)?(E=!0,sc(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,bd(a),y.updater=wh,a.stateNode=y,y._reactInternals=a,Ig(a,p,s,c),a=Pg(null,a,p,!0,E,c)):(a.tag=0,De&&E&&Ie(a),jr(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(bh(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=xI(p),s=_s(p,s),y){case 0:a=Ag(null,a,p,s,c);break e;case 1:a=Gw(null,a,p,s,c);break e;case 11:a=zw(null,a,p,s,c);break e;case 14:a=qw(null,a,p,_s(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),Ag(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),Gw(s,a,p,y,c);case 3:e:{if(Xw(a),s===null)throw Error(t(387));p=a.pendingProps,E=a.memoizedState,y=E.element,ac(s,a),Yl(a,p,null,c);var R=a.memoizedState;if(p=R.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=dc(Error(t(423)),a),a=Jw(s,a,p,c,y);break e}else if(p!==y){y=dc(Error(t(424)),a),a=Jw(s,a,p,c,y);break e}else for(Fe=zs(a.stateNode.containerInfo.firstChild),We=a,De=!0,$e=null,c=Fr(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ht(),p===y){a=zo(s,a,c);break e}jr(s,a,p,c)}a=a.child}return a;case 5:return Sd(a),s===null&&rt(a),p=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,R=y.children,nc(p,y)?R=null:E!==null&&nc(p,E)&&(a.flags|=32),Qw(s,a),jr(s,a,R,c),a.child;case 6:return s===null&&rt(a),null;case 13:return Zw(s,a,c);case 4:return Ql(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=xn(a,null,p,c):jr(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),zw(s,a,p,y,c);case 7:return jr(s,a,a.pendingProps,c),a.child;case 8:return jr(s,a,a.pendingProps.children,c),a.child;case 12:return jr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,E=a.memoizedProps,R=y.value,Ft(qt,p._currentValue),p._currentValue=R,E!==null)if(Zr(E.value,R)){if(E.children===y.children&&!an.current){a=zo(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var B=E.dependencies;if(B!==null){R=E.child;for(var z=B.firstContext;z!==null;){if(z.context===p){if(E.tag===1){z=gs(-1,c&-c),z.tag=2;var ne=E.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?z.next=z:(z.next=pe.next,pe.next=z),ne.pending=z}}E.lanes|=c,z=E.alternate,z!==null&&(z.lanes|=c),In(E.return,c,a),B.lanes|=c;break}z=z.next}}else if(E.tag===10)R=E.type===a.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=c,B=R.alternate,B!==null&&(B.lanes|=c),In(R,c,a),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===a){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}jr(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Dn(a,c),y=mn(y),p=p(y),a.flags|=1,jr(s,a,p,c),a.child;case 14:return p=a.type,y=_s(p,a.pendingProps),y=_s(p.type,y),qw(s,a,p,y,c);case 15:return Yw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:_s(p,y),bh(s,a),a.tag=1,vr(p)?(s=!0,sc(a)):s=!1,Dn(a,c),Vw(a,p,y),Ig(a,p,y,c),Pg(null,a,p,!0,s,c);case 19:return tE(s,a,c);case 22:return Kw(s,a,c)}throw Error(t(156,a.tag))};function kE(s,a){return yi(s,a)}function CI(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(s,a,c,p){return new CI(s,a,c,p)}function Jg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xI(s){if(typeof s=="function")return Jg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===Le)return 14}return 2}function $a(s,a){var c=s.alternate;return c===null?(c=Ji(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Nh(s,a,c,p,y,E){var R=2;if(p=s,typeof s=="function")Jg(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case F:return ru(c.children,y,E,a);case N:R=8,y|=8;break;case L:return s=Ji(12,c,a,y|2),s.elementType=L,s.lanes=E,s;case V:return s=Ji(13,c,a,y),s.elementType=V,s.lanes=E,s;case Ue:return s=Ji(19,c,a,y),s.elementType=Ue,s.lanes=E,s;case Ee:return Oh(c,y,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:R=10;break e;case $:R=9;break e;case H:R=11;break e;case Le:R=14;break e;case we:R=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ji(R,c,a,y),a.elementType=s,a.type=p,a.lanes=E,a}function ru(s,a,c,p){return s=Ji(7,s,p,a),s.lanes=c,s}function Oh(s,a,c,p){return s=Ji(22,s,p,a),s.elementType=Ee,s.lanes=c,s.stateNode={isHidden:!1},s}function Zg(s,a,c){return s=Ji(6,s,null,a),s.lanes=c,s}function ey(s,a,c){return a=Ji(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function II(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gr(0),this.expirationTimes=gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ty(s,a,c,p,y,E,R,B,z){return s=new II(s,a,c,B,z),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Ji(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(E),s}function DI(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function CE(s){if(!s)return Yi;s=s._reactInternals;e:{if(Nn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(vr(c))return hh(s,c,a)}return a}function xE(s,a,c,p,y,E,R,B,z){return s=ty(c,p,!0,s,y,E,R,B,z),s.context=CE(null),c=s.current,p=Ur(),y=Ua(c),E=gs(p,y),E.callback=a??null,ys(c,E,y),s.current.lanes=y,wi(s,y,p),ii(s,p),s}function Mh(s,a,c,p){var y=a.current,E=Ur(),R=Ua(y);return c=CE(c),a.context===null?a.context=c:a.pendingContext=c,a=gs(E,R),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=ys(y,a,R),s!==null&&(Es(s,y,R,E),lc(s,y,R)),R}function Lh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function IE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ny(s,a){IE(s,a),(s=s.alternate)&&IE(s,a)}var DE=typeof reportError=="function"?reportError:function(s){console.error(s)};function ry(s){this._internalRoot=s}Fh.prototype.render=ry.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Mh(s,a,null,null)},Fh.prototype.unmount=ry.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;eu(function(){Mh(null,s,null,null)}),a[hs]=null}};function Fh(s){this._internalRoot=s}Fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fu();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ti.length&&a!==0&&a<Ti[c].priority;c++);Ti.splice(c,0,s),c===0&&Io(s)}};function iy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function RE(){}function RI(s,a,c,p,y){if(y){if(typeof p=="function"){var E=p;p=function(){var ne=Lh(R);E.call(ne)}}var R=xE(a,p,s,0,null,!1,!1,"",RE);return s._reactRootContainer=R,s[hs]=R.current,Uo(s.nodeType===8?s.parentNode:s),eu(),R}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var B=p;p=function(){var ne=Lh(z);B.call(ne)}}var z=ty(s,0,!1,null,null,!1,!1,"",RE);return s._reactRootContainer=z,s[hs]=z.current,Uo(s.nodeType===8?s.parentNode:s),eu(function(){Mh(a,z,c,p)}),z}function jh(s,a,c,p,y){var E=c._reactRootContainer;if(E){var R=E;if(typeof y=="function"){var B=y;y=function(){var z=Lh(R);B.call(z)}}Mh(a,R,s,y)}else R=RI(c,a,s,y,p);return Lh(R)}wa=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=on(a.pendingLanes);c!==0&&(Vi(a,c|1),ii(a,Pt()),!(Et&6)&&(pc=Pt()+500,Ks()))}break;case 13:eu(function(){var p=ti(s,1);if(p!==null){var y=Ur();Es(p,s,1,y)}}),ny(s,1)}},xo=function(s){if(s.tag===13){var a=ti(s,134217728);if(a!==null){var c=Ur();Es(a,s,134217728,c)}ny(s,134217728)}},Yr=function(s){if(s.tag===13){var a=Ua(s),c=ti(s,a);if(c!==null){var p=Ur();Es(c,s,a,p)}ny(s,a)}},Fu=function(){return ot},Ei=function(s,a){var c=ot;try{return ot=s,a()}finally{ot=c}},is=function(s,a,c){switch(a){case"input":if(ci(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=qi(p);if(!y)throw Error(t(90));Dr(p),ci(p,y)}}}break;case"textarea":qr(s,c);break;case"select":a=c.value,a!=null&&fi(s,!!c.multiple,a,!1)}},So=Qg,Li=eu;var AI={usingClientEntryPoint:!1,Events:[$o,Wo,qi,Mi,Cl,Qg]},Md={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PI={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=fn(s),s===null?null:s.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Os=Uh.inject(PI),pr=Uh}catch{}}return si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AI,si.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(a))throw Error(t(200));return DI(s,a,null,c)},si.createRoot=function(s,a){if(!iy(s))throw Error(t(299));var c=!1,p="",y=DE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=ty(s,1,!1,null,null,c,!1,p,y),s[hs]=a.current,Uo(s.nodeType===8?s.parentNode:s),new ry(a)},si.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=fn(a),s=s===null?null:s.stateNode,s},si.flushSync=function(s){return eu(s)},si.hydrate=function(s,a,c){if(!Vh(a))throw Error(t(200));return jh(null,s,a,!0,c)},si.hydrateRoot=function(s,a,c){if(!iy(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,E="",R=DE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=xE(a,null,s,1,c??null,y,!1,E,R),s[hs]=a.current,Uo(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Fh(a)},si.render=function(s,a,c){if(!Vh(a))throw Error(t(200));return jh(null,s,a,!1,c)},si.unmountComponentAtNode=function(s){if(!Vh(s))throw Error(t(40));return s._reactRootContainer?(eu(function(){jh(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},si.unstable_batchedUpdates=Qg,si.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Vh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return jh(s,a,c,!1,p)},si.version="18.3.1-next-f1338f8080-20240426",si}var VE;function IS(){if(VE)return ay.exports;VE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ay.exports=WI(),ay.exports}var jE;function HI(){if(jE)return Bh;jE=1;var r=IS();return Bh.createRoot=r.createRoot,Bh.hydrateRoot=r.hydrateRoot,Bh}var zI=HI(),Fd={},UE;function qI(){if(UE)return Fd;UE=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.parse=l,Fd.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,S){const C=new o,A=v.length;if(A<2)return C;const D=(S==null?void 0:S.decode)||g;let M=0;do{const j=v.indexOf("=",M);if(j===-1)break;const W=v.indexOf(";",M),Z=W===-1?A:W;if(j>Z){M=v.lastIndexOf(";",j-1)+1;continue}const ee=u(v,M,j),le=d(v,j,ee),F=v.slice(ee,le);if(C[F]===void 0){let N=u(v,j+1,Z),L=d(v,Z,N);const U=D(v.slice(N,L));C[F]=U}M=Z+1}while(M<A);return C}function u(v,S,C){do{const A=v.charCodeAt(S);if(A!==32&&A!==9)return S}while(++S<C);return C}function d(v,S,C){for(;S>C;){const A=v.charCodeAt(--S);if(A!==32&&A!==9)return S+1}return C}function h(v,S,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const D=A(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let M=v+"="+D;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Fd}qI();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BE="popstate";function YI(r={}){function e(n,i){let{pathname:o,search:l,hash:u}=n.location;return qy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:lf(i)}return QI(e,t,null,r)}function Xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ts(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KI(){return Math.random().toString(36).substring(2,10)}function $E(r,e){return{usr:r.state,key:r.key,idx:e}}function qy(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Yc(e):e,state:t,key:e&&e.key||n||KI()}}function lf({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Yc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function QI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function _(){u="POP";let D=g(),M=D==null?null:D-h;h=D,d&&d({action:u,location:A.location,delta:M})}function v(D,M){u="PUSH";let j=qy(A.location,D,M);h=g()+1;let W=$E(j,h),Z=A.createHref(j);try{l.pushState(W,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(Z)}o&&d&&d({action:u,location:A.location,delta:1})}function S(D,M){u="REPLACE";let j=qy(A.location,D,M);h=g();let W=$E(j,h),Z=A.createHref(j);l.replaceState(W,"",Z),o&&d&&d({action:u,location:A.location,delta:0})}function C(D){let M=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof D=="string"?D:lf(D);return j=j.replace(/ $/,"%20"),Xt(M,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,M)}let A={get action(){return u},get location(){return r(i,l)},listen(D){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(BE,_),d=D,()=>{i.removeEventListener(BE,_),d=null}},createHref(D){return e(i,D)},createURL:C,encodeLocation(D){let M=C(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:S,go(D){return l.go(D)}};return A}function DS(r,e,t="/"){return GI(r,e,t,!1)}function GI(r,e,t,n){let i=typeof e=="string"?Yc(e):e,o=al(i.pathname||"/",t);if(o==null)return null;let l=RS(r);XI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=lD(o);u=oD(l[d],h,n)}return u}function RS(r,e=[],t=[],n=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let h=Xo([n,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),RS(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:iD(h,o.index),routesMeta:g})};return r.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of AS(o.path))i(o,l,d)}),e}function AS(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=AS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function XI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:sD(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var JI=/^:[\w-]+$/,ZI=3,eD=2,tD=1,nD=10,rD=-2,WE=r=>r==="*";function iD(r,e){let t=r.split("/"),n=t.length;return t.some(WE)&&(n+=rD),e&&(n+=eD),t.filter(i=>!WE(i)).reduce((i,o)=>i+(JI.test(o)?ZI:o===""?tD:nD),n)}function sD(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function oD(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=xp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),v=d.route;if(!_&&h&&t&&!n[n.length-1].route.index&&(_=xp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Xo([o,_.pathname]),pathnameBase:fD(Xo([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Xo([o,_.pathnameBase]))}return l}function xp(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=aD(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:g,isOptional:_},v)=>{if(g==="*"){let C=u[v]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[v];return _&&!S?h[g]=void 0:h[g]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function aD(r,e=!1,t=!0){Ts(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function lD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ts(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function al(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function uD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Yc(r):r;return{pathname:t?t.startsWith("/")?t:cD(t,e):e,search:hD(n),hash:pD(i)}}function cD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j_(r){let e=dD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function U_(r,e,t,n=!1){let i;typeof r=="string"?i=Yc(r):(i={...r},Xt(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}u=_>=0?e[_]:"/"}let d=uD(i,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var Xo=r=>r.join("/").replace(/\/\/+/g,"/"),fD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function mD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var gD=["GET",...PS];new Set(gD);var Kc=x.createContext(null);Kc.displayName="DataRouter";var mm=x.createContext(null);mm.displayName="DataRouterState";var NS=x.createContext({isTransitioning:!1});NS.displayName="ViewTransition";var yD=x.createContext(new Map);yD.displayName="Fetchers";var _D=x.createContext(null);_D.displayName="Await";var xs=x.createContext(null);xs.displayName="Navigation";var Tf=x.createContext(null);Tf.displayName="Location";var Is=x.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var B_=x.createContext(null);B_.displayName="RouteError";function vD(r,{relative:e}={}){Xt(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=x.useContext(xs),{hash:i,pathname:o,search:l}=kf(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Xo([t,o])),n.createHref({pathname:u,search:l,hash:i})}function Qc(){return x.useContext(Tf)!=null}function gl(){return Xt(Qc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Tf).location}var OS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MS(r){x.useContext(xs).static||x.useLayoutEffect(r)}function Sf(){let{isDataRoute:r}=x.useContext(Is);return r?PD():wD()}function wD(){Xt(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(Kc),{basename:e,navigator:t}=x.useContext(xs),{matches:n}=x.useContext(Is),{pathname:i}=gl(),o=JSON.stringify(j_(n)),l=x.useRef(!1);return MS(()=>{l.current=!0}),x.useCallback((d,h={})=>{if(Ts(l.current,OS),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=U_(d,JSON.parse(o),i,h.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xo([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,i,r])}x.createContext(null);function $_(){let{matches:r}=x.useContext(Is),e=r[r.length-1];return e?e.params:{}}function kf(r,{relative:e}={}){let{matches:t}=x.useContext(Is),{pathname:n}=gl(),i=JSON.stringify(j_(t));return x.useMemo(()=>U_(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function ED(r,e){return LS(r,e)}function LS(r,e,t,n){var M;Xt(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(xs),{matches:o}=x.useContext(Is),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let j=g&&g.path||"";FS(d,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=gl(),v;if(e){let j=typeof e=="string"?Yc(e):e;Xt(h==="/"||((M=j.pathname)==null?void 0:M.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=_;let S=v.pathname||"/",C=S;if(h!=="/"){let j=h.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=DS(r,{pathname:C});Ts(g||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ts(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=CD(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Xo([h,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Xo([h,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,n);return e&&D?x.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},D):D}function bD(){let r=AD(),e=mD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,l)}var TD=x.createElement(bD,null),SD=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?x.createElement(Is.Provider,{value:this.props.routeContext},x.createElement(B_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kD({routeContext:r,match:e,children:t}){let n=x.useContext(Kc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Is.Provider,{value:r},t)}function CD(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:_}=t,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!_||_[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,g)=>{let _,v=!1,S=null,C=null;t&&(_=o&&h.route.id?o[h.route.id]:void 0,S=h.route.errorElement||TD,l&&(u<0&&g===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):u===g&&(v=!0,C=h.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),D=()=>{let M;return _?M=S:v?M=C:h.route.Component?M=x.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=d,x.createElement(kD,{match:h,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:M})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(SD,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function W_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(r){let e=x.useContext(Kc);return Xt(e,W_(r)),e}function ID(r){let e=x.useContext(mm);return Xt(e,W_(r)),e}function DD(r){let e=x.useContext(Is);return Xt(e,W_(r)),e}function H_(r){let e=DD(r),t=e.matches[e.matches.length-1];return Xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function RD(){return H_("useRouteId")}function AD(){var n;let r=x.useContext(B_),e=ID("useRouteError"),t=H_("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function PD(){let{router:r}=xD("useNavigate"),e=H_("useNavigate"),t=x.useRef(!1);return MS(()=>{t.current=!0}),x.useCallback(async(i,o={})=>{Ts(t.current,OS),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var HE={};function FS(r,e,t){!e&&!HE[r]&&(HE[r]=!0,Ts(!1,t))}x.memo(ND);function ND({routes:r,future:e,state:t}){return LS(r,void 0,t,e)}function zE({to:r,replace:e,state:t,relative:n}){Xt(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(xs);Ts(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Is),{pathname:l}=gl(),u=Sf(),d=U_(r,j_(o),l,n==="path"),h=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:n})},[u,h,n,e,t]),null}function Di(r){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OD({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){Xt(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Yc(t));let{pathname:d="/",search:h="",hash:g="",state:_=null,key:v="default"}=t,S=x.useMemo(()=>{let C=al(d,l);return C==null?null:{location:{pathname:C,search:h,hash:g,state:_,key:v},navigationType:n}},[l,d,h,g,_,v,n]);return Ts(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:x.createElement(xs.Provider,{value:u},x.createElement(Tf.Provider,{children:e,value:S}))}function MD({children:r,location:e}){return ED(Yy(r),e)}function Yy(r,e=[]){let t=[];return x.Children.forEach(r,(n,i)=>{if(!x.isValidElement(n))return;let o=[...e,i];if(n.type===x.Fragment){t.push.apply(t,Yy(n.props.children,o));return}Xt(n.type===Di,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Yy(n.props.children,o)),t.push(l)}),t}var ip="get",sp="application/x-www-form-urlencoded";function gm(r){return r!=null&&typeof r.tagName=="string"}function LD(r){return gm(r)&&r.tagName.toLowerCase()==="button"}function FD(r){return gm(r)&&r.tagName.toLowerCase()==="form"}function VD(r){return gm(r)&&r.tagName.toLowerCase()==="input"}function jD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function UD(r,e){return r.button===0&&(!e||e==="_self")&&!jD(r)}var $h=null;function BD(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dy(r){return r!=null&&!$D.has(r)?(Ts(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sp}"`),null):r}function WD(r,e){let t,n,i,o,l;if(FD(r)){let u=r.getAttribute("action");n=u?al(u,e):null,t=r.getAttribute("method")||ip,i=dy(r.getAttribute("enctype"))||sp,o=new FormData(r)}else if(LD(r)||VD(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||u.getAttribute("action");if(n=d?al(d,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||ip,i=dy(r.getAttribute("formenctype"))||dy(u.getAttribute("enctype"))||sp,o=new FormData(u,r),!BD()){let{name:h,type:g,value:_}=r;if(g==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,_)}}else{if(gm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ip,n=null,i=sp,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function z_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function HD(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qD(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await HD(o,t);return l.links?l.links():[]}return[]}));return GD(n.flat(1).filter(zD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qE(r,e,t,n,i,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var g;return t[h].pathname!==d.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var _;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YD(r,e){return KD(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function KD(r){return[...new Set(r)]}function QD(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function GD(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(QD(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function XD(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function JD(){let r=x.useContext(Kc);return z_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZD(){let r=x.useContext(mm);return z_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var q_=x.createContext(void 0);q_.displayName="FrameworkContext";function VS(){let r=x.useContext(q_);return z_(r,"You must render this element inside a <HydratedRouter> element"),r}function eR(r,e){let t=x.useContext(q_),[n,i]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:_}=e,v=x.useRef(null);x.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let A=M=>{M.forEach(j=>{l(j.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[r]),x.useEffect(()=>{if(n){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[n]);let S=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,v,{}]:[o,v,{onFocus:Vd(u,S),onBlur:Vd(d,C),onMouseEnter:Vd(h,S),onMouseLeave:Vd(g,C),onTouchStart:Vd(_,S)}]:[!1,v,{}]}function Vd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function tR({page:r,...e}){let{router:t}=JD(),n=x.useMemo(()=>DS(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?x.createElement(rR,{page:r,matches:n,...e}):null}function nR(r){let{manifest:e,routeModules:t}=VS(),[n,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return qD(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function rR({page:r,matches:e,...t}){let n=gl(),{manifest:i,routeModules:o}=VS(),{loaderData:l,matches:u}=ZD(),d=x.useMemo(()=>qE(r,e,u,i,n,"data"),[r,e,u,i,n]),h=x.useMemo(()=>qE(r,e,u,i,n,"assets"),[r,e,u,i,n]),g=x.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let S=new Set,C=!1;if(e.forEach(D=>{var j;let M=i.routes[D.route.id];!M||!M.hasLoader||(!d.some(W=>W.route.id===D.route.id)&&D.route.id in l&&((j=o[D.route.id])!=null&&j.shouldRevalidate)||M.hasClientLoader?C=!0:S.add(D.route.id))}),S.size===0)return[];let A=XD(r);return C&&S.size>0&&A.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[l,n,i,d,e,r,o]),_=x.useMemo(()=>YD(h,i),[h,i]),v=nR(h);return x.createElement(x.Fragment,null,g.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),_.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:C})=>x.createElement("link",{key:S,...C})))}function iR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.1.3")}catch{}function sR({basename:r,children:e,window:t}){let n=x.useRef();n.current==null&&(n.current=YI({window:t,v5Compat:!0}));let i=n.current,[o,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(OD,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var US=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jo=x.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:g,viewTransition:_,...v},S){let{basename:C}=x.useContext(xs),A=typeof h=="string"&&US.test(h),D,M=!1;if(typeof h=="string"&&A&&(D=h,jS))try{let L=new URL(window.location.href),U=h.startsWith("//")?new URL(L.protocol+h):new URL(h),$=al(U.pathname,C);U.origin===L.origin&&$!=null?h=$+U.search+U.hash:M=!0}catch{Ts(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=vD(h,{relative:i}),[W,Z,ee]=eR(n,v),le=lR(h,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:_});function F(L){e&&e(L),L.defaultPrevented||le(L)}let N=x.createElement("a",{...v,...ee,href:D||j,onClick:M||o?e:F,ref:iR(S,Z),target:d,"data-discover":!A&&t==="render"?"true":void 0});return W&&!A?x.createElement(x.Fragment,null,N,x.createElement(tR,{page:j})):N});Jo.displayName="Link";var qa=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},g){let _=kf(l,{relative:h.relative}),v=gl(),S=x.useContext(mm),{navigator:C,basename:A}=x.useContext(xs),D=S!=null&&hR(_)&&u===!0,M=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=v.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(j=j.toLowerCase(),W=W?W.toLowerCase():null,M=M.toLowerCase()),W&&A&&(W=al(W,A)||W);const Z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ee=j===M||!i&&j.startsWith(M)&&j.charAt(Z)==="/",le=W!=null&&(W===M||!i&&W.startsWith(M)&&W.charAt(M.length)==="/"),F={isActive:ee,isPending:le,isTransitioning:D},N=ee?e:void 0,L;typeof n=="function"?L=n(F):L=[n,ee?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(F):o;return x.createElement(Jo,{...h,"aria-current":N,className:L,ref:g,style:U,to:l,viewTransition:u},typeof d=="function"?d(F):d)});qa.displayName="NavLink";var oR=x.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=ip,action:u,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:_,...v},S)=>{let C=dR(),A=fR(u,{relative:h}),D=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&US.test(u),j=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let Z=W.nativeEvent.submitter,ee=(Z==null?void 0:Z.getAttribute("formmethod"))||l;C(Z||W.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:i,state:o,relative:h,preventScrollReset:g,viewTransition:_})};return x.createElement("form",{ref:S,method:D,action:A,onSubmit:n?d:j,...v,"data-discover":!M&&r==="render"?"true":void 0})});oR.displayName="Form";function aR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(r){let e=x.useContext(Kc);return Xt(e,aR(r)),e}function lR(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Sf(),d=gl(),h=kf(r,{relative:o});return x.useCallback(g=>{if(UD(g,e)){g.preventDefault();let _=t!==void 0?t:lf(d)===lf(h);u(r,{replace:_,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,t,n,e,r,i,o,l])}var uR=0,cR=()=>`__${String(++uR)}__`;function dR(){let{router:r}=BS("useSubmit"),{basename:e}=x.useContext(xs),t=RD();return x.useCallback(async(n,i={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=WD(n,e);if(i.navigate===!1){let g=i.fetcherKey||cR();await r.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function fR(r,{relative:e}={}){let{basename:t}=x.useContext(xs),n=x.useContext(Is);Xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...kf(r||".",{relative:e})},l=gl();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let g=u.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xo([t,o.pathname])),lf(o)}function hR(r,e={}){let t=x.useContext(NS);Xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=BS("useViewTransitionState"),i=kf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=al(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=al(t.nextLocation.pathname,n)||t.nextLocation.pathname;return xp(i.pathname,l)!=null||xp(i.pathname,o)!=null}new TextEncoder;var $S=IS();const uu=pm($S),WS=x.createContext(void 0),pR=({children:r})=>{const[e,t]=x.useState("cleveland");return k.jsx(WS.Provider,{value:{selectedMuseum:e,setSelectedMuseum:t},children:r})},Gc=()=>{const r=x.useContext(WS);if(!r)throw new Error("useMuseum must be used within a MuseumProvider");return r},HS=x.createContext(void 0),Y_=()=>x.useContext(HS),mR=({children:r})=>{const[e,t]=x.useState("");return k.jsx(HS.Provider,{value:{query:e,setQuery:t},children:r})},zS=x.createContext(void 0),qS=()=>x.useContext(zS),gR=({children:r})=>{const[e,t]=x.useState("artist");return k.jsx(zS.Provider,{value:{type:e,setType:t},children:r})};var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yR=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],u=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,u=l?r[i+1]:0,d=i+2<r.length,h=d?r[i+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|h>>6,S=h&63;d||(S=64,l||(v=64)),n.push(t[g],t[_],t[v],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(YS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||u==null||h==null||_==null)throw new _R;const v=o<<2|u>>4;if(n.push(v),h!==64){const S=u<<4&240|h>>2;if(n.push(S),_!==64){const C=h<<6&192|_;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=YS(r);return KS.encodeByteArray(e,!0)},Ip=function(r){return vR(r).replace(/\./g,"")},QS=function(r){try{return KS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>wR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof YE>"u")return;const r=YE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QS(r[1]);return e&&JSON.parse(e)},ym=()=>{try{return ER()||bR()||TR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GS=r=>{var e,t;return(t=(e=ym())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},SR=r=>{const e=GS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},XS=()=>{var r;return(r=ym())===null||r===void 0?void 0:r.config},JS=r=>{var e;return(e=ym())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ip(JSON.stringify(t)),Ip(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function IR(){var r;const e=(r=ym())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const r=Ir();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class Ds extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=LR,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?FR(o,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ds(i,u,n)}}function FR(r,e){return r.replace(VR,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const VR=/\{\$([^}]+)}/g;function jR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Dp(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(KE(o)&&KE(l)){if(!Dp(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function KE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Hd(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function zd(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function UR(r,e){const t=new BR(r,e);return t.subscribe.bind(t)}class BR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");$R(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class Eu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new kR;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zR(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(r){return r===su?void 0:r}function zR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pt||(pt={}));const YR={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},KR=pt.INFO,QR={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},GR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=QR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=KR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const XR=(r,e)=>e.some(t=>r instanceof t);let QE,GE;function JR(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,Ky=new WeakMap,ek=new WeakMap,hy=new WeakMap,Q_=new WeakMap;function eA(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(tl(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ZS.set(t,r)}).catch(()=>{}),Q_.set(e,r),e}function tA(r){if(Ky.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Ky.set(r,e)}let Qy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ky.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ek.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return tl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nA(r){Qy=r(Qy)}function rA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(py(this),e,...t);return ek.set(n,e.sort?e.sort():[e]),tl(n)}:ZR().includes(r)?function(...e){return r.apply(py(this),e),tl(ZS.get(this))}:function(...e){return tl(r.apply(py(this),e))}}function iA(r){return typeof r=="function"?rA(r):(r instanceof IDBTransaction&&tA(r),XR(r,JR())?new Proxy(r,Qy):r)}function tl(r){if(r instanceof IDBRequest)return eA(r);if(hy.has(r))return hy.get(r);const e=iA(r);return e!==r&&(hy.set(r,e),Q_.set(e,r)),e}const py=r=>Q_.get(r);function sA(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),u=tl(l);return n&&l.addEventListener("upgradeneeded",d=>{n(tl(l.result),d.oldVersion,d.newVersion,tl(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const oA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],my=new Map;function XE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=aA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||oA.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return my.set(e,o),o}nA(r=>({...r,get:(e,t,n)=>XE(e,t)||r.get(e,t,n),has:(e,t)=>!!XE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function uA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gy="@firebase/app",JE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new K_("@firebase/app"),cA="@firebase/app-compat",dA="@firebase/analytics-compat",fA="@firebase/analytics",hA="@firebase/app-check-compat",pA="@firebase/app-check",mA="@firebase/auth",gA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",wA="@firebase/functions",EA="@firebase/functions-compat",bA="@firebase/installations",TA="@firebase/installations-compat",SA="@firebase/messaging",kA="@firebase/messaging-compat",CA="@firebase/performance",xA="@firebase/performance-compat",IA="@firebase/remote-config",DA="@firebase/remote-config-compat",RA="@firebase/storage",AA="@firebase/storage-compat",PA="@firebase/firestore",NA="@firebase/vertexai",OA="@firebase/firestore-compat",MA="firebase",LA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",FA={[Gy]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[dA]:"fire-analytics-compat",[pA]:"fire-app-check",[hA]:"fire-app-check-compat",[mA]:"fire-auth",[gA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[wA]:"fire-fn",[EA]:"fire-fn-compat",[bA]:"fire-iid",[TA]:"fire-iid-compat",[SA]:"fire-fcm",[kA]:"fire-fcm-compat",[CA]:"fire-perf",[xA]:"fire-perf-compat",[IA]:"fire-rc",[DA]:"fire-rc-compat",[RA]:"fire-gcs",[AA]:"fire-gcs-compat",[PA]:"fire-fst",[OA]:"fire-fst-compat",[NA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,VA=new Map,Jy=new Map;function ZE(r,e){try{r.container.addComponent(e)}catch(t){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Nc(r){const e=r.name;if(Jy.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,r);for(const t of Rp.values())ZE(t,r);for(const t of VA.values())ZE(t,r);return!0}function G_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ao(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new Cf("app","Firebase",jA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=LA;function tk(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(t||(t=XS()),!t)throw nl.create("no-options");const o=Rp.get(i);if(o){if(Dp(t,o.options)&&Dp(n,o.config))return o;throw nl.create("duplicate-app",{appName:i})}const l=new qR(i);for(const d of Jy.values())l.addComponent(d);const u=new UA(t,n,l);return Rp.set(i,u),u}function nk(r=Xy){const e=Rp.get(r);if(!e&&r===Xy&&XS())return tk();if(!e)throw nl.create("no-app",{appName:r});return e}function rl(r,e,t){var n;let i=(n=FA[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(u.join(" "));return}Nc(new Eu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",$A=1,uf="firebase-heartbeat-store";let gy=null;function rk(){return gy||(gy=sA(BA,$A,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uf)}catch(t){console.warn(t)}}}}).catch(r=>{throw nl.create("idb-open",{originalErrorMessage:r.message})})),gy}async function WA(r){try{const t=(await rk()).transaction(uf),n=await t.objectStore(uf).get(ik(r));return await t.done,n}catch(e){if(e instanceof Ds)oa.warn(e.message);else{const t=nl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(t.message)}}}async function eb(r,e){try{const n=(await rk()).transaction(uf,"readwrite");await n.objectStore(uf).put(e,ik(r)),await n.done}catch(t){if(t instanceof Ds)oa.warn(t.message);else{const n=nl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oa.warn(n.message)}}}function ik(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,zA=30*24*60*60*1e3;class qA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=zA}),this._storage.overwrite(this._heartbeatsCache))}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tb(),{heartbeatsToSend:n,unsentEntries:i}=YA(this._heartbeatsCache.heartbeats),o=Ip(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oa.warn(t),""}}}function tb(){return new Date().toISOString().substring(0,10)}function YA(r,e=HA){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),nb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nb(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nb(r){return Ip(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){Nc(new Eu("platform-logger",e=>new lA(e),"PRIVATE")),Nc(new Eu("heartbeat",e=>new qA(e),"PRIVATE")),rl(Gy,JE,r),rl(Gy,JE,"esm2017"),rl("fire-js","")}QA("");var GA="firebase",XA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl(GA,XA,"app");function X_(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=sk,ok=new Cf("auth","Firebase",sk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new K_("@firebase/auth");function ZA(r,...e){Ap.logLevel<=pt.WARN&&Ap.warn(`Auth (${Xc}): ${r}`,...e)}function op(r,...e){Ap.logLevel<=pt.ERROR&&Ap.error(`Auth (${Xc}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,...e){throw J_(r,...e)}function uo(r,...e){return J_(r,...e)}function ak(r,e,t){const n=Object.assign(Object.assign({},JA()),{[e]:t});return new Cf("auth","Firebase",n).create(e,{appName:r.name})}function Zo(r){return ak(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J_(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return ok.create(r,...e)}function Ge(r,e,...t){if(!r)throw J_(e,...t)}function Ko(r){const e="INTERNAL ASSERTION FAILED: "+r;throw op(e),new Error(e)}function aa(r,e){r||Ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eP(){return rb()==="http:"||rb()==="https:"}function rb(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eP()||RR()||"connection"in navigator)?navigator.onLine:!0}function nP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.shortDelay=e,this.longDelay=t,aa(t>e,"Short delay should be less than long delay!"),this.isMobile=xR()||AR()}get(){return tP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r,e){aa(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new If(3e4,6e4);function yl(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _l(r,e,t,n,i={}){return uk(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const u=xf(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const h=Object.assign({method:e,headers:d},o);return DR()||(h.referrerPolicy="no-referrer"),lk.fetch()(ck(r,r.config.apiHost,t,u),h)})}async function uk(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},rP),e);try{const i=new oP(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Wh(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Wh(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Wh(r,"user-disabled",l);const g=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ak(r,g,h);Ss(r,g)}}catch(i){if(i instanceof Ds)throw i;Ss(r,"network-request-failed",{message:String(i)})}}async function Df(r,e,t,n,i={}){const o=await _l(r,e,t,n,i);return"mfaPendingCredential"in o&&Ss(r,"multi-factor-auth-required",{_serverResponse:o}),o}function ck(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Z_(r.config,i):`${r.config.apiScheme}://${i}`}function sP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(uo(this.auth,"network-request-failed")),iP.get())})}}function Wh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=uo(r,e,n);return i.customData._tokenResponse=t,i}function ib(r){return r!==void 0&&r.enterprise!==void 0}class aP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lP(r,e){return _l(r,"GET","/v2/recaptchaConfig",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(r,e){return _l(r,"POST","/v1/accounts:delete",e)}async function dk(r,e){return _l(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cP(r,e=!1){const t=Kn(r),n=await t.getIdToken(e),i=ev(n);Ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:ef(yy(i.auth_time)),issuedAtTime:ef(yy(i.iat)),expirationTime:ef(yy(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yy(r){return Number(r)*1e3}function ev(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{const i=QS(t);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sb(r){const e=ev(r);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ds&&dP(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function dP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(r){var e;const t=r.auth,n=await r.getIdToken(),i=await cf(r,dk(t,{idToken:n}));Ge(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fk(o.providerUserInfo):[],u=pP(r.providerData,l),d=r.isAnonymous,h=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=d?h:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new e_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function hP(r){const e=Kn(r);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pP(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function fk(r){return r.map(e=>{var{providerId:t}=e,n=X_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(r,e){const t=await uk(r,{},async()=>{const n=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=ck(r,i,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lk.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gP(r,e){return _l(r,"POST","/v2/accounts:revokeToken",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=sb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await mP(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new xc;return n&&(Ge(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(r,e){Ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qo{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=X_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new e_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await cf(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cP(this,e)}reload(){return hP(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ao(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await cf(this,uP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,u,d,h,g;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:Z,isAnonymous:ee,providerData:le,stsTokenManager:F}=t;Ge(W&&F,e,"internal-error");const N=xc.fromJSON(this.name,F);Ge(typeof W=="string",e,"internal-error"),Ha(_,e.name),Ha(v,e.name),Ge(typeof Z=="boolean",e,"internal-error"),Ge(typeof ee=="boolean",e,"internal-error"),Ha(S,e.name),Ha(C,e.name),Ha(A,e.name),Ha(D,e.name),Ha(M,e.name),Ha(j,e.name);const L=new Qo({uid:W,auth:e,email:v,emailVerified:Z,displayName:_,isAnonymous:ee,photoURL:C,phoneNumber:S,tenantId:A,stsTokenManager:N,createdAt:M,lastLoginAt:j});return le&&Array.isArray(le)&&(L.providerData=le.map(U=>Object.assign({},U))),D&&(L._redirectEventId=D),L}static async _fromIdTokenResponse(e,t,n=!1){const i=new xc;i.updateFromServerResponse(t);const o=new Qo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Pp(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?fk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new xc;u.updateFromIdToken(n);const d=new Qo({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new e_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;function Go(r){aa(r instanceof Function,"Expected a class definition");let e=ob.get(r);return e?(aa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ob.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hk.type="NONE";const ab=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e,t){return`firebase:${r}:${e}:${t}`}class Ic{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=ap(this.userKey,i.apiKey,o),this.fullPersistenceKey=ap("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ic(Go(ab),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Go(ab);const l=ap(n,e.config.apiKey,e.name);let u=null;for(const h of t)try{const g=await h._get(l);if(g){const _=Qo._fromJSON(e,g);h!==o&&(u=_),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ic(o,e,n):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Ic(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vk(e))return"Blackberry";if(wk(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||gk(e))&&!e.includes("edge/"))return"Chrome";if(_k(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function pk(r=Ir()){return/firefox\//i.test(r)}function mk(r=Ir()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(r=Ir()){return/crios\//i.test(r)}function yk(r=Ir()){return/iemobile/i.test(r)}function _k(r=Ir()){return/android/i.test(r)}function vk(r=Ir()){return/blackberry/i.test(r)}function wk(r=Ir()){return/webos/i.test(r)}function tv(r=Ir()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yP(r=Ir()){var e;return tv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _P(){return PR()&&document.documentMode===10}function Ek(r=Ir()){return tv(r)||_k(r)||wk(r)||vk(r)||/windows phone/i.test(r)||yk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(r,e=[]){let t;switch(r){case"Browser":t=lb(Ir());break;case"Worker":t=`${lb(Ir())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(r,e={}){return _l(r,"GET","/v2/passwordPolicy",yl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=6;class bP{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:EP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ub(this),this.idTokenSubscription=new ub(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Go(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dk(this,{idToken:e}),n=await Qo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ao(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ao(this.app))return Promise.reject(Zo(this));const t=e?Kn(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ao(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ao(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wP(this),t=new bP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await gP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Go(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[Go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Du(r){return Kn(r)}class ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=UR(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(r){_m=r}function Tk(r){return _m.loadJS(r)}function kP(){return _m.recaptchaEnterpriseScript}function CP(){return _m.gapiScript}function xP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class IP{constructor(){this.enterprise=new DP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RP="recaptcha-enterprise",Sk="NO_RECAPTCHA";class AP{constructor(e){this.type=RP,this.auth=Du(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{lP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new aP(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;ib(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(Sk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(u=>{if(!t&&ib(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=kP();d.length!==0&&(d+=u),Tk(d).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function cb(r,e,t,n=!1,i=!1){const o=new AP(r);let l;if(i)l=Sk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function t_(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cb(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await cb(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(r,e){const t=G_(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Dp(o,e??{}))return i;Ss(i,"already-initialized")}return t.initialize({options:e})}function NP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Go);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function OP(r,e,t){const n=Du(r);Ge(n._canInitEmulator,n,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=kk(e),{host:l,port:u}=MP(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),LP()}function kk(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MP(r){const e=kk(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:db(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:db(l)}}}function db(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ko("not implemented")}_getIdTokenResponse(e){return Ko("not implemented")}_linkToIdToken(e,t){return Ko("not implemented")}_getReauthenticationResolver(e){return Ko("not implemented")}}async function FP(r,e){return _l(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(r,e){return Df(r,"POST","/v1/accounts:signInWithPassword",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(r,e){return Df(r,"POST","/v1/accounts:signInWithEmailLink",yl(r,e))}async function UP(r,e){return Df(r,"POST","/v1/accounts:signInWithEmailLink",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends nv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new df(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new df(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,t,"signInWithPassword",VP);case"emailLink":return jP(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,n,"signUpPassword",FP);case"emailLink":return UP(e,{idToken:t,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(r,e){return Df(r,"POST","/v1/accounts:signInWithIdp",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="http://localhost";class bu extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ss("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=X_(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new bu(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dc(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dc(e,t)}buildRequest(){const e={requestUri:BP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WP(r){const e=Hd(zd(r)).link,t=e?Hd(zd(e)).deep_link_id:null,n=Hd(zd(r)).deep_link_id;return(n?Hd(zd(n)).link:null)||n||t||e||r}class rv{constructor(e){var t,n,i,o,l,u;const d=Hd(zd(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(n=d.oobCode)!==null&&n!==void 0?n:null,_=$P((i=d.mode)!==null&&i!==void 0?i:null);Ge(h&&g&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=WP(e);try{return new rv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.providerId=Jc.PROVIDER_ID}static credential(e,t){return df._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rv.parseLink(t);return Ge(n,"argument-error"),df._fromEmailAndCode(e,n.code,n.tenantId)}}Jc.PROVIDER_ID="password";Jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends Ck{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Rf{constructor(){super("facebook.com")}static credential(e){return bu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bu._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Qa.credential(t,n)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Rf{constructor(){super("github.com")}static credential(e){return bu._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Rf{constructor(){super("twitter.com")}static credential(e,t){return bu._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xa.credential(t,n)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(r,e){return Df(r,"POST","/v1/accounts:signUp",yl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Qo._fromIdTokenResponse(e,n,i),l=fb(n);return new Tu({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=fb(n);return new Tu({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function fb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Ds{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Np(e,t,n,i)}}function xk(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Np._fromErrorAndOperation(r,o,e,n):o})}async function zP(r,e,t=!1){const n=await cf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Tu._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(r,e,t=!1){const{auth:n}=r;if(ao(n.app))return Promise.reject(Zo(n));const i="reauthenticate";try{const o=await cf(r,xk(n,i,e,r),t);Ge(o.idToken,n,"internal-error");const l=ev(o.idToken);Ge(l,n,"internal-error");const{sub:u}=l;return Ge(r.uid===u,n,"user-mismatch"),Tu._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ss(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(r,e,t=!1){if(ao(r.app))return Promise.reject(Zo(r));const n="signIn",i=await xk(r,n,e),o=await Tu._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function YP(r,e){return Ik(Du(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(r){const e=Du(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KP(r,e,t){if(ao(r.app))return Promise.reject(Zo(r));const n=Du(r),l=await t_(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Dk(r),d}),u=await Tu._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function QP(r,e,t){return ao(r.app)?Promise.reject(Zo(r)):YP(Kn(r),Jc.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Dk(r),n})}function GP(r,e,t,n){return Kn(r).onIdTokenChanged(e,t,n)}function XP(r,e,t){return Kn(r).beforeAuthStateChanged(e,t)}function JP(r){return Kn(r).signOut()}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,eN=10;class Ak extends Rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ek(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);_P()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eN):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ak.type="LOCAL";const tN=Ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk extends Rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pk.type="SESSION";const Nk=Pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new vm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,o)),d=await nN(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=iv("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(){return window}function iN(r){co().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof co().WorkerGlobalScope<"u"&&typeof co().importScripts=="function"}async function sN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aN(){return Ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebaseLocalStorageDb",lN=1,Mp="firebaseLocalStorage",Lk="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wm(r,e){return r.transaction([Mp],e?"readwrite":"readonly").objectStore(Mp)}function uN(){const r=indexedDB.deleteDatabase(Mk);return new Af(r).toPromise()}function n_(){const r=indexedDB.open(Mk,lN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Mp,{keyPath:Lk})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Mp)?e(n):(n.close(),await uN(),e(await n_()))})})}async function hb(r,e,t){const n=wm(r,!0).put({[Lk]:e,value:t});return new Af(n).toPromise()}async function cN(r,e){const t=wm(r,!1).get(e),n=await new Af(t).toPromise();return n===void 0?null:n.value}function pb(r,e){const t=wm(r,!0).delete(e);return new Af(t).toPromise()}const dN=800,fN=3;class Fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>fN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sN(),!this.activeServiceWorker)return;this.sender=new rN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await hb(e,Op,"1"),await pb(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>cN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wm(i,!1).getAll();return new Af(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fk.type="LOCAL";const hN=Fk;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r,e){return e?Go(e):(Ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mN(r){return Ik(r.auth,new sv(r),r.bypassAuthState)}function gN(r){const{auth:e,user:t}=r;return Ge(t,e,"internal-error"),qP(t,new sv(r),r.bypassAuthState)}async function yN(r){const{auth:e,user:t}=r;return Ge(t,e,"internal-error"),zP(t,new sv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return yN;case"reauthViaPopup":case"reauthViaRedirect":return gN;default:Ss(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new If(2e3,1e4);class kc extends Vk{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,kc.currentPopupAction&&kc.currentPopupAction.cancel(),kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_N.get())};e()}}kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",lp=new Map;class wN extends Vk{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=lp.get(this.auth._key());if(!e){try{const n=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}lp.set(this.auth._key(),e)}return this.bypassAuthState||lp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(r,e){const t=SN(e),n=TN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function bN(r,e){lp.set(r._key(),e)}function TN(r){return Go(r._redirectPersistence)}function SN(r){return ap(vN,r.config.apiKey,r.name)}async function kN(r,e,t=!1){if(ao(r.app))return Promise.reject(Zo(r));const n=Du(r),i=pN(n,e),l=await new wN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=10*60*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jk(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jk({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jk(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e={}){return _l(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AN=/^https?/;async function PN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DN(r);for(const t of e)try{if(NN(t))return}catch{}Ss(r,"unauthorized-domain")}function NN(r){const e=Zy(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!AN.test(t))return!1;if(RN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new If(3e4,6e4);function gb(){const r=co().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function MN(r){return new Promise((e,t)=>{var n,i,o;function l(){gb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gb(),t(uo(r,"network-request-failed"))},timeout:ON.get()})}if(!((i=(n=co().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=co().gapi)===null||o===void 0)&&o.load)l();else{const u=xP("iframefcb");return co()[u]=()=>{gapi.load?l():t(uo(r,"network-request-failed"))},Tk(`${CP()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw up=null,e})}let up=null;function LN(r){return up=up||MN(r),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new If(5e3,15e3),VN="__/auth/iframe",jN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(r){const e=r.config;Ge(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Z_(e,jN):`https://${r.config.authDomain}/${VN}`,n={apiKey:e.apiKey,appName:r.name,v:Xc},i=BN.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${xf(n).slice(1)}`}async function WN(r){const e=await LN(r),t=co().gapi;return Ge(t,r,"internal-error"),e.open({where:document.body,url:$N(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=uo(r,"network-request-failed"),u=co().setTimeout(()=>{o(l)},FN.get());function d(){co().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zN=500,qN=600,YN="_blank",KN="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QN(r,e,t,n=zN,i=qN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},HN),{width:n.toString(),height:i.toString(),top:o,left:l}),h=Ir().toLowerCase();t&&(u=gk(h)?YN:t),pk(h)&&(e=e||KN,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[S,C])=>`${v}${S}=${C},`,"");if(yP(h)&&u!=="_self")return GN(e||"",u),new yb(null);const _=window.open(e||"",u,g);Ge(_,r,"popup-blocked");try{_.focus()}catch{}return new yb(_)}function GN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",JN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function _b(r,e,t,n,i,o){Ge(r.config.authDomain,r,"auth-domain-config-required"),Ge(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Xc,eventId:i};if(e instanceof Ck){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",jR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Rf){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await r._getAppCheckToken(),h=d?`#${ZN}=${encodeURIComponent(d)}`:"";return`${e1(r)}?${xf(u).slice(1)}${h}`}function e1({config:r}){return r.emulator?Z_(r,JN):`https://${r.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class t1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nk,this._completeRedirectFn=kN,this._overrideRedirectResult=bN}async _openPopup(e,t,n,i){var o;aa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _b(e,t,n,Zy(),i);return QN(e,l,iv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await _b(e,t,n,Zy(),i);return iN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(aa(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await WN(e),n=new xN(e);return t.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_y,{type:_y},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_y];l!==void 0&&t(!!l),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ek()||mk()||tv()}}const n1=t1;var vb="@firebase/auth",wb="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s1(r){Nc(new Eu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bk(r)},h=new TP(n,i,o,d);return NP(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Nc(new Eu("auth-internal",e=>{const t=Du(e.getProvider("auth").getImmediate());return(n=>new r1(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rl(vb,wb,i1(r)),rl(vb,wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=5*60,a1=JS("authIdTokenMaxAge")||o1;let Eb=null;const l1=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>a1)return;const i=t==null?void 0:t.token;Eb!==i&&(Eb=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function u1(r=nk()){const e=G_(r,"auth");if(e.isInitialized())return e.getImmediate();const t=PP(r,{popupRedirectResolver:n1,persistence:[hN,tN,Nk]}),n=JS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=l1(o.toString());XP(t,l,()=>l(t.currentUser)),GP(t,u=>l(u))}}const i=GS("auth");return i&&OP(t,`http://${i}`),t}function c1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=uo("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",c1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s1("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var il,Uk;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,N){function L(){}L.prototype=N.prototype,F.D=N.prototype,F.prototype=new L,F.prototype.constructor=F,F.C=function(U,$,H){for(var V=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)V[Ue-2]=arguments[Ue];return N.prototype[$].apply(U,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,N,L){L||(L=0);var U=Array(16);if(typeof N=="string")for(var $=0;16>$;++$)U[$]=N.charCodeAt(L++)|N.charCodeAt(L++)<<8|N.charCodeAt(L++)<<16|N.charCodeAt(L++)<<24;else for($=0;16>$;++$)U[$]=N[L++]|N[L++]<<8|N[L++]<<16|N[L++]<<24;N=F.g[0],L=F.g[1],$=F.g[2];var H=F.g[3],V=N+(H^L&($^H))+U[0]+3614090360&4294967295;N=L+(V<<7&4294967295|V>>>25),V=H+($^N&(L^$))+U[1]+3905402710&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(L^H&(N^L))+U[2]+606105819&4294967295,$=H+(V<<17&4294967295|V>>>15),V=L+(N^$&(H^N))+U[3]+3250441966&4294967295,L=$+(V<<22&4294967295|V>>>10),V=N+(H^L&($^H))+U[4]+4118548399&4294967295,N=L+(V<<7&4294967295|V>>>25),V=H+($^N&(L^$))+U[5]+1200080426&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(L^H&(N^L))+U[6]+2821735955&4294967295,$=H+(V<<17&4294967295|V>>>15),V=L+(N^$&(H^N))+U[7]+4249261313&4294967295,L=$+(V<<22&4294967295|V>>>10),V=N+(H^L&($^H))+U[8]+1770035416&4294967295,N=L+(V<<7&4294967295|V>>>25),V=H+($^N&(L^$))+U[9]+2336552879&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(L^H&(N^L))+U[10]+4294925233&4294967295,$=H+(V<<17&4294967295|V>>>15),V=L+(N^$&(H^N))+U[11]+2304563134&4294967295,L=$+(V<<22&4294967295|V>>>10),V=N+(H^L&($^H))+U[12]+1804603682&4294967295,N=L+(V<<7&4294967295|V>>>25),V=H+($^N&(L^$))+U[13]+4254626195&4294967295,H=N+(V<<12&4294967295|V>>>20),V=$+(L^H&(N^L))+U[14]+2792965006&4294967295,$=H+(V<<17&4294967295|V>>>15),V=L+(N^$&(H^N))+U[15]+1236535329&4294967295,L=$+(V<<22&4294967295|V>>>10),V=N+($^H&(L^$))+U[1]+4129170786&4294967295,N=L+(V<<5&4294967295|V>>>27),V=H+(L^$&(N^L))+U[6]+3225465664&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^L&(H^N))+U[11]+643717713&4294967295,$=H+(V<<14&4294967295|V>>>18),V=L+(H^N&($^H))+U[0]+3921069994&4294967295,L=$+(V<<20&4294967295|V>>>12),V=N+($^H&(L^$))+U[5]+3593408605&4294967295,N=L+(V<<5&4294967295|V>>>27),V=H+(L^$&(N^L))+U[10]+38016083&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^L&(H^N))+U[15]+3634488961&4294967295,$=H+(V<<14&4294967295|V>>>18),V=L+(H^N&($^H))+U[4]+3889429448&4294967295,L=$+(V<<20&4294967295|V>>>12),V=N+($^H&(L^$))+U[9]+568446438&4294967295,N=L+(V<<5&4294967295|V>>>27),V=H+(L^$&(N^L))+U[14]+3275163606&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^L&(H^N))+U[3]+4107603335&4294967295,$=H+(V<<14&4294967295|V>>>18),V=L+(H^N&($^H))+U[8]+1163531501&4294967295,L=$+(V<<20&4294967295|V>>>12),V=N+($^H&(L^$))+U[13]+2850285829&4294967295,N=L+(V<<5&4294967295|V>>>27),V=H+(L^$&(N^L))+U[2]+4243563512&4294967295,H=N+(V<<9&4294967295|V>>>23),V=$+(N^L&(H^N))+U[7]+1735328473&4294967295,$=H+(V<<14&4294967295|V>>>18),V=L+(H^N&($^H))+U[12]+2368359562&4294967295,L=$+(V<<20&4294967295|V>>>12),V=N+(L^$^H)+U[5]+4294588738&4294967295,N=L+(V<<4&4294967295|V>>>28),V=H+(N^L^$)+U[8]+2272392833&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^L)+U[11]+1839030562&4294967295,$=H+(V<<16&4294967295|V>>>16),V=L+($^H^N)+U[14]+4259657740&4294967295,L=$+(V<<23&4294967295|V>>>9),V=N+(L^$^H)+U[1]+2763975236&4294967295,N=L+(V<<4&4294967295|V>>>28),V=H+(N^L^$)+U[4]+1272893353&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^L)+U[7]+4139469664&4294967295,$=H+(V<<16&4294967295|V>>>16),V=L+($^H^N)+U[10]+3200236656&4294967295,L=$+(V<<23&4294967295|V>>>9),V=N+(L^$^H)+U[13]+681279174&4294967295,N=L+(V<<4&4294967295|V>>>28),V=H+(N^L^$)+U[0]+3936430074&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^L)+U[3]+3572445317&4294967295,$=H+(V<<16&4294967295|V>>>16),V=L+($^H^N)+U[6]+76029189&4294967295,L=$+(V<<23&4294967295|V>>>9),V=N+(L^$^H)+U[9]+3654602809&4294967295,N=L+(V<<4&4294967295|V>>>28),V=H+(N^L^$)+U[12]+3873151461&4294967295,H=N+(V<<11&4294967295|V>>>21),V=$+(H^N^L)+U[15]+530742520&4294967295,$=H+(V<<16&4294967295|V>>>16),V=L+($^H^N)+U[2]+3299628645&4294967295,L=$+(V<<23&4294967295|V>>>9),V=N+($^(L|~H))+U[0]+4096336452&4294967295,N=L+(V<<6&4294967295|V>>>26),V=H+(L^(N|~$))+U[7]+1126891415&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~L))+U[14]+2878612391&4294967295,$=H+(V<<15&4294967295|V>>>17),V=L+(H^($|~N))+U[5]+4237533241&4294967295,L=$+(V<<21&4294967295|V>>>11),V=N+($^(L|~H))+U[12]+1700485571&4294967295,N=L+(V<<6&4294967295|V>>>26),V=H+(L^(N|~$))+U[3]+2399980690&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~L))+U[10]+4293915773&4294967295,$=H+(V<<15&4294967295|V>>>17),V=L+(H^($|~N))+U[1]+2240044497&4294967295,L=$+(V<<21&4294967295|V>>>11),V=N+($^(L|~H))+U[8]+1873313359&4294967295,N=L+(V<<6&4294967295|V>>>26),V=H+(L^(N|~$))+U[15]+4264355552&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~L))+U[6]+2734768916&4294967295,$=H+(V<<15&4294967295|V>>>17),V=L+(H^($|~N))+U[13]+1309151649&4294967295,L=$+(V<<21&4294967295|V>>>11),V=N+($^(L|~H))+U[4]+4149444226&4294967295,N=L+(V<<6&4294967295|V>>>26),V=H+(L^(N|~$))+U[11]+3174756917&4294967295,H=N+(V<<10&4294967295|V>>>22),V=$+(N^(H|~L))+U[2]+718787259&4294967295,$=H+(V<<15&4294967295|V>>>17),V=L+(H^($|~N))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+N&4294967295,F.g[1]=F.g[1]+($+(V<<21&4294967295|V>>>11))&4294967295,F.g[2]=F.g[2]+$&4294967295,F.g[3]=F.g[3]+H&4294967295}n.prototype.u=function(F,N){N===void 0&&(N=F.length);for(var L=N-this.blockSize,U=this.B,$=this.h,H=0;H<N;){if($==0)for(;H<=L;)i(this,F,H),H+=this.blockSize;if(typeof F=="string"){for(;H<N;)if(U[$++]=F.charCodeAt(H++),$==this.blockSize){i(this,U),$=0;break}}else for(;H<N;)if(U[$++]=F[H++],$==this.blockSize){i(this,U),$=0;break}}this.h=$,this.o+=N},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var N=1;N<F.length-8;++N)F[N]=0;var L=8*this.o;for(N=F.length-8;N<F.length;++N)F[N]=L&255,L/=256;for(this.u(F),F=Array(16),N=L=0;4>N;++N)for(var U=0;32>U;U+=8)F[L++]=this.g[N]>>>U&255;return F};function o(F,N){var L=u;return Object.prototype.hasOwnProperty.call(L,F)?L[F]:L[F]=N(F)}function l(F,N){this.h=N;for(var L=[],U=!0,$=F.length-1;0<=$;$--){var H=F[$]|0;U&&H==N||(L[$]=H,U=!1)}this.g=L}var u={};function d(F){return-128<=F&&128>F?o(F,function(N){return new l([N|0],0>N?-1:0)}):new l([F|0],0>F?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return _;if(0>F)return D(h(-F));for(var N=[],L=1,U=0;F>=L;U++)N[U]=F/L|0,L*=4294967296;return new l(N,0)}function g(F,N){if(F.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(F.charAt(0)=="-")return D(g(F.substring(1),N));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(N,8)),U=_,$=0;$<F.length;$+=8){var H=Math.min(8,F.length-$),V=parseInt(F.substring($,$+H),N);8>H?(H=h(Math.pow(N,H)),U=U.j(H).add(h(V))):(U=U.j(L),U=U.add(h(V)))}return U}var _=d(0),v=d(1),S=d(16777216);r=l.prototype,r.m=function(){if(A(this))return-D(this).m();for(var F=0,N=1,L=0;L<this.g.length;L++){var U=this.i(L);F+=(0<=U?U:4294967296+U)*N,N*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(C(this))return"0";if(A(this))return"-"+D(this).toString(F);for(var N=h(Math.pow(F,6)),L=this,U="";;){var $=Z(L,N).g;L=M(L,$.j(N));var H=((0<L.g.length?L.g[0]:L.h)>>>0).toString(F);if(L=$,C(L))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function C(F){if(F.h!=0)return!1;for(var N=0;N<F.g.length;N++)if(F.g[N]!=0)return!1;return!0}function A(F){return F.h==-1}r.l=function(F){return F=M(this,F),A(F)?-1:C(F)?0:1};function D(F){for(var N=F.g.length,L=[],U=0;U<N;U++)L[U]=~F.g[U];return new l(L,~F.h).add(v)}r.abs=function(){return A(this)?D(this):this},r.add=function(F){for(var N=Math.max(this.g.length,F.g.length),L=[],U=0,$=0;$<=N;$++){var H=U+(this.i($)&65535)+(F.i($)&65535),V=(H>>>16)+(this.i($)>>>16)+(F.i($)>>>16);U=V>>>16,H&=65535,V&=65535,L[$]=V<<16|H}return new l(L,L[L.length-1]&-2147483648?-1:0)};function M(F,N){return F.add(D(N))}r.j=function(F){if(C(this)||C(F))return _;if(A(this))return A(F)?D(this).j(D(F)):D(D(this).j(F));if(A(F))return D(this.j(D(F)));if(0>this.l(S)&&0>F.l(S))return h(this.m()*F.m());for(var N=this.g.length+F.g.length,L=[],U=0;U<2*N;U++)L[U]=0;for(U=0;U<this.g.length;U++)for(var $=0;$<F.g.length;$++){var H=this.i(U)>>>16,V=this.i(U)&65535,Ue=F.i($)>>>16,Le=F.i($)&65535;L[2*U+2*$]+=V*Le,j(L,2*U+2*$),L[2*U+2*$+1]+=H*Le,j(L,2*U+2*$+1),L[2*U+2*$+1]+=V*Ue,j(L,2*U+2*$+1),L[2*U+2*$+2]+=H*Ue,j(L,2*U+2*$+2)}for(U=0;U<N;U++)L[U]=L[2*U+1]<<16|L[2*U];for(U=N;U<2*N;U++)L[U]=0;return new l(L,0)};function j(F,N){for(;(F[N]&65535)!=F[N];)F[N+1]+=F[N]>>>16,F[N]&=65535,N++}function W(F,N){this.g=F,this.h=N}function Z(F,N){if(C(N))throw Error("division by zero");if(C(F))return new W(_,_);if(A(F))return N=Z(D(F),N),new W(D(N.g),D(N.h));if(A(N))return N=Z(F,D(N)),new W(D(N.g),N.h);if(30<F.g.length){if(A(F)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var L=v,U=N;0>=U.l(F);)L=ee(L),U=ee(U);var $=le(L,1),H=le(U,1);for(U=le(U,2),L=le(L,2);!C(U);){var V=H.add(U);0>=V.l(F)&&($=$.add(L),H=V),U=le(U,1),L=le(L,1)}return N=M(F,$.j(N)),new W($,N)}for($=_;0<=F.l(N);){for(L=Math.max(1,Math.floor(F.m()/N.m())),U=Math.ceil(Math.log(L)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=h(L),V=H.j(N);A(V)||0<V.l(F);)L-=U,H=h(L),V=H.j(N);C(H)&&(H=v),$=$.add(H),F=M(F,V)}return new W($,F)}r.A=function(F){return Z(this,F).h},r.and=function(F){for(var N=Math.max(this.g.length,F.g.length),L=[],U=0;U<N;U++)L[U]=this.i(U)&F.i(U);return new l(L,this.h&F.h)},r.or=function(F){for(var N=Math.max(this.g.length,F.g.length),L=[],U=0;U<N;U++)L[U]=this.i(U)|F.i(U);return new l(L,this.h|F.h)},r.xor=function(F){for(var N=Math.max(this.g.length,F.g.length),L=[],U=0;U<N;U++)L[U]=this.i(U)^F.i(U);return new l(L,this.h^F.h)};function ee(F){for(var N=F.g.length+1,L=[],U=0;U<N;U++)L[U]=F.i(U)<<1|F.i(U-1)>>>31;return new l(L,F.h)}function le(F,N){var L=N>>5;N%=32;for(var U=F.g.length-L,$=[],H=0;H<U;H++)$[H]=0<N?F.i(H+L)>>>N|F.i(H+L+1)<<32-N:F.i(H+L);return new l($,F.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Uk=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,il=l}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bk,qd,$k,cp,r_,Wk,Hk,zk;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(f,w){if(w)e:{var T=n;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in T))break e;T=T[X]}f=f[f.length-1],O=T[f],w=w(O),w!=O&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var T=0,O=!1,X={next:function(){if(!O&&T<f.length){var se=T++;return{value:w(se,f[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,T){return f.call.apply(f.bind,arguments)}function _(f,w,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),f.apply(w,X)}}return function(){return f.apply(w,arguments)}}function v(f,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function S(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,X,se){for(var ve=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ve[Ct-2]=arguments[Ct];return w.prototype[X].apply(O,ve)}}function A(f){const w=f.length;if(0<w){const T=Array(w);for(let O=0;O<w;O++)T[O]=f[O];return T}return[]}function D(f,w){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const X=f.length||0,se=O.length||0;f.length=X+se;for(let ve=0;ve<se;ve++)f[X+ve]=O[ve]}else f.push(O)}}class M{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function j(f){return/^[\s\xa0]*$/.test(f)}function W(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var ee=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function le(f,w,T){for(const O in f)w.call(T,f[O],O,f)}function F(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function N(f){const w={};for(const T in f)w[T]=f[T];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,w){let T,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(T in O)f[T]=O[T];for(let se=0;se<L.length;se++)T=L[se],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function $(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function H(f){u.setTimeout(()=>{throw f},0)}function V(){var f=be;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class Ue{constructor(){this.h=this.g=null}add(w,T){const O=Le.get();O.set(w,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Le=new M(()=>new we,f=>f.reset());class we{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ie=!1,be=new Ue,Q=()=>{const f=u.Promise.resolve(void 0);Ee=()=>{f.then(Y)}};var Y=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(T){H(T)}var w=Le;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}ie=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return f}();function Ke(f,w){if(ke.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(ee){e:{try{Z(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Qe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ke.aa.h.call(this)}}C(Ke,ke);var Qe={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ct(f,w,T,O,X){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!O,this.ha=X,this.key=++ye,this.da=this.fa=!1}function $t(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cr(f){this.src=f,this.g={},this.h=0}cr.prototype.add=function(f,w,T,O,X){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var ve=wn(f,w,O,X);return-1<ve?(w=f[ve],T||(w.fa=!1)):(w=new ct(w,this.src,se,!!O,X),w.fa=T,f.push(w)),w};function Dr(f,w){var T=w.type;if(T in f.g){var O=f.g[T],X=Array.prototype.indexOf.call(O,w,void 0),se;(se=0<=X)&&Array.prototype.splice.call(O,X,1),se&&($t(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function wn(f,w,T,O){for(var X=0;X<f.length;++X){var se=f[X];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==O)return X}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),dt={};function Xn(f,w,T,O,X){if(Array.isArray(w)){for(var se=0;se<w.length;se++)Xn(f,w[se],T,O,X);return null}return T=dr(T),f&&f[st]?f.K(w,T,h(O)?!!O.capture:!1,X):ci(f,w,T,!1,O,X)}function ci(f,w,T,O,X,se){if(!w)throw Error("Invalid event type");var ve=h(X)?!!X.capture:!!X,Ct=Ps(f);if(Ct||(f[Gn]=Ct=new cr(f)),T=Ct.add(w,T,O,ve,se),T.proxy)return T;if(O=pa(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)Be||(X=ve),X===void 0&&(X=!1),f.addEventListener(w.toString(),O,X);else if(f.attachEvent)f.attachEvent(fi(w.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function pa(){function f(T){return w.call(f.src,f.listener,T)}const w=wo;return f}function As(f,w,T,O,X){if(Array.isArray(w))for(var se=0;se<w.length;se++)As(f,w[se],T,O,X);else O=h(O)?!!O.capture:!!O,T=dr(T),f&&f[st]?(f=f.i,w=String(w).toString(),w in f.g&&(se=f.g[w],T=wn(se,T,O,X),-1<T&&($t(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete f.g[w],f.h--)))):f&&(f=Ps(f))&&(w=f.g[w.toString()],f=-1,w&&(f=wn(w,T,O,X)),(T=-1<f?w[f]:null)&&di(T))}function di(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[st])Dr(w.i,f);else{var T=f.type,O=f.proxy;w.removeEventListener?w.removeEventListener(T,O,f.capture):w.detachEvent?w.detachEvent(fi(T),O):w.addListener&&w.removeListener&&w.removeListener(O),(T=Ps(w))?(Dr(T,f),T.h==0&&(T.src=null,w[Gn]=null)):$t(f)}}}function fi(f){return f in dt?dt[f]:dt[f]="on"+f}function wo(f,w){if(f.da)f=!0;else{w=new Ke(w,this);var T=f.listener,O=f.ha||f.src;f.fa&&di(f),f=T.call(O,w)}return f}function Ps(f){return f=f[Gn],f instanceof cr?f:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(f){return typeof f=="function"?f:(f[qr]||(f[qr]=function(w){return f.handleEvent(w)}),f[qr])}function ze(){ue.call(this),this.i=new cr(this),this.M=this,this.F=null}C(ze,ue),ze.prototype[st]=!0,ze.prototype.removeEventListener=function(f,w,T,O){As(this,f,w,T,O)};function Tt(f,w){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=w.type||w,typeof w=="string")w=new ke(w,f);else if(w instanceof ke)w.target=w.target||f;else{var X=w;w=new ke(O,f),U(w,X)}if(X=!0,T)for(var se=T.length-1;0<=se;se--){var ve=w.g=T[se];X=Cn(ve,O,!0,w)&&X}if(ve=w.g=f,X=Cn(ve,O,!0,w)&&X,X=Cn(ve,O,!1,w)&&X,T)for(se=0;se<T.length;se++)ve=w.g=T[se],X=Cn(ve,O,!1,w)&&X}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],O=0;O<T.length;O++)$t(T[O]);delete f.g[w],f.h--}}this.F=null},ze.prototype.K=function(f,w,T,O){return this.i.add(String(f),w,!1,T,O)},ze.prototype.L=function(f,w,T,O){return this.i.add(String(f),w,!0,T,O)};function Cn(f,w,T,O){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,se=0;se<w.length;++se){var ve=w[se];if(ve&&!ve.da&&ve.capture==T){var Ct=ve.listener,pn=ve.ha||ve.src;ve.fa&&Dr(f.i,ve),X=Ct.call(pn,O)!==!1&&X}}return X&&!O.defaultPrevented}function Oi(f,w,T){if(typeof f=="function")T&&(f=v(f,T));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function hi(f){f.g=Oi(()=>{f.g=null,f.i&&(f.i=!1,hi(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Eo extends ue{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(f){ue.call(this),this.h=f,this.g={}}C(rs,ue);var El=[];function bl(f){le(f.g,function(w,T){this.g.hasOwnProperty(T)&&di(w)},f),f.g={}}rs.prototype.N=function(){rs.aa.N.call(this),bl(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tl=u.JSON.stringify,Sl=u.JSON.parse,kl=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function bo(){}bo.prototype.h=null;function To(f){return f.h||(f.h=f.i())}function is(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ke.call(this,"d")}C(pi,ke);function ma(){ke.call(this,"c")}C(ma,ke);var Mi={},Cl=null;function So(){return Cl=Cl||new ze}Mi.La="serverreachability";function Li(f){ke.call(this,Mi.La,f)}C(Li,ke);function Ar(f){const w=So();Tt(w,new Li(w))}Mi.STAT_EVENT="statevent";function xl(f,w){ke.call(this,Mi.STAT_EVENT,f),this.stat=w}C(xl,ke);function Jt(f){const w=So();Tt(w,new xl(w,f))}Mi.Ma="timingevent";function ga(f,w){ke.call(this,Mi.Ma,f),this.size=w}C(ga,ke);function mi(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function ss(f,w,T,O,X,se){f.info(function(){if(f.g)if(se)for(var ve="",Ct=se.split("&"),pn=0;pn<Ct.length;pn++){var ft=Ct[pn].split("=");if(1<ft.length){var Nt=ft[0];ft=ft[1];var tn=Nt.split("_");ve=2<=tn.length&&tn[1]=="type"?ve+(Nt+"="+ft+"&"):ve+(Nt+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+w+`
`+T+`
`+ve})}function gi(f,w,T,O,X,se,ve){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+w+`
`+T+`
`+se+" "+ve})}function fr(f,w,T,O){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Dl(f,T)+(O?" "+O:"")})}function Il(f,w){f.info(function(){return"TIMEOUT: "+w})}ko.prototype.info=function(){};function Dl(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Tl(T)}catch{return w}}var ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function Zt(){}C(Zt,bo),Zt.prototype.g=function(){return new XMLHttpRequest},Zt.prototype.i=function(){return{}},Nn=new Zt;function Kt(f,w,T,O){this.j=f,this.i=w,this.l=T,this.R=O||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var fn={},os={};function yi(f,w,T){f.L=1,f.v=Vi(Zn(w)),f.m=T,f.P=!0,_i(f,null)}function _i(f,w){f.F=Date.now(),Pt(f),f.A=Zn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),us(T.i,"t",O),f.C=0,T=f.j.J,f.h=new On,f.g=Hu(f.j,T?w:null,!f.m),0<f.O&&(f.M=new Eo(v(f.Y,f,f.g),f.O)),w=f.U,T=f.g,O=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(El[0]=X.toString()),X=El);for(var se=0;se<X.length;se++){var ve=Xn(T,X[se],O||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Ar(),ss(f.i,f.u,f.A,f.l,f.R,f.m)}Kt.prototype.ca=function(f){f=f.target;const w=this.M;w&&nr(f)==3?w.j():this.Y(f)},Kt.prototype.Y=function(f){try{if(f==this.g)e:{const tn=nr(this.g);var w=this.g.Ba();const Lr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||tn!=4||w==7||(w==8||0>=Lr?Ar(3):Ar(2)),Ns(this);var T=this.g.Z();this.X=T;t:if(as(this)){var O=Ta(this.g);f="";var X=O.length,se=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),Fi(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,f+=this.h.i.decode(O[w],{stream:!(se&&w==X-1)});O.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,gi(this.i,this.u,this.A,this.l,this.R,tn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,pn=this.g;if((Ct=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ct)){var ft=Ct;break t}}ft=null}if(T=ft)fr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,T);else{this.o=!1,this.s=3,Jt(12),hr(this),Fi(this);break e}}if(this.P){T=!0;let yr;for(;!this.J&&this.C<ve.length;)if(yr=Lu(this,ve),yr==os){tn==4&&(this.s=4,Jt(14),T=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==fn){this.s=4,Jt(15),fr(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else fr(this.i,this.l,yr,null),_a(this,yr);if(as(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ve.length!=0||this.h.h||(this.s=1,Jt(16),T=!1),this.o=this.o&&T,!T)fr(this.i,this.l,ve,"[Invalid Chunked Response]"),hr(this),Fi(this);else if(0<ve.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ca(Nt),Nt.M=!0,Jt(11))}}else fr(this.i,this.l,ve,null),_a(this,ve);tn==4&&hr(this),this.o&&!this.J&&(tn==4?js(this.j,this):(this.o=!1,Pt(this)))}else Po(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),hr(this),Fi(this)}}}catch{}finally{}};function as(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Lu(f,w){var T=f.C,O=w.indexOf(`
`,T);return O==-1?os:(T=Number(w.substring(T,O)),isNaN(T)?fn:(O+=1,O+T>w.length?os:(w=w.slice(O,O+T),f.C=O+T,w)))}Kt.prototype.cancel=function(){this.J=!0,hr(this)};function Pt(f){f.S=Date.now()+f.I,ls(f,f.I)}function ls(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mi(v(f.ba,f),w)}function Ns(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Kt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Il(this.i,this.A),this.L!=2&&(Ar(),Jt(17)),hr(this),this.s=2,Fi(this)):ls(this,this.S-f)};function Fi(f){f.j.G==0||f.J||js(f.j,f)}function hr(f){Ns(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,bl(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function _a(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||Mn(T.h,f))){if(!f.K&&Mn(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Xr(T),Qr(T);else break e;Vs(T),Jt(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=mi(v(T.Za,T),6e3));if(1>=Al(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Bi(T,11)}else if((f.K||T.g==f)&&Xr(T),!j(w))for(X=T.Da.g.parse(w),w=0;w<X.length;w++){let ft=X[w];if(T.T=ft[0],ft=ft[1],T.G==2)if(ft[0]=="c"){T.K=ft[1],T.ia=ft[2];const Nt=ft[3];Nt!=null&&(T.la=Nt,T.j.info("VER="+T.la));const tn=ft[4];tn!=null&&(T.Aa=tn,T.j.info("SVER="+T.Aa));const Lr=ft[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(O=1.5*Lr,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const yr=f.g;if(yr){const Lo=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var se=O.h;se.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(va(se,se.h),se.h=null))}if(O.D){const xa=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(O.ya=xa,yt(O.I,O.D,xa))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var ve=f;if(O.qa=Wu(O,O.J?O.ia:null,O.W),ve.K){Pl(O.h,ve);var Ct=ve,pn=O.L;pn&&(Ct.I=pn),Ct.B&&(Ns(Ct),Pt(Ct)),O.g=ve}else Oo(O);0<T.i.length&&Ui(T)}else ft[0]!="stop"&&ft[0]!="close"||Bi(T,7);else T.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Bi(T,7):hn(T):ft[0]!="noop"&&T.l&&T.l.ta(ft),T.v=0)}}Ar(4)}catch{}}var Rl=class{constructor(f,w){this.g=f,this.map=w}};function Os(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Al(f){return f.h?1:f.g?f.g.size:0}function Mn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function va(f,w){f.g?f.g.add(w):f.h=w}function Pl(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Os.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return A(f.i)}function Co(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],T=f.length,O=0;O<T;O++)w.push(f[O]);return w}w=[],T=0;for(O in f)w[T++]=f[O];return w}function Jn(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const O in f)w[T++]=O;return w}}}function on(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Jn(f),O=Co(f),X=O.length,se=0;se<X;se++)w.call(void 0,O[se],T&&T[se],f)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),X=null;if(0<=O){var se=f[T].substring(0,O);X=f[T].substring(O+1)}else se=f[T];w(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function vi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vi){this.h=f.h,Ln(this,f.j),this.o=f.o,this.g=f.g,gr(this,f.s),this.l=f.l;var w=f.i,T=new bi;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),wi(this,T),this.m=f.m}else f&&(w=String(f).match(Pr))?(this.h=!1,Ln(this,w[1]||"",!0),this.o=ot(w[2]||""),this.g=ot(w[3]||"",!0),gr(this,w[4]),this.l=ot(w[5]||"",!0),wi(this,w[6]||"",!0),this.m=ot(w[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}vi.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Nr(w,xo,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Nr(w,xo,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Nr(T,T.charAt(0)=="/"?Fu:Yr,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Nr(T,Ms)),f.join("")};function Zn(f){return new vi(f)}function Ln(f,w,T){f.j=T?ot(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function gr(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function wi(f,w,T){w instanceof bi?(f.i=w,Ti(f.i,f.h)):(T||(w=Nr(w,Ei)),f.i=new bi(w,f.h))}function yt(f,w,T){f.i.set(w,T)}function Vi(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ot(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Nr(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,wa),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wa(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xo=/[#\/\?@]/g,Yr=/[#\?:]/g,Fu=/[#\?]/g,Ei=/[#\?@]/g,Ms=/#/g;function bi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&mr(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}r=bi.prototype,r.add=function(f,w){en(this),this.i=null,f=Mr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function Or(f,w){en(f),w=Mr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function er(f,w){return en(f),w=Mr(f,w),f.g.has(w)}r.forEach=function(f,w){en(this),this.g.forEach(function(T,O){T.forEach(function(X){f.call(w,X,O,this)},this)},this)},r.na=function(){en(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let O=0;O<w.length;O++){const X=f[O];for(let se=0;se<X.length;se++)T.push(w[O])}return T},r.V=function(f){en(this);let w=[];if(typeof f=="string")er(this,f)&&(w=w.concat(this.g.get(Mr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},r.set=function(f,w){return en(this),this.i=null,f=Mr(this,f),er(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},r.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function us(f,w,T){Or(f,w),0<T.length&&(f.i=null,f.g.set(Mr(f,w),A(T)),f.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var O=w[T];const se=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var X=se;ve[O]!==""&&(X+="="+encodeURIComponent(String(ve[O]))),f.push(X)}}return this.i=f.join("&")};function Mr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Ti(f,w){w&&!f.j&&(en(f),f.i=null,f.g.forEach(function(T,O){var X=O.toLowerCase();O!=X&&(Or(this,O),us(this,X,T))},f)),f.j=w}function Ls(f,w){const T=new ko;if(u.Image){const O=new Image;O.onload=S(tr,T,"TestLoadImage: loaded",!0,w,O),O.onerror=S(tr,T,"TestLoadImage: error",!1,w,O),O.onabort=S(tr,T,"TestLoadImage: abort",!1,w,O),O.ontimeout=S(tr,T,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else w(!1)}function Vu(f,w){const T=new ko,O=new AbortController,X=setTimeout(()=>{O.abort(),tr(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:O.signal}).then(se=>{clearTimeout(X),se.ok?tr(T,"TestPingServer: ok",!0,w):tr(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),tr(T,"TestPingServer: error",!1,w)})}function tr(f,w,T,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(T)}catch{}}function Ol(){this.g=new kl}function Io(f,w,T){const O=T||"";try{on(f,function(X,se){let ve=X;h(X)&&(ve=Tl(X)),w.push(O+se+"="+encodeURIComponent(ve))})}catch(X){throw w.push(O+"type="+encodeURIComponent("_badmap")),X}}function Si(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Si,bo),Si.prototype.g=function(){return new Do(this.l,this.j)},Si.prototype.i=function(f){return function(){return f}}({});function Do(f,w){ze.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Do,ze),r=Do.prototype,r.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Kr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ki(this):Kr(this),this.readyState==3&&Ro(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ki(this))},r.Qa=function(f){this.g&&(this.response=f,ki(this))},r.ga=function(){this.g&&ki(this)};function ki(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Kr(f)}r.setRequestHeader=function(f,w){this.u.append(f,w)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function Kr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ci(f){let w="";return le(f,function(T,O){w+=O,w+=":",w+=T,w+=`\r
`}),w}function ji(f,w,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Ci(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):yt(f,w,T))}function Wt(f){ze.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Wt,ze);var ju=/^https?$/i,cs=["POST","PUT"];r=Wt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,w,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?To(this.o):To(Nn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(se){ds(this,se);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)T.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())T.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(cs,w,void 0))||O||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of T)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){ds(this,se)}};function ds(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Ao(f),En(f)}function Ao(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Tt(this,"complete"),Tt(this,"abort"),En(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),Wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(f){if(f.h&&typeof l<"u"&&(!f.v[1]||nr(f)!=4||f.Z()!=2)){if(f.u&&nr(f)==4)Oi(f.Ea,0,f);else if(Tt(f,"readystatechange"),nr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var O;if(O=ve===0){var X=String(f.D).match(Pr)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),O=!ju.test(X?X.toLowerCase():"")}T=O}if(T)Tt(f,"complete"),Tt(f,"success");else{f.m=6;try{var se=2<nr(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Ao(f)}}finally{En(f)}}}}function En(f,w){if(f.g){ba(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Tt(f,"ready");try{T.onreadystatechange=O}catch{}}}function ba(f){f.I&&(u.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function nr(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Sl(w)}};function Ta(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(f){const w={};f=(f.g&&2<=nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(j(f[O]))continue;var T=$(f[O]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[X]||[];w[X]=se,se.push(T)}F(w,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Sa(f){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,f),this.cb=xi("retryDelaySeedMs",1e4,f),this.Wa=xi("forwardChannelMaxRetries",2,f),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(f&&f.concurrentRequestLimit),this.Da=new Ol,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(f,w,T,O){Jt(0),this.W=f,this.H=w||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Wu(this,null,this.W),Ui(this)};function hn(f){if(ka(f),f.G==3){var w=f.U++,T=Zn(f.I);if(yt(T,"SID",f.K),yt(T,"RID",w),yt(T,"TYPE","terminate"),Gr(f,T),w=new Kt(f,f.j,w),w.L=2,w.v=Vi(Zn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=Hu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Pt(w)}$u(f)}function Qr(f){f.g&&(Ca(f),f.g.cancel(),f.g=null)}function ka(f){Qr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Xr(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ui(f){if(!pr(f.h)&&!f.s){f.s=!0;var w=f.Ga;Ee||Q(),ie||(Ee(),ie=!0),be.add(w,f),f.B=0}}function Uu(f,w){return Al(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mi(v(f.Ga,f,w),Bu(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new Kt(this,this.j,f);let se=this.o;if(this.S&&(se?(se=N(se),U(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Fs(this,X,w),T=Zn(this.I),yt(T,"RID",f),yt(T,"CVER",22),this.D&&yt(T,"X-HTTP-Session-Id",this.D),Gr(this,T),se&&(this.O?w="headers="+encodeURIComponent(String(Ci(se)))+"&"+w:this.m&&ji(T,this.m,se)),va(this.h,X),this.Ua&&yt(T,"TYPE","init"),this.P?(yt(T,"$req",w),yt(T,"SID","null"),X.T=!0,yi(X,T,null)):yi(X,T,w),this.G=2}}else this.G==3&&(f?No(this,f):this.i.length==0||pr(this.h)||No(this))};function No(f,w){var T;w?T=w.l:T=f.U++;const O=Zn(f.I);yt(O,"SID",f.K),yt(O,"RID",T),yt(O,"AID",f.T),Gr(f,O),f.m&&f.o&&ji(O,f.m,f.o),T=new Kt(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Fs(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),va(f.h,T),yi(T,O,w)}function Gr(f,w){f.H&&le(f.H,function(T,O){yt(w,O,T)}),f.l&&on({},function(T,O){yt(w,O,T)})}function Fs(f,w,T){T=Math.min(f.i.length,T);var O=f.l?v(f.l.Na,f.l,f):null;e:{var X=f.i;let se=-1;for(;;){const ve=["count="+T];se==-1?0<T?(se=X[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Ct=!0;for(let pn=0;pn<T;pn++){let ft=X[pn].g;const Nt=X[pn].map;if(ft-=se,0>ft)se=Math.max(0,X[pn].g-100),Ct=!1;else try{Io(Nt,ve,"req"+ft+"_")}catch{O&&O(Nt)}}if(Ct){O=ve.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,O}function Oo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Ee||Q(),ie||(Ee(),ie=!0),be.add(w,f),f.v=0}}function Vs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mi(v(f.Fa,f),Bu(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mi(v(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Qr(this),Ml(this))};function Ca(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Ml(f){f.g=new Kt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Zn(f.qa);yt(w,"RID","rpc"),yt(w,"SID",f.K),yt(w,"AID",f.T),yt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(w,"TO",f.ja),yt(w,"TYPE","xmlhttp"),Gr(f,w),f.m&&f.o&&ji(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Vi(Zn(w)),T.m=null,T.P=!0,_i(T,f)}r.Za=function(){this.C!=null&&(this.C=null,Qr(this),Vs(this),Jt(19))};function Xr(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function js(f,w){var T=null;if(f.g==w){Xr(f),Ca(f),f.g=null;var O=2}else if(Mn(f.h,w))T=w.D,Pl(f.h,w),O=1;else return;if(f.G!=0){if(w.o)if(O==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var X=f.B;O=So(),Tt(O,new ga(O,T)),Ui(f)}else Oo(f);else if(X=w.s,X==3||X==0&&0<w.X||!(O==1&&Uu(f,w)||O==2&&Vs(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),X){case 1:Bi(f,5);break;case 4:Bi(f,10);break;case 3:Bi(f,6);break;default:Bi(f,2)}}}function Bu(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function Bi(f,w){if(f.j.info("Error code "+w),w==2){var T=v(f.fb,f),O=f.Xa;const X=!O;O=new vi(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ln(O,"https"),Vi(O),X?Ls(O.toString(),T):Vu(O.toString(),T)}else Jt(2);f.G=0,f.l&&f.l.sa(w),$u(f),ka(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function $u(f){if(f.G=0,f.ka=[],f.l){const w=Nl(f.h);(w.length!=0||f.i.length!=0)&&(D(f.ka,w),D(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function Wu(f,w,T){var O=T instanceof vi?Zn(T):new vi(T);if(O.g!="")w&&(O.g=w+"."+O.g),gr(O,O.s);else{var X=u.location;O=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var se=new vi(null);O&&Ln(se,O),w&&(se.g=w),X&&gr(se,X),T&&(se.l=T),O=se}return T=f.D,w=f.ya,T&&w&&yt(O,T,w),yt(O,"VER",f.la),Gr(f,O),O}function Hu(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Wt(new Si({eb:T})):new Wt(f.pa),w.Ha(f.J),w}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ll(){}r=Ll.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Mo(){}Mo.prototype.g=function(f,w){return new Fn(f,w)};function Fn(f,w){ze.call(this),this.g=new Sa(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!j(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Vn(this)}C(Fn,ze),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){hn(this.g)},Fn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Tl(f),f=T);w.i.push(new Rl(w.Ya++,f)),w.G==3&&Ui(w)},Fn.prototype.N=function(){this.g.l=null,delete this.j,hn(this.g),delete this.g,Fn.aa.N.call(this)};function zu(f){pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}C(zu,pi);function fs(){ma.call(this),this.status=1}C(fs,ma);function Vn(f){this.g=f}C(Vn,Ll),Vn.prototype.ua=function(){Tt(this.g,"a")},Vn.prototype.ta=function(f){Tt(this.g,new zu(f))},Vn.prototype.sa=function(f){Tt(this.g,new fs)},Vn.prototype.ra=function(){Tt(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,zk=function(){return new Mo},Hk=function(){return So()},Wk=Mi,r_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,cp=ya,Mu.COMPLETE="complete",$k=Mu,is.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ze.prototype.listen=ze.prototype.K,qd=is,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,Bk=Wt}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const Tb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new K_("@firebase/firestore");function wc(){return Su.logLevel}function Pe(r,...e){if(Su.logLevel<=pt.DEBUG){const t=e.map(ov);Su.debug(`Firestore (${Zc}): ${r}`,...t)}}function la(r,...e){if(Su.logLevel<=pt.ERROR){const t=e.map(ov);Su.error(`Firestore (${Zc}): ${r}`,...t)}}function Oc(r,...e){if(Su.logLevel<=pt.WARN){const t=e.map(ov);Su.warn(`Firestore (${Zc}): ${r}`,...t)}}function ov(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(r="Unexpected state"){const e=`FIRESTORE (${Zc}) INTERNAL ASSERTION FAILED: `+r;throw la(e),new Error(e)}function Mt(r,e){r||Ze()}function nt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ds{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sr.UNAUTHENTICATED))}shutdown(){}}class f1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h1{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mt(typeof n.accessToken=="string"),new qk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string"),new Sr(e)}}class p1{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class m1{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new p1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Mt(this.o===void 0);const n=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt(typeof t.token=="string"),this.R=t.token,new g1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=_1(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function gt(r,e){return r<e?-1:r>e?1:0}function Mc(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new kn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new kn(0,0))}static max(){return new tt(new kn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ze(),n===void 0?n=e.length-t:n>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return no.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=no.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=no.isNumericId(e),i=no.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?no.extractNumericId(e).compare(no.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return il.fromString(e.substring(4,e.length-2))}}class Qt extends no{construct(e,t,n){return new Qt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const v1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends no{construct(e,t,n){return new ar(e,t,n)}static isValidIdentifier(e){return v1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(o(),i++)}if(o(),l)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Qt.fromString(e))}static fromName(e){return new He(Qt.fromString(e).popFirst(5))}static empty(){return new He(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Qt(e.slice()))}}function w1(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(n===1e9?new kn(t+1,0):new kn(t,n));return new ll(i,He.empty(),e)}function E1(r){return new ll(r.readTime,r.key,-1)}class ll{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ll(tt.min(),He.empty(),-1)}static max(){return new ll(tt.max(),He.empty(),-1)}}function b1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(r.documentKey,e.documentKey),t!==0?t:gt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==T1)throw r;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,n)=>{t(e)})}static reject(e){return new de((t,n)=>{n(e)})}static waitFor(e){return new de((t,n)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=de.resolve(!1);for(const n of e)t=t.next(i=>i?de.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new de((n,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(g=>{l[h]=g,++u,u===o&&n(l)},g=>i(g))}})}static doWhile(e,t){return new de((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function k1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function td(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Em.oe=-1;function bm(r){return r==null}function Lp(r){return r===0&&1/r==-1/0}function C1(r){return typeof r=="number"&&Number.isInteger(r)&&!Lp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sb(e)),e=I1(r.get(t),e);return Sb(e)}function I1(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Sb(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Kk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.comparator=e,this.root=t||or.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??or.RED,this.left=i??or.EMPTY,this.right=o??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new or(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,t,n,i,o){return this}insert(e,t,n){return new or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new Pn(ar.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qk("Invalid base64 string: "+o):o}}(e);return new ur(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const D1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(r){if(Mt(!!r),typeof r=="string"){let e=0;const t=D1.exec(r);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:yn(r.seconds),nanos:yn(r.nanos)}}function yn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cl(r){return typeof r=="string"?ur.fromBase64String(r):ur.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Tm(r){const e=r.mapValue.fields.__previous_value__;return av(e)?Tm(e):e}function ff(r){const e=ul(r.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t,n,i,o,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}class hf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?av(r)?4:P1(r)?9007199254740991:A1(r)?10:11:Ze()}function yo(r,e){if(r===e)return!0;const t=dl(r);if(t!==dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ff(r).isEqual(ff(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ul(i.timestampValue),u=ul(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return cl(i.bytesValue).isEqual(cl(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return yn(i.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yn(i.integerValue)===yn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=yn(i.doubleValue),u=yn(o.doubleValue);return l===u?Lp(l)===Lp(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return Mc(r.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(kb(l)!==kb(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!yo(l[d],u[d])))return!1;return!0}(r,e);default:return Ze()}}function pf(r,e){return(r.values||[]).find(t=>yo(t,e))!==void 0}function Lc(r,e){if(r===e)return 0;const t=dl(r),n=dl(e);if(t!==n)return gt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return gt(r.booleanValue,e.booleanValue);case 2:return function(o,l){const u=yn(o.integerValue||o.doubleValue),d=yn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(r,e);case 3:return xb(r.timestampValue,e.timestampValue);case 4:return xb(ff(r),ff(e));case 5:return gt(r.stringValue,e.stringValue);case 6:return function(o,l){const u=cl(o),d=cl(l);return u.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const g=gt(u[h],d[h]);if(g!==0)return g}return gt(u.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const u=gt(yn(o.latitude),yn(l.latitude));return u!==0?u:gt(yn(o.longitude),yn(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ib(r.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,g;const _=o.fields||{},v=l.fields||{},S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,C=(d=v.value)===null||d===void 0?void 0:d.arrayValue,A=gt(((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:Ib(S,C)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===qh.mapValue&&l===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(l===qh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=gt(d[_],g[_]);if(v!==0)return v;const S=Lc(u[d[_]],h[g[_]]);if(S!==0)return S}return gt(d.length,g.length)}(r.mapValue,e.mapValue);default:throw Ze()}}function xb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return gt(r,e);const t=ul(r),n=ul(e),i=gt(t.seconds,n.seconds);return i!==0?i:gt(t.nanos,n.nanos)}function Ib(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Lc(t[i],n[i]);if(o)return o}return gt(t.length,n.length)}function Fc(r){return i_(r)}function i_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ul(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return cl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return He.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=i_(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${i_(t.fields[l])}`;return i+"}"}(r.mapValue):Ze()}function dp(r){switch(dl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(r);return e?16+dp(e):16;case 5:return 2*r.stringValue.length;case 6:return cl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+dp(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return vl(n.fields,(o,l)=>{i+=o.length+dp(l)}),i}(r.mapValue);default:throw Ze()}}function Db(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function s_(r){return!!r&&"integerValue"in r}function lv(r){return!!r&&"arrayValue"in r}function Rb(r){return!!r&&"nullValue"in r}function Ab(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fp(r){return!!r&&"mapValue"in r}function A1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vl(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=tf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function P1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=ar.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=tf(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){vl(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new ai(tf(this.value))}}function Gk(r){const e=[];return vl(r.fields,(t,n)=>{const i=new ar([t]);if(fp(n)){const o=Gk(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t,n,i,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new kr(e,0,tt.min(),tt.min(),tt.min(),ai.empty(),0)}static newFoundDocument(e,t,n,i){return new kr(e,1,t,tt.min(),n,i,0)}static newNoDocument(e,t){return new kr(e,2,t,tt.min(),tt.min(),ai.empty(),0)}static newUnknownDocument(e,t){return new kr(e,3,t,tt.min(),tt.min(),ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.position=e,this.inclusive=t}}function Pb(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=He.comparator(He.fromName(l.referenceValue),t.key):n=Lc(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Nb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!yo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t="asc"){this.field=e,this.dir=t}}function N1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{}class Sn extends Xk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new M1(e,t,n):t==="array-contains"?new V1(e,n):t==="in"?new j1(e,n):t==="not-in"?new U1(e,n):t==="array-contains-any"?new B1(e,n):new Sn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new L1(e,n):new F1(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Lc(t,this.value)):t!==null&&dl(this.value)===dl(t)&&this.matchesComparison(Lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends Xk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ks(e,t)}matches(e){return Jk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jk(r){return r.op==="and"}function Zk(r){return O1(r)&&Jk(r)}function O1(r){for(const e of r.filters)if(e instanceof ks)return!1;return!0}function o_(r){if(r instanceof Sn)return r.field.canonicalString()+r.op.toString()+Fc(r.value);if(Zk(r))return r.filters.map(e=>o_(e)).join(",");{const e=r.filters.map(t=>o_(t)).join(",");return`${r.op}(${e})`}}function eC(r,e){return r instanceof Sn?function(n,i){return i instanceof Sn&&n.op===i.op&&n.field.isEqual(i.field)&&yo(n.value,i.value)}(r,e):r instanceof ks?function(n,i){return i instanceof ks&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,u)=>o&&eC(l,i.filters[u]),!0):!1}(r,e):void Ze()}function tC(r){return r instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Fc(t.value)}`}(r):r instanceof ks?function(t){return t.op.toString()+" {"+t.getFilters().map(tC).join(" ,")+"}"}(r):"Filter"}class M1 extends Sn{constructor(e,t,n){super(e,t,n),this.key=He.fromName(n.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class L1 extends Sn{constructor(e,t){super(e,"in",t),this.keys=nC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F1 extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=nC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nC(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>He.fromName(n.referenceValue))}class V1 extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&pf(t.arrayValue,this.value)}}class j1 extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pf(this.value.arrayValue,t)}}class U1 extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pf(this.value.arrayValue,t)}}class B1 extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>pf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t=null,n=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function Ob(r,e=null,t=[],n=[],i=null,o=null,l=null){return new $1(r,e,t,n,i,o,l)}function uv(r){const e=nt(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>o_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),bm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Fc(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Fc(n)).join(",")),e.ue=t}return e.ue}function cv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!N1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eC(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Nb(r.startAt,e.startAt)&&Nb(r.endAt,e.endAt)}function a_(r){return He.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t=null,n=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W1(r,e,t,n,i,o,l,u){return new Pf(r,e,t,n,i,o,l,u)}function Sm(r){return new Pf(r)}function Mb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rC(r){return r.collectionGroup!==null}function nf(r){const e=nt(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Pn(ar.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vp(o,n))}),t.has(ar.keyField().canonicalString())||e.ce.push(new Vp(ar.keyField(),n))}return e.ce}function fo(r){const e=nt(r);return e.le||(e.le=H1(e,nf(r))),e.le}function H1(r,e){if(r.limitType==="F")return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vp(i.field,o)});const t=r.endAt?new Fp(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Fp(r.startAt.position,r.startAt.inclusive):null;return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function l_(r,e){const t=r.filters.concat([e]);return new Pf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function u_(r,e,t){return new Pf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function km(r,e){return cv(fo(r),fo(e))&&r.limitType===e.limitType}function iC(r){return`${uv(fo(r))}|lt:${r.limitType}`}function Ec(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>tC(i)).join(", ")}]`),bm(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Fc(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Fc(i)).join(",")),`Target(${n})`}(fo(r))}; limitType=${r.limitType})`}function Cm(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):He.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of nf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,u,d){const h=Pb(l,u,d);return l.inclusive?h<=0:h<0}(n.startAt,nf(n),i)||n.endAt&&!function(l,u,d){const h=Pb(l,u,d);return l.inclusive?h>=0:h>0}(n.endAt,nf(n),i))}(r,e)}function z1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sC(r){return(e,t)=>{let n=!1;for(const i of nf(r)){const o=q1(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function q1(r,e,t){const n=r.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?Lc(d,h):Ze()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return Kk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new sn(He.comparator);function ua(){return Y1}const oC=new sn(He.comparator);function Yd(...r){let e=oC;for(const t of r)e=e.insert(t.key,t);return e}function aC(r){let e=oC;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function cu(){return rf()}function lC(){return rf()}function rf(){return new Ru(r=>r.toString(),(r,e)=>r.isEqual(e))}const K1=new sn(He.comparator),Q1=new Pn(He.comparator);function mt(...r){let e=Q1;for(const t of r)e=e.add(t);return e}const G1=new Pn(gt);function X1(){return G1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function uC(r){return{integerValue:""+r}}function J1(r,e){return C1(e)?uC(e):dv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function Z1(r,e,t){return r instanceof mf?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&av(o)&&(o=Tm(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof gf?dC(r,e):r instanceof yf?fC(r,e):function(i,o){const l=cC(i,o),u=Lb(l)+Lb(i.Pe);return s_(l)&&s_(i.Pe)?uC(u):dv(i.serializer,u)}(r,e)}function eO(r,e,t){return r instanceof gf?dC(r,e):r instanceof yf?fC(r,e):t}function cC(r,e){return r instanceof jp?function(n){return s_(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class mf extends xm{}class gf extends xm{constructor(e){super(),this.elements=e}}function dC(r,e){const t=hC(e);for(const n of r.elements)t.some(i=>yo(i,n))||t.push(n);return{arrayValue:{values:t}}}class yf extends xm{constructor(e){super(),this.elements=e}}function fC(r,e){let t=hC(e);for(const n of r.elements)t=t.filter(i=>!yo(i,n));return{arrayValue:{values:t}}}class jp extends xm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Lb(r){return yn(r.integerValue||r.doubleValue)}function hC(r){return lv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t){this.field=e,this.transform=t}}function nO(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof gf&&i instanceof gf||n instanceof yf&&i instanceof yf?Mc(n.elements,i.elements,yo):n instanceof jp&&i instanceof jp?yo(n.Pe,i.Pe):n instanceof mf&&i instanceof mf}(r.transform,e.transform)}class rO{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Im{}function pC(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fv(r.key,ts.none()):new Nf(r.key,r.data,ts.none());{const t=r.data,n=ai.empty();let i=new Pn(ar.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new wl(r.key,n,new Ai(i.toArray()),ts.none())}}function iO(r,e,t){r instanceof Nf?function(i,o,l){const u=i.value.clone(),d=Vb(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof wl?function(i,o,l){if(!hp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Vb(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(mC(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function sf(r,e,t,n){return r instanceof Nf?function(o,l,u,d){if(!hp(o.precondition,l))return u;const h=o.value.clone(),g=jb(o.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof wl?function(o,l,u,d){if(!hp(o.precondition,l))return u;const h=jb(o.fieldTransforms,d,l),g=l.data;return g.setAll(mC(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,l,u){return hp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function sO(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=cC(n.transform,i||null);o!=null&&(t===null&&(t=ai.empty()),t.set(n.field,o))}return t||null}function Fb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Mc(n,i,(o,l)=>nO(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nf extends Im{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends Im{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mC(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Vb(r,e,t){const n=new Map;Mt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,u=e.data.field(o.field);n.set(o.field,eO(l,u,t[i]))}return n}function jb(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,Z1(o,l,e))}return n}class fv extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iO(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=sf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=sf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=pC(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(tt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,(t,n)=>Fb(t,n))&&Mc(this.baseMutations,e.baseMutations,(t,n)=>Fb(t,n))}}class hv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Mt(e.mutations.length===n.length);let i=function(){return K1}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new hv(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,vt;function cO(r){switch(r){default:return Ze();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function gC(r){if(r===void 0)return la("GRPC error has no .code"),fe.UNKNOWN;switch(r){case Tn.OK:return fe.OK;case Tn.CANCELLED:return fe.CANCELLED;case Tn.UNKNOWN:return fe.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return fe.INTERNAL;case Tn.UNAVAILABLE:return fe.UNAVAILABLE;case Tn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Tn.NOT_FOUND:return fe.NOT_FOUND;case Tn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Tn.ABORTED:return fe.ABORTED;case Tn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Tn.DATA_LOSS:return fe.DATA_LOSS;default:return Ze()}}(vt=Tn||(Tn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new il([4294967295,4294967295],0);function Ub(r){const e=dO().encode(r),t=new Uk;return t.update(e),new Uint8Array(t.digest())}function Bb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new il([t,n],0),new il([i,o],0)]}class pv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Kd(`Invalid padding: ${t}`);if(n<0)throw new Kd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Kd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Kd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=il.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(il.fromNumber(n)));return i.compare(fO)===1&&(i=new il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ub(e),[n,i]=Bb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new pv(o,i,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=Ub(e),[n,i]=Bb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Dm(tt.min(),i,new sn(gt),ua(),mt())}}class Of{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Of(n,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class yC{constructor(e,t){this.targetId=e,this.me=t}}class _C{constructor(e,t,n=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class $b{constructor(){this.fe=0,this.ge=Wb(),this.pe=ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mt(),t=mt(),n=mt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ze()}}),new Of(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Wb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hO{constructor(e){this.Be=e,this.Le=new Map,this.ke=ua(),this.qe=Yh(),this.Qe=Yh(),this.Ke=new sn(gt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(a_(o))if(n===0){const l=new He(o.path);this.We(t,l,kr.newNoDocument(l,tt.min()))}else Mt(n===1);else{const l=this.Ze(t);if(l!==n){const u=this.Xe(e),d=u?this.et(u,e,l):1;if(d!==0){this.He(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=cl(n).toUint8Array()}catch(d){if(d instanceof Qk)return Oc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new pv(l,i,o)}catch(d){return Oc(d instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Te===0?null:u}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&a_(u.target)){const d=new He(u.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,kr.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=mt();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Dm(e,t,this.Ke,this.ke,n);return this.ke=ua(),this.qe=Yh(),this.Qe=Yh(),this.Ke=new sn(gt),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new $b,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Pn(gt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pn(gt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new $b),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new sn(He.comparator)}function Wb(){return new sn(He.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},mO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class yO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function c_(r,e){return r.useProto3Json||bm(e)?e:{value:e}}function Up(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vC(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _O(r,e){return Up(r,e.toTimestamp())}function ho(r){return Mt(!!r),tt.fromTimestamp(function(t){const n=ul(t);return new kn(n.seconds,n.nanos)}(r))}function mv(r,e){return d_(r,e).canonicalString()}function d_(r,e){const t=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function wC(r){const e=Qt.fromString(r);return Mt(kC(e)),e}function f_(r,e){return mv(r.databaseId,e.path)}function vy(r,e){const t=wC(e);if(t.get(1)!==r.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new He(bC(t))}function EC(r,e){return mv(r.databaseId,e)}function vO(r){const e=wC(r);return e.length===4?Qt.emptyPath():bC(e)}function h_(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bC(r){return Mt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Hb(r,e,t){return{name:f_(r,e),fields:t.value.mapValue.fields}}function wO(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Mt(g===void 0||typeof g=="string"),ur.fromBase64String(g||"")):(Mt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ur.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const g=h.code===void 0?fe.UNKNOWN:gC(h.code);return new Oe(g,h.message||"")}(l);t=new _C(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=vy(r,n.document.name),o=ho(n.document.updateTime),l=n.document.createTime?ho(n.document.createTime):tt.min(),u=new ai({mapValue:{fields:n.document.fields}}),d=kr.newFoundDocument(i,o,l,u),h=n.targetIds||[],g=n.removedTargetIds||[];t=new pp(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=vy(r,n.document),o=n.readTime?ho(n.readTime):tt.min(),l=kr.newNoDocument(i,o),u=n.removedTargetIds||[];t=new pp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=vy(r,n.document),o=n.removedTargetIds||[];t=new pp([],o,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new uO(i,o),u=n.targetId;t=new yC(u,l)}}return t}function EO(r,e){let t;if(e instanceof Nf)t={update:Hb(r,e.key,e.value)};else if(e instanceof fv)t={delete:f_(r,e.key)};else if(e instanceof wl)t={update:Hb(r,e.key,e.data),updateMask:RO(e.fieldMask)};else{if(!(e instanceof oO))return Ze();t={verify:f_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const u=l.transform;if(u instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof jp)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Ze()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_O(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze()}(r,e.precondition)),t}function bO(r,e){return r&&r.length>0?(Mt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ho(i.updateTime):ho(o);return l.isEqual(tt.min())&&(l=ho(o)),new rO(l,i.transformResults||[])}(t,e))):[]}function TO(r,e){return{documents:[EC(r,e.path)]}}function SO(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=EC(r,i);const o=function(h){if(h.length!==0)return SC(ks.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(v){return{field:bc(v.field),direction:xO(v.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=c_(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:i}}function kO(r){let e=vO(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Mt(n===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=TC(_);return v instanceof ks&&Zk(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(v=>function(C){return new Vp(Tc(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,bm(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,S=_.values||[];return new Fp(S,v)}(t.startAt));let h=null;return t.endAt&&(h=function(_){const v=!_.before,S=_.values||[];return new Fp(S,v)}(t.endAt)),W1(e,i,l,o,u,"F",d,h)}function CO(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TC(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Tc(t.unaryFilter.field);return Sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Tc(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tc(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tc(t.unaryFilter.field);return Sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(r):r.fieldFilter!==void 0?function(t){return Sn.create(Tc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ks.create(t.compositeFilter.filters.map(n=>TC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(r):Ze()}function xO(r){return pO[r]}function IO(r){return mO[r]}function DO(r){return gO[r]}function bc(r){return{fieldPath:r.canonicalString()}}function Tc(r){return ar.fromServerFormat(r.fieldPath)}function SC(r){return r instanceof Sn?function(t){if(t.op==="=="){if(Ab(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NAN"}};if(Rb(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ab(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NAN"}};if(Rb(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(t.field),op:IO(t.op),value:t.value}}}(r):r instanceof ks?function(t){const n=t.getFilters().map(i=>SC(i));return n.length===1?n[0]:{compositeFilter:{op:DO(t.op),filters:n}}}(r):Ze()}function RO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,n,i,o=tt.min(),l=tt.min(),u=ur.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.ht=e}}function PO(r){const e=kO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.ln=new OO}addToCollectionParentIndex(e,t){return this.ln.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(ll.min())}updateCollectionGroup(e,t,n){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class OO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Pn(Qt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Pn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(41943040,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Vc(0)}static Qn(){return new Vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb([r,e],[t,n]){const i=gt(r,t);return i===0?gt(e,n):i}class MO{constructor(e){this.Gn=e,this.buffer=new Pn(qb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();qb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LO{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){td(t)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ed(t)}await this.Yn(3e5)})}}class FO{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Em.oe);const n=new MO(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(zb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,u,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(n=_,u=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(h=Date.now(),wc()<=pt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function VO(r,e){return new FO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.changes=new Ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?de.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&sf(n.mutation,i,Ai.empty(),kn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,mt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=mt()){const i=cu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Yd();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=cu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,mt()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,i){let o=ua();const l=rf(),u=function(){return rf()}();return t.forEach((d,h)=>{const g=n.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof wl)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),sf(g.mutation,h,g.mutation.getFieldMask(),kn.now())):l.set(h.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,g)=>l.set(h,g)),t.forEach((h,g)=>{var _;return u.set(h,new UO(g,(_=l.get(h))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const n=rf();let i=new sn((l,u)=>l-u),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let g=n.get(d)||Ai.empty();g=u.applyToLocalView(h,g),n.set(d,g);const _=(i.get(u.batchId)||mt()).add(d);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,g=d.value,_=lC();g.forEach(v=>{if(!o.has(v)){const S=pC(t.get(v),n.get(v));S!==null&&_.set(v,S),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,_))}return de.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):de.resolve(cu());let u=-1,d=o;return l.next(h=>de.forEach(h,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,mt())).next(g=>({batchId:u,changes:aC(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(n=>{let i=Yd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Yd();return this.indexManager.getCollectionParents(e,o).next(u=>de.forEach(u,d=>{const h=function(_,v){return new Pf(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(g=>{g.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,kr.newInvalidDocument(g)))});let u=Yd();return l.forEach((d,h)=>{const g=o.get(d);g!==void 0&&sf(g.mutation,h,Ai.empty(),kn.now()),Cm(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return de.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:PO(i.bundledQuery),readTime:ho(i.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.overlays=new sn(He.comparator),this.dr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cu();return de.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),de.resolve()}getOverlaysForCollection(e,t,n){const i=cu(),o=t.length+1,l=new He(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new sn((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let g=o.get(h.largestBatchId);g===null&&(g=cu(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=cu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=i)););return de.resolve(u)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new lO(t,n));let o=this.dr.get(t);o===void 0&&(o=mt(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Er=new Pn(qn.Ar),this.Rr=new Pn(qn.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new qn(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new qn(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new He(new Qt([])),n=new qn(t,e),i=new qn(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new He(new Qt([])),n=new qn(t,e),i=new qn(t,e+1);let o=mt();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new qn(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class qn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return He.comparator(e.key,t.key)||gt(e.br,t.br)}static Vr(e,t){return gt(e.br,t.br)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pn(qn.Ar)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new aO(o,t,n,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new qn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,t){return de.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qn(t,0),i=new qn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const u=this.Cr(l.br);o.push(u)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pn(gt);return t.forEach(i=>{const o=new qn(i,0),l=new qn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{n=n.add(u.br)})}),de.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;He.isDocumentKey(o)||(o=o.child(""));const l=new qn(new He(o),0);let u=new Pn(gt);return this.vr.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.br)),!0)},l),de.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Mt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return de.forEach(t.mutations,i=>{const o=new qn(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new qn(t,0),i=this.vr.firstAfterOrEqual(n);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.Nr=e,this.docs=function(){return new sn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return de.resolve(n?n.document.mutableCopy():kr.newInvalidDocument(t))}getEntries(e,t){let n=ua();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),de.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=ua();const l=t.path,u=new He(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||b1(E1(g),n)<=0||(i.has(g.key)||Cm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ze()}Br(e,t){return de.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new YO(this)}getSize(e){return de.resolve(this.size)}}class YO extends jO{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),de.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.persistence=e,this.Lr=new Ru(t=>uv(t),cv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.kr=0,this.qr=new gv,this.targetCount=0,this.Qr=Vc.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),de.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Vc(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Un(t),de.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return de.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),de.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return de.resolve(n)}containsKey(e,t){return de.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Em(0),this.Ur=!1,this.Ur=!0,this.Wr=new HO,this.referenceDelegate=e(this),this.Gr=new KO(this),this.indexManager=new NO,this.remoteDocumentCache=function(i){return new qO(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new AO(t),this.jr=new $O(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new zO(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Pe("MemoryPersistence","Starting transaction:",e);const i=new QO(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return de.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class QO extends S1{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Zr=new gv,this.Xr=null}static ei(e){return new yv(e)}get ti(){if(this.Xr)return this.Xr;throw Ze()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),de.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),de.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ti,n=>{const i=He.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,tt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return de.or([()=>de.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Bp{constructor(e,t){this.persistence=e,this.ri=new Ru(n=>x1(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=VO(this,t)}static ei(e,t){return new Bp(e,t)}Hr(){}Jr(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return de.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?de.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(u=>{u||(n++,o.removeEntry(l,tt.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dp(e.data.value)),t}ir(e,t,n){return de.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return de.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=mt(),i=mt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _v(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return NR()?8:k1(Ir())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new GO;return this.ts(e,t,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(wc()<=pt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),de.resolve()):(wc()<=pt.DEBUG&&Pe("QueryEngine","Query:",Ec(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(wc()<=pt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(t))):de.resolve())}Xi(e,t){if(Mb(t))return de.resolve(null);let n=fo(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=u_(t,null,"F"),n=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=mt(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.rs(t,u);return this.ss(t,h,l,d.readTime)?this.Xi(e,u_(t,null,"F")):this.os(e,h,t,d)}))})))}es(e,t,n,i){return Mb(t)||i.isEqual(tt.min())?de.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?de.resolve(null):(wc()<=pt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ec(t)),this.os(e,l,t,w1(i,-1)).next(u=>u))})}rs(e,t){let n=new Pn(sC(e));return t.forEach((i,o)=>{Cm(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return wc()<=pt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Ec(t)),this.Zi.getDocumentsMatchingQuery(e,t,ll.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new sn(gt),this.cs=new Ru(o=>uv(o),cv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function ZO(r,e,t,n){return new JO(r,e,t,n)}async function xC(r,e){const t=nt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],u=[];let d=mt();for(const h of i){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of o){u.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(n,d).next(h=>({Ts:h,removedBatchIds:l,addedBatchIds:u}))})})}function eM(r,e){const t=nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,g){const _=h.batch,v=_.keys();let S=de.resolve();return v.forEach(C=>{S=S.next(()=>g.getEntry(d,C)).next(A=>{const D=h.docVersions.get(C);Mt(D!==null),A.version.compareTo(D)<0&&(_.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(d,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=mt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function IC(r){const e=nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function tM(r,e){const t=nt(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;u.push(t.Gr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Gr.addMatchingKeys(o,g.addedDocuments,_)));let S=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(ur.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,n)),i=i.insert(_,S),function(A,D,M){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,S,g)&&u.push(t.Gr.updateTargetData(o,S))});let d=ua(),h=mt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(nM(o,l,e.documentUpdates).next(g=>{d=g.Is,h=g.ds})),!n.isEqual(tt.min())){const g=t.Gr.getLastRemoteSnapshotVersion(o).next(_=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));u.push(g)}return de.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.us=i,o))}function nM(r,e,t){let n=mt(),i=mt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=ua();return t.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Pe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Is:l,ds:i}})}function rM(r,e){const t=nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function iM(r,e){const t=nt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,de.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Za(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function p_(r,e,t){const n=nt(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!td(l))throw l;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function Yb(r,e,t){const n=nt(r);let i=tt.min(),o=mt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,g){const _=nt(d),v=_.cs.get(g);return v!==void 0?de.resolve(_.us.get(v)):_.Gr.getTargetData(h,g)}(n,l,fo(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?o:mt())).next(u=>(sM(n,z1(e),u),{documents:u,Es:o})))}function sM(r,e,t){let n=r.ls.get(e)||tt.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class Kb{constructor(){this.activeTargetIds=X1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oM{constructor(){this._o=new Kb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function wy(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class cM extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const u=wy(),d=this.No(t,n.toUriEncodedString());Pe("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(h,o,l),this.Lo(t,d,h,i).then(g=>(Pe("RestConnection",`Received RPC '${t}' ${u}: `,g),g),g=>{throw Oc("RestConnection",`RPC '${t}' ${u} failed with error: `,g,"url: ",d,"request:",i),g})}ko(t,n,i,o,l,u){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=lM[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=wy();return new Promise((l,u)=>{const d=new Bk;d.setWithCredentials(!0),d.listenOnce($k.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case cp.NO_ERROR:const g=d.getResponseJson();Pe(Tr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case cp.TIMEOUT:Pe(Tr,`RPC '${e}' ${o} timed out`),u(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const _=d.getStatus();if(Pe(Tr,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const C=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN}(S.status);u(new Oe(C,S.message))}else u(new Oe(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Pe(Tr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Pe(Tr,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,n,15)})}qo(e,t,n){const i=wy(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zk(),u=Hk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const g=o.join("");Pe(Tr,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=l.createWebChannel(g,d);let v=!1,S=!1;const C=new uM({Eo:D=>{S?Pe(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(v||(Pe(Tr,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),Pe(Tr,`RPC '${e}' stream ${i} sending:`,D),_.send(D))},Ao:()=>_.close()}),A=(D,M,j)=>{D.listen(M,W=>{try{j(W)}catch(Z){setTimeout(()=>{throw Z},0)}})};return A(_,qd.EventType.OPEN,()=>{S||(Pe(Tr,`RPC '${e}' stream ${i} transport opened.`),C.So())}),A(_,qd.EventType.CLOSE,()=>{S||(S=!0,Pe(Tr,`RPC '${e}' stream ${i} transport closed`),C.Do())}),A(_,qd.EventType.ERROR,D=>{S||(S=!0,Oc(Tr,`RPC '${e}' stream ${i} transport errored:`,D),C.Do(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),A(_,qd.EventType.MESSAGE,D=>{var M;if(!S){const j=D.data[0];Mt(!!j);const W=j,Z=(W==null?void 0:W.error)||((M=W[0])===null||M===void 0?void 0:M.error);if(Z){Pe(Tr,`RPC '${e}' stream ${i} received error:`,Z);const ee=Z.status;let le=function(L){const U=Tn[L];if(U!==void 0)return gC(U)}(ee),F=Z.message;le===void 0&&(le=fe.INTERNAL,F="Unknown error status: "+ee+" with message "+Z.message),S=!0,C.Do(new Oe(le,F)),_.close()}else Pe(Tr,`RPC '${e}' stream ${i} received:`,j),C.vo(j)}}),A(u,Wk.STAT_EVENT,D=>{D.stat===r_.PROXY?Pe(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===r_.NOPROXY&&Pe(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r){return new yO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,n,i,o,l,u,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new DC(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dM extends RC{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=wO(this.serializer,e),n=function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ho(l.readTime):tt.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=h_(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=a_(d)?{documents:TO(o,d)}:{query:SO(o,d).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=vC(o,l.resumeToken);const h=c_(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=Up(o,l.snapshotVersion.toTimestamp());const h=c_(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const n=CO(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=h_(this.serializer),t.removeTarget=e,this.c_(t)}}class fM extends RC{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=bO(e.writeResults,e.commitTime),n=ho(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=h_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>EO(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,d_(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(fe.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,d_(t,n),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(fe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(la(t),this.C_=!1):Pe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{Au(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=nt(d);h.k_.add(4),await Mf(h),h.K_.set("Unknown"),h.k_.delete(4),await Am(h)}(this))})}),this.K_=new pM(n,i)}}async function Am(r){if(Au(r))for(const e of r.q_)await e(!0)}async function Mf(r){for(const e of r.q_)await e(!1)}function AC(r,e){const t=nt(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),bv(t)?Ev(t):nd(t).s_()&&wv(t,e))}function vv(r,e){const t=nt(r),n=nd(t);t.L_.delete(e),n.s_()&&PC(t,e),t.L_.size===0&&(n.s_()?n.a_():Au(t)&&t.K_.set("Unknown"))}function wv(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nd(r).V_(e)}function PC(r,e){r.U_.xe(e),nd(r).m_(e)}function Ev(r){r.U_=new hO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),nd(r).start(),r.K_.F_()}function bv(r){return Au(r)&&!nd(r).i_()&&r.L_.size>0}function Au(r){return nt(r).k_.size===0}function NC(r){r.U_=void 0}async function gM(r){r.K_.set("Online")}async function yM(r){r.L_.forEach((e,t)=>{wv(r,e)})}async function _M(r,e){NC(r),bv(r)?(r.K_.O_(e),Ev(r)):r.K_.set("Unknown")}async function vM(r,e,t){if(r.K_.set("Online"),e instanceof _C&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.L_.delete(u),i.U_.removeTarget(u))}(r,e)}catch(n){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await $p(r,n)}else if(e instanceof pp?r.U_.$e(e):e instanceof yC?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(tt.min()))try{const n=await IC(r.localStore);t.compareTo(n)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.L_.get(h);g&&o.L_.set(h,g.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const g=o.L_.get(d);if(!g)return;o.L_.set(d,g.withResumeToken(ur.EMPTY_BYTE_STRING,g.snapshotVersion)),PC(o,d);const _=new Za(g.target,d,h,g.sequenceNumber);wv(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){Pe("RemoteStore","Failed to raise snapshot:",n),await $p(r,n)}}async function $p(r,e,t){if(!td(e))throw e;r.k_.add(1),await Mf(r),r.K_.set("Offline"),t||(t=()=>IC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Am(r)})}function OC(r,e){return e().catch(t=>$p(r,t,e))}async function Pm(r){const e=nt(r),t=fl(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;wM(e);)try{const i=await rM(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,EM(e,i)}catch(i){await $p(e,i)}MC(e)&&LC(e)}function wM(r){return Au(r)&&r.B_.length<10}function EM(r,e){r.B_.push(e);const t=fl(r);t.s_()&&t.f_&&t.g_(e.mutations)}function MC(r){return Au(r)&&!fl(r).i_()&&r.B_.length>0}function LC(r){fl(r).start()}async function bM(r){fl(r).w_()}async function TM(r){const e=fl(r);for(const t of r.B_)e.g_(t.mutations)}async function SM(r,e,t){const n=r.B_.shift(),i=hv.from(n,e,t);await OC(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Pm(r)}async function kM(r,e){e&&fl(r).f_&&await async function(n,i){if(function(l){return cO(l)&&l!==fe.ABORTED}(i.code)){const o=n.B_.shift();fl(n).__(),await OC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Pm(n)}}(r,e),MC(r)&&LC(r)}async function Gb(r,e){const t=nt(r);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const n=Au(t);t.k_.add(3),await Mf(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Am(t)}async function CM(r,e){const t=nt(r);e?(t.k_.delete(2),await Am(t)):e||(t.k_.add(2),await Mf(t),t.K_.set("Unknown"))}function nd(r){return r.W_||(r.W_=function(t,n,i){const o=nt(t);return o.b_(),new dM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:gM.bind(null,r),mo:yM.bind(null,r),po:_M.bind(null,r),R_:vM.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),bv(r)?Ev(r):r.K_.set("Unknown")):(await r.W_.stop(),NC(r))})),r.W_}function fl(r){return r.G_||(r.G_=function(t,n,i){const o=nt(t);return o.b_(),new fM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:bM.bind(null,r),po:kM.bind(null,r),p_:TM.bind(null,r),y_:SM.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Pm(r)):(await r.G_.stop(),r.B_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,u=new Tv(e,t,l,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(r,e){if(la("AsyncQueue",`${e}: ${r}`),td(r))return new Oe(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{static emptySet(e){return new Rc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||He.comparator(t.key,n.key):(t,n)=>He.comparator(t.key,n.key),this.keyedMap=Yd(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Rc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.z_=new sn(He.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ze():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class jc{constructor(e,t,n,i,o,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new jc(e,t,Rc.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class IM{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=nt(t),o=i.queries;i.queries=Jb(),o.forEach((l,u)=>{for(const d of u.J_)d.onError(n)})})(this,new Oe(fe.ABORTED,"Firestore shutting down"))}}function Jb(){return new Ru(r=>iC(r),km)}async function kv(r,e){const t=nt(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new xM,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Sv(l,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&xv(t)}async function Cv(r,e){const t=nt(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function DM(r,e){const t=nt(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(n=!0);l.H_=i}}n&&xv(t)}function RM(r,e,t){const n=nt(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function xv(r){r.X_.forEach(e=>{e.next()})}var m_,Zb;(Zb=m_||(m_={})).na="default",Zb.Cache="cache";class Iv{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new jc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==m_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.key=e}}class VC{constructor(e){this.key=e}}class AM{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=mt(),this.mutatedKeys=mt(),this.Va=sC(e),this.ma=new Rc(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new Xb,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),S=Cm(this.query,_)?_:null,C=!!v&&this.mutatedKeys.has(v.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;v&&S?v.data.isEqual(S.data)?C!==A&&(n.track({type:3,doc:S}),D=!0):this.ya(v,S)||(n.track({type:2,doc:S}),D=!0,(d&&this.Va(S,d)>0||h&&this.Va(S,h)<0)&&(u=!0)):!v&&S?(n.track({type:0,doc:S}),D=!0):v&&!S&&(n.track({type:1,doc:v}),D=!0,(d||h)&&(u=!0)),D&&(S?(l=l.add(S),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),n.track({type:1,doc:g})}return{ma:l,pa:n,ss:u,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(S,C){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return A(S)-A(C)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(n),i=i!=null&&i;const u=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,h=d!==this.Aa;return this.Aa=d,l.length!==0||h?{snapshot:new jc(this.query,e.ma,o,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Xb,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=mt(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new VC(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new FC(n))}),t}va(e){this.Ea=e.Es,this.Ra=mt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return jc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class PM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class NM{constructor(e){this.key=e,this.Fa=!1}}class OM{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ru(u=>iC(u),km),this.Oa=new Map,this.Na=new Set,this.Ba=new sn(He.comparator),this.La=new Map,this.ka=new gv,this.qa={},this.Qa=new Map,this.Ka=Vc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function MM(r,e,t=!0){const n=HC(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await jC(n,e,t,!0),i}async function LM(r,e){const t=HC(r);await jC(t,e,!0,!1)}async function jC(r,e,t,n){const i=await iM(r.localStore,fo(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await FM(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&AC(r.remoteStore,i),u}async function FM(r,e,t,n,i){r.Ua=(_,v,S)=>async function(A,D,M,j){let W=D.view.ga(M);W.ss&&(W=await Yb(A.localStore,D.query,!1).then(({documents:F})=>D.view.ga(F,W)));const Z=j&&j.targetChanges.get(D.targetId),ee=j&&j.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(W,A.isPrimaryClient,Z,ee);return tT(A,D.targetId,le.ba),le.snapshot}(r,_,v,S);const o=await Yb(r.localStore,e,!0),l=new AM(e,o.Es),u=l.ga(o.documents),d=Of.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=l.applyChanges(u,r.isPrimaryClient,d);tT(r,t,h.ba);const g=new PM(e,t,l);return r.xa.set(e,g),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),h.snapshot}async function VM(r,e,t){const n=nt(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!km(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await p_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&vv(n.remoteStore,i.targetId),g_(n,i.targetId)}).catch(ed)):(g_(n,i.targetId),await p_(n.localStore,i.targetId,!0))}async function jM(r,e){const t=nt(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vv(t.remoteStore,n.targetId))}async function UM(r,e,t){const n=YM(r);try{const i=await function(l,u){const d=nt(l),h=kn.now(),g=u.reduce((S,C)=>S.add(C.key),mt());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=ua(),A=mt();return d.hs.getEntries(S,g).next(D=>{C=D,C.forEach((M,j)=>{j.isValidDocument()||(A=A.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,C)).next(D=>{_=D;const M=[];for(const j of u){const W=sO(j,_.get(j.key).overlayedDocument);W!=null&&M.push(new wl(j.key,W,Gk(W.value.mapValue),ts.exists(!0)))}return d.mutationQueue.addMutationBatch(S,h,M,u)}).next(D=>{v=D;const M=D.applyToLocalDocumentSet(_,A);return d.documentOverlayCache.saveOverlays(S,D.batchId,M)})}).then(()=>({batchId:v.batchId,changes:aC(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.qa[l.currentUser.toKey()];h||(h=new sn(gt)),h=h.insert(u,d),l.qa[l.currentUser.toKey()]=h}(n,i.batchId,t),await Lf(n,i.changes),await Pm(n.remoteStore)}catch(i){const o=Sv(i,"Failed to persist write");t.reject(o)}}async function UC(r,e){const t=nt(r);try{const n=await tM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Mt(l.Fa):i.removedDocuments.size>0&&(Mt(l.Fa),l.Fa=!1))}),await Lf(t,n,e)}catch(n){await ed(n)}}function eT(r,e,t){const n=nt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=nt(l);d.onlineState=u;let h=!1;d.queries.forEach((g,_)=>{for(const v of _.J_)v.ea(u)&&(h=!0)}),h&&xv(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function BM(r,e,t){const n=nt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new sn(He.comparator);l=l.insert(o,kr.newNoDocument(o,tt.min()));const u=mt().add(o),d=new Dm(tt.min(),new Map,new sn(gt),l,u);await UC(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),Dv(n)}else await p_(n.localStore,e,!1).then(()=>g_(n,e,t)).catch(ed)}async function $M(r,e){const t=nt(r),n=e.batch.batchId;try{const i=await eM(t.localStore,e);$C(t,n,null),BC(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Lf(t,i)}catch(i){await ed(i)}}async function WM(r,e,t){const n=nt(r);try{const i=await function(l,u){const d=nt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,u).next(_=>(Mt(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(h,_))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(n.localStore,e);$C(n,e,t),BC(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Lf(n,i)}catch(i){await ed(i)}}function BC(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function $C(r,e,t){const n=nt(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function g_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||WC(r,n)})}function WC(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(vv(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),Dv(r))}function tT(r,e,t){for(const n of t)n instanceof FC?(r.ka.addReference(n.key,e),HM(r,n)):n instanceof VC?(Pe("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||WC(r,n.key)):Ze()}function HM(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(Pe("SyncEngine","New document in limbo: "+t),r.Na.add(n),Dv(r))}function Dv(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new He(Qt.fromString(e)),n=r.Ka.next();r.La.set(n,new NM(t)),r.Ba=r.Ba.insert(t,n),AC(r.remoteStore,new Za(fo(Sm(t.path)),n,"TargetPurposeLimboResolution",Em.oe))}}async function Lf(r,e,t){const n=nt(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((u,d)=>{l.push(n.Ua(d,e,t).then(h=>{var g;if((h||t)&&n.isPrimaryClient){const _=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(h){i.push(h);const _=_v.zi(d.targetId,h);o.push(_)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,h){const g=nt(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>de.forEach(h,v=>de.forEach(v.Wi,S=>g.persistence.referenceDelegate.addReference(_,v.targetId,S)).next(()=>de.forEach(v.Gi,S=>g.persistence.referenceDelegate.removeReference(_,v.targetId,S)))))}catch(_){if(!td(_))throw _;Pe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const S=g.us.get(v),C=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(C);g.us=g.us.insert(v,A)}}}(n.localStore,o))}async function zM(r,e){const t=nt(r);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const n=await xC(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(d=>{d.reject(new Oe(fe.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lf(t,n.Ts)}}function qM(r,e){const t=nt(r),n=t.La.get(e);if(n&&n.Fa)return mt().add(n.key);{let i=mt();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function HC(r){const e=nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BM.bind(null,e),e.Ma.R_=DM.bind(null,e.eventManager),e.Ma.Wa=RM.bind(null,e.eventManager),e}function YM(r){const e=nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class Wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return ZO(this.persistence,new XO,e.initialUser,this.serializer)}ja(e){return new CC(yv.ei,this.serializer)}za(e){return new oM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wp.provider={build:()=>new Wp};class KM extends Wp{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Mt(this.persistence.referenceDelegate instanceof Bp);const n=this.persistence.referenceDelegate.garbageCollector;return new LO(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new CC(n=>Bp.ei(n,t),this.serializer)}}class y_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>eT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zM.bind(null,this.syncEngine),await CM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IM}()}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),n=function(o){return new cM(o)}(e.databaseInfo);return function(o,l,u,d){return new hM(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,u){return new mM(n,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>eT(this.syncEngine,t,0),function(){return Qb.p()?new Qb:new aM}())}createSyncEngine(e,t){return function(i,o,l,u,d,h,g){const _=new OM(i,o,l,u,d,h);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=nt(i);Pe("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Mf(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=Yk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{Pe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function by(r,e){r.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await xC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function nT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await GM(r);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Gb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>Gb(e.remoteStore,i)),r._onlineComponents=e}async function GM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await by(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Oc("Error using user provided cache. Falling back to memory cache: "+t),await by(r,new Wp)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await by(r,new KM(void 0));return r._offlineComponents}async function zC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await nT(r,r._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await nT(r,new y_))),r._onlineComponents}function XM(r){return zC(r).then(e=>e.syncEngine)}async function Hp(r){const e=await zC(r),t=e.eventManager;return t.onListen=MM.bind(null,e.syncEngine),t.onUnlisten=VM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jM.bind(null,e.syncEngine),t}function JM(r,e,t={}){const n=new ea;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const g=new Rv({next:v=>{g.eu(),l.enqueueAndForget(()=>Cv(o,_));const S=v.docs.has(u);!S&&v.fromCache?h.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&v.fromCache&&d&&d.source==="server"?h.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new Iv(Sm(u.path),g,{includeMetadataChanges:!0,ua:!0});return kv(o,_)}(await Hp(r),r.asyncQueue,e,t,n)),n.promise}function ZM(r,e,t={}){const n=new ea;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const g=new Rv({next:v=>{g.eu(),l.enqueueAndForget(()=>Cv(o,_)),v.fromCache&&d.source==="server"?h.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new Iv(u,g,{includeMetadataChanges:!0,ua:!0});return kv(o,_)}(await Hp(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e,t){if(!t)throw new Oe(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eL(r,e,t,n){if(e===!0&&n===!0)throw new Oe(fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function iT(r){if(!He.isDocumentKey(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sT(r){if(He.isDocumentKey(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ze()}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nm(r);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Oe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Oe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Oe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new d1;switch(n.type){case"firstParty":return new m1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=rT.get(t);n&&(Pe("ComponentProvider","Removing Datastore"),rT.delete(t),n.terminate())}(this),Promise.resolve()}}function tL(r,e,t,n={}){var i;const o=(r=li(r,Om))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Sr.MOCK_USER;else{u=CR(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Sr(h)}r._authCredentials=new f1(new qk(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pu(this.firestore,e,this._query)}}class xr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class sl extends Pu{constructor(e,t,n){super(e,t,Sm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new He(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function pu(r,e,...t){if(r=Kn(r),YC("collection","path",e),r instanceof Om){const n=Qt.fromString(e,...t);return sT(n),new sl(r,null,n)}{if(!(r instanceof xr||r instanceof sl))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Qt.fromString(e,...t));return sT(n),new sl(r.firestore,null,n)}}function Wr(r,e,...t){if(r=Kn(r),arguments.length===1&&(e=Yk.newId()),YC("doc","path",e),r instanceof Om){const n=Qt.fromString(e,...t);return iT(n),new xr(r,null,new He(n))}{if(!(r instanceof xr||r instanceof sl))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Qt.fromString(e,...t));return iT(n),new xr(r.firestore,r instanceof sl?r.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new DC(this,"async_queue_retry"),this.fu=()=>{const n=Ey();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=Ey();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Ey();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new ea;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!td(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw la("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Tv.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ze()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function lT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class ca extends Om{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new aT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function nL(r,e){const t=typeof r=="object"?r:nk(),n=typeof r=="string"?r:"(default)",i=G_(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=SR("firestore");o&&tL(i,...o)}return i}function Mm(r){if(r._terminated)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rL(r),r._firestoreClient}function rL(r){var e,t,n;const i=r._freezeSettings(),o=function(u,d,h,g){return new R1(u,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,qC(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new QM(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(ur.fromBase64String(e))}catch(t){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uc(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class sL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nf(e,this.data,t,this.fieldTransforms)}}class KC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Nv{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return zp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(QC(this.Mu)&&iL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class oL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rm(e)}$u(e,t,n,i=!1){return new Nv({Mu:e,methodName:t,Ku:n,path:ar.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(r){const e=r._freezeSettings(),t=Rm(r._databaseId);return new oL(r._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);Mv("Data must be an object, but it was:",l,n);const u=XC(n,l);let d,h;if(o.merge)d=new Ai(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=__(e,_,t);if(!l.contains(v))throw new Oe(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ZC(g,v)||g.push(v)}d=new Ai(g),h=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,h=l.fieldTransforms;return new sL(new ai(u),d,h)}class jm extends Fm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}class Ov extends Fm{_toFieldTransform(e){return new tO(e.path,new mf)}isEqual(e){return e instanceof Ov}}function aL(r,e,t,n){const i=r.$u(1,e,t);Mv("Data must be an object, but it was:",i,n);const o=[],l=ai.empty();vl(n,(d,h)=>{const g=Lv(e,d,t);h=Kn(h);const _=i.Lu(g);if(h instanceof jm)o.push(g);else{const v=Ff(h,_);v!=null&&(o.push(g),l.set(g,v))}});const u=new Ai(o);return new KC(l,u,i.fieldTransforms)}function lL(r,e,t,n,i,o){const l=r.$u(1,e,t),u=[__(e,n,t)],d=[i];if(o.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(__(e,o[v])),d.push(o[v+1]);const h=[],g=ai.empty();for(let v=u.length-1;v>=0;--v)if(!ZC(h,u[v])){const S=u[v];let C=d[v];C=Kn(C);const A=l.Lu(S);if(C instanceof jm)h.push(S);else{const D=Ff(C,A);D!=null&&(h.push(S),g.set(S,D))}}const _=new Ai(h);return new KC(g,_,l.fieldTransforms)}function uL(r,e,t,n=!1){return Ff(t,r.$u(n?4:3,e))}function Ff(r,e){if(JC(r=Kn(r)))return Mv("Unsupported field value:",e,r),XC(r,e);if(r instanceof Fm)return function(n,i){if(!QC(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const u of n){let d=Ff(u,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=kn.fromDate(n);return{timestampValue:Up(i.serializer,o)}}if(n instanceof kn){const o=new kn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Up(i.serializer,o)}}if(n instanceof Av)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uc)return{bytesValue:vC(i.serializer,n._byteString)};if(n instanceof xr){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Pv)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.qu("VectorValues must only contain numeric values.");return dv(u.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${Nm(n)}`)}(r,e)}function XC(r,e){const t={};return Kk(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(r,(n,i)=>{const o=Ff(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function JC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof kn||r instanceof Av||r instanceof Uc||r instanceof xr||r instanceof Fm||r instanceof Pv)}function Mv(r,e,t){if(!JC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Nm(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function __(r,e,t){if((e=Kn(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return Lv(r,e);throw zp("Field path arguments must be of type string or ",r,!1,void 0,t)}const cL=new RegExp("[~\\*/\\[\\]]");function Lv(r,e,t){if(e.search(cL)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Lm(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function zp(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Oe(fe.INVALID_ARGUMENT,u+r+d)}function ZC(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dL extends ex{data(){return super.data()}}function Fv(r,e){return typeof e=="string"?Lv(r,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class fL extends Vv{}function qp(r,e,...t){let n=[];e instanceof Vv&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof jv).length,u=o.filter(d=>d instanceof Um).length;if(l>1||l>0&&u>0)throw new Oe(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Um extends fL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Um(e,t,n)}_apply(e){const t=this._parse(e);return nx(e._query,t),new Pu(e.firestore,e.converter,l_(e._query,t))}_parse(e){const t=Vm(e.firestore);return function(o,l,u,d,h,g,_){let v;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){cT(_,g);const S=[];for(const C of _)S.push(uT(d,o,C));v={arrayValue:{values:S}}}else v=uT(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||cT(_,g),v=uL(u,l,_,g==="in"||g==="not-in");return Sn.create(h,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function of(r,e,t){const n=e,i=Fv("where",r);return Um._create(i,n,t)}class jv extends Vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jv(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:ks.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)nx(l,d),l=l_(l,d)}(e._query,t),new Pu(e.firestore,e.converter,l_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uT(r,e,t){if(typeof(t=Kn(t))=="string"){if(t==="")throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rC(e)&&t.indexOf("/")!==-1)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Qt.fromString(t));if(!He.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Db(r,new He(n))}if(t instanceof xr)return Db(r,t._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(t)}.`)}function cT(r,e){if(!Array.isArray(r)||r.length===0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nx(r,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Oe(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hL{convertValue(e,t="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return vl(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>yn(l.doubleValue));return new Pv(o)}convertGeoPoint(e){return new Av(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Tm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ff(e));default:return null}}convertTimestamp(e){const t=ul(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qt.fromString(e);Mt(kC(n));const i=new hf(n.get(1),n.get(3)),o=new He(n.popFirst(5));return i.isEqual(t)||la(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ix extends ex{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mp extends ix{data(e={}){return super.data(e)}}class sx{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new mp(this._firestore,this._userDataWriter,n.key,n,new Qd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new mp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new mp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:pL(u.type),doc:d,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){r=li(r,xr);const e=li(r.firestore,ca);return JM(Mm(e),r._key).then(t=>ax(e,r,t))}class Uv extends hL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,t)}}function Yp(r){r=li(r,Pu);const e=li(r.firestore,ca),t=Mm(e),n=new Uv(e);return tx(r._query),ZM(t,r._query).then(i=>new sx(e,n,r,i))}function dT(r,e,t){r=li(r,xr);const n=li(r.firestore,ca),i=rx(r.converter,e);return Bm(n,[GC(Vm(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ts.none())])}function gp(r,e,t,...n){r=li(r,xr);const i=li(r.firestore,ca),o=Vm(i);let l;return l=typeof(e=Kn(e))=="string"||e instanceof Lm?lL(o,"updateDoc",r._key,e,t,n):aL(o,"updateDoc",r._key,e),Bm(i,[l.toMutation(r._key,ts.exists(!0))])}function Bv(r){return Bm(li(r.firestore,ca),[new fv(r._key,ts.none())])}function ox(r,e){const t=li(r.firestore,ca),n=Wr(r),i=rx(r.converter,e);return Bm(t,[GC(Vm(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ts.exists(!1))]).then(()=>n)}function mL(r,...e){var t,n,i;r=Kn(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||lT(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lT(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,h,g;if(r instanceof xr)h=li(r.firestore,ca),g=Sm(r._key.path),d={next:_=>{e[l]&&e[l](ax(h,r,_))},error:e[l+1],complete:e[l+2]};else{const _=li(r,Pu);h=li(_.firestore,ca),g=_._query;const v=new Uv(h);d={next:S=>{e[l]&&e[l](new sx(h,v,_,S))},error:e[l+1],complete:e[l+2]},tx(r._query)}return function(v,S,C,A){const D=new Rv(A),M=new Iv(S,D,C);return v.asyncQueue.enqueueAndForget(async()=>kv(await Hp(v),M)),()=>{D.eu(),v.asyncQueue.enqueueAndForget(async()=>Cv(await Hp(v),M))}}(Mm(h),g,u,d)}function Bm(r,e){return function(n,i){const o=new ea;return n.asyncQueue.enqueueAndForget(async()=>UM(await XM(n),i,o)),o.promise}(Mm(r),e)}function ax(r,e,t){const n=t.docs.get(e._key),i=new Uv(r);return new ix(r,i,e._key,n,new Qd(t.hasPendingWrites,t.fromCache),e.converter)}function gL(){return new Ov("serverTimestamp")}(function(e,t=!0){(function(i){Zc=i})(Xc),Nc(new Eu("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new ca(new h1(n.getProvider("auth-internal")),new y1(n.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(h.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),rl(Tb,"4.7.6",e),rl(Tb,"4.7.6","esm2017")})();const yL={apiKey:"AIzaSyCw25yBHWnOZ0_HBZWBPuXUEf_occK4FpQ",authDomain:"artvoyage-469a7.firebaseapp.com",projectId:"artvoyage-469a7",storageBucket:"artvoyage-469a7.firebasestorage.app",messagingSenderId:"541351917404",appId:"1:541351917404:web:54160b1d171846a9b5b399"},lx=tk(yL),du=u1(lx),Yn=nL(lx),ux=x.createContext(void 0),_L=({children:r})=>{const[e,t]=x.useState(null),[n,i]=x.useState(!0);x.useEffect(()=>{const h=du.onAuthStateChanged(async g=>{try{g?(await o(g),t(g)):t(null)}catch(_){console.error("Error during auth state change:",_)}finally{i(!1)}});return()=>h()},[]);const o=async h=>{const g=Wr(Yn,"users",h.uid);(await Cc(g)).exists()||await dT(g,{uid:h.uid,email:h.email})},l=async(h,g,_,v)=>{i(!0);try{const C=(await KP(du,h,g)).user,A=Wr(Yn,"users",C.uid);await dT(A,{uid:C.uid,email:C.email,firstName:_,lastName:v}),t(C)}catch(S){throw console.error("Error during registration:",S),S}finally{i(!1)}},u=async(h,g)=>{i(!0);try{const v=(await QP(du,h,g)).user;await o(v),t(v)}catch(_){throw console.error("Error during login:",_),_}finally{i(!1)}},d=async()=>{i(!0);try{await JP(du),t(null)}catch(h){throw console.error("Error signing out:",h),h}finally{i(!1)}};return k.jsx(ux.Provider,{value:{user:e,register:l,login:u,logout:d,loading:n},children:!n&&r})},Nu=()=>{const r=x.useContext(ux);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},vL="/assets/exhibition1-BW6NN6oe.jpg",wL="/assets/exhibition2-Bp82pQTc.jpg",EL="/assets/exhibition3-CUGk1TBl.jpg",bL="/assets/exhibition4-CXiZda6W.jpg",TL="/assets/exhibition5-D8QkfkG0.jpg",SL="/assets/exhibition6-CzllBLVx.webp",kL="/assets/exhibition7-_6taQLDR.webp",CL="/assets/exhibition8-DiC_I8PB.jpg",fT=[vL,wL,EL,bL,TL,SL,kL,CL],xL=()=>{const r=Math.floor(Math.random()*fT.length);return fT[r]},IL=()=>{const{user:r,loading:e}=Nu(),[t,n]=x.useState([]),[i,o]=x.useState(!0),l=(v,S)=>{throw console.error("Firestore Error:",v),new Error(v.message||S)};return x.useEffect(()=>{e||(async()=>{if(!r){o(!1);return}const S=Wr(Yn,"users",r.uid);if((await Cc(S)).exists()){const A=qp(pu(Yn,"exhibitions"),of("userId","==",r.uid)),D=mL(A,M=>{o(!1);const j=M.docs.map(W=>({id:W.id,...W.data()}));n(j)},M=>{o(!1),l(M,"Failed to fetch exhibitions.")});return()=>{D()}}})().catch(S=>{o(!1),l(S,"Failed to fetch user exhibitions.")})},[r,e]),{exhibitions:t,addExhibition:async v=>{if(r)try{const S=qp(pu(Yn,"exhibitions"),of("name","==",v.name),of("userId","==",r.uid));if(!(await Yp(S)).empty)throw new Error("An exhibition with this name already exists. Please try another name");const A=xL(),D=await ox(pu(Yn,"exhibitions"),{...v,image:A,userId:r.uid,createdAt:gL()});n(M=>[...M,{id:D.id,...v,image:A,userId:r.uid}])}catch(S){l(S,"An error occurred while adding the exhibition.")}else throw new Error("User not authenticated.")},addArtworkToExhibition:async(v,S)=>{var C;if(r)try{const A=Wr(Yn,"exhibitions",v),D=await Cc(A);if(D.exists()){const M=((C=D.data())==null?void 0:C.artworks)||[];if(M.some(W=>W.id===S.id))throw new Error("This artwork has already been added to this exhibition. Please choose a different artwork or a different exhibition");await gp(A,{artworks:[...M,S]})}else throw new Error("Exhibition not found.")}catch(A){l(A,"An error occurred while adding the artwork.")}else throw new Error("User not authenticated.")},editExhibition:async(v,S)=>{if(r)try{const C=Wr(Yn,"exhibitions",v);if((await Cc(C)).exists())await gp(C,S),n(D=>D.map(M=>M.id===v?{...M,...S}:M));else throw new Error("Exhibition not found.")}catch(C){l(C,"An error occurred while editing the exhibition.")}else throw new Error("User not authenticated.")},deleteArtworkFromExhibition:async(v,S)=>{var C;if(r)try{const A=Wr(Yn,"exhibitions",v),D=await Cc(A);if(D.exists()){const j=(((C=D.data())==null?void 0:C.artworks)||[]).filter(W=>W.id!==S);await gp(A,{artworks:j}),n(W=>W.map(Z=>Z.id===v?{...Z,artworks:j}:Z))}else throw new Error("Exhibition not found.")}catch(A){l(A,"An error occurred while deleting the artwork.")}else throw new Error("User not authenticated.")},deleteExhibition:async v=>{if(r)try{await Bv(Wr(Yn,"exhibitions",v)),n(S=>S.filter(C=>C.id!==v))}catch(S){l(S,"An error occurred while deleting the exhibition.")}else throw new Error("User not authenticated.")},loading:i}},cx=x.createContext(void 0),DL=({children:r})=>{const{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:u}=IL();return k.jsx(cx.Provider,{value:{exhibitions:e,addExhibition:t,addArtworkToExhibition:n,editExhibition:i,deleteArtworkFromExhibition:o,deleteExhibition:l,loading:u},children:r})},$v=()=>{const r=x.useContext(cx);if(!r)throw new Error("useExhibitions must be used within an ExhibitionProvider");return r},dx=x.createContext(void 0),RL=({children:r})=>{const[e,t]=x.useState([]);return k.jsx(dx.Provider,{value:{artworks:e,setArtworks:t},children:r})},Wv=()=>{const r=x.useContext(dx);if(!r)throw new Error("useArtworksContext must be used within an ArtworksProvider");return r},fx=()=>{const[r,e]=x.useState([]),[t,n]=x.useState(!1),{user:i,loading:o}=Nu(),{setArtworks:l}=Wv(),u=(g,_)=>{throw console.error("Firestore Error:",g),new Error(g.message||_)};return x.useEffect(()=>{o||(async()=>{if(!i)throw n(!1),new Error("User not authenticated.");n(!0);try{const _=Wr(Yn,"collections",i.uid),v=pu(_,"artworks"),C=(await Yp(v)).docs.map(A=>({...A.data(),firestoreId:A.id}));e(C),l(C)}catch(_){u(_,"Error loading user collection.")}finally{n(!1)}})()},[i,o]),{collectionState:r,addToCollection:async g=>{if(!i)throw new Error("User not authenticated.");n(!0);try{if(r.some(C=>C.id===g.id))throw new Error("This artwork is already in your collection.");const v=Wr(Yn,"collections",i.uid),S=pu(v,"artworks");await ox(S,g),e(C=>[...C,g])}catch(_){u(_,"Error adding artwork to collection.")}finally{n(!1)}},removeFromCollection:async g=>{if(!i)throw new Error("User not authenticated.");n(!0);try{const _=Wr(Yn,"collections",i.uid),v=pu(_,"artworks"),S=qp(v,of("id","==",g)),C=await Yp(S);if(C.empty)throw new Error("Artwork not found in your collection.");const A=C.docs[0].id,D=Wr(Yn,"collections",i.uid,"artworks",A);await Bv(D),e(M=>M.filter(j=>j.id!==g))}catch(_){u(_,"Error removing artwork from collection.")}finally{n(!1)}},loadingCollection:t}},hx=x.createContext(void 0),AL=({children:r})=>{const{collectionState:e,addToCollection:t,removeFromCollection:n,loadingCollection:i}=fx();return k.jsx(hx.Provider,{value:{collection:e,addToCollection:t,removeFromCollection:n,loadingCollection:i},children:r})},PL=()=>{const r=x.useContext(hx);if(!r)throw new Error("useCollection must be used within a CollectionProvider");return r},NL=({children:r})=>k.jsx(_L,{children:k.jsx(pR,{children:k.jsx(RL,{children:k.jsx(mR,{children:k.jsx(gR,{children:k.jsx(AL,{children:k.jsx(DL,{children:r})})})})})})}),OL=()=>{const{user:r,logout:e}=Nu(),t=Sf(),n=async()=>{try{await e(),t("/auth"),window.location.reload()}catch(i){console.error("Sign out error:",i)}};return k.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#6A4C9C"},children:k.jsxs("div",{className:"container-fluid",children:[k.jsx(qa,{className:"navbar-brand",to:"/home",children:"ArtVoyage"}),k.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:k.jsx("span",{className:"navbar-toggler-icon"})}),k.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:k.jsxs("ul",{className:"navbar-nav ms-auto",children:[k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/home",children:"Home"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/search",children:"Search"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/collection",children:"My Collection"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/exhibitions",children:"My Exhibitions"})}),k.jsx("li",{className:"nav-item",children:k.jsx(qa,{className:"nav-link",to:"/profile",children:"Profile"})}),r?k.jsx("li",{className:"nav-item ms-3",children:k.jsx("button",{className:"btn btn-outline-light",onClick:n,"aria-label":"Sign out",children:"Sign Out"})}):k.jsx("li",{className:"nav-item ms-3",children:k.jsx(qa,{className:"nav-link",to:"/auth",children:"Login/Register"})})]})})]})})},ML=()=>k.jsx("div",{className:"container my-5",children:k.jsx("h1",{children:"Welcome!"})}),LL=()=>{const{setSelectedMuseum:r}=Gc(),{setQuery:e}=Y_(),t=n=>{e(""),r(n)};return k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"Choose a museum to start searching:"}),k.jsxs("div",{className:"d-flex justify-content-center",children:[k.jsx("div",{className:"card homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx(Jo,{to:"/search/museum/cleveland",onClick:()=>t("cleveland"),className:"text-decoration-none",children:k.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/74/Logo_Cleveland_Museum_of_Art.svg",className:"card-img-top",alt:"Cleveland Museum of Art ",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),k.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx(Jo,{to:"/search/museum/chicago",onClick:()=>t("chicago"),className:"text-decoration-none",children:k.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Art_Institute_of_Chicago_Logo.png",className:"card-img-top",alt:"Art Institute of Chicago",style:{height:"200px",width:"100%",objectFit:"contain",marginTop:"20px",marginBottom:"20px"}})})}),k.jsx(Jo,{to:"/search/collection",onClick:()=>t(""),className:"text-decoration-none",children:k.jsx("div",{className:"homecard mx-3 bg-light shadow-sm hover:bg-dark",style:{width:"22rem",cursor:"pointer",transition:"background-color 0.3s ease"},children:k.jsx("p",{children:"Collection"})})})]})]})},FL=r=>{const[e,t]=x.useState(null),[n,i]=x.useState(!1),[o,l]=x.useState(null),u=()=>{const _=du.currentUser;if(!_||_.uid!==r)throw new Error("Unauthorized access")},d=x.useCallback(async()=>{if(r){i(!0),l(null);try{u();const _=Wr(Yn,"users",r),v=await Cc(_);v.exists()?t(v.data()):(t(null),console.warn(`No user data found for userId: ${r}`))}catch(_){l("Error fetching user data."),console.error(_)}finally{i(!1)}}},[r]),h=async _=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{u();const v=Wr(Yn,"users",r);await gp(v,_),t(S=>({...S,..._}))}catch(v){l("Error updating user data."),console.error(v)}finally{i(!1)}},g=async()=>{if(!r){l("No userId provided.");return}i(!0),l(null);try{u();const _=Wr(Yn,"users",r);await Bv(_),t(null)}catch(_){l("Error deleting user data."),console.error(_)}finally{i(!1)}};return x.useEffect(()=>{d()},[d]),{userData:e,fetchUserData:d,editUserData:h,deleteUserData:g,loading:n,error:o}};var Ty={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hT;function VL(){return hT||(hT=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(Ty)),Ty.exports}var jL=VL();const Bt=pm(jL);function v_(){return v_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},v_.apply(null,arguments)}function px(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function pT(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function UL(r){var e=BL(r,"string");return typeof e=="symbol"?e:String(e)}function BL(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function $L(r,e,t){var n=x.useRef(r!==void 0),i=x.useState(e),o=i[0],l=i[1],u=r!==void 0,d=n.current;return n.current=u,!u&&d&&o!==e&&l(e),[u?r:o,x.useCallback(function(h){for(var g=arguments.length,_=new Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];t&&t.apply(void 0,[h].concat(_)),l(h)},[t])]}function WL(r,e){return Object.keys(e).reduce(function(t,n){var i,o=t,l=o[pT(n)],u=o[n],d=px(o,[pT(n),n].map(UL)),h=e[n],g=$L(u,l,r[h]),_=g[0],v=g[1];return v_({},d,(i={},i[n]=_,i[h]=v,i))},r)}function w_(r,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},w_(r,e)}function HL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,w_(r,e)}const zL=["xxl","xl","lg","md","sm","xs"],qL="xs",$m=x.createContext({prefixes:{},breakpoints:zL,minBreakpoint:qL});function cn(r,e){const{prefixes:t}=x.useContext($m);return r||t[e]||e}function YL(){const{breakpoints:r}=x.useContext($m);return r}function KL(){const{minBreakpoint:r}=x.useContext($m);return r}function QL(){const{dir:r}=x.useContext($m);return r==="rtl"}function Wm(r){return r&&r.ownerDocument||document}function GL(r){var e=Wm(r);return e&&e.defaultView||window}function XL(r,e){return GL(r).getComputedStyle(r,e)}var JL=/([A-Z])/g;function ZL(r){return r.replace(JL,"-$1").toLowerCase()}var eF=/^ms-/;function Qh(r){return ZL(r).replace(eF,"-ms-")}var tF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function nF(r){return!!(r&&tF.test(r))}function mu(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(Qh(e))||XL(r).getPropertyValue(Qh(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?r.style.removeProperty(Qh(i)):nF(i)?n+=i+"("+o+") ":t+=Qh(i)+": "+o+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var Sy={exports:{}},ky,mT;function rF(){if(mT)return ky;mT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ky=r,ky}var Cy,gT;function iF(){if(gT)return Cy;gT=1;var r=rF();function e(){}function t(){}return t.resetWarningCache=e,Cy=function(){function n(l,u,d,h,g,_){if(_!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Cy}var yT;function sF(){return yT||(yT=1,Sy.exports=iF()()),Sy.exports}var oF=sF();const ta=pm(oF),_T={disabled:!1},mx=ae.createContext(null);var aF=function(e){return e.scrollTop},Gd="unmounted",ou="exited",Ya="entering",lu="entered",E_="exiting",ha=function(r){HL(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var l=i,u=l&&!l.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?u?(d=ou,o.appearStatus=Ya):d=lu:n.unmountOnExit||n.mountOnEnter?d=Gd:d=ou,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Gd?{status:ou}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ya&&l!==lu&&(o=Ya):(l===Ya||l===lu)&&(o=E_)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ya){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:uu.findDOMNode(this);l&&aF(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ou&&this.setState({status:Gd})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[uu.findDOMNode(this),u],h=d[0],g=d[1],_=this.getTimeouts(),v=u?_.appear:_.enter;if(!i&&!l||_T.disabled){this.safeSetState({status:lu},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Ya},function(){o.props.onEntering(h,g),o.onTransitionEnd(v,function(){o.safeSetState({status:lu},function(){o.props.onEntered(h,g)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:uu.findDOMNode(this);if(!o||_T.disabled){this.safeSetState({status:ou},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:E_},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:ou},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:uu.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],g=d[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Gd)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=px(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(mx.Provider,{value:null},typeof l=="function"?l(i,u):ae.cloneElement(ae.Children.only(l),u))},e}(ae.Component);ha.contextType=mx;ha.propTypes={};function gc(){}ha.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gc,onEntering:gc,onEntered:gc,onExit:gc,onExiting:gc,onExited:gc};ha.UNMOUNTED=Gd;ha.EXITED=ou;ha.ENTERING=Ya;ha.ENTERED=lu;ha.EXITING=E_;function lF(r){return r.code==="Escape"||r.keyCode===27}function uF(){const r=x.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function gx(r){if(!r||typeof r=="function")return null;const{major:e}=uF();return e>=19?r.props.ref:r.ref}const rd=!!(typeof window<"u"&&window.document&&window.document.createElement);var b_=!1,T_=!1;try{var xy={get passive(){return b_=!0},get once(){return T_=b_=!0}};rd&&(window.addEventListener("test",xy,xy),window.removeEventListener("test",xy,!0))}catch{}function yx(r,e,t,n){if(n&&typeof n!="boolean"&&!T_){var i=n.once,o=n.capture,l=t;!T_&&i&&(l=t.__once||function u(d){this.removeEventListener(e,u,o),t.call(this,d)},t.__once=l),r.addEventListener(e,l,b_?n:o)}r.addEventListener(e,t,n)}function S_(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function Kp(r,e,t,n){return yx(r,e,t,n),function(){S_(r,e,t,n)}}function cF(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function dF(r){var e=mu(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function fF(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||cF(r,"transitionend",!0)},e+t),o=Kp(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),o()}}function _x(r,e,t,n){t==null&&(t=dF(r)||0);var i=fF(r,t,n),o=Kp(r,"transitionend",e);return function(){i(),o()}}function vT(r,e){const t=mu(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function hF(r,e){const t=vT(r,"transitionDuration"),n=vT(r,"transitionDelay"),i=_x(r,o=>{o.target===r&&(i(),e(o))},t+n)}function pF(r){r.offsetHeight}const wT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function mF(r,e){const t=wT(r),n=wT(e);return i=>{t&&t(i),n&&n(i)}}function vx(r,e){return x.useMemo(()=>mF(r,e),[r,e])}function gF(r){return r&&"setState"in r?uu.findDOMNode(r):r??null}const yF=ae.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:d,...h},g)=>{const _=x.useRef(null),v=vx(_,d),S=le=>{v(gF(le))},C=le=>F=>{le&&_.current&&le(_.current,F)},A=x.useCallback(C(r),[r]),D=x.useCallback(C(e),[e]),M=x.useCallback(C(t),[t]),j=x.useCallback(C(n),[n]),W=x.useCallback(C(i),[i]),Z=x.useCallback(C(o),[o]),ee=x.useCallback(C(l),[l]);return k.jsx(ha,{ref:g,...h,onEnter:A,onEntered:M,onEntering:D,onExit:j,onExited:Z,onExiting:W,addEndListener:ee,nodeRef:_,children:typeof u=="function"?(le,F)=>u(le,{...F,ref:S}):ae.cloneElement(u,{ref:S})})});function _F(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function Qp(r){const e=_F(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const wx=r=>x.forwardRef((e,t)=>k.jsx("div",{...e,ref:t,className:Bt(e.className,r)})),Ex=wx("h4");Ex.displayName="DivStyledAsH4";const bx=x.forwardRef(({className:r,bsPrefix:e,as:t=Ex,...n},i)=>(e=cn(e,"alert-heading"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));bx.displayName="AlertHeading";function vF(r){const e=x.useRef(r);return x.useEffect(()=>{e.current=r},[r]),e}function Ja(r){const e=vF(r);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function wF(){const r=x.useRef(!0),e=x.useRef(()=>r.current);return x.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function EF(r){const e=x.useRef(null);return x.useEffect(()=>{e.current=r}),e.current}const bF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TF=typeof document<"u",ET=TF||bF?x.useLayoutEffect:x.useEffect,SF=["as","disabled"];function kF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function CF(r){return!r||r.trim()==="#"}function Hv({tagName:r,disabled:e,href:t,target:n,rel:i,role:o,onClick:l,tabIndex:u=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const h={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},h];const g=v=>{if((e||r==="a"&&CF(t))&&v.preventDefault(),e){v.stopPropagation();return}l==null||l(v)},_=v=>{v.key===" "&&(v.preventDefault(),g(v))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:g,onKeyDown:_},h]}const xF=x.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=kF(r,SF);const[o,{tagName:l}]=Hv(Object.assign({tagName:t,disabled:n},i));return k.jsx(l,Object.assign({},i,o,{ref:e}))});xF.displayName="Button";const IF=["onKeyDown"];function DF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function RF(r){return!r||r.trim()==="#"}const Tx=x.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=DF(r,IF);const[i]=Hv(Object.assign({tagName:"a"},n)),o=Ja(l=>{i.onKeyDown(l),t==null||t(l)});return RF(n.href)||n.role==="button"?k.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:o})):k.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});Tx.displayName="Anchor";const Sx=x.forwardRef(({className:r,bsPrefix:e,as:t=Tx,...n},i)=>(e=cn(e,"alert-link"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Sx.displayName="AlertLink";const AF={[Ya]:"show",[lu]:"show"},_f=x.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=x.useCallback((d,h)=>{pF(d),n==null||n(d,h)},[n]);return k.jsx(yF,{ref:o,addEndListener:hF,...l,onEnter:u,childRef:gx(e),children:(d,h)=>x.cloneElement(e,{...h,className:Bt("fade",r,e.props.className,AF[d],t[d])})})});_f.displayName="Fade";const PF={"aria-label":ta.string,onClick:ta.func,variant:ta.oneOf(["white"])},Hm=x.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>k.jsx("button",{ref:i,type:"button",className:Bt("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));Hm.displayName="CloseButton";Hm.propTypes=PF;const kx=x.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:u,variant:d="primary",onClose:h,dismissible:g,transition:_=_f,...v}=WL(r,{show:"onClose"}),S=cn(t,"alert"),C=Qp(M=>{h&&h(!1,M)}),A=_===!0?_f:_,D=k.jsxs("div",{role:"alert",...A?void 0:v,ref:e,className:Bt(l,S,d&&`${S}-${d}`,g&&`${S}-dismissible`),children:[g&&k.jsx(Hm,{onClick:C,"aria-label":i,variant:o}),u]});return A?k.jsx(A,{unmountOnExit:!0,...v,ref:void 0,in:n,children:D}):n?D:null});kx.displayName="Alert";const NF=Object.assign(kx,{Link:Sx,Heading:bx}),Xd=x.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:o=!1,className:l,...u},d)=>{const h=cn(e,"btn"),[g,{tagName:_}]=Hv({tagName:r,disabled:o,...u}),v=_;return k.jsx(v,{...g,...u,ref:d,disabled:o,className:Bt(l,h,i&&"active",t&&`${h}-${t}`,n&&`${h}-${n}`,u.href&&o&&"disabled")})});Xd.displayName="Button";function OF(r){const e=x.useRef(r);return e.current=r,e}function MF(r){const e=OF(r);x.useEffect(()=>()=>e.current(),[])}function LF(r,e){return x.Children.toArray(r).some(t=>x.isValidElement(t)&&t.type===e)}function FF({as:r,bsPrefix:e,className:t,...n}){e=cn(e,"col");const i=YL(),o=KL(),l=[],u=[];return i.forEach(d=>{const h=n[d];delete n[d];let g,_,v;typeof h=="object"&&h!=null?{span:g,offset:_,order:v}=h:g=h;const S=d!==o?`-${d}`:"";g&&l.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),v!=null&&u.push(`order${S}-${v}`),_!=null&&u.push(`offset${S}-${_}`)}),[{...n,className:Bt(t,...l,...u)},{as:r,bsPrefix:e,spans:l}]}const Cx=x.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:o,spans:l}]=FF(r);return k.jsx(i,{...n,ref:e,className:Bt(t,!l.length&&o)})});Cx.displayName="Col";var VF=Function.prototype.bind.call(Function.prototype.call,[].slice);function yc(r,e){return VF(r.querySelectorAll(e))}function bT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const jF="data-rr-ui-";function UF(r){return`${jF}${r}`}const xx=x.createContext(rd?window:void 0);xx.Provider;function zv(){return x.useContext(xx)}const BF={type:ta.string,tooltip:ta.bool,as:ta.elementType},zm=x.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},o)=>k.jsx(r,{...i,ref:o,className:Bt(e,`${t}-${n?"tooltip":"feedback"}`)}));zm.displayName="Feedback";zm.propTypes=BF;const da=x.createContext({}),qv=x.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...u},d)=>{const{controlId:h}=x.useContext(da);return e=cn(e,"form-check-input"),k.jsx(l,{...u,ref:d,type:n,id:r||h,className:Bt(t,e,i&&"is-valid",o&&"is-invalid")})});qv.displayName="FormCheckInput";const Gp=x.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:o}=x.useContext(da);return r=cn(r,"form-check-label"),k.jsx("label",{...n,ref:i,htmlFor:t||o,className:Bt(e,r)})});Gp.displayName="FormCheckLabel";const Ix=x.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:g,className:_,style:v,title:S="",type:C="checkbox",label:A,children:D,as:M="input",...j},W)=>{e=cn(e,"form-check"),t=cn(t,"form-switch");const{controlId:Z}=x.useContext(da),ee=x.useMemo(()=>({controlId:r||Z}),[Z,r]),le=!D&&A!=null&&A!==!1||LF(D,Gp),F=k.jsx(qv,{...j,type:C==="switch"?"checkbox":C,ref:W,isValid:l,isInvalid:u,disabled:o,as:M});return k.jsx(da.Provider,{value:ee,children:k.jsx("div",{style:v,className:Bt(_,le&&e,n&&`${e}-inline`,i&&`${e}-reverse`,C==="switch"&&t),children:D||k.jsxs(k.Fragment,{children:[F,le&&k.jsx(Gp,{title:S,children:A}),h&&k.jsx(zm,{type:g,tooltip:d,children:h})]})})})});Ix.displayName="FormCheck";const Xp=Object.assign(Ix,{Input:qv,Label:Gp}),Dx=x.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:g="input",..._},v)=>{const{controlId:S}=x.useContext(da);return r=cn(r,"form-control"),k.jsx(g,{..._,type:e,size:n,ref:v,readOnly:h,id:i||S,className:Bt(o,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,l&&"is-valid",u&&"is-invalid")})});Dx.displayName="FormControl";const $F=Object.assign(Dx,{Feedback:zm}),Rx=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"form-floating"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Rx.displayName="FormFloating";const Yv=x.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=x.useMemo(()=>({controlId:r}),[r]);return k.jsx(da.Provider,{value:i,children:k.jsx(e,{...t,ref:n})})});Yv.displayName="FormGroup";const Ax=x.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:o,...l},u)=>{const{controlId:d}=x.useContext(da);e=cn(e,"form-label");let h="col-form-label";typeof t=="string"&&(h=`${h} ${h}-${t}`);const g=Bt(i,e,n&&"visually-hidden",t&&h);return o=o||d,t?k.jsx(Cx,{ref:u,as:"label",className:g,htmlFor:o,...l}):k.jsx(r,{ref:u,className:g,htmlFor:o,...l})});Ax.displayName="FormLabel";const Px=x.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:o}=x.useContext(da);return r=cn(r,"form-range"),k.jsx("input",{...n,type:"range",ref:i,className:Bt(e,r),id:t||o})});Px.displayName="FormRange";const Nx=x.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:o=!1,id:l,...u},d)=>{const{controlId:h}=x.useContext(da);return r=cn(r,"form-select"),k.jsx("select",{...u,size:t,ref:d,className:Bt(n,r,e&&`${r}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||h})});Nx.displayName="FormSelect";const Ox=x.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},o)=>(r=cn(r,"form-text"),k.jsx(t,{...i,ref:o,className:Bt(e,r,n&&"text-muted")})));Ox.displayName="FormText";const Mx=x.forwardRef((r,e)=>k.jsx(Xp,{...r,ref:e,type:"switch"}));Mx.displayName="Switch";const WF=Object.assign(Mx,{Input:Xp.Input,Label:Xp.Label}),Lx=x.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...o},l)=>(r=cn(r,"form-floating"),k.jsxs(Yv,{ref:l,className:Bt(e,r),controlId:n,...o,children:[t,k.jsx("label",{htmlFor:n,children:i})]})));Lx.displayName="FloatingLabel";const HF={_ref:ta.any,validated:ta.bool,as:ta.elementType},Kv=x.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>k.jsx(t,{...n,ref:i,className:Bt(r,e&&"was-validated")}));Kv.displayName="Form";Kv.propTypes=HF;const iu=Object.assign(Kv,{Group:Yv,Control:$F,Floating:Rx,Check:Xp,Switch:WF,Label:Ax,Text:Ox,Range:Px,Select:Nx,FloatingLabel:Lx}),TT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function zF(r,e){const t=TT(r),n=TT(e);return i=>{t&&t(i),n&&n(i)}}function Qv(r,e){return x.useMemo(()=>zF(r,e),[r,e])}var Gh;function ST(r){if((!Gh&&Gh!==0||r)&&rd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Gh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Gh}function qF(){return x.useState(null)}function Iy(r){r===void 0&&(r=Wm());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function YF(r){const e=x.useRef(r);return e.current=r,e}function KF(r){const e=YF(r);x.useEffect(()=>()=>e.current(),[])}function QF(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const kT=UF("modal-open");class Gv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return QF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(mu(i,n)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(kT,""),mu(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(kT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Dy=(r,e)=>rd?r==null?(e||Wm()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function GF(r,e){const t=zv(),[n,i]=x.useState(()=>Dy(r,t==null?void 0:t.document));if(!n){const o=Dy(r);o&&i(o)}return x.useEffect(()=>{},[e,n]),x.useEffect(()=>{const o=Dy(r);o!==n&&i(o)},[r,n]),n}function XF({children:r,in:e,onExited:t,mountOnEnter:n,unmountOnExit:i}){const o=x.useRef(null),l=x.useRef(e),u=Ja(t);x.useEffect(()=>{e?l.current=!0:u(o.current)},[e,u]);const d=Qv(o,r.ref),h=x.cloneElement(r,{ref:d});return e?h:i||!l.current&&n?null:h}const JF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function e2(r){let{onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:d}=r,h=ZF(r,JF);const g=x.useRef(null),_=Qv(g,gx(d)),v=Z=>ee=>{Z&&g.current&&Z(g.current,ee)},S=x.useCallback(v(e),[e]),C=x.useCallback(v(t),[t]),A=x.useCallback(v(n),[n]),D=x.useCallback(v(i),[i]),M=x.useCallback(v(o),[o]),j=x.useCallback(v(l),[l]),W=x.useCallback(v(u),[u]);return Object.assign({},h,{nodeRef:g},e&&{onEnter:S},t&&{onEntering:C},n&&{onEntered:A},i&&{onExit:D},o&&{onExiting:M},l&&{onExited:j},u&&{addEndListener:W},{children:typeof d=="function"?(Z,ee)=>d(Z,Object.assign({},ee,{ref:_})):x.cloneElement(d,{ref:_})})}const t2=["component"];function n2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}const r2=x.forwardRef((r,e)=>{let{component:t}=r,n=n2(r,t2);const i=e2(n);return k.jsx(t,Object.assign({ref:e},i))});function i2({in:r,onTransition:e}){const t=x.useRef(null),n=x.useRef(!0),i=Ja(e);return ET(()=>{if(!t.current)return;let o=!1;return i({in:r,element:t.current,initial:n.current,isStale:()=>o}),()=>{o=!0}},[r,i]),ET(()=>(n.current=!1,()=>{n.current=!0}),[]),t}function s2({children:r,in:e,onExited:t,onEntered:n,transition:i}){const[o,l]=x.useState(!e);e&&o&&l(!1);const u=i2({in:!!e,onTransition:h=>{const g=()=>{h.isStale()||(h.in?n==null||n(h.element,h.initial):(l(!0),t==null||t(h.element)))};Promise.resolve(i(h)).then(g,_=>{throw h.in||l(!0),_})}}),d=Qv(u,r.ref);return o&&!e?null:x.cloneElement(r,{ref:d})}function CT(r,e,t){return r?k.jsx(r2,Object.assign({},t,{component:r})):e?k.jsx(s2,Object.assign({},t,{transition:e})):k.jsx(XF,Object.assign({},t))}const o2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function a2(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}let Ry;function l2(r){return Ry||(Ry=new Gv({ownerDocument:r==null?void 0:r.document})),Ry}function u2(r){const e=zv(),t=r||l2(e),n=x.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>t.add(n.current),remove:()=>t.remove(n.current),isTopModal:()=>t.isTopModal(n.current),setDialogRef:x.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{n.current.backdrop=i},[])})}const Fx=x.forwardRef((r,e)=>{let{show:t=!1,role:n="dialog",className:i,style:o,children:l,backdrop:u=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:g,transition:_,runTransition:v,backdropTransition:S,runBackdropTransition:C,autoFocus:A=!0,enforceFocus:D=!0,restoreFocus:M=!0,restoreFocusOptions:j,renderDialog:W,renderBackdrop:Z=dt=>k.jsx("div",Object.assign({},dt)),manager:ee,container:le,onShow:F,onHide:N=()=>{},onExit:L,onExited:U,onExiting:$,onEnter:H,onEntering:V,onEntered:Ue}=r,Le=a2(r,o2);const we=zv(),Ee=GF(le),ie=u2(ee),be=wF(),Q=EF(t),[Y,ue]=x.useState(!t),ke=x.useRef(null);x.useImperativeHandle(e,()=>ie,[ie]),rd&&!Q&&t&&(ke.current=Iy(we==null?void 0:we.document)),t&&Y&&ue(!1);const Be=Ja(()=>{if(ie.add(),$t.current=Kp(document,"keydown",ye),ct.current=Kp(document,"focus",()=>setTimeout(Qe),!0),F&&F(),A){var dt,Xn;const ci=Iy((dt=(Xn=ie.dialog)==null?void 0:Xn.ownerDocument)!=null?dt:we==null?void 0:we.document);ie.dialog&&ci&&!bT(ie.dialog,ci)&&(ke.current=ci,ie.dialog.focus())}}),Ke=Ja(()=>{if(ie.remove(),$t.current==null||$t.current(),ct.current==null||ct.current(),M){var dt;(dt=ke.current)==null||dt.focus==null||dt.focus(j),ke.current=null}});x.useEffect(()=>{!t||!Ee||Be()},[t,Ee,Be]),x.useEffect(()=>{Y&&Ke()},[Y,Ke]),KF(()=>{Ke()});const Qe=Ja(()=>{if(!D||!be()||!ie.isTopModal())return;const dt=Iy(we==null?void 0:we.document);ie.dialog&&dt&&!bT(ie.dialog,dt)&&ie.dialog.focus()}),st=Ja(dt=>{dt.target===dt.currentTarget&&(h==null||h(dt),u===!0&&N())}),ye=Ja(dt=>{d&&lF(dt)&&ie.isTopModal()&&(g==null||g(dt),dt.defaultPrevented||N())}),ct=x.useRef(),$t=x.useRef(),cr=(...dt)=>{ue(!0),U==null||U(...dt)};if(!Ee)return null;const Dr=Object.assign({role:n,ref:ie.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},Le,{style:o,className:i,tabIndex:-1});let wn=W?W(Dr):k.jsx("div",Object.assign({},Dr,{children:x.cloneElement(l,{role:"document"})}));wn=CT(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:L,onExiting:$,onExited:cr,onEnter:H,onEntering:V,onEntered:Ue,children:wn});let Gn=null;return u&&(Gn=Z({ref:ie.setBackdropRef,onClick:st}),Gn=CT(S,C,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Gn})),k.jsx(k.Fragment,{children:uu.createPortal(k.jsxs(k.Fragment,{children:[Gn,wn]}),Ee)})});Fx.displayName="Modal";const c2=Object.assign(Fx,{Manager:Gv});function d2(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function f2(r,e){r.classList?r.classList.add(e):d2(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function xT(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function h2(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=xT(r.className,e):r.setAttribute("class",xT(r.className&&r.className.baseVal||"",e))}const _c={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class p2 extends Gv{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,mu(t,{[e]:`${parseFloat(mu(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];n!==void 0&&(delete t.dataset[e],mu(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(f2(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";yc(t,_c.FIXED_CONTENT).forEach(o=>this.adjustAndStore(n,o,e.scrollBarWidth)),yc(t,_c.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),yc(t,_c.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();h2(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";yc(t,_c.FIXED_CONTENT).forEach(o=>this.restore(n,o)),yc(t,_c.STICKY_CONTENT).forEach(o=>this.restore(i,o)),yc(t,_c.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Ay;function m2(r){return Ay||(Ay=new p2(r)),Ay}const Vx=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"modal-body"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Vx.displayName="ModalBody";const jx=x.createContext({onHide(){}}),Xv=x.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:n,size:i,fullscreen:o,children:l,scrollable:u,...d},h)=>{r=cn(r,"modal");const g=`${r}-dialog`,_=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return k.jsx("div",{...d,ref:h,className:Bt(g,e,i&&`${r}-${i}`,n&&`${g}-centered`,u&&`${g}-scrollable`,o&&_),children:k.jsx("div",{className:Bt(`${r}-content`,t),children:l})})});Xv.displayName="ModalDialog";const Ux=x.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=cn(e,"modal-footer"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));Ux.displayName="ModalFooter";const g2=x.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:n,children:i,...o},l)=>{const u=x.useContext(jx),d=Qp(()=>{u==null||u.onHide(),n==null||n()});return k.jsxs("div",{ref:l,...o,children:[i,t&&k.jsx(Hm,{"aria-label":r,variant:e,onClick:d})]})}),Bx=x.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:n=!1,...i},o)=>(r=cn(r,"modal-header"),k.jsx(g2,{ref:o,...i,className:Bt(e,r),closeLabel:t,closeButton:n})));Bx.displayName="ModalHeader";const y2=wx("h4"),$x=x.forwardRef(({className:r,bsPrefix:e,as:t=y2,...n},i)=>(e=cn(e,"modal-title"),k.jsx(t,{ref:i,className:Bt(r,e),...n})));$x.displayName="ModalTitle";function _2(r){return k.jsx(_f,{...r,timeout:null})}function v2(r){return k.jsx(_f,{...r,timeout:null})}const Wx=x.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:n,contentClassName:i,children:o,dialogAs:l=Xv,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":g,show:_=!1,animation:v=!0,backdrop:S=!0,keyboard:C=!0,onEscapeKeyDown:A,onShow:D,onHide:M,container:j,autoFocus:W=!0,enforceFocus:Z=!0,restoreFocus:ee=!0,restoreFocusOptions:le,onEntered:F,onExit:N,onExiting:L,onEnter:U,onEntering:$,onExited:H,backdropClassName:V,manager:Ue,...Le},we)=>{const[Ee,ie]=x.useState({}),[be,Q]=x.useState(!1),Y=x.useRef(!1),ue=x.useRef(!1),ke=x.useRef(null),[Be,Ke]=qF(),Qe=vx(we,Ke),st=Qp(M),ye=QL();r=cn(r,"modal");const ct=x.useMemo(()=>({onHide:st}),[st]);function $t(){return Ue||m2({isRTL:ye})}function cr(ze){if(!rd)return;const Tt=$t().getScrollbarWidth()>0,Cn=ze.scrollHeight>Wm(ze).documentElement.clientHeight;ie({paddingRight:Tt&&!Cn?ST():void 0,paddingLeft:!Tt&&Cn?ST():void 0})}const Dr=Qp(()=>{Be&&cr(Be.dialog)});MF(()=>{S_(window,"resize",Dr),ke.current==null||ke.current()});const wn=()=>{Y.current=!0},Gn=ze=>{Y.current&&Be&&ze.target===Be.dialog&&(ue.current=!0),Y.current=!1},dt=()=>{Q(!0),ke.current=_x(Be.dialog,()=>{Q(!1)})},Xn=ze=>{ze.target===ze.currentTarget&&dt()},ci=ze=>{if(S==="static"){Xn(ze);return}if(ue.current||ze.target!==ze.currentTarget){ue.current=!1;return}M==null||M()},pa=ze=>{C?A==null||A(ze):(ze.preventDefault(),S==="static"&&dt())},As=(ze,Tt)=>{ze&&cr(ze),U==null||U(ze,Tt)},di=ze=>{ke.current==null||ke.current(),N==null||N(ze)},fi=(ze,Tt)=>{$==null||$(ze,Tt),yx(window,"resize",Dr)},wo=ze=>{ze&&(ze.style.display=""),H==null||H(ze),S_(window,"resize",Dr)},Ps=x.useCallback(ze=>k.jsx("div",{...ze,className:Bt(`${r}-backdrop`,V,!v&&"show")}),[v,V,r]),qr={...t,...Ee};qr.display="block";const dr=ze=>k.jsx("div",{role:"dialog",...ze,style:qr,className:Bt(e,r,be&&`${r}-static`,!v&&"show"),onClick:S?ci:void 0,onMouseUp:Gn,"data-bs-theme":u,"aria-label":g,"aria-labelledby":d,"aria-describedby":h,children:k.jsx(l,{...Le,onMouseDown:wn,className:n,contentClassName:i,children:o})});return k.jsx(jx.Provider,{value:ct,children:k.jsx(c2,{show:_,ref:Qe,backdrop:S,container:j,keyboard:!0,autoFocus:W,enforceFocus:Z,restoreFocus:ee,restoreFocusOptions:le,onEscapeKeyDown:pa,onShow:D,onHide:M,onEnter:As,onEntering:fi,onEntered:F,onExit:di,onExiting:L,onExited:wo,manager:$t(),transition:v?_2:void 0,backdropTransition:v?v2:void 0,renderBackdrop:Ps,renderDialog:dr})})});Wx.displayName="Modal";const Br=Object.assign(Wx,{Body:Vx,Header:Bx,Title:$x,Footer:Ux,Dialog:Xv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),w2=({user:r})=>{const e=r==null?void 0:r.uid,{userData:t,fetchUserData:n,editUserData:i,deleteUserData:o,loading:l,error:u}=FL(e||null),[d,h]=x.useState(!1),[g,_]=x.useState(!1),[v,S]=x.useState({firstName:"",lastName:""}),[C,A]=x.useState("");x.useEffect(()=>{e&&n()},[e,n]);const D=async()=>{try{await i(v),console.log("User updated successfully!"),h(!1),A("Your profile was updated successfully!"),setTimeout(()=>A(""),5e3)}catch(W){console.error("Error updating user:",W)}},M=async()=>{try{await o(),console.log("User deleted successfully!"),_(!1)}catch(W){console.error("Error deleting user:",W)}},j=()=>{t&&(S({firstName:t.firstName,lastName:t.lastName}),h(!0))};return l?k.jsx("p",{className:"text-center mt-4",children:"Loading..."}):u?k.jsx("p",{className:"text-danger text-center mt-4",children:u}):k.jsxs("div",{className:"container mt-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"User Profile"}),t?k.jsxs("div",{className:"card mx-auto",style:{maxWidth:"600px"},"aria-labelledby":"userProfileCard",children:[k.jsx("div",{className:"card-header text-white",style:{background:"rgba(84, 37, 122, 0.84)"},children:k.jsx("h2",{className:"card-title",id:"userProfileCard",children:"Profile Information"})}),k.jsxs("div",{className:"card-body",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Email:"})," ",t.email]}),k.jsxs("p",{children:[k.jsx("strong",{children:"First Name:"})," ",t.firstName]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Last Name:"})," ",t.lastName]}),k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{className:"btn btn-warning",onClick:j,"aria-label":"Edit User Information",children:"Edit User"}),k.jsx("button",{className:"btn btn-danger",onClick:()=>_(!0),"aria-label":"Delete User Account",children:"Delete User"})]})]})]}):k.jsx("p",{className:"text-center text-muted",children:"No user data available."}),C&&k.jsx(NF,{variant:"success",className:"mt-4 text-center",children:C}),k.jsxs(Br,{show:d,onHide:()=>h(!1),children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsx(Br.Title,{children:"Edit User"})}),k.jsx(Br.Body,{children:k.jsxs(iu,{children:[k.jsxs(iu.Group,{controlId:"formFirstName",children:[k.jsx(iu.Label,{children:"First Name"}),k.jsx(iu.Control,{type:"text",value:v.firstName,onChange:W=>S({...v,firstName:W.target.value})})]}),k.jsxs(iu.Group,{controlId:"formLastName",className:"mt-3",children:[k.jsx(iu.Label,{children:"Last Name"}),k.jsx(iu.Control,{type:"text",value:v.lastName,onChange:W=>S({...v,lastName:W.target.value})})]})]})}),k.jsxs(Br.Footer,{children:[k.jsx(Xd,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),k.jsx(Xd,{variant:"primary",onClick:D,children:"Save Changes"})]})]}),k.jsxs(Br,{show:g,onHide:()=>_(!1),children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsx(Br.Title,{children:"Confirm Delete"})}),k.jsx(Br.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),k.jsxs(Br.Footer,{children:[k.jsx(Xd,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),k.jsx(Xd,{variant:"danger",onClick:M,children:"Delete Account"})]})]})]})};function Hx(r,e){return function(){return r.apply(e,arguments)}}const{toString:E2}=Object.prototype,{getPrototypeOf:Jv}=Object,qm=(r=>e=>{const t=E2.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Rs=r=>(r=r.toLowerCase(),e=>qm(e)===r),Ym=r=>e=>typeof e===r,{isArray:id}=Array,vf=Ym("undefined");function b2(r){return r!==null&&!vf(r)&&r.constructor!==null&&!vf(r.constructor)&&Pi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const zx=Rs("ArrayBuffer");function T2(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&zx(r.buffer),e}const S2=Ym("string"),Pi=Ym("function"),qx=Ym("number"),Km=r=>r!==null&&typeof r=="object",k2=r=>r===!0||r===!1,yp=r=>{if(qm(r)!=="object")return!1;const e=Jv(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},C2=Rs("Date"),x2=Rs("File"),I2=Rs("Blob"),D2=Rs("FileList"),R2=r=>Km(r)&&Pi(r.pipe),A2=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Pi(r.append)&&((e=qm(r))==="formdata"||e==="object"&&Pi(r.toString)&&r.toString()==="[object FormData]"))},P2=Rs("URLSearchParams"),[N2,O2,M2,L2]=["ReadableStream","Request","Response","Headers"].map(Rs),F2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vf(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),id(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,r[u],u,r)}}function Yx(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const fu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kx=r=>!vf(r)&&r!==fu;function k_(){const{caseless:r}=Kx(this)&&this||{},e={},t=(n,i)=>{const o=r&&Yx(e,i)||i;yp(e[o])&&yp(n)?e[o]=k_(e[o],n):yp(n)?e[o]=k_({},n):id(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Vf(arguments[n],t);return e}const V2=(r,e,t,{allOwnKeys:n}={})=>(Vf(e,(i,o)=>{t&&Pi(i)?r[o]=Hx(i,t):r[o]=i},{allOwnKeys:n}),r),j2=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),U2=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},B2=(r,e,t,n)=>{let i,o,l;const u={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&Jv(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},$2=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},W2=r=>{if(!r)return null;if(id(r))return r;let e=r.length;if(!qx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},H2=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Jv(Uint8Array)),z2=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},q2=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Y2=Rs("HTMLFormElement"),K2=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),IT=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Q2=Rs("RegExp"),Qx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Vf(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},G2=r=>{Qx(r,(e,t)=>{if(Pi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Pi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},X2=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return id(r)?n(r):n(String(r).split(e)),t},J2=()=>{},Z2=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Py="abcdefghijklmnopqrstuvwxyz",DT="0123456789",Gx={DIGIT:DT,ALPHA:Py,ALPHA_DIGIT:Py+Py.toUpperCase()+DT},eV=(r=16,e=Gx.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function tV(r){return!!(r&&Pi(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const nV=r=>{const e=new Array(10),t=(n,i)=>{if(Km(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=id(n)?[]:{};return Vf(n,(l,u)=>{const d=t(l,i+1);!vf(d)&&(o[u]=d)}),e[i]=void 0,o}}return n};return t(r,0)},rV=Rs("AsyncFunction"),iV=r=>r&&(Km(r)||Pi(r))&&Pi(r.then)&&Pi(r.catch),Xx=((r,e)=>r?setImmediate:e?((t,n)=>(fu.addEventListener("message",({source:i,data:o})=>{i===fu&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),fu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Pi(fu.postMessage)),sV=typeof queueMicrotask<"u"?queueMicrotask.bind(fu):typeof process<"u"&&process.nextTick||Xx,oe={isArray:id,isArrayBuffer:zx,isBuffer:b2,isFormData:A2,isArrayBufferView:T2,isString:S2,isNumber:qx,isBoolean:k2,isObject:Km,isPlainObject:yp,isReadableStream:N2,isRequest:O2,isResponse:M2,isHeaders:L2,isUndefined:vf,isDate:C2,isFile:x2,isBlob:I2,isRegExp:Q2,isFunction:Pi,isStream:R2,isURLSearchParams:P2,isTypedArray:H2,isFileList:D2,forEach:Vf,merge:k_,extend:V2,trim:F2,stripBOM:j2,inherits:U2,toFlatObject:B2,kindOf:qm,kindOfTest:Rs,endsWith:$2,toArray:W2,forEachEntry:z2,matchAll:q2,isHTMLForm:Y2,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:Qx,freezeMethods:G2,toObjectSet:X2,toCamelCase:K2,noop:J2,toFiniteNumber:Z2,findKey:Yx,global:fu,isContextDefined:Kx,ALPHABET:Gx,generateString:eV,isSpecCompliantForm:tV,toJSONObject:nV,isAsyncFn:rV,isThenable:iV,setImmediate:Xx,asap:sV};function it(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Jx=it.prototype,Zx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Zx[r]={value:r}});Object.defineProperties(it,Zx);Object.defineProperty(Jx,"isAxiosError",{value:!0});it.from=(r,e,t,n,i,o)=>{const l=Object.create(Jx);return oe.toFlatObject(r,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),it.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const oV=null;function C_(r){return oe.isPlainObject(r)||oe.isArray(r)}function e0(r){return oe.endsWith(r,"[]")?r.slice(0,-2):r}function RT(r,e,t){return r?r.concat(e).map(function(i,o){return i=e0(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function aV(r){return oe.isArray(r)&&!r.some(C_)}const lV=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(r,e,t){if(!oe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,D){return!oe.isUndefined(D[A])});const n=t.metaTokens,i=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(oe.isDate(C))return C.toISOString();if(!d&&oe.isBlob(C))throw new it("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(C)||oe.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,A,D){let M=C;if(C&&!D&&typeof C=="object"){if(oe.endsWith(A,"{}"))A=n?A:A.slice(0,-2),C=JSON.stringify(C);else if(oe.isArray(C)&&aV(C)||(oe.isFileList(C)||oe.endsWith(A,"[]"))&&(M=oe.toArray(C)))return A=e0(A),M.forEach(function(W,Z){!(oe.isUndefined(W)||W===null)&&e.append(l===!0?RT([A],Z,o):l===null?A:A+"[]",h(W))}),!1}return C_(C)?!0:(e.append(RT(D,A,o),h(C)),!1)}const _=[],v=Object.assign(lV,{defaultVisitor:g,convertValue:h,isVisitable:C_});function S(C,A){if(!oe.isUndefined(C)){if(_.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(C),oe.forEach(C,function(M,j){(!(oe.isUndefined(M)||M===null)&&i.call(e,M,oe.isString(j)?j.trim():j,A,v))===!0&&S(M,A?A.concat(j):[j])}),_.pop()}}if(!oe.isObject(r))throw new TypeError("data must be an object");return S(r),e}function AT(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zv(r,e){this._pairs=[],r&&Qm(r,this,e)}const t0=Zv.prototype;t0.append=function(e,t){this._pairs.push([e,t])};t0.toString=function(e){const t=e?function(n){return e.call(this,n,AT)}:AT;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function uV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function n0(r,e,t){if(!e)return r;const n=t&&t.encode||uV;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new Zv(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class PT{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const r0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cV=typeof URLSearchParams<"u"?URLSearchParams:Zv,dV=typeof FormData<"u"?FormData:null,fV=typeof Blob<"u"?Blob:null,hV={isBrowser:!0,classes:{URLSearchParams:cV,FormData:dV,Blob:fV},protocols:["http","https","file","blob","url","data"]},ew=typeof window<"u"&&typeof document<"u",x_=typeof navigator=="object"&&navigator||void 0,pV=ew&&(!x_||["ReactNative","NativeScript","NS"].indexOf(x_.product)<0),mV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gV=ew&&window.location.href||"http://localhost",yV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ew,hasStandardBrowserEnv:pV,hasStandardBrowserWebWorkerEnv:mV,navigator:x_,origin:gV},Symbol.toStringTag,{value:"Module"})),Cr={...yV,...hV};function _V(r,e){return Qm(r,new Cr.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return Cr.isNode&&oe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function vV(r){return oe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wV(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function i0(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&oe.isArray(i)?i.length:l,d?(oe.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!u):((!i[l]||!oe.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&oe.isArray(i[l])&&(i[l]=wV(i[l])),!u)}if(oe.isFormData(r)&&oe.isFunction(r.entries)){const t={};return oe.forEachEntry(r,(n,i)=>{e(vV(n),i,t,0)}),t}return null}function EV(r,e,t){if(oe.isString(r))try{return(e||JSON.parse)(r),oe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const jf={transitional:r0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(i0(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _V(e,this.formSerializer).toString();if((u=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Qm(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),EV(e)):e}],transformResponse:[function(e){const t=this.transitional||jf.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?it.from(u,it.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],r=>{jf.headers[r]={}});const bV=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&bV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},NT=Symbol("internals");function jd(r){return r&&String(r).trim().toLowerCase()}function _p(r){return r===!1||r==null?r:oe.isArray(r)?r.map(_p):String(r)}function SV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const kV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ny(r,e,t,n,i){if(oe.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(n))return e.indexOf(n)!==-1;if(oe.isRegExp(n))return n.test(e)}}function CV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function xV(r,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class ui{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(u,d,h){const g=jd(d);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||h===!0||h===void 0&&i[_]!==!1)&&(i[_||d]=_p(u))}const l=(u,d)=>oe.forEach(u,(h,g)=>o(h,g,d));if(oe.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(oe.isString(e)&&(e=e.trim())&&!kV(e))l(TV(e),t);else if(oe.isHeaders(e))for(const[u,d]of e.entries())o(d,u,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=jd(e),e){const n=oe.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return SV(i);if(oe.isFunction(t))return t.call(this,i,n);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=jd(e),e){const n=oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Ny(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=jd(l),l){const u=oe.findKey(n,l);u&&(!t||Ny(n,n[u],u,t))&&(delete n[u],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||Ny(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return oe.forEach(this,(i,o)=>{const l=oe.findKey(n,o);if(l){t[l]=_p(i),delete t[o];return}const u=e?CV(o):String(o).trim();u!==o&&delete t[o],t[u]=_p(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&oe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[NT]=this[NT]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=jd(l);n[u]||(xV(i,l),n[u]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}}ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(ui.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});oe.freezeMethods(ui);function Oy(r,e){const t=this||jf,n=e||t,i=ui.from(n.headers);let o=n.data;return oe.forEach(r,function(u){o=u.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function s0(r){return!!(r&&r.__CANCEL__)}function sd(r,e,t){it.call(this,r??"canceled",it.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(sd,it,{__CANCEL__:!0});function o0(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new it("Request failed with status code "+t.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function IV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function DV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),g=n[o];l||(l=h),t[i]=d,n[i]=h;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),h-l<e)return;const S=g&&h-g;return S?Math.round(v*1e3/S):void 0}}function RV(r,e){let t=0,n=1e3/e,i,o;const l=(h,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),r.apply(null,h)};return[(...h)=>{const g=Date.now(),_=g-t;_>=n?l(h,g):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},n-_)))},()=>i&&l(i)]}const Jp=(r,e,t=3)=>{let n=0;const i=DV(50,250);return RV(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,h=i(d),g=l<=u;n=l;const _={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&g?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(_)},t)},OT=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},MT=r=>(...e)=>oe.asap(()=>r(...e)),AV=Cr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Cr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Cr.origin),Cr.navigator&&/(msie|trident)/i.test(Cr.navigator.userAgent)):()=>!0,PV=Cr.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];oe.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),oe.isString(n)&&l.push("path="+n),oe.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function OV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function a0(r,e){return r&&!NV(e)?OV(r,e):e}const LT=r=>r instanceof ui?{...r}:r;function ku(r,e){e=e||{};const t={};function n(h,g,_,v){return oe.isPlainObject(h)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},h,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(h,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(h))return n(void 0,h,_,v)}else return n(h,g,_,v)}function o(h,g){if(!oe.isUndefined(g))return n(void 0,g)}function l(h,g){if(oe.isUndefined(g)){if(!oe.isUndefined(h))return n(void 0,h)}else return n(void 0,g)}function u(h,g,_){if(_ in e)return n(h,g);if(_ in r)return n(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,g,_)=>i(LT(h),LT(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},r,e)),function(g){const _=d[g]||i,v=_(r[g],e[g],g);oe.isUndefined(v)&&_!==u||(t[g]=v)}),t}const l0=r=>{const e=ku({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=ui.from(l),e.url=n0(a0(e.baseURL,e.url),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(oe.isFormData(t)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Cr.hasStandardBrowserEnv&&(n&&oe.isFunction(n)&&(n=n(e)),n||n!==!1&&AV(e.url))){const h=i&&o&&PV.read(o);h&&l.set(i,h)}return e},MV=typeof XMLHttpRequest<"u",LV=MV&&function(r){return new Promise(function(t,n){const i=l0(r);let o=i.data;const l=ui.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,g,_,v,S,C;function A(){S&&S(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function M(){if(!D)return;const W=ui.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ee={data:!u||u==="text"||u==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:W,config:r,request:D};o0(function(F){t(F),A()},function(F){n(F),A()},ee),D=null}"onloadend"in D?D.onloadend=M:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(M)},D.onabort=function(){D&&(n(new it("Request aborted",it.ECONNABORTED,r,D)),D=null)},D.onerror=function(){n(new it("Network Error",it.ERR_NETWORK,r,D)),D=null},D.ontimeout=function(){let Z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ee=i.transitional||r0;i.timeoutErrorMessage&&(Z=i.timeoutErrorMessage),n(new it(Z,ee.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,r,D)),D=null},o===void 0&&l.setContentType(null),"setRequestHeader"in D&&oe.forEach(l.toJSON(),function(Z,ee){D.setRequestHeader(ee,Z)}),oe.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),u&&u!=="json"&&(D.responseType=i.responseType),h&&([v,C]=Jp(h,!0),D.addEventListener("progress",v)),d&&D.upload&&([_,S]=Jp(d),D.upload.addEventListener("progress",_),D.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(g=W=>{D&&(n(!W||W.type?new sd(null,r,D):W),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const j=IV(i.url);if(j&&Cr.protocols.indexOf(j)===-1){n(new it("Unsupported protocol "+j+":",it.ERR_BAD_REQUEST,r));return}D.send(o||null)})},FV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(h){if(!i){i=!0,u();const g=h instanceof Error?h:this.reason;n.abort(g instanceof it?g:new sd(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),r=null)};r.forEach(h=>h.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>oe.asap(u),d}},VV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},jV=async function*(r,e){for await(const t of UV(r))yield*VV(t,e)},UV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},FT=(r,e,t,n)=>{const i=jV(r,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:g}=await i.next();if(h){u(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Gm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u0=Gm&&typeof ReadableStream=="function",BV=Gm&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),c0=(r,...e)=>{try{return!!r(...e)}catch{return!1}},$V=u0&&c0(()=>{let r=!1;const e=new Request(Cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),VT=64*1024,I_=u0&&c0(()=>oe.isReadableStream(new Response("").body)),Zp={stream:I_&&(r=>r.body)};Gm&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zp[e]&&(Zp[e]=oe.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,n)})})})(new Response);const WV=async r=>{if(r==null)return 0;if(oe.isBlob(r))return r.size;if(oe.isSpecCompliantForm(r))return(await new Request(Cr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(r)||oe.isArrayBuffer(r))return r.byteLength;if(oe.isURLSearchParams(r)&&(r=r+""),oe.isString(r))return(await BV(r)).byteLength},HV=async(r,e)=>{const t=oe.toFiniteNumber(r.getContentLength());return t??WV(e)},zV=Gm&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:g,withCredentials:_="same-origin",fetchOptions:v}=l0(r);h=h?(h+"").toLowerCase():"text";let S=FV([i,o&&o.toAbortSignal()],l),C;const A=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let D;try{if(d&&$V&&t!=="get"&&t!=="head"&&(D=await HV(g,n))!==0){let ee=new Request(e,{method:"POST",body:n,duplex:"half"}),le;if(oe.isFormData(n)&&(le=ee.headers.get("content-type"))&&g.setContentType(le),ee.body){const[F,N]=OT(D,Jp(MT(d)));n=FT(ee.body,VT,F,N)}}oe.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;C=new Request(e,{...v,signal:S,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:M?_:void 0});let j=await fetch(C);const W=I_&&(h==="stream"||h==="response");if(I_&&(u||W&&A)){const ee={};["status","statusText","headers"].forEach(L=>{ee[L]=j[L]});const le=oe.toFiniteNumber(j.headers.get("content-length")),[F,N]=u&&OT(le,Jp(MT(u),!0))||[];j=new Response(FT(j.body,VT,F,()=>{N&&N(),A&&A()}),ee)}h=h||"text";let Z=await Zp[oe.findKey(Zp,h)||"text"](j,r);return!W&&A&&A(),await new Promise((ee,le)=>{o0(ee,le,{data:Z,headers:ui.from(j.headers),status:j.status,statusText:j.statusText,config:r,request:C})})}catch(M){throw A&&A(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,r,C),{cause:M.cause||M}):it.from(M,M&&M.code,r,C)}}),D_={http:oV,xhr:LV,fetch:zV};oe.forEach(D_,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const jT=r=>`- ${r}`,qV=r=>oe.isFunction(r)||r===null||r===!1,d0={getAdapter:r=>{r=oe.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!qV(t)&&(n=D_[(l=String(t)).toLowerCase()],n===void 0))throw new it(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(jT).join(`
`):" "+jT(o[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:D_};function My(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new sd(null,r)}function UT(r){return My(r),r.headers=ui.from(r.headers),r.data=Oy.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(r.adapter||jf.adapter)(r).then(function(n){return My(r),n.data=Oy.call(r,r.transformResponse,n),n.headers=ui.from(n.headers),n},function(n){return s0(n)||(My(r),n&&n.response&&(n.response.data=Oy.call(r,r.transformResponse,n.response),n.response.headers=ui.from(n.response.headers))),Promise.reject(n)})}const f0="1.7.9",Xm={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Xm[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const BT={};Xm.transitional=function(e,t,n){function i(o,l){return"[Axios v"+f0+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new it(i(l," has been removed"+(t?" in "+t:"")),it.ERR_DEPRECATED);return t&&!BT[l]&&(BT[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Xm.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function YV(r,e,t){if(typeof r!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const u=r[o],d=u===void 0||l(u,o,r);if(d!==!0)throw new it("option "+o+" must be "+d,it.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new it("Unknown option "+o,it.ERR_BAD_OPTION)}}const vp={assertOptions:YV,validators:Xm},to=vp.validators;class gu{constructor(e){this.defaults=e,this.interceptors={request:new PT,response:new PT}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ku(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&vp.assertOptions(n,{silentJSONParsing:to.transitional(to.boolean),forcedJSONParsing:to.transitional(to.boolean),clarifyTimeoutError:to.transitional(to.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:vp.assertOptions(i,{encode:to.function,serialize:to.function},!0)),vp.assertOptions(t,{baseUrl:to.spelling("baseURL"),withXsrfToken:to.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),t.headers=ui.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(d=d&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!d){const C=[UT.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,h),v=C.length,g=Promise.resolve(t);_<v;)g=g.then(C[_++],C[_++]);return g}v=u.length;let S=t;for(_=0;_<v;){const C=u[_++],A=u[_++];try{S=C(S)}catch(D){A.call(this,D);break}}try{g=UT.call(this,S)}catch(C){return Promise.reject(C)}for(_=0,v=h.length;_<v;)g=g.then(h[_++],h[_++]);return g}getUri(e){e=ku(this.defaults,e);const t=a0(e.baseURL,e.url);return n0(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){gu.prototype[e]=function(t,n){return this.request(ku(n||{},{method:e,url:t,data:(n||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(ku(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}gu.prototype[e]=t(),gu.prototype[e+"Form"]=t(!0)});class tw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new sd(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tw(function(i){e=i}),cancel:e}}}function KV(r){return function(t){return r.apply(null,t)}}function QV(r){return oe.isObject(r)&&r.isAxiosError===!0}const R_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(R_).forEach(([r,e])=>{R_[e]=r});function h0(r){const e=new gu(r),t=Hx(gu.prototype.request,e);return oe.extend(t,gu.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return h0(ku(r,i))},t}const Rt=h0(jf);Rt.Axios=gu;Rt.CanceledError=sd;Rt.CancelToken=tw;Rt.isCancel=s0;Rt.VERSION=f0;Rt.toFormData=Qm;Rt.AxiosError=it;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=KV;Rt.isAxiosError=QV;Rt.mergeConfig=ku;Rt.AxiosHeaders=ui;Rt.formToJSON=r=>i0(oe.isHTMLForm(r)?new FormData(r):r);Rt.getAdapter=d0.getAdapter;Rt.HttpStatusCode=R_;Rt.default=Rt;const p0="https://openaccess-api.clevelandart.org/api/artworks",GV="https://openaccess-api.clevelandart.org/api/creators",XV=async r=>{var e,t,n,i,o;try{const l=await Rt.get(`${p0}/${r}`);if(l.data&&l.data.data){const u=l.data.data,d=((t=(e=u.creators[0])==null?void 0:e.description.match(/\(([^)]+)\)/))==null?void 0:t[1])||"",h=((i=(n=u.creators[0])==null?void 0:n.description.match(/^([^\(]+)/))==null?void 0:i[1])||"Unknown Artist",g=((o=u.creation_date)==null?void 0:o.replace(/\b(c\.|circa)\s?/gi,""))||"";let _="";return typeof u.images=="string"?_=u.images:u.images&&u.images.web&&(_=u.images.web.url),{id:u.id,title:u.title,artist_title:h,artist_bio:d,date:g,medium_display:u.type+" "+u.technique,imageUrl:_,source:"cleveland",objectUrl:u.url,description:u.description,copyright:u.copyright||"The Cleveland Museum of Art"}}else return null}catch(l){if(console.error(l),Rt.isAxiosError(l)){if(l.response&&l.response.status===404)return null;throw new Error(l.message)}else throw new Error("An error occured for this artwork")}},JV=async(r,e)=>{var t;try{const n=encodeURIComponent(r);let i;if(e==="title"?i=(await Rt.get(`${p0}?title=${n}`)).data.data:e==="artist"&&(i=((t=(await Rt.get(`${GV}?name=${n}`)).data.data[0])==null?void 0:t.artworks)||[]),i){const o=i.map(async u=>await XV(u.id));return(await Promise.all(o)).filter(u=>u!==null)}else throw new Error("No artworks found.")}catch(n){throw Rt.isAxiosError(n)?new Error(`Axios error fetching artworks: ${n.message}`):new Error(`Unexpected error fetching artworks: ${n}`)}},ZV="https://api.artic.edu/api/v1/artworks/search",ej="https://www.artic.edu/iiif/2",tj=async(r,e)=>{const t={query:{bool:{must:[{match:{[e]:r}},{term:{is_on_view:!0}}]}}};try{const o=(await Rt.post(ZV,t,{headers:{"Content-Type":"application/json"}})).data.data.map(d=>Rt.get(`https://api.artic.edu/api/v1/artworks/${d.id}`,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description,copyright_notice"}}));return(await Promise.all(o)).map(d=>{const h=d.data.data,g=h.image_id?`${ej}/${h.image_id}/full/843,/0/default.jpg`:"",_=h.artist_display.match(/\(([^)]+)\)/),v=_?_[1]:null;return{id:h.id,title:h.title,artist_title:h.artist_title,artist_bio:v,date:h.date_display,medium_display:h.medium_display,imageUrl:g||"",source:"chicago",objectUrl:"https://www.artic.edu/collection",description:h.description,copyright:h.copyright_notice||"The Chicago Art Institute"}})}catch(n){throw Rt.isAxiosError(n)?new Error(`Axios error fetching artworks from Chicago: ${n.message}
        `):new Error(`Unexpected error fetching artworks from Chicago: ${n} `)}},nj=(r,e,t,n)=>{const[i,o]=x.useState(!1),[l,u]=x.useState(null),{user:d}=Nu(),{artworks:h,setArtworks:g}=Wv();return x.useEffect(()=>{e?(async()=>{var v,S;if(o(!0),u(null),n&&d)(async()=>{try{const A=pu(Yn,"user_artworks",d.uid,"artworks"),D=await Yp(A);console.log("fetching search from collection");const M=D.docs.map(Z=>Z.data()),j=qp(A,of(t,"==",e)),W=M.filter(Z=>{var ee;return(ee=Z[t])==null?void 0:ee.toLowerCase().includes(e.toLowerCase())});g(W)}catch(A){u("Error loading collection: "+A.message)}finally{o(!1)}})();else{const C={artist:r==="cleveland"?"artist":"artist_display",title:"title"};try{const A=r==="cleveland"?await JV(e,C[t]||"artist"):await tj(e,C[t]||"artist_display");g(A)}catch(A){u(((S=(v=A.response)==null?void 0:v.data)==null?void 0:S.error)||"An error occurred while fetching artworks. Please try again.")}finally{o(!1)}}})():g([])},[e,t,r,n,d,g]),{artworks:h,loading:i,error:l,setArtworks:g}},rj=({sortOption:r,setSortOption:e,sortDirection:t,setSortDirection:n})=>{const[i,o]=x.useState(null),{setQuery:l}=Y_(),{setType:u}=qS(),[d,h]=x.useState(""),[g,_]=x.useState(""),v=()=>{if(d.trim()===""){o("Please enter an artist name.");return}l(d),u("artist_title"),o(null),h("")},S=()=>{if(g.trim()===""){o("Please enter a title.");return}l(g),u("title"),o(null),_("")},C=A=>{n(D=>({...D,[A]:D[A]==="asc"?"desc":"asc"}))};return k.jsxs("div",{className:"container my-3",children:[k.jsxs("div",{className:"row justify-content-center",children:[k.jsx("div",{className:"col-md-4 mb-3",children:k.jsx("input",{type:"text",className:"form-control",value:d,onChange:A=>h(A.target.value),placeholder:"Search by Artist","aria-label":"Search by Artist"})}),k.jsx("div",{className:"col-md-2 mb-3",children:k.jsx("button",{className:"btn btn-primary w-100",onClick:v,"aria-label":"Search by Artist",children:"Search by Artist"})})]}),k.jsxs("div",{className:"row justify-content-center",children:[k.jsx("div",{className:"col-md-4 mb-3",children:k.jsx("input",{type:"text",className:"form-control",value:g,onChange:A=>_(A.target.value),placeholder:"Search by Title","aria-label":"Search by Title"})}),k.jsx("div",{className:"col-md-2 mb-3",children:k.jsx("button",{className:"btn btn-secondary w-100",onClick:S,"aria-label":"Search by Title",children:"Search by Title"})})]}),k.jsx("div",{className:"row justify-content-center",children:k.jsx("div",{className:"col-md-4 mb-3",children:k.jsxs("div",{className:"input-group",children:[k.jsxs("select",{className:"form-select",value:r,onChange:A=>e(A.target.value),"aria-label":"Sort by",children:[k.jsx("option",{value:"artist",children:"Sort by Artist"}),k.jsx("option",{value:"title",children:"Sort by Title"}),k.jsx("option",{value:"date",children:"Sort by Date"})]}),k.jsx("button",{className:"btn btn-info",onClick:()=>C(r),"aria-label":"Toggle Sort Direction",children:t[r]==="asc"?"↑":"↓"})]})})}),i&&k.jsx("div",{className:"text-danger mt-2",children:i})]})};function m0(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=m0(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function lr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=m0(r))&&(n&&(n+=" "),n+=e);return n}function Re(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function jt(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function bs(r,e){const t=Re(r);return isNaN(e)?jt(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Cs(r,e){const t=Re(r);if(isNaN(e))return jt(r,NaN);if(!e)return t;const n=t.getDate(),i=jt(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function nw(r,e){const t=+Re(r);return jt(r,t+e)}const g0=6048e5,ij=864e5,Jm=6e4,Zm=36e5,sj=1e3;function oj(r,e){return nw(r,e*Zm)}let aj={};function Ou(){return aj}function fa(r,e){var u,d,h,g;const t=Ou(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,i=Re(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Bc(r){return fa(r,{weekStartsOn:1})}function y0(r){const e=Re(r),t=e.getFullYear(),n=jt(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=Bc(n),o=jt(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=Bc(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Cu(r){const e=Re(r);return e.setHours(0,0,0,0),e}function em(r){const e=Re(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function $c(r,e){const t=Cu(r),n=Cu(e),i=+t-em(t),o=+n-em(n);return Math.round((i-o)/ij)}function lj(r){const e=y0(r),t=jt(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Bc(t)}function A_(r,e){return nw(r,e*Jm)}function rw(r,e){const t=e*3;return Cs(r,t)}function uj(r,e){return nw(r,e*1e3)}function tm(r,e){const t=e*7;return bs(r,t)}function na(r,e){return Cs(r,e*12)}function $T(r){let e;return r.forEach(function(t){const n=Re(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function WT(r){let e;return r.forEach(t=>{const n=Re(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function cj(r,e){const t=Cu(r),n=Cu(e);return+t==+n}function ra(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function nm(r){if(!ra(r)&&typeof r!="number")return!1;const e=Re(r);return!isNaN(Number(e))}function rm(r,e){const t=Re(r),n=Re(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function yu(r){const e=Re(r);return Math.trunc(e.getMonth()/3)+1}function im(r,e){const t=Re(r),n=Re(e),i=t.getFullYear()-n.getFullYear(),o=yu(t)-yu(n);return i*4+o}function sm(r,e){const t=Re(r),n=Re(e);return t.getFullYear()-n.getFullYear()}function dj(r,e){const t=Re(r),n=Re(e),i=HT(t,n),o=Math.abs($c(t,n));t.setDate(t.getDate()-i*o);const l=+(HT(t,n)===-i),u=i*(o-l);return u===0?0:u}function HT(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function _0(r){const e=Re(r);return e.setHours(23,59,59,999),e}function v0(r){const e=Re(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function P_(r){const e=Re(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function w0(r){const e=Re(r);return e.setDate(1),e.setHours(0,0,0,0),e}function E0(r){const e=Re(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function eg(r){const e=Re(r),t=jt(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function fj(r,e){var u,d;const t=Ou(),n=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Re(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const hj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pj=(r,e,t)=>{let n;const i=hj[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ly(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const mj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_j={date:Ly({formats:mj,defaultWidth:"full"}),time:Ly({formats:gj,defaultWidth:"full"}),dateTime:Ly({formats:yj,defaultWidth:"full"})},vj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wj=(r,e,t,n)=>vj[r];function Ud(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=r.formattingValues[u]||r.formattingValues[l]}else{const l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[u]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const Ej={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xj=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ij={ordinalNumber:xj,era:Ud({values:Ej,defaultWidth:"wide"}),quarter:Ud({values:bj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ud({values:Tj,defaultWidth:"wide"}),day:Ud({values:Sj,defaultWidth:"wide"}),dayPeriod:Ud({values:kj,defaultWidth:"wide",formattingValues:Cj,defaultFormattingWidth:"wide"})};function Bd(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(u)?Rj(u,_=>_.test(l)):Dj(u,_=>_.test(l));let h;h=r.valueCallback?r.valueCallback(d):d,h=t.valueCallback?t.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function Dj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Rj(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Aj(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const Pj=/^(\d+)(th|st|nd|rd)?/i,Nj=/\d+/i,Oj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mj={any:[/^b/i,/^(a|c)/i]},Lj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fj={any:[/1/i,/2/i,/3/i,/4/i]},Vj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$j={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hj={ordinalNumber:Aj({matchPattern:Pj,parsePattern:Nj,valueCallback:r=>parseInt(r,10)}),era:Bd({matchPatterns:Oj,defaultMatchWidth:"wide",parsePatterns:Mj,defaultParseWidth:"any"}),quarter:Bd({matchPatterns:Lj,defaultMatchWidth:"wide",parsePatterns:Fj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Bd({matchPatterns:Vj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),day:Bd({matchPatterns:Uj,defaultMatchWidth:"wide",parsePatterns:Bj,defaultParseWidth:"any"}),dayPeriod:Bd({matchPatterns:$j,defaultMatchWidth:"any",parsePatterns:Wj,defaultParseWidth:"any"})},b0={code:"en-US",formatDistance:pj,formatLong:_j,formatRelative:wj,localize:Ij,match:Hj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zj(r){const e=Re(r);return $c(e,eg(e))+1}function iw(r){const e=Re(r),t=+Bc(e)-+lj(e);return Math.round(t/g0)+1}function sw(r,e){var g,_,v,S;const t=Re(r),n=t.getFullYear(),i=Ou(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(v=i.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,l=jt(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const u=fa(l,e),d=jt(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=fa(d,e);return t.getTime()>=u.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function qj(r,e){var u,d,h,g;const t=Ou(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=sw(r,e),o=jt(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),fa(o,e)}function T0(r,e){const t=Re(r),n=+fa(t,e)-+qj(t,e);return Math.round(n/g0)+1}function Vt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const za={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Vt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Vt(t+1,2)},d(r,e){return Vt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Vt(r.getHours()%12||12,e.length)},H(r,e){return Vt(r.getHours(),e.length)},m(r,e){return Vt(r.getMinutes(),e.length)},s(r,e){return Vt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Vt(i,e.length)}},vc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zT={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return za.y(r,e)},Y:function(r,e,t,n){const i=sw(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Vt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Vt(o,e.length)},R:function(r,e){const t=y0(r);return Vt(t,e.length)},u:function(r,e){const t=r.getFullYear();return Vt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Vt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Vt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return za.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Vt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=T0(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Vt(i,e.length)},I:function(r,e,t){const n=iw(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Vt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):za.d(r,e)},D:function(r,e,t){const n=zj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Vt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Vt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Vt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Vt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=vc.noon:n===0?i=vc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=vc.evening:n>=12?i=vc.afternoon:n>=4?i=vc.morning:i=vc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return za.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):za.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Vt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):za.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):za.s(r,e)},S:function(r,e){return za.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return YT(n);case"XXXX":case"XX":return au(n);case"XXXXX":case"XXX":default:return au(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return YT(n);case"xxxx":case"xx":return au(n);case"xxxxx":case"xxx":default:return au(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qT(n,":");case"OOOO":default:return"GMT"+au(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qT(n,":");case"zzzz":default:return"GMT"+au(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return Vt(n,e.length)},T:function(r,e,t){const n=r.getTime();return Vt(n,e.length)}};function qT(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+Vt(o,2)}function YT(r,e){return r%60===0?(r>0?"-":"+")+Vt(Math.abs(r)/60,2):au(r,e)}function au(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Vt(Math.trunc(n/60),2),o=Vt(n%60,2);return t+i+e+o}const KT=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},S0=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return KT(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",KT(n,e)).replace("{{time}}",S0(i,e))},om={p:S0,P:Yj},Kj=/^D+$/,Qj=/^Y+$/,Gj=["D","DD","YY","YYYY"];function k0(r){return Kj.test(r)}function C0(r){return Qj.test(r)}function N_(r,e,t){const n=Xj(r,e,t);if(console.warn(n),Gj.includes(r))throw new RangeError(n)}function Xj(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eU=/^'([^]*?)'?$/,tU=/''/g,nU=/[a-zA-Z]/;function QT(r,e,t){var g,_,v,S,C,A,D,M;const n=Ou(),i=(t==null?void 0:t.locale)??n.locale??b0,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(v=n.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((A=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:A.weekStartsOn)??n.weekStartsOn??((M=(D=n.locale)==null?void 0:D.options)==null?void 0:M.weekStartsOn)??0,u=Re(r);if(!nm(u))throw new RangeError("Invalid time value");let d=e.match(Zj).map(j=>{const W=j[0];if(W==="p"||W==="P"){const Z=om[W];return Z(j,i.formatLong)}return j}).join("").match(Jj).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const W=j[0];if(W==="'")return{isToken:!1,value:rU(j)};if(zT[W])return{isToken:!0,value:j};if(W.match(nU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(j=>{if(!j.isToken)return j.value;const W=j.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&C0(W)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&k0(W))&&N_(W,e,String(r));const Z=zT[W[0]];return Z(u,W,i.localize,h)}).join("")}function rU(r){const e=r.match(eU);return e?e[1].replace(tU,"'"):r}function GT(r){return Re(r).getDate()}function iU(r){return Re(r).getDay()}function sU(r){const e=Re(r),t=e.getFullYear(),n=e.getMonth(),i=jt(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function oU(){return Object.assign({},Ou())}function po(r){return Re(r).getHours()}function aU(r){let t=Re(r).getDay();return t===0&&(t=7),t}function mo(r){return Re(r).getMinutes()}function Hr(r){return Re(r).getMonth()}function ia(r){return Re(r).getSeconds()}function O_(r){return Re(r).getTime()}function ut(r){return Re(r).getFullYear()}function hl(r,e){const t=Re(r),n=Re(e);return t.getTime()>n.getTime()}function xu(r,e){const t=Re(r),n=Re(e);return+t<+n}function lU(r,e){const t=Re(r),n=Re(e);return+t==+n}function uU(r,e){const t=e instanceof Date?jt(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const cU=10;class x0{constructor(){Ae(this,"subPriority",0)}validate(e,t){return!0}}class dU extends x0{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class fU extends x0{constructor(){super(...arguments);Ae(this,"priority",cU);Ae(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:jt(t,uU(t,Date))}}class At{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new dU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class hU extends At{constructor(){super(...arguments);Ae(this,"priority",140);Ae(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const _n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},so={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vn(r,e){return r&&{value:e(r.value),rest:r.rest}}function rn(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function oo(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Zm+o*Jm+l*sj),rest:e.slice(t[0].length)}}function I0(r){return rn(_n.anyDigitsSigned,r)}function dn(r,e){switch(r){case 1:return rn(_n.singleDigit,e);case 2:return rn(_n.twoDigits,e);case 3:return rn(_n.threeDigits,e);case 4:return rn(_n.fourDigits,e);default:return rn(new RegExp("^\\d{1,"+r+"}"),e)}}function am(r,e){switch(r){case 1:return rn(_n.singleDigitSigned,e);case 2:return rn(_n.twoDigitsSigned,e);case 3:return rn(_n.threeDigitsSigned,e);case 4:return rn(_n.fourDigitsSigned,e);default:return rn(new RegExp("^-?\\d{1,"+r+"}"),e)}}function ow(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function D0(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,u=r>=o%100;i=r+l-(u?100:0)}return t?i:1-i}function R0(r){return r%400===0||r%4===0&&r%100!==0}class pU extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return vn(dn(4,t),o);case"yo":return vn(i.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const u=D0(i.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class mU extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return vn(dn(4,t),o);case"Yo":return vn(i.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=sw(t,o);if(i.isTwoDigitYear){const d=D0(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,o)}const u=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,o)}}class gU extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return am(n==="R"?4:n.length,t)}set(t,n,i){const o=jt(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Bc(o)}}class yU extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return am(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class _U extends At{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return dn(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class vU extends At{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return dn(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class wU extends At{constructor(){super(...arguments);Ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ae(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return vn(rn(_n.month,t),o);case"MM":return vn(dn(2,t),o);case"Mo":return vn(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class EU extends At{constructor(){super(...arguments);Ae(this,"priority",110);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return vn(rn(_n.month,t),o);case"LL":return vn(dn(2,t),o);case"Lo":return vn(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function bU(r,e,t){const n=Re(r),i=T0(n,t)-e;return n.setDate(n.getDate()-i*7),n}class TU extends At{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return rn(_n.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return fa(bU(t,i,o),o)}}function SU(r,e){const t=Re(r),n=iw(t)-e;return t.setDate(t.getDate()-n*7),t}class kU extends At{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return rn(_n.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Bc(SU(t,i))}}const CU=[31,28,31,30,31,30,31,31,30,31,30,31],xU=[31,29,31,30,31,30,31,31,30,31,30,31];class IU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subPriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return rn(_n.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return dn(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=R0(i),l=t.getMonth();return o?n>=1&&n<=xU[l]:n>=1&&n<=CU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class DU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subpriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return rn(_n.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return dn(n.length,t)}}validate(t,n){const i=t.getFullYear();return R0(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function aw(r,e,t){var _,v,S,C;const n=Ou(),i=(t==null?void 0:t.weekStartsOn)??((v=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((C=(S=n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,o=Re(r),l=o.getDay(),d=(e%7+7)%7,h=7-i,g=e<0||e>6?e-(l+h)%7:(d+h)%7-(l+h)%7;return bs(o,g)}class RU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}class AU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return vn(dn(n.length,t),l);case"eo":return vn(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}class PU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return vn(dn(n.length,t),l);case"co":return vn(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=aw(t,i,o),t.setHours(0,0,0,0),t}}function NU(r,e){const t=Re(r),n=aU(t),i=e-n;return bs(t,i)}class OU extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return dn(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return vn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return vn(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=NU(t,i),t.setHours(0,0,0,0),t}}class MU extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class LU extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class FU extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ow(i),0,0,0),t}}class VU extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return rn(_n.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class jU extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return rn(_n.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class UU extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return rn(_n.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class BU extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return rn(_n.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return dn(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class $U extends At{constructor(){super(...arguments);Ae(this,"priority",60);Ae(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return rn(_n.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class WU extends At{constructor(){super(...arguments);Ae(this,"priority",50);Ae(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return rn(_n.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return dn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class HU extends At{constructor(){super(...arguments);Ae(this,"priority",30);Ae(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return vn(dn(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class zU extends At{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return oo(so.basicOptionalMinutes,t);case"XX":return oo(so.basic,t);case"XXXX":return oo(so.basicOptionalSeconds,t);case"XXXXX":return oo(so.extendedOptionalSeconds,t);case"XXX":default:return oo(so.extended,t)}}set(t,n,i){return n.timestampIsSet?t:jt(t,t.getTime()-em(t)-i)}}class qU extends At{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return oo(so.basicOptionalMinutes,t);case"xx":return oo(so.basic,t);case"xxxx":return oo(so.basicOptionalSeconds,t);case"xxxxx":return oo(so.extendedOptionalSeconds,t);case"xxx":default:return oo(so.extended,t)}}set(t,n,i){return n.timestampIsSet?t:jt(t,t.getTime()-em(t)-i)}}class YU extends At{constructor(){super(...arguments);Ae(this,"priority",40);Ae(this,"incompatibleTokens","*")}parse(t){return I0(t)}set(t,n,i){return[jt(t,i*1e3),{timestampIsSet:!0}]}}class KU extends At{constructor(){super(...arguments);Ae(this,"priority",20);Ae(this,"incompatibleTokens","*")}parse(t){return I0(t)}set(t,n,i){return[jt(t,i),{timestampIsSet:!0}]}}const QU={G:new hU,y:new pU,Y:new mU,R:new gU,u:new yU,Q:new _U,q:new vU,M:new wU,L:new EU,w:new TU,I:new kU,d:new IU,D:new DU,E:new RU,e:new AU,c:new PU,i:new OU,a:new MU,b:new LU,B:new FU,h:new VU,H:new jU,K:new UU,k:new BU,m:new $U,s:new WU,S:new HU,X:new zU,x:new qU,t:new YU,T:new KU},GU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JU=/^'([^]*?)'?$/,ZU=/''/g,e4=/\S/,t4=/[a-zA-Z]/;function Fy(r,e,t,n){var A,D,M,j,W,Z,ee,le;const i=oU(),o=(n==null?void 0:n.locale)??i.locale??b0,l=(n==null?void 0:n.firstWeekContainsDate)??((D=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:D.firstWeekContainsDate)??i.firstWeekContainsDate??((j=(M=i.locale)==null?void 0:M.options)==null?void 0:j.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((Z=(W=n==null?void 0:n.locale)==null?void 0:W.options)==null?void 0:Z.weekStartsOn)??i.weekStartsOn??((le=(ee=i.locale)==null?void 0:ee.options)==null?void 0:le.weekStartsOn)??0;if(e==="")return r===""?Re(t):jt(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:u,locale:o},h=[new fU],g=e.match(XU).map(F=>{const N=F[0];if(N in om){const L=om[N];return L(F,o.formatLong)}return F}).join("").match(GU),_=[];for(let F of g){!(n!=null&&n.useAdditionalWeekYearTokens)&&C0(F)&&N_(F,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&k0(F)&&N_(F,e,r);const N=F[0],L=QU[N];if(L){const{incompatibleTokens:U}=L;if(Array.isArray(U)){const H=_.find(V=>U.includes(V.token)||V.token===N);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${F}\` at the same time`)}else if(L.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);_.push({token:N,fullToken:F});const $=L.run(r,F,o.match,d);if(!$)return jt(t,NaN);h.push($.setter),r=$.rest}else{if(N.match(t4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(F==="''"?F="'":N==="'"&&(F=n4(F)),r.indexOf(F)===0)r=r.slice(F.length);else return jt(t,NaN)}}if(r.length>0&&e4.test(r))return jt(t,NaN);const v=h.map(F=>F.priority).sort((F,N)=>N-F).filter((F,N,L)=>L.indexOf(F)===N).map(F=>h.filter(N=>N.priority===F).sort((N,L)=>L.subPriority-N.subPriority)).map(F=>F[0]);let S=Re(t);if(isNaN(S.getTime()))return jt(t,NaN);const C={};for(const F of v){if(!F.validate(S,d))return jt(t,NaN);const N=F.set(S,C,d);Array.isArray(N)?(S=N[0],Object.assign(C,N[1])):S=N}return jt(t,S)}function n4(r){return r.match(JU)[1].replace(ZU,"'")}function r4(r,e){const t=Re(r),n=Re(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function i4(r,e){const t=P_(r),n=P_(e);return+t==+n}function s4(r,e){const t=Re(r),n=Re(e);return t.getFullYear()===n.getFullYear()}function wf(r,e){const t=+Re(r),[n,i]=[+Re(e.start),+Re(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function o4(r,e){return bs(r,-1)}function a4(r,e){const n=d4(r);let i;if(n.date){const d=f4(n.date,2);i=h4(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,u;if(n.time&&(l=p4(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(u=m4(n.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+u)}const Xh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d4(r){const e={},t=r.split(Xh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Xh.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Xh.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Xh.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function f4(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function h4(r,e){if(e===null)return new Date(NaN);const t=r.match(l4);if(!t)return new Date(NaN);const n=!!t[4],i=$d(t[1]),o=$d(t[2])-1,l=$d(t[3]),u=$d(t[4]),d=$d(t[5])-1;if(n)return w4(e,u,d)?g4(e,u,d):new Date(NaN);{const h=new Date(0);return!_4(e,o,l)||!v4(e,i)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(i,l)),h)}}function $d(r){return r?parseInt(r):1}function p4(r){const e=r.match(u4);if(!e)return NaN;const t=Vy(e[1]),n=Vy(e[2]),i=Vy(e[3]);return E4(t,n,i)?t*Zm+n*Jm+i*1e3:NaN}function Vy(r){return r&&parseFloat(r.replace(",","."))||0}function m4(r){if(r==="Z")return 0;const e=r.match(c4);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return b4(n,i)?t*(n*Zm+i*Jm):NaN}function g4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const y4=[31,null,31,30,31,30,31,31,30,31,30,31];function A0(r){return r%400===0||r%4===0&&r%100!==0}function _4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(y4[e]||(A0(r)?29:28))}function v4(r,e){return e>=1&&e<=(A0(r)?366:365)}function w4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function E4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function b4(r,e){return e>=0&&e<=59}function Ri(r,e){const t=Re(r),n=t.getFullYear(),i=t.getDate(),o=jt(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=sU(o);return t.setMonth(e,Math.min(i,l)),t}function T4(r,e){let t=Re(r);return isNaN(+t)?jt(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Ri(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function wp(r,e){const t=Re(r);return t.setHours(e),t}function Ep(r,e){const t=Re(r);return t.setMinutes(e),t}function Sc(r,e){const t=Re(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return Ri(t,t.getMonth()+i*3)}function bp(r,e){const t=Re(r);return t.setSeconds(e),t}function ro(r,e){const t=Re(r);return isNaN(+t)?jt(r,NaN):(t.setFullYear(e),t)}function _u(r,e){return Cs(r,-e)}function P0(r,e){return rw(r,-1)}function XT(r,e){return tm(r,-1)}function Wc(r,e){return na(r,-e)}function tg(){return typeof window<"u"}function od(r){return N0(r)?(r.nodeName||"").toLowerCase():"#document"}function Ni(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function vo(r){var e;return(e=(N0(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function N0(r){return tg()?r instanceof Node||r instanceof Ni(r).Node:!1}function zr(r){return tg()?r instanceof Element||r instanceof Ni(r).Element:!1}function _o(r){return tg()?r instanceof HTMLElement||r instanceof Ni(r).HTMLElement:!1}function JT(r){return!tg()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ni(r).ShadowRoot}function Uf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=ns(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function S4(r){return["table","td","th"].includes(od(r))}function ng(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function lw(r){const e=uw(),t=zr(r)?ns(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function k4(r){let e=pl(r);for(;_o(e)&&!Hc(e);){if(lw(e))return e;if(ng(e))return null;e=pl(e)}return null}function uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hc(r){return["html","body","#document"].includes(od(r))}function ns(r){return Ni(r).getComputedStyle(r)}function rg(r){return zr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function pl(r){if(od(r)==="html")return r;const e=r.assignedSlot||r.parentNode||JT(r)&&r.host||vo(r);return JT(e)?e.host:e}function O0(r){const e=pl(r);return Hc(e)?r.ownerDocument?r.ownerDocument.body:r.body:_o(e)&&Uf(e)?e:O0(e)}function Ef(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=O0(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Ni(i);if(o){const u=M_(l);return e.concat(l,l.visualViewport||[],Uf(i)?i:[],u&&t?Ef(u):[])}return e.concat(i,Ef(i,[],t))}function M_(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const zc=Math.min,vu=Math.max,lm=Math.round,Jh=Math.floor,go=r=>({x:r,y:r}),C4={left:"right",right:"left",bottom:"top",top:"bottom"},x4={start:"end",end:"start"};function I4(r,e,t){return vu(r,zc(e,t))}function ig(r,e){return typeof r=="function"?r(e):r}function qc(r){return r.split("-")[0]}function Bf(r){return r.split("-")[1]}function D4(r){return r==="x"?"y":"x"}function cw(r){return r==="y"?"height":"width"}function bf(r){return["top","bottom"].includes(qc(r))?"y":"x"}function dw(r){return D4(bf(r))}function R4(r,e,t){t===void 0&&(t=!1);const n=Bf(r),i=dw(r),o=cw(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=um(l)),[l,um(l)]}function A4(r){const e=um(r);return[L_(r),e,L_(e)]}function L_(r){return r.replace(/start|end/g,e=>x4[e])}function P4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function N4(r,e,t,n){const i=Bf(r);let o=P4(qc(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(L_)))),o}function um(r){return r.replace(/left|right|bottom|top/g,e=>C4[e])}function O4(r){return{top:0,right:0,bottom:0,left:0,...r}}function M0(r){return typeof r!="number"?O4(r):{top:r,right:r,bottom:r,left:r}}function cm(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function ZT(r,e,t){let{reference:n,floating:i}=r;const o=bf(e),l=dw(e),u=cw(l),d=qc(e),h=o==="y",g=n.x+n.width/2-i.width/2,_=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let S;switch(d){case"top":S={x:g,y:n.y-i.height};break;case"bottom":S={x:g,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:_};break;case"left":S={x:n.x-i.width,y:_};break;default:S={x:n.x,y:n.y}}switch(Bf(e)){case"start":S[l]-=v*(t&&h?-1:1);break;case"end":S[l]+=v*(t&&h?-1:1);break}return S}const M4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:g,y:_}=ZT(h,n,d),v=n,S={},C=0;for(let A=0;A<u.length;A++){const{name:D,fn:M}=u[A],{x:j,y:W,data:Z,reset:ee}=await M({x:g,y:_,initialPlacement:n,placement:v,strategy:i,middlewareData:S,rects:h,platform:l,elements:{reference:r,floating:e}});g=j??g,_=W??_,S={...S,[D]:{...S[D],...Z}},ee&&C<=50&&(C++,typeof ee=="object"&&(ee.placement&&(v=ee.placement),ee.rects&&(h=ee.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):ee.rects),{x:g,y:_}=ZT(h,v,d)),A=-1)}return{x:g,y:_,placement:v,strategy:i,middlewareData:S}};async function L4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=r,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:v=!1,padding:S=0}=ig(e,r),C=M0(S),D=u[v?_==="floating"?"reference":"floating":_],M=cm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(D)))==null||t?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:d})),j=_==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),Z=await(o.isElement==null?void 0:o.isElement(W))?await(o.getScale==null?void 0:o.getScale(W))||{x:1,y:1}:{x:1,y:1},ee=cm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:W,strategy:d}):j);return{top:(M.top-ee.top+C.top)/Z.y,bottom:(ee.bottom-M.bottom+C.bottom)/Z.y,left:(M.left-ee.left+C.left)/Z.x,right:(ee.right-M.right+C.right)/Z.x}}const F4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=e,{element:h,padding:g=0}=ig(r,e)||{};if(h==null)return{};const _=M0(g),v={x:t,y:n},S=dw(i),C=cw(S),A=await l.getDimensions(h),D=S==="y",M=D?"top":"left",j=D?"bottom":"right",W=D?"clientHeight":"clientWidth",Z=o.reference[C]+o.reference[S]-v[S]-o.floating[C],ee=v[S]-o.reference[S],le=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let F=le?le[W]:0;(!F||!await(l.isElement==null?void 0:l.isElement(le)))&&(F=u.floating[W]||o.floating[C]);const N=Z/2-ee/2,L=F/2-A[C]/2-1,U=zc(_[M],L),$=zc(_[j],L),H=U,V=F-A[C]-$,Ue=F/2-A[C]/2+N,Le=I4(H,Ue,V),we=!d.arrow&&Bf(i)!=null&&Ue!==Le&&o.reference[C]/2-(Ue<H?U:$)-A[C]/2<0,Ee=we?Ue<H?Ue-H:Ue-V:0;return{[S]:v[S]+Ee,data:{[S]:Le,centerOffset:Ue-Le-Ee,...we&&{alignmentOffset:Ee}},reset:we}}}),V4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...D}=ig(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const M=qc(i),j=bf(u),W=qc(u)===u,Z=await(d.isRTL==null?void 0:d.isRTL(h.floating)),ee=v||(W||!A?[um(u)]:A4(u)),le=C!=="none";!v&&le&&ee.push(...N4(u,A,C,Z));const F=[u,...ee],N=await L4(e,D),L=[];let U=((n=o.flip)==null?void 0:n.overflows)||[];if(g&&L.push(N[M]),_){const Ue=R4(i,l,Z);L.push(N[Ue[0]],N[Ue[1]])}if(U=[...U,{placement:i,overflows:L}],!L.every(Ue=>Ue<=0)){var $,H;const Ue=((($=o.flip)==null?void 0:$.index)||0)+1,Le=F[Ue];if(Le)return{data:{index:Ue,overflows:U},reset:{placement:Le}};let we=(H=U.filter(Ee=>Ee.overflows[0]<=0).sort((Ee,ie)=>Ee.overflows[1]-ie.overflows[1])[0])==null?void 0:H.placement;if(!we)switch(S){case"bestFit":{var V;const Ee=(V=U.filter(ie=>{if(le){const be=bf(ie.placement);return be===j||be==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(be=>be>0).reduce((be,Q)=>be+Q,0)]).sort((ie,be)=>ie[1]-be[1])[0])==null?void 0:V[0];Ee&&(we=Ee);break}case"initialPlacement":we=u;break}if(i!==we)return{reset:{placement:we}}}return{}}}};async function j4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=qc(t),u=Bf(t),d=bf(t)==="y",h=["left","top"].includes(l)?-1:1,g=o&&d?-1:1,_=ig(e,r);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return u&&typeof C=="number"&&(S=u==="end"?C*-1:C),d?{x:S*g,y:v*h}:{x:v*h,y:S*g}}const U4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:u}=e,d=await j4(e,r);return l===((t=u.offset)==null?void 0:t.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function L0(r){const e=ns(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=_o(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,u=lm(t)!==o||lm(n)!==l;return u&&(t=o,n=l),{width:t,height:n,$:u}}function fw(r){return zr(r)?r:r.contextElement}function Ac(r){const e=fw(r);if(!_o(e))return go(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=L0(e);let l=(o?lm(t.width):t.width)/n,u=(o?lm(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const B4=go(0);function F0(r){const e=Ni(r);return!uw()||!e.visualViewport?B4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ni(r)?!1:e}function Iu(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=fw(r);let l=go(1);e&&(n?zr(n)&&(l=Ac(n)):l=Ac(r));const u=$4(o,t,n)?F0(o):go(0);let d=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,g=i.width/l.x,_=i.height/l.y;if(o){const v=Ni(o),S=n&&zr(n)?Ni(n):n;let C=v,A=M_(C);for(;A&&n&&S!==C;){const D=Ac(A),M=A.getBoundingClientRect(),j=ns(A),W=M.left+(A.clientLeft+parseFloat(j.paddingLeft))*D.x,Z=M.top+(A.clientTop+parseFloat(j.paddingTop))*D.y;d*=D.x,h*=D.y,g*=D.x,_*=D.y,d+=W,h+=Z,C=Ni(A),A=M_(C)}}return cm({width:g,height:_,x:d,y:h})}function hw(r,e){const t=rg(r).scrollLeft;return e?e.left+t:Iu(vo(r)).left+t}function V0(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:hw(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function W4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=vo(n),u=e?ng(e.floating):!1;if(n===l||u&&o)return t;let d={scrollLeft:0,scrollTop:0},h=go(1);const g=go(0),_=_o(n);if((_||!_&&!o)&&((od(n)!=="body"||Uf(l))&&(d=rg(n)),_o(n))){const S=Iu(n);h=Ac(n),g.x=S.x+n.clientLeft,g.y=S.y+n.clientTop}const v=l&&!_&&!o?V0(l,d,!0):go(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+g.x+v.x,y:t.y*h.y-d.scrollTop*h.y+g.y+v.y}}function H4(r){return Array.from(r.getClientRects())}function z4(r){const e=vo(r),t=rg(r),n=r.ownerDocument.body,i=vu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=vu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+hw(r);const u=-t.scrollTop;return ns(n).direction==="rtl"&&(l+=vu(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}function q4(r,e){const t=Ni(r),n=vo(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const h=uw();(!h||h&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}function Y4(r,e){const t=Iu(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=_o(r)?Ac(r):go(1),l=r.clientWidth*o.x,u=r.clientHeight*o.y,d=i*o.x,h=n*o.y;return{width:l,height:u,x:d,y:h}}function eS(r,e,t){let n;if(e==="viewport")n=q4(r,t);else if(e==="document")n=z4(vo(r));else if(zr(e))n=Y4(e,t);else{const i=F0(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cm(n)}function j0(r,e){const t=pl(r);return t===e||!zr(t)||Hc(t)?!1:ns(t).position==="fixed"||j0(t,e)}function K4(r,e){const t=e.get(r);if(t)return t;let n=Ef(r,[],!1).filter(u=>zr(u)&&od(u)!=="body"),i=null;const o=ns(r).position==="fixed";let l=o?pl(r):r;for(;zr(l)&&!Hc(l);){const u=ns(l),d=lw(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Uf(l)&&!d&&j0(r,l))?n=n.filter(g=>g!==l):i=u,l=pl(l)}return e.set(r,n),n}function Q4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?ng(e)?[]:K4(e,this._c):[].concat(t),n],u=l[0],d=l.reduce((h,g)=>{const _=eS(e,g,i);return h.top=vu(_.top,h.top),h.right=zc(_.right,h.right),h.bottom=zc(_.bottom,h.bottom),h.left=vu(_.left,h.left),h},eS(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function G4(r){const{width:e,height:t}=L0(r);return{width:e,height:t}}function X4(r,e,t){const n=_o(e),i=vo(e),o=t==="fixed",l=Iu(r,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=go(0);if(n||!n&&!o)if((od(e)!=="body"||Uf(i))&&(u=rg(e)),n){const v=Iu(e,!0,o,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&(d.x=hw(i));const h=i&&!n&&!o?V0(i,u):go(0),g=l.left+u.scrollLeft-d.x-h.x,_=l.top+u.scrollTop-d.y-h.y;return{x:g,y:_,width:l.width,height:l.height}}function jy(r){return ns(r).position==="static"}function tS(r,e){if(!_o(r)||ns(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return vo(r)===t&&(t=t.ownerDocument.body),t}function U0(r,e){const t=Ni(r);if(ng(r))return t;if(!_o(r)){let i=pl(r);for(;i&&!Hc(i);){if(zr(i)&&!jy(i))return i;i=pl(i)}return t}let n=tS(r,e);for(;n&&S4(n)&&jy(n);)n=tS(n,e);return n&&Hc(n)&&jy(n)&&!lw(n)?t:n||k4(r)||t}const J4=async function(r){const e=this.getOffsetParent||U0,t=this.getDimensions,n=await t(r.floating);return{reference:X4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z4(r){return ns(r).direction==="rtl"}const eB={convertOffsetParentRelativeRectToViewportRelativeRect:W4,getDocumentElement:vo,getClippingRect:Q4,getOffsetParent:U0,getElementRects:J4,getClientRects:H4,getDimensions:G4,getScale:Ac,isElement:zr,isRTL:Z4};function B0(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function tB(r,e){let t=null,n;const i=vo(r);function o(){var u;clearTimeout(n),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=r.getBoundingClientRect(),{left:g,top:_,width:v,height:S}=h;if(u||e(),!v||!S)return;const C=Jh(_),A=Jh(i.clientWidth-(g+v)),D=Jh(i.clientHeight-(_+S)),M=Jh(g),W={rootMargin:-C+"px "+-A+"px "+-D+"px "+-M+"px",threshold:vu(0,zc(1,d))||1};let Z=!0;function ee(le){const F=le[0].intersectionRatio;if(F!==d){if(!Z)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!B0(h,r.getBoundingClientRect())&&l(),Z=!1}try{t=new IntersectionObserver(ee,{...W,root:i.ownerDocument})}catch{t=new IntersectionObserver(ee,W)}t.observe(r)}return l(!0),o}function nB(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=fw(r),g=i||o?[...h?Ef(h):[],...Ef(e)]:[];g.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),o&&M.addEventListener("resize",t)});const _=h&&u?tB(h,t):null;let v=-1,S=null;l&&(S=new ResizeObserver(M=>{let[j]=M;j&&j.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var W;(W=S)==null||W.observe(e)})),t()}),h&&!d&&S.observe(h),S.observe(e));let C,A=d?Iu(r):null;d&&D();function D(){const M=Iu(r);A&&!B0(A,M)&&t(),A=M,C=requestAnimationFrame(D)}return t(),()=>{var M;g.forEach(j=>{i&&j.removeEventListener("scroll",t),o&&j.removeEventListener("resize",t)}),_==null||_(),(M=S)==null||M.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const rB=U4,iB=V4,nS=F4,sB=(r,e,t)=>{const n=new Map,i={platform:eB,...t},o={...i.platform,_c:n};return M4(r,e,{...i,platform:o})};var Tp=typeof document<"u"?x.useLayoutEffect:x.useEffect;function dm(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!dm(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!dm(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function $0(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function rS(r,e){const t=$0(r);return Math.round(e*t)/t}function Uy(r){const e=x.useRef(r);return Tp(()=>{e.current=r}),e}function oB(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=r,[g,_]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=x.useState(n);dm(v,n)||S(n);const[C,A]=x.useState(null),[D,M]=x.useState(null),j=x.useCallback(ie=>{ie!==le.current&&(le.current=ie,A(ie))},[]),W=x.useCallback(ie=>{ie!==F.current&&(F.current=ie,M(ie))},[]),Z=o||C,ee=l||D,le=x.useRef(null),F=x.useRef(null),N=x.useRef(g),L=d!=null,U=Uy(d),$=Uy(i),H=Uy(h),V=x.useCallback(()=>{if(!le.current||!F.current)return;const ie={placement:e,strategy:t,middleware:v};$.current&&(ie.platform=$.current),sB(le.current,F.current,ie).then(be=>{const Q={...be,isPositioned:H.current!==!1};Ue.current&&!dm(N.current,Q)&&(N.current=Q,$S.flushSync(()=>{_(Q)}))})},[v,e,t,$,H]);Tp(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,_(ie=>({...ie,isPositioned:!1})))},[h]);const Ue=x.useRef(!1);Tp(()=>(Ue.current=!0,()=>{Ue.current=!1}),[]),Tp(()=>{if(Z&&(le.current=Z),ee&&(F.current=ee),Z&&ee){if(U.current)return U.current(Z,ee,V);V()}},[Z,ee,V,U,L]);const Le=x.useMemo(()=>({reference:le,floating:F,setReference:j,setFloating:W}),[j,W]),we=x.useMemo(()=>({reference:Z,floating:ee}),[Z,ee]),Ee=x.useMemo(()=>{const ie={position:t,left:0,top:0};if(!we.floating)return ie;const be=rS(we.floating,g.x),Q=rS(we.floating,g.y);return u?{...ie,transform:"translate("+be+"px, "+Q+"px)",...$0(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:Q}},[t,u,we.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:V,refs:Le,elements:we,floatingStyles:Ee}),[g,V,Le,we,Ee])}const aB=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?nS({element:n.current,padding:i}).fn(t):{}:n?nS({element:n,padding:i}).fn(t):{}}}},lB=(r,e)=>({...rB(r),options:[r,e]}),uB=(r,e)=>({...iB(r),options:[r,e]}),cB=(r,e)=>({...aB(r),options:[r,e]}),W0={...UI},dB=W0.useInsertionEffect,fB=dB||(r=>r());function hB(r){const e=x.useRef(()=>{});return fB(()=>{e.current=r}),x.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var fm=typeof document<"u"?x.useLayoutEffect:x.useEffect;let iS=!1,pB=0;const sS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pB++;function mB(){const[r,e]=x.useState(()=>iS?sS():void 0);return fm(()=>{r==null&&e(sS())},[]),x.useEffect(()=>{iS=!0},[]),r}const gB=W0.useId,H0=gB||mB,yB=x.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:u=14,height:d=7,tipRadius:h=0,strokeWidth:g=0,staticOffset:_,stroke:v,d:S,style:{transform:C,...A}={},...D}=e,M=H0(),[j,W]=x.useState(!1);if(fm(()=>{if(!i)return;ns(i).direction==="rtl"&&W(!0)},[i]),!i)return null;const[Z,ee]=n.split("-"),le=Z==="top"||Z==="bottom";let F=_;(le&&l!=null&&l.x||!le&&l!=null&&l.y)&&(F=null);const N=g*2,L=N/2,U=u/2*(h/-8+1),$=d/2*h/4,H=!!S,V=F&&ee==="end"?"bottom":"top";let Ue=F&&ee==="end"?"right":"left";F&&j&&(Ue=ee==="end"?"left":"right");const Le=(o==null?void 0:o.x)!=null?F||o.x:"",we=(o==null?void 0:o.y)!=null?F||o.y:"",Ee=S||"M0,0"+(" H"+u)+(" L"+(u-U)+","+(d-$))+(" Q"+u/2+","+d+" "+U+","+(d-$))+" Z",ie={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[Z];return k.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:H?u:u+N,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Ue]:Le,[V]:we,[Z]:le||H?"100%":"calc(100% - "+N/2+"px)",transform:[ie,C].filter(be=>!!be).join(" "),...A},children:[N>0&&k.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:v,strokeWidth:N+(S?0:1),d:Ee}),k.jsx("path",{stroke:N&&!S?D.fill:"none",d:Ee}),k.jsx("clipPath",{id:M,children:k.jsx("rect",{x:-L,y:L*(H?-1:1),width:u+N,height:u})})]})});function _B(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const vB=x.createContext(null),wB=x.createContext(null),EB=()=>{var r;return((r=x.useContext(vB))==null?void 0:r.id)||null},bB=()=>x.useContext(wB);function TB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=H0(),o=x.useRef({}),[l]=x.useState(()=>_B()),u=EB()!=null,[d,h]=x.useState(n.reference),g=hB((S,C,A)=>{o.current.openEvent=S?C:void 0,l.emit("openchange",{open:S,event:C,reason:A,nested:u}),t==null||t(S,C,A)}),_=x.useMemo(()=>({setPositionReference:h}),[]),v=x.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:v,events:l,floatingId:i,refs:_}),[e,g,v,l,i,_])}function SB(r){r===void 0&&(r={});const{nodeId:e}=r,t=TB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=x.useState(null),[u,d]=x.useState(null),g=(i==null?void 0:i.domReference)||o,_=x.useRef(null),v=bB();fm(()=>{g&&(_.current=g)},[g]);const S=oB({...r,elements:{...i,...u&&{reference:u}}}),C=x.useCallback(W=>{const Z=zr(W)?{getBoundingClientRect:()=>W.getBoundingClientRect(),contextElement:W}:W;d(Z),S.refs.setReference(Z)},[S.refs]),A=x.useCallback(W=>{(zr(W)||W===null)&&(_.current=W,l(W)),(zr(S.refs.reference.current)||S.refs.reference.current===null||W!==null&&!zr(W))&&S.refs.setReference(W)},[S.refs]),D=x.useMemo(()=>({...S.refs,setReference:A,setPositionReference:C,domReference:_}),[S.refs,A,C]),M=x.useMemo(()=>({...S.elements,domReference:g}),[S.elements,g]),j=x.useMemo(()=>({...S,...n,refs:D,elements:M,nodeId:e}),[S,D,M,e,n]);return fm(()=>{n.dataRef.current.floatingContext=j;const W=v==null?void 0:v.nodesRef.current.find(Z=>Z.id===e);W&&(W.context=j)}),x.useMemo(()=>({...S,context:j,refs:D,elements:M}),[S,D,M,j])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var F_=function(e,t){return F_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},F_(e,t)};function Qn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F_(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var bt=function(){return bt=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},bt.apply(this,arguments)};function lo(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var kB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ae.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},CB=function(r,e){var t=x.useRef(null),n=x.useRef(r);n.current=r;var i=x.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},sg=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,u=CB(t,l);return ae.createElement("div",{className:n,style:o,ref:function(d){u.current=d,i&&(i.current=d)}},e)},Se;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(Se||(Se={}));function z0(){var r=typeof window<"u"?window:globalThis;return r}var $f=12,xB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ut(r){if(r==null)return new Date;var e=typeof r=="string"?a4(r):Re(r);return Yo(e)?e:new Date}function By(r,e,t,n,i){var o,l=null,u=wu(t)||wu(af()),d=!0;if(Array.isArray(e))return e.forEach(function(g){var _=Fy(r,g,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Yo(_,i)&&r===Gt(_,g,t)),Yo(_,i)&&d&&(l=_)}),l;if(l=Fy(r,e,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Yo(l)&&r===Gt(l,e,t);else if(!Yo(l)){var h=((o=e.match(xB))!==null&&o!==void 0?o:[]).map(function(g){var _=g[0];if(_==="p"||_==="P"){var v=om[_];return u?v(g,u.formatLong):_}return g}).join("");r.length>0&&(l=Fy(r,h.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Yo(l)||(l=new Date(r))}return Yo(l)&&d?l:null}function Yo(r,e){return nm(r)&&!xu(r,e??new Date("1/1/1800"))}function Gt(r,e,t){if(t==="en")return QT(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?wu(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&af()&&wu(af())&&(n=wu(af())),QT(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Zi(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Gt(r,i,n)||""}function IB(r,e,t){if(!r)return"";var n=Zi(r,t),i=e?Zi(e,t):"";return"".concat(n," - ").concat(i)}function DB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Zi(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Zi(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function $y(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,u=l===void 0?0:l;return wp(Ep(bp(r,u),o),n)}function RB(r){return iw(r)}function AB(r,e){return Gt(r,"ddd",e)}function Sp(r){return Cu(r)}function ol(r,e,t){var n=wu(e||af());return fa(r,{locale:n,weekStartsOn:t})}function sa(r){return w0(r)}function Jd(r){return eg(r)}function oS(r){return P_(r)}function aS(){return Cu(Ut())}function lS(r){return _0(r)}function PB(r){return fj(r)}function NB(r){return v0(r)}function io(r,e){return r&&e?s4(r,e):!r&&!e}function $r(r,e){return r&&e?r4(r,e):!r&&!e}function hm(r,e){return r&&e?i4(r,e):!r&&!e}function wt(r,e){return r&&e?cj(r,e):!r&&!e}function hu(r,e){return r&&e?lU(r,e):!r&&!e}function Zd(r,e,t){var n,i=Cu(e),o=_0(t);try{n=wf(r,{start:i,end:o})}catch{n=!1}return n}function af(){var r=z0();return r.__localeId__}function wu(r){if(typeof r=="string"){var e=z0();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function OB(r,e,t){return e(Gt(r,"EEEE",t))}function MB(r,e){return Gt(r,"EEEEEE",e)}function LB(r,e){return Gt(r,"EEE",e)}function pw(r,e){return Gt(Ri(Ut(),r),"LLLL",e)}function q0(r,e){return Gt(Ri(Ut(),r),"LLL",e)}function FB(r,e){return Gt(Sc(Ut(),r),"QQQ",e)}function es(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,h=t.filterDate;return Wf(r,{minDate:n,maxDate:i})||o&&o.some(function(g){return g instanceof Date?wt(r,g):wt(r,g.date)})||l&&l.some(function(g){var _=g.start,v=g.end;return wf(r,{start:_,end:v})})||u&&!u.some(function(g){return wt(r,g)})||d&&!d.some(function(g){var _=g.start,v=g.end;return wf(r,{start:_,end:v})})||h&&!h(Ut(r))||!1}function mw(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,u=o.end;return wf(r,{start:l,end:u})}):n&&n.some(function(o){var l;return o instanceof Date?wt(r,o):wt(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function Y0(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Wf(r,{minDate:n?w0(n):void 0,maxDate:i?v0(i):void 0})||(o==null?void 0:o.some(function(d){return $r(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return $r(r,d)})||u&&!u(Ut(r))||!1}function Zh(r,e,t,n){var i=ut(r),o=Hr(r),l=ut(e),u=Hr(e),d=ut(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function VB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Wf(r,{minDate:n,maxDate:i})||o&&o.some(function(u){return $r(u instanceof Date?u:u.date,r)})||l&&!l.some(function(u){return $r(u,r)})||!1}function ep(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Wf(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return hm(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return hm(r,d)})||u&&!u(Ut(r))||!1}function tp(r,e,t){if(!e||!t||!nm(e)||!nm(t))return!1;var n=ut(e),i=ut(t);return n<=r&&i>=r}function kp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(r,0,1);return Wf(d,{minDate:n?eg(n):void 0,maxDate:i?E0(i):void 0})||(o==null?void 0:o.some(function(h){return io(d,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return io(d,h)})||u&&!u(Ut(d))||!1}function np(r,e,t,n){var i=ut(r),o=yu(r),l=ut(e),u=yu(e),d=ut(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function Wf(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&$c(r,i)<0||o&&$c(r,o)>0)!==null&&t!==void 0?t:!1}function uS(r,e){return e.some(function(t){return po(t)===po(r)&&mo(t)===mo(r)&&ia(t)===ia(r)})}function cS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&uS(r,n)||i&&!uS(r,i)||o&&!o(r)||!1}function dS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Ut();i=wp(i,po(r)),i=Ep(i,mo(r)),i=bp(i,ia(r));var o=Ut();o=wp(o,po(t)),o=Ep(o,mo(t)),o=bp(o,ia(t));var l=Ut();l=wp(l,po(n)),l=Ep(l,mo(n)),l=bp(l,ia(n));var u;try{u=!wf(i,{start:o,end:l})}catch{u=!1}return u}function fS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=_u(r,1);return n&&rm(n,o)>0||i&&i.every(function(l){return rm(l,o)>0})||!1}function hS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Cs(r,1);return n&&rm(o,n)>0||i&&i.every(function(l){return rm(o,l)>0})||!1}function jB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=eg(r),l=P0(o);return n&&im(n,l)>0||i&&i.every(function(u){return im(u,l)>0})||!1}function UB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=E0(r),l=rw(o,1);return n&&im(l,n)>0||i&&i.every(function(u){return im(l,u)>0})||!1}function pS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Wc(r,1);return n&&sm(n,o)>0||i&&i.every(function(l){return sm(l,o)>0})||!1}function BB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?$f:i,l=Jd(Wc(r,o)),u=el(l,o).endPeriod,d=n&&ut(n);return d&&d>u||!1}function mS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=na(r,1);return n&&sm(o,n)>0||i&&i.every(function(l){return sm(o,l)>0})||!1}function $B(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?$f:i,l=na(r,o),u=el(l,o).startPeriod,d=n&&ut(n);return d&&d<u||!1}function K0(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return $c(i,e)>=0});return WT(n)}else return t?WT(t):e}function Q0(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return $c(i,e)<=0});return $T(n)}else return t?$T(t):e}function gS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(ra(l)){var u=Gt(l,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(e)||(d.push(e),n.set(u,d))}else if(typeof l=="object"){var h=Object.keys(l),g=(t=h[0])!==null&&t!==void 0?t:"",_=l[g];if(typeof g=="string"&&Array.isArray(_))for(var v=0,S=_.length;v<S;v++){var C=_[v];if(C){var u=Gt(C,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(g)||(d.push(g),n.set(u,d))}}}}return n}function WB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function HB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(ra(i)){var l=Gt(i,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&WB(u.holidayNames,[o]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?lo(lo([],d,!0),[o],!1):[o],t.set(l,u)}}}),t}function zB(r,e,t,n,i){for(var o=i.length,l=[],u=0;u<o;u++){var d=r,h=i[u];h&&(d=oj(d,po(h)),d=A_(d,mo(h)),d=uj(d,ia(h)));var g=A_(r,(t+1)*n);hl(d,e)&&xu(d,g)&&h!=null&&l.push(h)}return l}function yS(r){return r<10?"0".concat(r):"".concat(r)}function el(r,e){e===void 0&&(e=$f);var t=Math.ceil(ut(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function qB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function _S(r){var e=r.getSeconds(),t=r.getMilliseconds();return Re(r.getTime()-e*1e3-t)}function YB(r,e){return _S(r).getTime()===_S(e).getTime()}function vS(r){if(!ra(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function wS(r,e){if(!ra(r)||!ra(e))throw new Error("Invalid date received");var t=vS(r),n=vS(e);return xu(t,n)}function G0(r){return r.key===Se.Space}var KB=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ae.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var u=n.props.date,d=u instanceof Date&&!isNaN(+u),h=d?u:new Date;if(i!=null&&i.includes(":")){var g=i.split(":"),_=g[0],v=g[1];h.setHours(Number(_)),h.setMinutes(Number(v))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,h)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,u=o.timeString,d=o.customTimeInput;return d?x.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var h;(h=n.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){n.onTimeChange(h.target.value||u)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(x.Component),QB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return wt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return mw(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return wt(t.props.day,ol(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&wt(n,ol(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=Gt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var u=Gt(o,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Zd(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,u=i.selectsEnd,d=i.selectsRange,h=i.selectsDisabledDaysInRange,g=i.startDate,_=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||u||d)||!v||!h&&t.isDisabled()?!1:l&&_&&(xu(v,_)||hu(v,_))?Zd(o,v,_):u&&g&&(hl(v,g)||hu(v,g))||d&&g&&!_&&(hl(v,g)||hu(v,g))?Zd(o,g,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,u=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u?wt(o,d):wt(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,u=i.selectsEnd,d=i.selectsRange,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u||d?wt(o,h):wt(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(l,i)},t.isWeekend=function(){var n=iU(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Hr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Hr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ut())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return lr("react-datepicker__day",i,"react-datepicker__day--"+AB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=n.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?d:l;return"".concat(h," ").concat(Gt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,u=n.excludeDates,d=Gt(i,"MM.dd.yyyy"),h=[];return l.has(d)&&h.push.apply(h,l.get(d).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(g){return g instanceof Date?wt(g,i):wt(g==null?void 0:g.date,i)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),h.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&wt(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(GT(t.props.day),t.props.day):GT(t.props.day)},t.render=function(){return ae.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ae.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(x.Component),GB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.props.date,t.props.selected)&&wt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||wt(t.props.date,t.props.selected)&&wt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&wt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&wt(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:lr(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(x.Component),XB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,u,d,h=new Date(n),g=0;g<7;g++){var _=new Date(n);_.setDate(_.getDate()+g);var v=!t.isDisabled(_);if(v){h=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,i,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):RB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=bs(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=bs(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(ae.createElement(GB,bt({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var d=bs(n,u);return ae.createElement(QB,bt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return ol(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.startOfWeek(),t.props.selected)&&wt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":wt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:lr(t)},this.renderDays())},e}(x.Component),Wd,JB=6,Pc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Wy=(Wd={},Wd[Pc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Wd[Pc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Wd[Pc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Wd),rp=1;function ES(r,e){return r?Pc.FOUR_COLUMNS:e?Pc.TWO_COLUMNS:Pc.THREE_COLUMNS}var ZB=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=lo([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=lo([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(n){return es(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return mw(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:$r(Ri(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:hm(Sc(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:$r(Ri(o,n),u)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:hm(Sc(o,n),u)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,g=o.startDate,_=o.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||h)||!v?!1:u&&_?Zh(v,_,n,l):d&&g||h&&g&&!_?Zh(g,v,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.startDate,d=o.selectsStart,h=Ri(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?$r(h,g):$r(h,u)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.endDate,d=o.selectsEnd,h=o.selectsRange,g=Ri(l,n),_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||h?$r(g,_):$r(g,u)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,g=o.startDate,_=o.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||h)||!v?!1:u&&_?np(v,_,n,l):d&&g||h&&g&&!_?np(g,v,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=bs(n,6);return $r(n,i)||$r(o,i)},t.isCurrentMonth=function(n,i){return ut(n)===ut(Ut())&&i===Hr(Ut())},t.isCurrentQuarter=function(n,i){return ut(n)===ut(Ut())&&i===yu(Ut())},t.isSelectedMonth=function(n,i,o){return Hr(o)===i&&ut(n)===ut(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return yu(n)===i&&ut(n)===ut(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,u=ol(sa(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(C){return t.props.showWeekPicker?ol(C,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(C){return t.props.showWeekPicker?ol(C,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?h(t.props.selected):void 0,_=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ae.createElement(XB,bt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:Hr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=tm(u,1);var v=i&&o>=JB,S=!i&&!t.isWeekInMonth(u);if(v||S)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick(sa(u),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(sa(l))},t.handleMonthNavigation=function(n,i){var o,l,u,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,u=t.props,d=u.selected,h=u.preSelection,g=u.setPreSelection,_=u.minDate,v=u.maxDate,S=u.showFourColumnMonthYearPicker,C=u.showTwoColumnMonthYearPicker;if(h){var A=ES(S,C),D=t.getVerticalOffset(A),M=(l=Wy[A])===null||l===void 0?void 0:l.grid,j=function(F,N,L){var U,$,H=N,V=L;switch(F){case Se.ArrowRight:H=Cs(N,rp),V=L===11?0:L+rp;break;case Se.ArrowLeft:H=_u(N,rp),V=L===0?11:L-rp;break;case Se.ArrowUp:H=_u(N,D),V=!((U=M==null?void 0:M[0])===null||U===void 0)&&U.includes(L)?L+12-D:L-D;break;case Se.ArrowDown:H=Cs(N,D),V=!(($=M==null?void 0:M[M.length-1])===null||$===void 0)&&$.includes(L)?L-12+D:L+D;break}return{newCalculatedDate:H,newCalculatedMonth:V}},W=function(F,N,L){for(var U=40,$=F,H=!1,V=0,Ue=j($,N,L),Le=Ue.newCalculatedDate,we=Ue.newCalculatedMonth;!H;){if(V>=U){Le=N,we=L;break}if(_&&Le<_){$=Se.ArrowRight;var Ee=j($,Le,we);Le=Ee.newCalculatedDate,we=Ee.newCalculatedMonth}if(v&&Le>v){$=Se.ArrowLeft;var Ee=j($,Le,we);Le=Ee.newCalculatedDate,we=Ee.newCalculatedMonth}if(VB(Le,t.props)){var Ee=j($,Le,we);Le=Ee.newCalculatedDate,we=Ee.newCalculatedMonth}else H=!0;V++}return{newCalculatedDate:Le,newCalculatedMonth:we}};if(i===Se.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),g==null||g(d));return}var Z=W(i,h,o),ee=Z.newCalculatedDate,le=Z.newCalculatedMonth;switch(i){case Se.ArrowRight:case Se.ArrowLeft:case Se.ArrowUp:case Se.ArrowDown:t.handleMonthNavigation(le,ee);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=Wy[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,d=n.key;d!==Se.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),u&&u(n)},t.onQuarterClick=function(n,i){var o=Sc(t.props.day,i);ep(o,t.props)||t.handleDayClick(oS(o),n)},t.onQuarterMouseEnter=function(n){var i=Sc(t.props.day,n);ep(i,t.props)||t.handleDayMouseEnter(oS(i))},t.handleQuarterNavigation=function(n,i){var o,l,u,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,u=n.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Se.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Se.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,rw(t.props.preSelection,1));break;case Se.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,P0(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,u=o.minDate,d=o.maxDate,h=o.excludeDates,g=o.includeDates,_=Ri(l,n);return{isDisabled:(i=(u||d||h||g)&&Y0(_,t.props))!==null&&i!==void 0?i:!1,labelDate:_}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.preSelection,h=i.monthClassName,g=h?h(Ri(o,n)):void 0,_=t.getSelection();return lr("react-datepicker__month-text","react-datepicker__month-".concat(n),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?Zh(l,u,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Hr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=yu(t.props.preSelection),o=ep(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=i.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,h=i.day,g=i.locale,_=Ri(h,n),v=t.isDisabled(_)||t.isExcluded(_)?d:l;return"".concat(v," ").concat(Gt(_,"MMMM yyyy",g))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.selected,h=i.minDate,g=i.maxDate,_=i.excludeDates,v=i.includeDates,S=i.filterDate,C=i.preSelection,A=i.disabledKeyboardNavigation,D=(h||g||_||v||S)&&ep(Sc(o,n),t.props);return lr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&C&&t.isSelectedQuarter(o,n,C)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?np(l,u,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,u=i.locale,d=i.day,h=q0(n,u),g=pw(n,u);return l?l(n,h,g,d):o?g:h},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,u=o.locale,d=FB(n,u);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,h=(n=Wy[ES(l,o)])===null||n===void 0?void 0:n.grid;return h==null?void 0:h.map(function(g,_){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:_},g.map(function(v,S){return ae.createElement("div",{ref:t.MONTH_REFS[v],key:S,onClick:function(C){t.onMonthClick(C,v)},onKeyDown:function(C){G0(C)&&(C.preventDefault(),C.key=Se.Enter),t.onMonthKeyDown(C,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(u,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return ae.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(i,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(i,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,d=n.showQuarterYearPicker,h=n.showWeekPicker;return lr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Gt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(x.Component),e$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ae.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ae.createElement(sg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),t$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return ae.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return ae.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ae.createElement(e$,bt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return q0(o,t.props.locale)}:function(o){return pw(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(x.Component);function n$(r,e){for(var t=[],n=sa(r),i=sa(e);!hl(n,i);)t.push(Ut(n)),n=Cs(n,1);return t}var r$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=O_(i),l=io(n.props.date,i)&&$r(n.props.date,i);return ae.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Gt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:n$(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=lr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(sg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),i$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=sa(t.props.minDate),i=sa(t.props.maxDate),o=[];!hl(n,i);){var l=O_(n);o.push(ae.createElement("option",{key:l,value:l},Gt(n,t.props.dateFormat,t.props.locale))),n=Cs(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:O_(sa(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Gt(t.props.date,t.props.dateFormat,t.props.locale);return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ae.createElement(r$,bt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Ut(n);io(t.props.date,i)&&$r(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),s$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&dS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&YB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&dS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(po(n)*3600+mo(n)*60+ia(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(n.key===Se.ArrowUp||n.key===Se.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Se.ArrowDown||n.key===Se.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Se.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Ut(),d=Sp(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(D,M){return D.getTime()-M.getTime()}),g=60*qB(u),_=g/l,v=0;v<_;v++){var S=A_(d,v*l);if(i.push(S),h){var C=zB(d,S,v,l,h);i=i.concat(C)}}var A=i.reduce(function(D,M){return M.getTime()<=u.getTime()?M:D},i[0]);return i.map(function(D){return ae.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(M){D===A&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,D)},tabIndex:D===A?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},Gt(D,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ae.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(x.Component),bS=3,o$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=lo([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(i){return es(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return mw(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,u;(u=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,u,d,h,g=n.props,_=g.date,v=g.yearItemNumber;if(!(_===void 0||v===void 0)){var S=el(_,v).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,o),i-S<0?n.updateFocusOnPaginate(v-(S-i)):i-S>=v?n.updateFocusOnPaginate(Math.abs(v-(i-S))):(h=(d=n.YEAR_REFS[i-S])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus())}},n.isSameDay=function(i,o){return wt(i,o)},n.isCurrentYear=function(i){return i===ut(Ut())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&io(ro(Ut(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&io(ro(Ut(),i),n.props.endDate)},n.isInRange=function(i){return tp(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,u=o.selectsEnd,d=o.selectsRange,h=o.startDate,g=o.endDate;return!(l||u||d)||!n.selectingDate()?!1:l&&g?tp(i,n.selectingDate(),g):u&&h||d&&h&&!g?tp(i,h,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.startDate,d=l.selectsStart,h=ro(Ut(),i);return d?io(h,(o=n.selectingDate())!==null&&o!==void 0?o:null):io(h,u??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.endDate,d=l.selectsEnd,h=l.selectsRange,g=ro(Ut(),i);return d||h?io(g,(o=n.selectingDate())!==null&&o!==void 0?o:null):io(g,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,u=o.maxDate,d=o.excludeDates,h=o.includeDates,g=o.filterDate,_=Jd(ro(n.props.date,i)),v=(l||u||d||h||g)&&kp(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!wt(_,Jd(n.props.selected))&&wt(_,Jd(n.props.preSelection))&&!v}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Jd(ro(l,o)),i)},n.onYearKeyDown=function(i,o){var l,u,d=i.key,h=n.props,g=h.date,_=h.yearItemNumber,v=h.handleOnKeyDown;if(d!==Se.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case Se.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case Se.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,na(n.props.preSelection,1));break;case Se.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Wc(n.props.preSelection,1));break;case Se.ArrowUp:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var S=el(g,_).startPeriod,C=bS,A=o-C;if(A<S){var D=_%C;o>=S&&o<S+D?C=D:C+=D,A=o-C}n.handleYearNavigation(A,Wc(n.props.preSelection,C));break}case Se.ArrowDown:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var M=el(g,_).endPeriod,C=bS,A=o+C;if(A>M){var D=_%C;o<=M&&o>M-D?C=D:C+=D,A=o+C}n.handleYearNavigation(A,na(n.props.preSelection,C));break}}v&&v(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,u=o.minDate,d=o.maxDate,h=o.selected,g=o.excludeDates,_=o.includeDates,v=o.filterDate,S=o.yearClassName;return lr("react-datepicker__year-text","react-datepicker__year-".concat(i),l?S==null?void 0:S(ro(l,i)):void 0,{"react-datepicker__year-text--selected":h?i===ut(h):void 0,"react-datepicker__year-text--disabled":(u||d||g||_||v)&&kp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=ut(n.props.preSelection),l=kp(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,u=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var h=el(o,l),g=h.startPeriod,_=h.endPeriod,v=function(A){n.push(ae.createElement("div",{ref:S.YEAR_REFS[A-g],onClick:function(D){t.onYearClick(D,A)},onKeyDown:function(D){G0(D)&&(D.preventDefault(),D.key=Se.Enter),t.onYearKeyDown(D,A)},tabIndex:Number(S.getYearTabIndex(A)),className:S.getYearClassNames(A),onMouseEnter:S.props.usePointerEvent?void 0:function(D){return u(D,A)},onPointerEnter:S.props.usePointerEvent?function(D){return u(D,A)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(D){return d(D,A)},onPointerLeave:S.props.usePointerEvent?function(D){return d(D,A)}:void 0,key:A,"aria-current":S.isCurrentYear(A)?"date":void 0},S.getYearContent(A)))},S=this,C=g;C<=_;C++)v(C);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(x.Component);function a$(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,u=!0;t&&(u=ut(t)<=l),n&&u&&(u=ut(n)>=l),u&&i.push(l)}return i}var l$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var u=n.props.year,d=n.state.yearsList.map(function(_){return ae.createElement("div",{className:u===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":u===_?"true":void 0},u===_?ae.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",_)}),h=n.props.minDate?ut(n.props.minDate):null,g=n.props.maxDate?ut(n.props.maxDate):null;return(!g||!n.state.yearsList.find(function(_){return _===g}))&&d.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!n.state.yearsList.find(function(_){return _===h}))&&d.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var d=n.state.yearsList.map(function(h){return h+u});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:a$(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=lr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(sg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(x.Component),u$=function(r){Qn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?ut(t.props.minDate):1900,i=t.props.maxDate?ut(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(ae.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ae.createElement(l$,bt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(x.Component),c$=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],d$=function(r){var e=(r.className||"").split(/\s+/);return c$.some(function(t){return e.indexOf(t)>=0})},f$=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;d$(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,u=i.openToDate,d=K0(n.props),h=Q0(n.props),g=Ut(),_=u||l||o;return _||(d&&xu(g,d)?d:h&&hl(g,h)?h:g)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Cs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:_u(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:ro(Ut(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,u,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!es(i,n.props))return i;for(var o=sa(i),l=NB(i),u=dj(l,o),d=null,h=0;h<=u;h++){var g=bs(o,h);if(!es(g,n.props)){d=g;break}}return d},n.handleMonthChange=function(i){var o,l,u,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:ro(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:Ri(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:ro(Ri(l,Hr(i)),ut(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=ol(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=bs(o,u),h=n.formatWeekday(d,n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ae.createElement("div",{key:u,"aria-label":Gt(d,"EEEE",n.props.locale),className:lr("react-datepicker__day-name",g)},h)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?OB(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?LB(i,o):MB(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Wc(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,h=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,g=_u(n.state.date,h),_;switch(!0){case n.props.showMonthYearPicker:_=pS(n.state.date,n.props);break;case n.props.showYearPicker:_=BB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=jB(n.state.date,n.props);break;default:_=fS(g,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),C=void 0);var A=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,D=n.props,M=D.previousMonthButtonLabel,j=M===void 0?e.defaultProps.previousMonthButtonLabel:M,W=D.previousYearButtonLabel,Z=W===void 0?e.defaultProps.previousYearButtonLabel:W,ee=n.props,le=ee.previousMonthAriaLabel,F=le===void 0?typeof j=="string"?j:"Previous Month":le,N=ee.previousYearAriaLabel,L=N===void 0?typeof Z=="string"?Z:"Previous Year":N;return ae.createElement("button",{type:"button",className:S.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":A?L:F},ae.createElement("span",{className:v.join(" ")},A?Z:j))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:na(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=mS(n.state.date,n.props);break;case n.props.showYearPicker:o=$B(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=UB(n.state.date,n.props);break;default:o=hS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,_=g.nextMonthButtonLabel,v=_===void 0?e.defaultProps.nextMonthButtonLabel:_,S=g.nextYearButtonLabel,C=S===void 0?e.defaultProps.nextYearButtonLabel:S,A=n.props,D=A.nextMonthAriaLabel,M=D===void 0?typeof v=="string"?v:"Next Month":D,j=A.nextYearAriaLabel,W=j===void 0?typeof C=="string"?C:"Next Year":j;return ae.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":h?W:M},ae.createElement("span",{className:u.join(" ")},h?C:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:o.join(" ")},Gt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ae.createElement(u$,bt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ut(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ae.createElement(t$,bt({},e.defaultProps,n.props,{month:Hr(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ae.createElement(i$,bt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(aS(),i),n.props.setPreSelection&&n.props.setPreSelection(aS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,u=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var h=fS(n.state.date,n.props),g=hS(n.state.date,n.props),_=pS(n.state.date,n.props),v=mS(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,bt(bt({},n.state),{customHeaderCount:d,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:g,prevYearButtonDisabled:_,nextYearButtonDisabled:v})),S&&ae.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,u=l.showYearPicker,d=l.yearItemNumber,h=d===void 0?e.defaultProps.yearItemNumber:d,g=el(o,h),_=g.startPeriod,v=g.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(_," - ").concat(v):ut(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,u=l===void 0?0:l,d={monthDate:o,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?na(n.state.date,d):_u(n.state.date,d),g=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,_=0;_<u;++_){var v=_-g+d,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?na(h,v):Cs(h,v),C="month-".concat(_),A=_<u-1,D=_>0;l.push(ae.createElement("div",{key:C,ref:function(M){n.monthContainer=M??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:_}),ae.createElement(ZB,bt({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:D}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ae.createElement(o$,bt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ae.createElement(s$,bt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Yo(i)&&!!n.props.selected,l=o?"".concat(yS(i.getHours()),":").concat(yS(i.getMinutes())):"";if(n.props.showTimeInput)return ae.createElement(KB,bt({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=el(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=ut(n.state.date):d="".concat(pw(Hr(n.state.date),n.props.locale)," ").concat(ut(n.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:$f}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!wt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!$r(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!wt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||kB;return ae.createElement(sg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement(t,{className:lr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(x.Component),h$=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?ae.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):ae.isValidElement(e)?ae.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):ae.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},X0=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return uu.createPortal(this.props.children,this.el)},e}(x.Component),p$="[tabindex], a, button, input, select, textarea",m$=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},J0=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(p$),1,-1).filter(m$)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=x.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(x.Component);function g$(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=x.useRef(null),l=SB(bt({open:!i,whileElementsMounted:nB,placement:t.popperPlacement,middleware:lo([uB({padding:15}),lB(10),cB({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),u=bt(bt({},t),{hidePopper:i,popperProps:bt(bt({},l),{arrowRef:o})});return ae.createElement(r,bt({},u))};return e}var y$=function(r){Qn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,d=t.targetComponent,h=t.enableTabLoop,g=t.popperOnKeyDown,_=t.portalId,v=t.portalHost,S=t.popperProps,C=t.showArrow,A=void 0;if(!l){var D=lr("react-datepicker-popper",n);A=ae.createElement(J0,{enableTabLoop:h},ae.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:D,"data-placement":S.placement,onKeyDown:g},u,C&&ae.createElement(yB,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=x.createElement(this.props.popperContainer,{},A)),_&&!l&&(A=ae.createElement(X0,{portalId:_,portalHost:v},A));var M=lr("react-datepicker-wrapper",i);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:S.refs.setReference,className:M},d),A)},e}(x.Component),_$=g$(y$),TS="react-datepicker-ignore-onclickoutside";function v$(r,e){return r&&e?Hr(r)!==Hr(e)||ut(r)!==ut(e):r!==e}var Hy="Date input not valid.",Z0=function(r){Qn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ut()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var u=new Date(l.date);return Yo(u)?lo(lo([],o,!0),[bt(bt({},l),{date:u})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=K0(n.props),u=Q0(n.props),d=l&&xu(o,Sp(l))?l:u&&hl(o,lS(u))?u:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:gS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(bt(bt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(bt(bt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:zy},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ra(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,u=n.state.wasHidden,d=u?n.state.open:!0;u&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:w$});var h=n.props,g=h.dateFormat,_=g===void 0?e.defaultProps.dateFormat:g,v=h.strictParsing,S=v===void 0?e.defaultProps.strictParsing:v,C=h.selectsRange,A=h.startDate,D=h.endDate,M=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(C){var j=M.split("-",2).map(function(U){return U.trim()}),W=j[0],Z=j[1],ee=By(W??"",_,n.props.locale,S),le=By(Z??"",_,n.props.locale,S),F=(A==null?void 0:A.getTime())!==(ee==null?void 0:ee.getTime()),N=(D==null?void 0:D.getTime())!==(le==null?void 0:le.getTime());if(!F&&!N||ee&&es(ee,n.props)||le&&es(le,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[ee,le],d)}else{var L=By(M,_,n.props.locale,S,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&L&&!wt(L,n.props.selected)&&(L=T4(n.props.selected,{hours:po(L),minutes:mo(L),seconds:ia(L)})),(L||!M)&&n.setSelected(L,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,d=u.startDate,h=u.endDate;d&&!h&&(n.props.swapRange||!wS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,u){var d,h,g=i;if(n.props.showYearPicker){if(g!==null&&kp(ut(g),n.props))return}else if(n.props.showMonthYearPicker){if(g!==null&&Y0(g,n.props))return}else if(g!==null&&es(g,n.props))return;var _=n.props,v=_.onChange,S=_.selectsRange,C=_.startDate,A=_.endDate,D=_.selectsMultiple,M=_.selectedDates,j=_.minTime,W=_.swapRange;if(!hu(n.props.selected,g)||n.props.allowSameDay||S||D)if(g!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(g=$y(g,{hour:po(n.props.selected),minute:mo(n.props.selected),second:ia(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&j&&(g=$y(g,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),n.props.inline||n.setState({preSelection:g}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var Z=!C&&!A,ee=C&&!A,le=C&&A;Z?v==null||v([g,null],o):ee&&(g===null?v==null||v([null,null],o):wS(g,C)?W?v==null||v([g,C],o):v==null||v([g,null],o):v==null||v([C,g],o)),le&&(v==null||v([g,null],o))}else if(D){if(g!==null)if(!(M!=null&&M.length))v==null||v([g],o);else{var F=M.some(function(L){return wt(L,g)});if(F){var N=M.filter(function(L){return!wt(L,g)});v==null||v(N,o)}else v==null||v(lo(lo([],M,!0),[g],!1),o)}}else v==null||v(g,o);l||((h=(d=n.props).onSelect)===null||h===void 0||h.call(d,g,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=ra(n.props.minDate),l=ra(n.props.maxDate),u=!0;if(i){var d=Sp(i);if(o&&l)u=Zd(i,n.props.minDate,n.props.maxDate);else if(o){var h=Sp(n.props.minDate);u=hl(i,h)||hu(d,h)}else if(l){var g=lS(n.props.maxDate);u=xu(i,g)||hu(d,g)}}u&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:$y(u,{hour:po(i),minute:mo(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,u,d,h,g;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var _=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===Se.ArrowDown||_===Se.ArrowUp||_===Se.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(_===Se.ArrowDown||_===Se.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var C=Ut(n.state.preSelection);_===Se.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===zy?(n.handleSelect(C,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):_===Se.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===Se.Tab&&n.setOpen(!1),n.inputOk()||(g=(h=n.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Hy})}},n.onPortalKeyDown=function(i){var o=i.key;o===Se.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,u,d,h,g,_=n.props,v=_.minDate,S=_.maxDate,C=_.disabledKeyboardNavigation,A=_.showWeekPicker,D=_.shouldCloseOnSelect,M=_.locale,j=_.calendarStartDay,W=_.adjustDateOnChange,Z=_.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!C){var ee=i.key,le=i.shiftKey,F=Ut(n.state.preSelection),N=function(Le,we){var Ee=we;switch(Le){case Se.ArrowRight:Ee=A?tm(we,1):bs(we,1);break;case Se.ArrowLeft:Ee=A?XT(we):o4(we);break;case Se.ArrowUp:Ee=XT(we);break;case Se.ArrowDown:Ee=tm(we,1);break;case Se.PageUp:Ee=le?Wc(we,1):_u(we,1);break;case Se.PageDown:Ee=le?na(we,1):Cs(we,1);break;case Se.Home:Ee=ol(we,M,j);break;case Se.End:Ee=PB(we);break}return Ee},L=function(Le,we){for(var Ee=40,ie=Le,be=!1,Q=0,Y=N(Le,we);!be;){if(Q>=Ee){Y=we;break}v&&Y<v&&(ie=Se.ArrowRight,Y=es(v,n.props)?N(ie,Y):v),S&&Y>S&&(ie=Se.ArrowLeft,Y=es(S,n.props)?N(ie,Y):S),es(Y,n.props)?((ie===Se.PageUp||ie===Se.Home)&&(ie=Se.ArrowRight),(ie===Se.PageDown||ie===Se.End)&&(ie=Se.ArrowLeft),Y=N(ie,Y)):be=!0,Q++}return Y};if(ee===Se.Enter){i.preventDefault(),n.handleSelect(F,i),!D&&n.setPreSelection(F);return}else if(ee===Se.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Hy});return}var U=null;switch(ee){case Se.ArrowLeft:case Se.ArrowRight:case Se.ArrowUp:case Se.ArrowDown:case Se.PageUp:case Se.PageDown:case Se.Home:case Se.End:U=L(ee,F);break}if(!U){(g=(h=n.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Hy});return}if(i.preventDefault(),n.setState({lastPreSelectChange:zy}),W&&n.setSelected(U),n.setPreSelection(U),Z){var $=Hr(F),H=Hr(U),V=ut(F),Ue=ut(U);$!==H||V!==Ue?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===Se.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],i):u==null||u(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:ae.createElement(f$,bt({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:HB(n.modifyHolidays()),outsideClickIgnoreClass:TS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,h=d?"PPPPp":"PPPP",g;return n.props.selectsRange?g="Selected start date: ".concat(Zi(n.props.startDate,{dateFormat:h,locale:u}),". ").concat(n.props.endDate?"End date: "+Zi(n.props.endDate,{dateFormat:h,locale:u}):""):n.props.showTimeSelectOnly?g="Selected time: ".concat(Zi(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?g="Selected year: ".concat(Zi(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?g="Selected month: ".concat(Zi(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?g="Selected quarter: ".concat(Zi(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(Zi(n.props.selected,{dateFormat:h,locale:u})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},n.renderDateInput=function(){var i,o,l,u=lr(n.props.className,(i={},i[TS]=n.state.open,i)),d=n.props.customInput||ae.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",g=n.props,_=g.dateFormat,v=_===void 0?e.defaultProps.dateFormat:_,S=g.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?IB(n.props.startDate,n.props.endDate,{dateFormat:v,locale:S}):n.props.selectsMultiple?DB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:S}):Zi(n.props.selected,{dateFormat:v,locale:S});return x.cloneElement(d,(o={},o[h]=function(A){n.input=A},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=lr(d.props.className,u),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,u=i.selected,d=i.startDate,h=i.endDate,g=i.clearButtonTitle,_=i.clearButtonClassName,v=_===void 0?"":_,S=i.ariaLabelClose,C=S===void 0?"Close":S,A=i.selectedDates;return o&&(u!=null||d!=null||h!=null||A!=null&&A.length)?ae.createElement("button",{type:"button",className:lr("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":C,onClick:n.onClearClick,title:g,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:$f,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,u;t.inline&&v$(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gS(this.props.highlightDates)}),!n.focused&&!hu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ae.createElement(h$,bt({icon:i,className:lr(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ae.createElement(J0,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ae.createElement(X0,bt({portalId:this.props.portalId},this.props),n)),ae.createElement("div",null,this.renderInputContainer(),n)}return ae.createElement(_$,bt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(x.Component),w$="input",zy="navigate";const E$=r=>{const e=["th","st","nd","rd"],t=r%10,n=t>=1&&t<=3&&Math.floor(r/10)!==1?e[t]:e[0];return`${r}${n}`},SS=r=>{const[e,t,n]=r.split("T")[0].split("-"),i=E$(Number(n)),o=new Date(`${e}-${t}`).toLocaleString("en-GB",{month:"long"});return{formattedDay:i,monthName:o,year:e}},eI=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{formattedDay:t,monthName:n,year:i}=SS(r),{formattedDay:o,monthName:l,year:u}=SS(e);let d=`From the ${t}`;return n===l&&i===u?d+=` to the ${o} of ${n} of ${i}`:i===u?d+=` of ${n} to the ${o} of ${l} of ${i}`:d+=` of ${n} of ${i} to the ${o} of ${l} of ${u}`,d},kS=r=>{const[e,t,n]=r.split("T")[0].split("-");return{day:n,month:t,year:e}},b$=(r,e)=>{if(!r||!e)return"Invalid Date Range";const{day:t,month:n,year:i}=kS(r),{day:o,month:l,year:u}=kS(e);return`(${t}/${n}/${i} - ${o}/${l}/${u})`},T$=r=>{const e=r instanceof kn?new Date(r.seconds*1e3):new Date(r);return`${e.toLocaleTimeString("en-GB")} on the ${e.toLocaleDateString("en-GB")}`},S$=({exhibitions:r,selectedExhibitionId:e,setSelectedExhibitionId:t,newExhibitionName:n,setNewExhibitionName:i,newExhibitionStartDate:o,newExhibitionEndDate:l,handleDateChange:u,handleSubmit:d,loading:h,setIsFormVisible:g,successMessage:_})=>{const v=!!e,S=()=>{if(!v){if(!n.trim())return alert("Exhibition name is required."),!1;if(!o||!l)return alert("Both start and end dates are required."),!1;if(o>l)return alert("Start date must be before the end date."),!1}return!0},C=A=>{A.preventDefault(),S()&&d(A)};return k.jsxs("form",{onSubmit:C,className:"mt-4 p-4 rounded shadow-sm",style:{background:"rgba(204, 173, 227, 0.84)"},children:[_&&k.jsx("div",{className:"alert alert-success",role:"alert",children:_}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"existingExhibition",className:"form-label fw-bold",children:"Select one of your exhibitions:"}),k.jsxs("select",{id:"existingExhibition",className:"form-select",onChange:A=>t(A.target.value),value:e||"","aria-label":"Select one of your exhibitions",children:[k.jsx("option",{value:"",children:"Select an exhibition"}),r.map(A=>k.jsxs("option",{value:A.id,children:[A.name," ",b$(A.startDate,A.endDate)]},A.id))]})]}),k.jsxs("fieldset",{disabled:v,children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"newExhibitionName",className:"form-label fw-bold",children:"Create a new exhibition:"}),k.jsx("input",{type:"text",id:"newExhibitionName",className:"form-control",placeholder:"Exhibition name",value:n,onChange:A=>i(A.target.value),required:!v,"aria-required":!v})]}),k.jsx("div",{className:"mb-4",children:k.jsx(Z0,{selected:o,onChange:u,startDate:o,endDate:l,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates",required:!v})})]}),k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{type:"submit",className:"btn btn-success",disabled:h,children:h?"Submitting...":"Add"}),k.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),"aria-label":"Cancel and close form",children:"Cancel"})]})]})},ml="/assets/imageUrlNotAvailable-C1kBwTfL.jpg",k$=({artwork:r})=>{const[e,t]=x.useState(!1),[n,i]=x.useState(null),[o,l]=x.useState(""),[u,d]=x.useState(null),[h,g]=x.useState(null),[_,v]=x.useState(null),[S,C]=x.useState(null),[A,D]=x.useState(!1),[M,j]=x.useState(!1),{exhibitions:W,addExhibition:Z,addArtworkToExhibition:ee,loading:le}=$v(),{loadingCollection:F,addToCollection:N}=PL(),{setSelectedMuseum:L}=Gc(),U=()=>{t(!0),C(null)},$=(Le,we)=>(console.error("Firestore Error:",Le),Le.message.includes("permission-denied")?"You do not have permission to perform this action.":Le.message.includes("network-request-failed")?"Network error. Please check your internet connection.":Le.message||we),H=async Le=>{Le.preventDefault(),v(null);const we=du.currentUser;if(!we){v("User is not authenticated.");return}try{if(n)await ee(n,r);else if(o&&u&&h){const Ee=new Date(u).toISOString(),ie=new Date(h).toISOString(),be={name:o,startDate:Ee,endDate:ie,artworks:[r],userId:we.uid,createdAt:new Date};await Z(be)}else{v("Please fill in all the required fields.");return}t(!1),l(""),d(null),g(null),i(null),C("Artwork added to the exhibition successfully!"),setTimeout(()=>C(null),5e3)}catch(Ee){const ie=$(Ee,"An unexpected error occurred. Please try again.");v(ie)}},V=Le=>{const[we,Ee]=Le;d(we),g(Ee)},Ue=async()=>{try{await N(r),C("Artwork added to the collection successfully!"),setTimeout(()=>C(null),5e3)}catch(Le){const we=$(Le,"Error adding to collection. Please try again.");v(we)}};return k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${r.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${r.title}"`,onClick:()=>L(r.source),children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:r.title}),(r.imageUrl||ml)&&k.jsx("img",{src:r.imageUrl&&r.imageUrl.trim()!==""?r.imageUrl:ml,alt:`Artwork titled "${r.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:r.artist_title})," in ",r.date]}),k.jsx("p",{className:"mb-2",children:r.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",r.copyright]})]}),k.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[k.jsx("button",{onClick:U,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),className:"btn btn-primary",style:{backgroundColor:A?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to an exhibition",children:"Add to an Exhibition"}),k.jsx("button",{onClick:Ue,disabled:e||F,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:"btn btn-primary",style:{backgroundColor:M?"rgba(32, 43, 163, 0.9)":"rgba(32, 18, 74, 0.84)"},"aria-label":"Add artwork to your collection",children:F?"Adding...":"Add to Collection"})]}),e&&k.jsx(S$,{exhibitions:W,selectedExhibitionId:n,setSelectedExhibitionId:i,newExhibitionName:o,setNewExhibitionName:l,newExhibitionStartDate:u,newExhibitionEndDate:h,handleDateChange:V,handleSubmit:H,loading:le,setIsFormVisible:t,successMessage:S}),_&&k.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:_}),!_&&S&&k.jsx("div",{className:"alert alert-success mt-3",role:"alert",style:{maxWidth:"400px",margin:"0 auto"},children:S})]})},C$=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},i=()=>{r<e&&t(r+1)},o=()=>t(1),l=()=>t(e),u=()=>{const d=[];for(let h=Math.max(1,r-1);h<=Math.min(e,r+1);h++)d.push(k.jsx("li",{className:`page-item ${h===r?"active":""}`,children:k.jsx("button",{className:"page-link",onClick:()=>t(h),disabled:h===r,children:h})},h));return d};return k.jsx("nav",{"aria-label":"Pagination",className:"my-4",children:k.jsxs("ul",{className:"pagination justify-content-center",children:[k.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:o,disabled:r===1,children:"First"})}),k.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:n,disabled:r===1,children:"« Previous"})}),u(),k.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:i,disabled:r===e,children:"Next »"})}),k.jsx("li",{className:`page-item ${r===e?"disabled":""}`,children:k.jsx("button",{className:"page-link",onClick:l,disabled:r===e,children:"Last"})})]})})},x$=(r,e,t)=>[...r].sort((n,i)=>{let o=0;if(e==="artist"){const l=n.artist_title||"",u=i.artist_title||"";o=l.localeCompare(u)}else if(e==="title"){const l=n.title||"",u=i.title||"";o=l.localeCompare(u)}else if(e==="date"){const l=new Date(n.date).getTime(),u=new Date(i.date).getTime();o=l-u}return t[e]==="asc"?o:-o}),I$=({sortOption:r,sortDirection:e})=>{const{artworks:t}=Wv(),[n,i]=x.useState(1),o=10,l=x$(t,r,e),u=n*o,d=u-o,h=l.slice(d,u),g=Math.ceil(t.length/o);return k.jsxs("div",{className:"container my-4",children:[h.length>0?k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:h.map(_=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:v=>{v.currentTarget.style.transform="scale(1.03)"},onMouseLeave:v=>{v.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${_.title}`,tabIndex:0,onKeyDown:v=>{v.key==="Enter"&&(window.location.href=`/artwork/${_.id}`)},children:k.jsx(k$,{artwork:_})},_.id))}):k.jsx("p",{children:"Start your search here "}),g>1&&k.jsxs(k.Fragment,{children:[k.jsx(C$,{currentPage:n,totalPages:g,onPageChange:i}),k.jsx("div",{className:"text-center mt-2",children:k.jsxs("small",{className:"text-muted",children:["Page ",n," of ",g]})})]})]})},CS=()=>{const{museumName:r}=$_(),{query:e,setQuery:t}=Y_(),{type:n,setType:i}=qS(),{setSelectedMuseum:o}=Gc(),[l,u]=x.useState(""),[d,h]=x.useState("artist"),[g,_]=x.useState({artist:"asc",title:"asc",date:"asc"}),v=r===void 0||r==="collection",{artworks:S,loading:C,error:A,setArtworks:D}=nj(r||"",e,n,v);return x.useEffect(()=>{u((j=>j?{cleveland:"The Cleveland Museum of Art",chicago:"The Art Institute of Chicago"}[j]||"Unknown Museum":"Collection")(r))},[r]),x.useEffect(()=>{t(""),i("artist_title"),h("artist"),_({artist:"asc",title:"asc",date:"asc"}),D([]),r&&o(r)},[t,i,h,_,D,o,r]),k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center mb-5 fs-1 py-5",children:l||"Collection"}),k.jsx(rj,{sortOption:d,setSortOption:h,sortDirection:g,setSortDirection:_}),C&&k.jsx("div",{className:"text-center mt-3",children:"Loading..."}),A&&k.jsxs("div",{className:"alert alert-danger mt-3",children:[k.jsxs("p",{children:["Error: ",A]}),k.jsx("button",{onClick:()=>t(e),children:"Retry"})]}),!C&&!A&&k.jsx(I$,{sortOption:d,sortDirection:g})]})},D$=()=>{const{exhibitions:r,loading:e}=$v(),t=Sf();return x.useEffect(()=>{du.currentUser||t("/login")},[t]),e?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):k.jsxs("div",{className:"container my-5",children:[k.jsx("h1",{className:"text-center fs-1 mb-4",children:"Exhibitions"}),r.length>0?k.jsx("div",{className:"row g-4",children:r.map(n=>k.jsx("div",{className:"col-md-6 col-lg-4",children:k.jsx(Jo,{to:`/exhibition/${n.id}`,className:"btn btn-outline-secondary mt-3","aria-label":`Manage exhibition ${n.name}`,children:k.jsx("div",{className:"card h-100 shadow-sm",children:k.jsxs("div",{className:"card-body d-flex flex-column",children:[k.jsx("h2",{className:"card-title text-decoration-underline text-center py-3 fs-2",children:n.name}),k.jsx("p",{className:"card-text text-center text-muted",children:eI(n.startDate,n.endDate)}),k.jsx("img",{src:n.image,alt:`Exhibition titled "${n.name}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto"}}),k.jsxs("ul",{className:"list-group list-group-flush",children:[k.jsx("h5",{className:"text-decoration-underline",children:"What you will be seeing:"}),n.artworks.map(i=>k.jsx("li",{className:"list-group-item justify-content-between mb-3",children:k.jsx("div",{children:k.jsxs("span",{className:"ms-2 d-block",children:['"',i.title,'" by ',k.jsx("i",{children:i.artist_title})]})})},i.id))]}),k.jsxs("p",{className:"card-text text-center text-muted",children:["Created at ",T$(n.createdAt)]})]})})})},n.id))}):k.jsx("p",{className:"text-center",children:"No exhibitions found."})]})},R$=()=>{const{login:r,loading:e}=Nu(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,u]=x.useState(null),d=g=>{switch(g.code){case"auth/user-not-found":return{field:"email",message:"No user found with this email."};case"auth/wrong-password":return{field:"password",message:"Incorrect password. Please try again."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};case"auth/user-disabled":return{field:"form",message:"This user account has been disabled."};default:return{field:"form",message:"Failed to login. Please try again later."}}},h=async g=>{g.preventDefault(),u(null);try{await r(t,i)}catch(_){_ instanceof Ds?u(d(_)):u({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to login:",_)}};return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[k.jsx("h2",{className:"text-center mb-4 fs-1",children:"Login"}),l&&l.field==="form"&&k.jsx("div",{className:"alert alert-danger",children:l.message}),k.jsxs("form",{onSubmit:h,children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),k.jsx("input",{type:"email",id:"email",className:`form-control ${(l==null?void 0:l.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:g=>n(g.target.value),required:!0}),(l==null?void 0:l.field)==="email"&&k.jsx("div",{className:"invalid-feedback",children:l.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),k.jsx("input",{type:"password",id:"password",className:`form-control ${(l==null?void 0:l.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:g=>o(g.target.value),required:!0}),(l==null?void 0:l.field)==="password"&&k.jsx("div",{className:"invalid-feedback",children:l.message})]}),k.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Logging in...":"Login"})]})]})})})},A$=()=>{const{register:r,loading:e}=Nu(),[t,n]=x.useState(""),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[g,_]=x.useState(null),v=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),S=M=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(M),C=M=>/^[A-Za-z- ]+$/.test(M),A=M=>{switch(M.code){case"auth/email-already-in-use":return{field:"email",message:"This email is already in use. Please use a different email."};case"auth/weak-password":return{field:"password",message:"The password is too weak."};case"auth/invalid-email":return{field:"email",message:"Invalid email address format."};default:return{field:"form",message:"Failed to register. Please try again later."}}},D=async M=>{if(M.preventDefault(),_(null),!l||!d){_({field:"name",message:"Please provide both first name and last name."});return}if(!C(l)||!C(d)){_({field:"name",message:"First name and last name can only contain letters, hyphens, and spaces."});return}if(!v(t)){_({field:"email",message:"Please enter a valid email address."});return}if(!S(i)){_({field:"password",message:"Password must include: <ul><li>At least 8 characters</li><li>One uppercase letter</li><li>One lowercase letter</li><li>One number</li></ul>"});return}try{await r(t,i,l,d)}catch(j){j instanceof Ds?_(A(j)):_({field:"form",message:"An unexpected error occurred. Please try again."}),console.error("Failed to register:",j)}};return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-12 col-md-8 col-lg-6",children:[k.jsx("h2",{className:"text-center mb-4 fs-1",children:"Register"}),g&&g.field==="form"&&k.jsx("div",{className:"alert alert-danger",children:g.message}),k.jsxs("form",{onSubmit:D,children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),k.jsx("input",{type:"text",id:"firstName",className:`form-control ${(g==null?void 0:g.field)==="name"?"is-invalid":""}`,placeholder:"Enter your first name",value:l,onChange:M=>u(M.target.value),required:!0}),(g==null?void 0:g.field)==="name"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),k.jsx("input",{type:"text",id:"lastName",className:`form-control ${(g==null?void 0:g.field)==="name"?"is-invalid":""}`,placeholder:"Enter your last name",value:d,onChange:M=>h(M.target.value),required:!0}),(g==null?void 0:g.field)==="name"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),k.jsx("input",{type:"email",id:"email",className:`form-control ${(g==null?void 0:g.field)==="email"?"is-invalid":""}`,placeholder:"Enter your email",value:t,onChange:M=>n(M.target.value),required:!0}),(g==null?void 0:g.field)==="email"&&k.jsx("div",{className:"invalid-feedback",children:g.message})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),k.jsx("input",{type:"password",id:"password",className:`form-control ${(g==null?void 0:g.field)==="password"?"is-invalid":""}`,placeholder:"Enter your password",value:i,onChange:M=>o(M.target.value),required:!0}),(g==null?void 0:g.field)==="password"&&k.jsx("div",{className:"invalid-feedback",dangerouslySetInnerHTML:{__html:g.message}})]}),k.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:e?"Registering...":"Register"})]})]})})})},P$=()=>{const[r,e]=x.useState(!0);return k.jsx("div",{className:"container my-5",children:k.jsx("div",{className:"row justify-content-center",children:k.jsxs("div",{className:"col-sm-10 col-md-6 col-lg-5",children:[k.jsx("h1",{className:"text-center mb-4",children:"Welcome to ArtVoyage"}),k.jsxs("div",{className:"d-flex justify-content-center mb-4",role:"group","aria-label":"Login and Register options",children:[k.jsx("button",{className:`btn custom-btn ${r?"active-btn":"inactive-btn"} me-2`,onClick:()=>e(!0),"aria-pressed":r,children:"Login"}),k.jsx("button",{className:`btn custom-btn ${r?"inactive-btn":"active-btn"}`,onClick:()=>e(!1),"aria-pressed":!r,children:"Register"})]}),k.jsx("div",{className:"card authcard shadow",children:k.jsx("div",{className:"card-body",children:r?k.jsxs("div",{children:[k.jsx(R$,{}),k.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",k.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!1),role:"button","aria-label":"Go to Register form",children:"Register here."})]})]}):k.jsxs("div",{children:[k.jsx(A$,{}),k.jsxs("p",{className:"text-center mt-3",children:["Already have an account?"," ",k.jsx("span",{className:"text-primary",style:{cursor:"pointer"},onClick:()=>e(!0),role:"button","aria-label":"Go to Login form",children:"Login here."})]})]})})})]})})})},N$="https://openaccess-api.clevelandart.org/api/artworks",O$=async r=>{var e,t,n,i,o;try{const l=await Rt.get(`${N$}/${r}`);if(l.data){const u=l.data.data,d=((t=(e=u.creators[0])==null?void 0:e.description.match(/\(([^)]+)\)/))==null?void 0:t[1])||"",h=((i=(n=u.creators[0])==null?void 0:n.description.match(/^([^\(]+)/))==null?void 0:i[1])||"Unknown Artist",g=((o=u.creation_date)==null?void 0:o.replace(/\b(c\.|circa)\s?/gi,""))||"";let _="";return typeof u.images=="string"?_=u.images:u.images&&u.images.web&&(_=u.images.web.url),[{id:u.id,title:u.title,artist_title:h,artist_bio:d,date:g,medium_display:u.type+" "+u.technique,imageUrl:_,source:"cleveland",objectUrl:u.url,description:u.description,copyright:u.copyright||"The Cleveland Museum of Art"}]}else throw new Error("Artwork not found.")}catch(l){throw Rt.isAxiosError(l)?new Error(`Axios error fetching artwork from Chicago: ${l.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${l.message}`)}},M$="https://www.artic.edu/iiif/2",L$=async r=>{try{const e=await Rt.get("https://api.artic.edu/api/v1/artworks/"+r,{params:{fields:"id,title,artist_display,artist_title,medium_display,image_id,date_display,description,copyright_notice"}});if(e.data&&e.data.data){const t=e.data.data,n=t.image_id?`${M$}/${t.image_id}/full/843,/0/default.jpg`:"",i=t.artist_display.match(/\(([^)]+)\)/),o=i?i[1]:null;return[{id:t.id,title:t.title,artist_title:t.artist_title,artist_bio:o,date:t.date_display,medium_display:t.medium_display,imageUrl:n||"",source:"chicago",objectUrl:"https://www.artic.edu/collection",description:t.description,copyright:t.copyright_notice||"The Chicago Art Institute"}]}else throw console.error("Artwork not found."),new Error("Artwork not found.")}catch(e){throw Rt.isAxiosError(e)?new Error(`Axios error fetching artwork from Chicago: ${e.message}`):new Error(`Unexpected error fetching artwork from Chicago: ${e.message}`)}},F$=(r,e)=>{const[t,n]=x.useState(null),[i,o]=x.useState(!1),[l,u]=x.useState(null);return x.useEffect(()=>{if(!e){u("No artwork ID provided.");return}(async()=>{var h,g;o(!0),u(null);try{const _=r==="cleveland"?await O$(e):await L$(e);n(_[0])}catch(_){u(((g=(h=_.response)==null?void 0:h.data)==null?void 0:g.error)||"Error fetching the artwork.")}finally{o(!1)}})()},[e,r]),{artwork:t,setArtwork:n,loading:i,error:l}},V$=()=>{const{selectedMuseum:r,setSelectedMuseum:e}=Gc(),{id:t}=$_(),{artwork:n,setArtwork:i,loading:o,error:l}=F$(r,t);return x.useEffect(()=>{i(null)},[t]),k.jsxs("div",{className:"container my-5",children:[o&&k.jsx("div",{children:"Loading..."}),l&&k.jsxs("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:["Error fetching artwork: ",l]}),!o&&!l&&!n&&k.jsx("div",{className:"alert alert-warning text-center mt-5",role:"alert",children:"Artwork not found. Please check the ID or return to the home page."}),n&&k.jsx("div",{className:"row justify-content-center",children:k.jsx("div",{className:"col-lg-8",children:k.jsx("div",{className:"card shadow-lg rounded-3",children:k.jsxs("div",{className:"card-body",children:[k.jsx("div",{className:"artwork-image-container mb-4",children:(n.imageUrl||ml)&&k.jsx("img",{src:n.imageUrl&&n.imageUrl.trim()!==""?n.imageUrl:ml,alt:`Artwork titled "${n.title}" by ${n.artist_title}`,className:"img-fluid rounded-3 shadow-lg"})}),k.jsx("h2",{className:"text-center mb-3",children:n.title}),k.jsxs("p",{className:"text-muted text-center",children:[k.jsx("strong",{children:n.artist_title}),n.artist_bio&&k.jsxs("span",{children:[" (",n.artist_bio,")"]})]}),k.jsxs("p",{className:"text-center text-muted",children:["Created in ",n.date]}),k.jsx("p",{className:"font-weight-bold",children:n.medium_display}),n.description&&k.jsx("div",{dangerouslySetInnerHTML:{__html:n.description}}),k.jsxs("div",{className:"text-center mt-4",children:[k.jsx("a",{href:n.objectUrl,className:"btn btn-outline-secondary btn-lg mx-2",target:"_blank",rel:"noopener noreferrer",children:"View on Source"}),k.jsx("button",{className:"btn btn-outline-primary btn-lg mx-2",onClick:()=>{window.history.back(),e("")},children:"Go Back"})]})]})})})})]})},tI=({show:r,handleClose:e,handleDelete:t,entityType:n,entityId:i})=>{const o=n==="artwork"?"artwork":"exhibition",l=()=>{i!==null&&t(i),e()};return k.jsxs(Br,{show:r,onHide:e,"aria-labelledby":"deleteModalLabel",children:[k.jsx(Br.Header,{closeButton:!0,children:k.jsxs(Br.Title,{id:"deleteModalLabel",children:["Confirm ",o.charAt(0).toUpperCase()+o.slice(1)," ","Deletion"]})}),k.jsx(Br.Body,{children:k.jsxs("p",{children:["Are you sure you want to delete this ",o,"?"]})}),k.jsxs(Br.Footer,{children:[k.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancel"}),k.jsx("button",{className:"btn btn-danger",onClick:l,children:"Confirm"})]})]})},j$=({show:r,handleClose:e,handleEditExhibition:t,exhibition:n})=>{const[i,o]=x.useState(""),[l,u]=x.useState(null),[d,h]=x.useState(null),g=v=>{const[S,C]=v;u(S),h(C)};x.useEffect(()=>{if(n){o(n.name);const v=n.startDate?new Date(n.startDate):null,S=n.endDate?new Date(n.endDate):null;u(v),h(S)}},[n]);const _=()=>{if(!i){alert("Exhibition name is required.");return}if(!l||!d){alert("Both start and end dates are required.");return}if(l&&d&&l>d){alert("Start date must be before the end date.");return}const v=new Date(l).toISOString(),S=new Date(d).toISOString();n&&(t(n.id,{name:i,startDate:v,endDate:S}),e())};return!r||!n?null:k.jsx("div",{className:"modal show d-block",children:k.jsx("div",{className:"modal-dialog",children:k.jsxs("div",{className:"modal-content",children:[k.jsxs("div",{className:"modal-header",children:[k.jsx("h5",{className:"modal-title",children:"Edit Exhibition"}),k.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),k.jsxs("div",{className:"modal-body",children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"exhibition-name",className:"form-label",children:"Name"}),k.jsx("input",{type:"text",id:"exhibition-name",className:"form-control",value:i,onChange:v=>o(v.target.value)})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"newExhibitionDates",className:"form-label",children:"Exhibition Dates:"}),k.jsx("br",{}),k.jsx(Z0,{selected:l,onChange:g,startDate:l,endDate:d,selectsRange:!0,inline:!0,placeholderText:"Select start and end dates",className:"form-control","aria-label":"Select exhibition start and end dates"})]})]}),k.jsxs("div",{className:"modal-footer",children:[k.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),k.jsx("button",{type:"button",className:"btn btn-primary",onClick:_,children:"Save Changes"})]})]})})})},U$=({exhibition:r,handleDeleteExhibition:e,handleDeleteArtwork:t,handleEditExhibition:n})=>{const{setSelectedMuseum:i}=Gc(),[o,l]=x.useState(!1),[u,d]=x.useState(!1),[h,g]=x.useState(null),[_,v]=x.useState(null),[S,C]=x.useState(null),A=eI(r.startDate,r.endDate),D=(ee,le)=>{v(ee),C(le),l(!0)},M=()=>{l(!1),v(null),C(null)},j=ee=>{g(ee),d(!0)},W=()=>{d(!1),g(null)},Z=async ee=>{_==="artwork"&&typeof ee=="number"?t(r.id,ee):_==="exhibition"&&typeof ee=="string"&&e(ee)};return k.jsxs("div",{className:"container py-5",children:[k.jsx("div",{className:"row mb-4",children:k.jsxs("div",{className:"col-12 text-center text-white py-3",style:{background:"rgba(47, 21, 68, 0.84)"},children:[k.jsx("h1",{children:r.name}),k.jsx("p",{children:A})]})}),k.jsxs("div",{className:"row",children:[k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.artworks.map(ee=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:le=>{le.currentTarget.style.transform="scale(1.03)"},onMouseLeave:le=>{le.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${ee.title}`,tabIndex:0,onKeyDown:le=>{le.key==="Enter"&&(window.location.href=`/artwork/${ee.id}`)},children:k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${ee.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${ee.title}"`,onClick:()=>i(ee.source),children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:ee.title}),(ee.imageUrl||ml)&&k.jsx("img",{src:ee.imageUrl&&ee.imageUrl.trim()!==""?ee.imageUrl:ml,alt:`Artwork titled "${ee.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:ee.artist_title})," in"," ",ee.date]}),k.jsx("p",{className:"mb-2",children:ee.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",ee.copyright]})]}),k.jsx("button",{className:"btn btn-danger",onClick:()=>D("artwork",ee.id),"aria-label":`Delete artwork titled "${ee.title}"`,children:"Delete artwork"})]})},ee.id))}),k.jsx("div",{className:"col-12 mb-4",children:k.jsx("div",{className:"card p-4",style:{background:"rgba(117, 92, 176, 0.84)"},children:k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("button",{onClick:()=>j(r),className:"btn btn-warning btn-lg","aria-label":`Edit exhibition ${r.name}`,children:"Edit Exhibition"}),k.jsx("button",{onClick:()=>D("exhibition",r.id),className:"btn btn-danger btn-lg","aria-label":`Delete exhibition ${r.name}`,children:"Delete Exhibition"})]})})})]}),k.jsx(j$,{show:u,handleClose:W,handleEditExhibition:n,exhibition:h}),k.jsx(tI,{show:o,handleClose:M,handleDelete:Z,entityType:_??"artwork",entityId:S})]})},B$=()=>{const{exhibitionId:r}=$_(),{exhibitions:e,loading:t,editExhibition:n,deleteArtworkFromExhibition:i,deleteExhibition:o}=$v(),[l,u]=x.useState(null),[d,h]=x.useState(null),[g,_]=x.useState(null),v=Sf(),S=(j,W)=>(console.error("Firestore Error:",j),j.message||W);x.useEffect(()=>{if(r){const j=e.find(W=>W.id===r);j?u(j):v("/exhibitions")}},[r,e,v]);const C=()=>{v("/search")},A=x.useCallback(async(j,W)=>{try{await n(j,W),h("Exhibition edited successfully.")}catch(Z){const ee=S(Z,"Failed to edit the exhibition");_(ee)}},[n]),D=x.useCallback(async j=>{try{await o(j),h("Exhibition deleted successfully.")}catch(W){const Z=S(W,"Failed to delete the exhibition.");_(Z)}},[o]),M=x.useCallback(async(j,W)=>{try{await i(j,W),h("Artwork deleted successfully.")}catch(Z){const ee=S(Z,"Failed to delete the artwork.");_(ee)}},[i]);return x.useEffect(()=>{if(d){const j=setTimeout(()=>{h(null)},3e3);return()=>clearTimeout(j)}},[d]),t?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):g?k.jsx("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:g}):l?k.jsxs(k.Fragment,{children:[k.jsx(U$,{exhibition:l,handleDeleteExhibition:D,handleDeleteArtwork:M,handleEditExhibition:A}),k.jsx("div",{className:"col-12 mb-5",children:k.jsxs("div",{className:"text-center",children:[k.jsx("button",{onClick:C,className:"btn btn-outline-primary btn-lg mx-2","aria-label":"Add new artwork to the exhibition",style:{maxWidth:"200px"},children:"Add Artwork"}),k.jsx("button",{className:"btn btn-outline-secondary btn-lg mx-2",onClick:()=>window.history.back(),"aria-label":"Go back to the previous page",style:{maxWidth:"200px"},children:"Go Back"})]})})]}):k.jsx("div",{className:"text-center my-5",children:"Exhibition not found."})},$$=()=>{const{collectionState:r,removeFromCollection:e,loadingCollection:t}=fx(),[n,i]=x.useState(!1),[o,l]=x.useState(null),[u,d]=x.useState(null),[h,g]=x.useState(null),{setSelectedMuseum:_}=Gc(),v=(D,M)=>(console.error("Firestore Error:",D),D.message||M),S=(D,M)=>{l(D),d(M),i(!0)},C=()=>{i(!1),l(null),d(null)},A=async D=>{if(typeof D=="number")try{await e(D)}catch(M){const j=v(M,"Failed to remove from collection");g(j)}};return t?k.jsx("div",{className:"text-center my-5",children:"Loading..."}):k.jsxs("div",{className:"container my-4",children:[k.jsx("h1",{className:"text-center mb-4",children:"My Collection"}),h&&k.jsx("div",{className:"alert alert-danger text-center",children:h}),r.length===0?k.jsx("p",{className:"text-center",children:"Your collection is empty."}):k.jsx("ul",{className:"d-flex flex-wrap list-unstyled",style:{gap:"1.5rem",justifyContent:"center"},children:r.map(D=>k.jsx("li",{className:"shadow-sm p-3 text-center",style:{background:"rgba(173, 146, 194, 0.84)",flex:"1 1 calc(50% - 1.5rem)",maxWidth:"calc(50% - 1.5rem)",borderRadius:"10px",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onMouseEnter:M=>{M.currentTarget.style.transform="scale(1.03)"},onMouseLeave:M=>{M.currentTarget.style.transform="scale(1)"},"aria-label":`View details of ${D.title}`,tabIndex:0,onKeyDown:M=>{M.key==="Enter"&&(window.location.href=`/artwork/${D.id}`)},children:k.jsxs("div",{className:"artwork-card",children:[k.jsxs(Jo,{to:`/artwork/${D.id}`,className:"text-decoration-none text-reset d-block h-100","aria-label":`View details for artwork titled "${D.title}"`,onClick:()=>_(D.source),children:[k.jsx("h3",{className:"mb-3 fs-1 text-truncate",style:{maxWidth:"100%"},children:D.title}),(D.imageUrl||ml)&&k.jsx("img",{src:D.imageUrl&&D.imageUrl.trim()!==""?D.imageUrl:ml,alt:`Artwork titled "${D.title}"`,width:"400",height:"300",className:"img-fluid my-3",style:{display:"block",margin:"0 auto",borderRadius:"8px"}}),k.jsxs("p",{className:"text-muted fst-italic mb-1 fs-5",children:["Created by ",k.jsx("strong",{children:D.artist_title})," in"," ",D.date]}),k.jsx("p",{className:"mb-2",children:D.medium_display}),k.jsxs("p",{className:"text-secondary small text-center mt-2",children:[k.jsx("span",{className:"fw-bold",children:"Source:"})," ",D.copyright]})]}),k.jsx("button",{className:"btn btn-danger",onClick:()=>S("artwork",D.id),"aria-label":`Delete artwork titled "${D.title}"`,children:"Delete from my collection"})]})},D.id))}),k.jsx(tI,{show:n,handleClose:C,handleDelete:A,entityType:"artwork",entityId:u})]})},W$=()=>{const{user:r,loading:e}=Nu();return e?k.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",children:k.jsx("div",{children:"Loading..."})}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"app-background vh-100 position-fixed top-0 left-0 w-100"}),k.jsxs("div",{className:"container-fluid d-flex flex-column vh-100",children:[r&&k.jsx(OL,{}),k.jsx("div",{className:"flex-grow-1",children:k.jsx(MD,{children:r?k.jsxs(k.Fragment,{children:[k.jsx(Di,{path:"/home",element:k.jsx(ML,{})}),k.jsx(Di,{path:"/search",element:k.jsx(LL,{})}),k.jsx(Di,{path:"/profile",element:k.jsx(w2,{user:r})}),k.jsx(Di,{path:"/artwork/:id",element:k.jsx(V$,{})}),k.jsx(Di,{path:"/search/museum/:museumName",element:k.jsx(CS,{})}),k.jsx(Di,{path:"/search/collection",element:k.jsx(CS,{})}),k.jsx(Di,{path:"/exhibitions",element:k.jsx(D$,{})}),k.jsx(Di,{path:"/collection",element:k.jsx($$,{})}),k.jsx(Di,{path:"/exhibition/:exhibitionId",element:k.jsx(B$,{})}),k.jsx(Di,{path:"*",element:k.jsx(zE,{to:"/home"})})]}):k.jsxs(k.Fragment,{children:[k.jsx(Di,{path:"/auth",element:k.jsx(P$,{})}),k.jsx(Di,{path:"*",element:k.jsx(zE,{to:"/auth"})})]})})})]})]})},H$=()=>k.jsx(NL,{children:k.jsx(sR,{children:k.jsx(W$,{})})});var Cp={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var z$=Cp.exports,xS;function q$(){return xS||(xS=1,function(r,e){(function(t,n){r.exports=n()})(z$,function(){const t=new Map,n={set(I,m,b){t.has(I)||t.set(I,new Map);const P=t.get(I);P.has(m)||P.size===0?P.set(m,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(P.keys())[0]}.`)},get:(I,m)=>t.has(I)&&t.get(I).get(m)||null,remove(I,m){if(!t.has(I))return;const b=t.get(I);b.delete(m),b.size===0&&t.delete(I)}},i="transitionend",o=I=>(I&&window.CSS&&window.CSS.escape&&(I=I.replace(/#([^\s"#']+)/g,(m,b)=>`#${CSS.escape(b)}`)),I),l=I=>{I.dispatchEvent(new Event(i))},u=I=>!(!I||typeof I!="object")&&(I.jquery!==void 0&&(I=I[0]),I.nodeType!==void 0),d=I=>u(I)?I.jquery?I[0]:I:typeof I=="string"&&I.length>0?document.querySelector(o(I)):null,h=I=>{if(!u(I)||I.getClientRects().length===0)return!1;const m=getComputedStyle(I).getPropertyValue("visibility")==="visible",b=I.closest("details:not([open])");if(!b)return m;if(b!==I){const P=I.closest("summary");if(P&&P.parentNode!==b||P===null)return!1}return m},g=I=>!I||I.nodeType!==Node.ELEMENT_NODE||!!I.classList.contains("disabled")||(I.disabled!==void 0?I.disabled:I.hasAttribute("disabled")&&I.getAttribute("disabled")!=="false"),_=I=>{if(!document.documentElement.attachShadow)return null;if(typeof I.getRootNode=="function"){const m=I.getRootNode();return m instanceof ShadowRoot?m:null}return I instanceof ShadowRoot?I:I.parentNode?_(I.parentNode):null},v=()=>{},S=I=>{I.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,A=[],D=()=>document.documentElement.dir==="rtl",M=I=>{var m;m=()=>{const b=C();if(b){const P=I.NAME,q=b.fn[P];b.fn[P]=I.jQueryInterface,b.fn[P].Constructor=I,b.fn[P].noConflict=()=>(b.fn[P]=q,I.jQueryInterface)}},document.readyState==="loading"?(A.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of A)b()}),A.push(m)):m()},j=(I,m=[],b=I)=>typeof I=="function"?I(...m):b,W=(I,m,b=!0)=>{if(!b)return void j(I);const P=(re=>{if(!re)return 0;let{transitionDuration:ce,transitionDelay:ge}=window.getComputedStyle(re);const xe=Number.parseFloat(ce),Ie=Number.parseFloat(ge);return xe||Ie?(ce=ce.split(",")[0],ge=ge.split(",")[0],1e3*(Number.parseFloat(ce)+Number.parseFloat(ge))):0})(m)+5;let q=!1;const G=({target:re})=>{re===m&&(q=!0,m.removeEventListener(i,G),j(I))};m.addEventListener(i,G),setTimeout(()=>{q||l(m)},P)},Z=(I,m,b,P)=>{const q=I.length;let G=I.indexOf(m);return G===-1?!b&&P?I[q-1]:I[0]:(G+=b?1:-1,P&&(G=(G+q)%q),I[Math.max(0,Math.min(G,q-1))])},ee=/[^.]*(?=\..*)\.|.*/,le=/\..*/,F=/::\d+$/,N={};let L=1;const U={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(I,m){return m&&`${m}::${L++}`||I.uidEvent||L++}function V(I){const m=H(I);return I.uidEvent=m,N[m]=N[m]||{},N[m]}function Ue(I,m,b=null){return Object.values(I).find(P=>P.callable===m&&P.delegationSelector===b)}function Le(I,m,b){const P=typeof m=="string",q=P?b:m||b;let G=be(I);return $.has(G)||(G=I),[P,q,G]}function we(I,m,b,P,q){if(typeof m!="string"||!I)return;let[G,re,ce]=Le(m,b,P);m in U&&(re=(De=>function($e){if(!$e.relatedTarget||$e.relatedTarget!==$e.delegateTarget&&!$e.delegateTarget.contains($e.relatedTarget))return De.call(this,$e)})(re));const ge=V(I),xe=ge[ce]||(ge[ce]={}),Ie=Ue(xe,re,G?b:null);if(Ie)return void(Ie.oneOff=Ie.oneOff&&q);const Te=H(re,m.replace(ee,"")),We=G?function(Fe,De,$e){return function Xe(xt){const Ot=Fe.querySelectorAll(De);for(let{target:rt}=xt;rt&&rt!==this;rt=rt.parentNode)for(const _t of Ot)if(_t===rt)return Y(xt,{delegateTarget:rt}),Xe.oneOff&&Q.off(Fe,xt.type,De,$e),$e.apply(rt,[xt])}}(I,b,re):function(Fe,De){return function $e(Xe){return Y(Xe,{delegateTarget:Fe}),$e.oneOff&&Q.off(Fe,Xe.type,De),De.apply(Fe,[Xe])}}(I,re);We.delegationSelector=G?b:null,We.callable=re,We.oneOff=q,We.uidEvent=Te,xe[Te]=We,I.addEventListener(ce,We,G)}function Ee(I,m,b,P,q){const G=Ue(m[b],P,q);G&&(I.removeEventListener(b,G,!!q),delete m[b][G.uidEvent])}function ie(I,m,b,P){const q=m[b]||{};for(const[G,re]of Object.entries(q))G.includes(P)&&Ee(I,m,b,re.callable,re.delegationSelector)}function be(I){return I=I.replace(le,""),U[I]||I}const Q={on(I,m,b,P){we(I,m,b,P,!1)},one(I,m,b,P){we(I,m,b,P,!0)},off(I,m,b,P){if(typeof m!="string"||!I)return;const[q,G,re]=Le(m,b,P),ce=re!==m,ge=V(I),xe=ge[re]||{},Ie=m.startsWith(".");if(G===void 0){if(Ie)for(const Te of Object.keys(ge))ie(I,ge,Te,m.slice(1));for(const[Te,We]of Object.entries(xe)){const Fe=Te.replace(F,"");ce&&!m.includes(Fe)||Ee(I,ge,re,We.callable,We.delegationSelector)}}else{if(!Object.keys(xe).length)return;Ee(I,ge,re,G,q?b:null)}},trigger(I,m,b){if(typeof m!="string"||!I)return null;const P=C();let q=null,G=!0,re=!0,ce=!1;m!==be(m)&&P&&(q=P.Event(m,b),P(I).trigger(q),G=!q.isPropagationStopped(),re=!q.isImmediatePropagationStopped(),ce=q.isDefaultPrevented());const ge=Y(new Event(m,{bubbles:G,cancelable:!0}),b);return ce&&ge.preventDefault(),re&&I.dispatchEvent(ge),ge.defaultPrevented&&q&&q.preventDefault(),ge}};function Y(I,m={}){for(const[b,P]of Object.entries(m))try{I[b]=P}catch{Object.defineProperty(I,b,{configurable:!0,get:()=>P})}return I}function ue(I){if(I==="true")return!0;if(I==="false")return!1;if(I===Number(I).toString())return Number(I);if(I===""||I==="null")return null;if(typeof I!="string")return I;try{return JSON.parse(decodeURIComponent(I))}catch{return I}}function ke(I){return I.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const Be={setDataAttribute(I,m,b){I.setAttribute(`data-bs-${ke(m)}`,b)},removeDataAttribute(I,m){I.removeAttribute(`data-bs-${ke(m)}`)},getDataAttributes(I){if(!I)return{};const m={},b=Object.keys(I.dataset).filter(P=>P.startsWith("bs")&&!P.startsWith("bsConfig"));for(const P of b){let q=P.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1,q.length),m[q]=ue(I.dataset[P])}return m},getDataAttribute:(I,m)=>ue(I.getAttribute(`data-bs-${ke(m)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,b){const P=u(b)?Be.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof P=="object"?P:{},...u(b)?Be.getDataAttributes(b):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,b=this.constructor.DefaultType){for(const[q,G]of Object.entries(b)){const re=m[q],ce=u(re)?"element":(P=re)==null?`${P}`:Object.prototype.toString.call(P).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(G).test(ce))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${ce}" but expected type "${G}".`)}var P}}class Qe extends Ke{constructor(m,b){super(),(m=d(m))&&(this._element=m,this._config=this._getConfig(b),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,b,P=!0){W(m,b,P)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return n.get(d(m),this.DATA_KEY)}static getOrCreateInstance(m,b={}){return this.getInstance(m)||new this(m,typeof b=="object"?b:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const st=I=>{let m=I.getAttribute("data-bs-target");if(!m||m==="#"){let b=I.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),m=b&&b!=="#"?b.trim():null}return m?m.split(",").map(b=>o(b)).join(","):null},ye={find:(I,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,I)),findOne:(I,m=document.documentElement)=>Element.prototype.querySelector.call(m,I),children:(I,m)=>[].concat(...I.children).filter(b=>b.matches(m)),parents(I,m){const b=[];let P=I.parentNode.closest(m);for(;P;)b.push(P),P=P.parentNode.closest(m);return b},prev(I,m){let b=I.previousElementSibling;for(;b;){if(b.matches(m))return[b];b=b.previousElementSibling}return[]},next(I,m){let b=I.nextElementSibling;for(;b;){if(b.matches(m))return[b];b=b.nextElementSibling}return[]},focusableChildren(I){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(m,I).filter(b=>!g(b)&&h(b))},getSelectorFromElement(I){const m=st(I);return m&&ye.findOne(m)?m:null},getElementFromSelector(I){const m=st(I);return m?ye.findOne(m):null},getMultipleElementsFromSelector(I){const m=st(I);return m?ye.find(m):[]}},ct=(I,m="hide")=>{const b=`click.dismiss${I.EVENT_KEY}`,P=I.NAME;Q.on(document,b,`[data-bs-dismiss="${P}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),g(this))return;const G=ye.getElementFromSelector(this)||this.closest(`.${P}`);I.getOrCreateInstance(G)[m]()})},$t=".bs.alert",cr=`close${$t}`,Dr=`closed${$t}`;class wn extends Qe{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,cr).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),Q.trigger(this._element,Dr),this.dispose()}static jQueryInterface(m){return this.each(function(){const b=wn.getOrCreateInstance(this);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m](this)}})}}ct(wn,"close"),M(wn);const Gn='[data-bs-toggle="button"]';class dt extends Qe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const b=dt.getOrCreateInstance(this);m==="toggle"&&b[m]()})}}Q.on(document,"click.bs.button.data-api",Gn,I=>{I.preventDefault();const m=I.target.closest(Gn);dt.getOrCreateInstance(m).toggle()}),M(dt);const Xn=".bs.swipe",ci=`touchstart${Xn}`,pa=`touchmove${Xn}`,As=`touchend${Xn}`,di=`pointerdown${Xn}`,fi=`pointerup${Xn}`,wo={endCallback:null,leftCallback:null,rightCallback:null},Ps={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qr extends Ke{constructor(m,b){super(),this._element=m,m&&qr.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wo}static get DefaultType(){return Ps}static get NAME(){return"swipe"}dispose(){Q.off(this._element,Xn)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),j(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const b=m/this._deltaX;this._deltaX=0,b&&j(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,di,m=>this._start(m)),Q.on(this._element,fi,m=>this._end(m)),this._element.classList.add("pointer-event")):(Q.on(this._element,ci,m=>this._start(m)),Q.on(this._element,pa,m=>this._move(m)),Q.on(this._element,As,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const dr=".bs.carousel",ze=".data-api",Tt="next",Cn="prev",Oi="left",hi="right",Eo=`slide${dr}`,rs=`slid${dr}`,El=`keydown${dr}`,bl=`mouseenter${dr}`,Tl=`mouseleave${dr}`,Sl=`dragstart${dr}`,kl=`load${dr}${ze}`,bo=`click${dr}${ze}`,To="carousel",is="active",Rr=".active",pi=".carousel-item",ma=Rr+pi,Mi={ArrowLeft:hi,ArrowRight:Oi},Cl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},So={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Li extends Qe{constructor(m,b){super(m,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ye.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===To&&this.cycle()}static get Default(){return Cl}static get DefaultType(){return So}static get NAME(){return"carousel"}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Cn)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,rs,()=>this.cycle()):this.cycle())}to(m){const b=this._getItems();if(m>b.length-1||m<0)return;if(this._isSliding)return void Q.one(this._element,rs,()=>this.to(m));const P=this._getItemIndex(this._getActive());if(P===m)return;const q=m>P?Tt:Cn;this._slide(q,b[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&Q.on(this._element,El,m=>this._keydown(m)),this._config.pause==="hover"&&(Q.on(this._element,bl,()=>this.pause()),Q.on(this._element,Tl,()=>this._maybeEnableCycle())),this._config.touch&&qr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of ye.find(".carousel-item img",this._element))Q.on(b,Sl,P=>P.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(Oi)),rightCallback:()=>this._slide(this._directionToOrder(hi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new qr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const b=Mi[m.key];b&&(m.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const b=ye.findOne(Rr,this._indicatorsElement);b.classList.remove(is),b.removeAttribute("aria-current");const P=ye.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);P&&(P.classList.add(is),P.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const b=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(m,b=null){if(this._isSliding)return;const P=this._getActive(),q=m===Tt,G=b||Z(this._getItems(),P,q,this._config.wrap);if(G===P)return;const re=this._getItemIndex(G),ce=Te=>Q.trigger(this._element,Te,{relatedTarget:G,direction:this._orderToDirection(m),from:this._getItemIndex(P),to:re});if(ce(Eo).defaultPrevented||!P||!G)return;const ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(re),this._activeElement=G;const xe=q?"carousel-item-start":"carousel-item-end",Ie=q?"carousel-item-next":"carousel-item-prev";G.classList.add(Ie),S(G),P.classList.add(xe),G.classList.add(xe),this._queueCallback(()=>{G.classList.remove(xe,Ie),G.classList.add(is),P.classList.remove(is,Ie,xe),this._isSliding=!1,ce(rs)},P,this._isAnimated()),ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ye.findOne(ma,this._element)}_getItems(){return ye.find(pi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return D()?m===Oi?Cn:Tt:m===Oi?Tt:Cn}_orderToDirection(m){return D()?m===Cn?Oi:hi:m===Cn?hi:Oi}static jQueryInterface(m){return this.each(function(){const b=Li.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}}else b.to(m)})}}Q.on(document,bo,"[data-bs-slide], [data-bs-slide-to]",function(I){const m=ye.getElementFromSelector(this);if(!m||!m.classList.contains(To))return;I.preventDefault();const b=Li.getOrCreateInstance(m),P=this.getAttribute("data-bs-slide-to");return P?(b.to(P),void b._maybeEnableCycle()):Be.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),Q.on(window,kl,()=>{const I=ye.find('[data-bs-ride="carousel"]');for(const m of I)Li.getOrCreateInstance(m)}),M(Li);const Ar=".bs.collapse",xl=`show${Ar}`,Jt=`shown${Ar}`,ga=`hide${Ar}`,mi=`hidden${Ar}`,ko=`click${Ar}.data-api`,ss="show",gi="collapse",fr="collapsing",Il=`:scope .${gi} .${gi}`,Dl='[data-bs-toggle="collapse"]',ya={parent:null,toggle:!0},Mu={parent:"(null|element)",toggle:"boolean"};class Nn extends Qe{constructor(m,b){super(m,b),this._isTransitioning=!1,this._triggerArray=[];const P=ye.find(Dl);for(const q of P){const G=ye.getSelectorFromElement(q),re=ye.find(G).filter(ce=>ce===this._element);G!==null&&re.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ya}static get DefaultType(){return Mu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>Nn.getOrCreateInstance(q,{toggle:!1}))),m.length&&m[0]._isTransitioning||Q.trigger(this._element,xl).defaultPrevented)return;for(const q of m)q.hide();const b=this._getDimension();this._element.classList.remove(gi),this._element.classList.add(fr),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const P=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(gi,ss),this._element.style[b]="",Q.trigger(this._element,Jt)},this._element,!0),this._element.style[b]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,ga).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,S(this._element),this._element.classList.add(fr),this._element.classList.remove(gi,ss);for(const b of this._triggerArray){const P=ye.getElementFromSelector(b);P&&!this._isShown(P)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(gi),Q.trigger(this._element,mi)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(ss)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=d(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(Dl);for(const b of m){const P=ye.getElementFromSelector(b);P&&this._addAriaAndCollapsedClass([b],this._isShown(P))}}_getFirstLevelChildren(m){const b=ye.find(Il,this._config.parent);return ye.find(m,this._config.parent).filter(P=>!b.includes(P))}_addAriaAndCollapsedClass(m,b){if(m.length)for(const P of m)P.classList.toggle("collapsed",!b),P.setAttribute("aria-expanded",b)}static jQueryInterface(m){const b={};return typeof m=="string"&&/show|hide/.test(m)&&(b.toggle=!1),this.each(function(){const P=Nn.getOrCreateInstance(this,b);if(typeof m=="string"){if(P[m]===void 0)throw new TypeError(`No method named "${m}"`);P[m]()}})}}Q.on(document,ko,Dl,function(I){(I.target.tagName==="A"||I.delegateTarget&&I.delegateTarget.tagName==="A")&&I.preventDefault();for(const m of ye.getMultipleElementsFromSelector(this))Nn.getOrCreateInstance(m,{toggle:!1}).toggle()}),M(Nn);var Zt="top",Kt="bottom",On="right",fn="left",os="auto",yi=[Zt,Kt,On,fn],_i="start",as="end",Lu="clippingParents",Pt="viewport",ls="popper",Ns="reference",Fi=yi.reduce(function(I,m){return I.concat([m+"-"+_i,m+"-"+as])},[]),hr=[].concat(yi,[os]).reduce(function(I,m){return I.concat([m,m+"-"+_i,m+"-"+as])},[]),_a="beforeRead",Rl="read",Os="afterRead",pr="beforeMain",Al="main",Mn="afterMain",va="beforeWrite",Pl="write",Nl="afterWrite",Co=[_a,Rl,Os,pr,Al,Mn,va,Pl,Nl];function Jn(I){return I?(I.nodeName||"").toLowerCase():null}function on(I){if(I==null)return window;if(I.toString()!=="[object Window]"){var m=I.ownerDocument;return m&&m.defaultView||window}return I}function Pr(I){return I instanceof on(I).Element||I instanceof Element}function mr(I){return I instanceof on(I).HTMLElement||I instanceof HTMLElement}function vi(I){return typeof ShadowRoot<"u"&&(I instanceof on(I).ShadowRoot||I instanceof ShadowRoot)}const Zn={name:"applyStyles",enabled:!0,phase:"write",fn:function(I){var m=I.state;Object.keys(m.elements).forEach(function(b){var P=m.styles[b]||{},q=m.attributes[b]||{},G=m.elements[b];mr(G)&&Jn(G)&&(Object.assign(G.style,P),Object.keys(q).forEach(function(re){var ce=q[re];ce===!1?G.removeAttribute(re):G.setAttribute(re,ce===!0?"":ce)}))})},effect:function(I){var m=I.state,b={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,b.popper),m.styles=b,m.elements.arrow&&Object.assign(m.elements.arrow.style,b.arrow),function(){Object.keys(m.elements).forEach(function(P){var q=m.elements[P],G=m.attributes[P]||{},re=Object.keys(m.styles.hasOwnProperty(P)?m.styles[P]:b[P]).reduce(function(ce,ge){return ce[ge]="",ce},{});mr(q)&&Jn(q)&&(Object.assign(q.style,re),Object.keys(G).forEach(function(ce){q.removeAttribute(ce)}))})}},requires:["computeStyles"]};function Ln(I){return I.split("-")[0]}var gr=Math.max,wi=Math.min,yt=Math.round;function Vi(){var I=navigator.userAgentData;return I!=null&&I.brands&&Array.isArray(I.brands)?I.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function ot(){return!/^((?!chrome|android).)*safari/i.test(Vi())}function Nr(I,m,b){m===void 0&&(m=!1),b===void 0&&(b=!1);var P=I.getBoundingClientRect(),q=1,G=1;m&&mr(I)&&(q=I.offsetWidth>0&&yt(P.width)/I.offsetWidth||1,G=I.offsetHeight>0&&yt(P.height)/I.offsetHeight||1);var re=(Pr(I)?on(I):window).visualViewport,ce=!ot()&&b,ge=(P.left+(ce&&re?re.offsetLeft:0))/q,xe=(P.top+(ce&&re?re.offsetTop:0))/G,Ie=P.width/q,Te=P.height/G;return{width:Ie,height:Te,top:xe,right:ge+Ie,bottom:xe+Te,left:ge,x:ge,y:xe}}function wa(I){var m=Nr(I),b=I.offsetWidth,P=I.offsetHeight;return Math.abs(m.width-b)<=1&&(b=m.width),Math.abs(m.height-P)<=1&&(P=m.height),{x:I.offsetLeft,y:I.offsetTop,width:b,height:P}}function xo(I,m){var b=m.getRootNode&&m.getRootNode();if(I.contains(m))return!0;if(b&&vi(b)){var P=m;do{if(P&&I.isSameNode(P))return!0;P=P.parentNode||P.host}while(P)}return!1}function Yr(I){return on(I).getComputedStyle(I)}function Fu(I){return["table","td","th"].indexOf(Jn(I))>=0}function Ei(I){return((Pr(I)?I.ownerDocument:I.document)||window.document).documentElement}function Ms(I){return Jn(I)==="html"?I:I.assignedSlot||I.parentNode||(vi(I)?I.host:null)||Ei(I)}function bi(I){return mr(I)&&Yr(I).position!=="fixed"?I.offsetParent:null}function en(I){for(var m=on(I),b=bi(I);b&&Fu(b)&&Yr(b).position==="static";)b=bi(b);return b&&(Jn(b)==="html"||Jn(b)==="body"&&Yr(b).position==="static")?m:b||function(P){var q=/firefox/i.test(Vi());if(/Trident/i.test(Vi())&&mr(P)&&Yr(P).position==="fixed")return null;var G=Ms(P);for(vi(G)&&(G=G.host);mr(G)&&["html","body"].indexOf(Jn(G))<0;){var re=Yr(G);if(re.transform!=="none"||re.perspective!=="none"||re.contain==="paint"||["transform","perspective"].indexOf(re.willChange)!==-1||q&&re.willChange==="filter"||q&&re.filter&&re.filter!=="none")return G;G=G.parentNode}return null}(I)||m}function Or(I){return["top","bottom"].indexOf(I)>=0?"x":"y"}function er(I,m,b){return gr(I,wi(m,b))}function us(I){return Object.assign({},{top:0,right:0,bottom:0,left:0},I)}function Mr(I,m){return m.reduce(function(b,P){return b[P]=I,b},{})}const Ti={name:"arrow",enabled:!0,phase:"main",fn:function(I){var m,b=I.state,P=I.name,q=I.options,G=b.elements.arrow,re=b.modifiersData.popperOffsets,ce=Ln(b.placement),ge=Or(ce),xe=[fn,On].indexOf(ce)>=0?"height":"width";if(G&&re){var Ie=function(St,It){return us(typeof(St=typeof St=="function"?St(Object.assign({},It.rects,{placement:It.placement})):St)!="number"?St:Mr(St,yi))}(q.padding,b),Te=wa(G),We=ge==="y"?Zt:fn,Fe=ge==="y"?Kt:On,De=b.rects.reference[xe]+b.rects.reference[ge]-re[ge]-b.rects.popper[xe],$e=re[ge]-b.rects.reference[ge],Xe=en(G),xt=Xe?ge==="y"?Xe.clientHeight||0:Xe.clientWidth||0:0,Ot=De/2-$e/2,rt=Ie[We],_t=xt-Te[xe]-Ie[Fe],et=xt/2-Te[xe]/2+Ot,at=er(rt,et,_t),ht=ge;b.modifiersData[P]=((m={})[ht]=at,m.centerOffset=at-et,m)}},effect:function(I){var m=I.state,b=I.options.element,P=b===void 0?"[data-popper-arrow]":b;P!=null&&(typeof P!="string"||(P=m.elements.popper.querySelector(P)))&&xo(m.elements.popper,P)&&(m.elements.arrow=P)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ls(I){return I.split("-")[1]}var Vu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tr(I){var m,b=I.popper,P=I.popperRect,q=I.placement,G=I.variation,re=I.offsets,ce=I.position,ge=I.gpuAcceleration,xe=I.adaptive,Ie=I.roundOffsets,Te=I.isFixed,We=re.x,Fe=We===void 0?0:We,De=re.y,$e=De===void 0?0:De,Xe=typeof Ie=="function"?Ie({x:Fe,y:$e}):{x:Fe,y:$e};Fe=Xe.x,$e=Xe.y;var xt=re.hasOwnProperty("x"),Ot=re.hasOwnProperty("y"),rt=fn,_t=Zt,et=window;if(xe){var at=en(b),ht="clientHeight",St="clientWidth";at===on(b)&&Yr(at=Ei(b)).position!=="static"&&ce==="absolute"&&(ht="scrollHeight",St="scrollWidth"),(q===Zt||(q===fn||q===On)&&G===as)&&(_t=Kt,$e-=(Te&&at===et&&et.visualViewport?et.visualViewport.height:at[ht])-P.height,$e*=ge?1:-1),q!==fn&&(q!==Zt&&q!==Kt||G!==as)||(rt=On,Fe-=(Te&&at===et&&et.visualViewport?et.visualViewport.width:at[St])-P.width,Fe*=ge?1:-1)}var It,zt=Object.assign({position:ce},xe&&Vu),Un=Ie===!0?function(ei,Bn){var xn=ei.x,Fr=ei.y,qt=Bn.devicePixelRatio||1;return{x:yt(xn*qt)/qt||0,y:yt(Fr*qt)/qt||0}}({x:Fe,y:$e},on(b)):{x:Fe,y:$e};return Fe=Un.x,$e=Un.y,ge?Object.assign({},zt,((It={})[_t]=Ot?"0":"",It[rt]=xt?"0":"",It.transform=(et.devicePixelRatio||1)<=1?"translate("+Fe+"px, "+$e+"px)":"translate3d("+Fe+"px, "+$e+"px, 0)",It)):Object.assign({},zt,((m={})[_t]=Ot?$e+"px":"",m[rt]=xt?Fe+"px":"",m.transform="",m))}const Ol={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(I){var m=I.state,b=I.options,P=b.gpuAcceleration,q=P===void 0||P,G=b.adaptive,re=G===void 0||G,ce=b.roundOffsets,ge=ce===void 0||ce,xe={placement:Ln(m.placement),variation:Ls(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:q,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,tr(Object.assign({},xe,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:re,roundOffsets:ge})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,tr(Object.assign({},xe,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ge})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Io={passive:!0};const Si={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(I){var m=I.state,b=I.instance,P=I.options,q=P.scroll,G=q===void 0||q,re=P.resize,ce=re===void 0||re,ge=on(m.elements.popper),xe=[].concat(m.scrollParents.reference,m.scrollParents.popper);return G&&xe.forEach(function(Ie){Ie.addEventListener("scroll",b.update,Io)}),ce&&ge.addEventListener("resize",b.update,Io),function(){G&&xe.forEach(function(Ie){Ie.removeEventListener("scroll",b.update,Io)}),ce&&ge.removeEventListener("resize",b.update,Io)}},data:{}};var Do={left:"right",right:"left",bottom:"top",top:"bottom"};function Ro(I){return I.replace(/left|right|bottom|top/g,function(m){return Do[m]})}var ki={start:"end",end:"start"};function Kr(I){return I.replace(/start|end/g,function(m){return ki[m]})}function Ci(I){var m=on(I);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function ji(I){return Nr(Ei(I)).left+Ci(I).scrollLeft}function Wt(I){var m=Yr(I),b=m.overflow,P=m.overflowX,q=m.overflowY;return/auto|scroll|overlay|hidden/.test(b+q+P)}function ju(I){return["html","body","#document"].indexOf(Jn(I))>=0?I.ownerDocument.body:mr(I)&&Wt(I)?I:ju(Ms(I))}function cs(I,m){var b;m===void 0&&(m=[]);var P=ju(I),q=P===((b=I.ownerDocument)==null?void 0:b.body),G=on(P),re=q?[G].concat(G.visualViewport||[],Wt(P)?P:[]):P,ce=m.concat(re);return q?ce:ce.concat(cs(Ms(re)))}function ds(I){return Object.assign({},I,{left:I.x,top:I.y,right:I.x+I.width,bottom:I.y+I.height})}function Ao(I,m,b){return m===Pt?ds(function(P,q){var G=on(P),re=Ei(P),ce=G.visualViewport,ge=re.clientWidth,xe=re.clientHeight,Ie=0,Te=0;if(ce){ge=ce.width,xe=ce.height;var We=ot();(We||!We&&q==="fixed")&&(Ie=ce.offsetLeft,Te=ce.offsetTop)}return{width:ge,height:xe,x:Ie+ji(P),y:Te}}(I,b)):Pr(m)?function(P,q){var G=Nr(P,!1,q==="fixed");return G.top=G.top+P.clientTop,G.left=G.left+P.clientLeft,G.bottom=G.top+P.clientHeight,G.right=G.left+P.clientWidth,G.width=P.clientWidth,G.height=P.clientHeight,G.x=G.left,G.y=G.top,G}(m,b):ds(function(P){var q,G=Ei(P),re=Ci(P),ce=(q=P.ownerDocument)==null?void 0:q.body,ge=gr(G.scrollWidth,G.clientWidth,ce?ce.scrollWidth:0,ce?ce.clientWidth:0),xe=gr(G.scrollHeight,G.clientHeight,ce?ce.scrollHeight:0,ce?ce.clientHeight:0),Ie=-re.scrollLeft+ji(P),Te=-re.scrollTop;return Yr(ce||G).direction==="rtl"&&(Ie+=gr(G.clientWidth,ce?ce.clientWidth:0)-ge),{width:ge,height:xe,x:Ie,y:Te}}(Ei(I)))}function Ea(I){var m,b=I.reference,P=I.element,q=I.placement,G=q?Ln(q):null,re=q?Ls(q):null,ce=b.x+b.width/2-P.width/2,ge=b.y+b.height/2-P.height/2;switch(G){case Zt:m={x:ce,y:b.y-P.height};break;case Kt:m={x:ce,y:b.y+b.height};break;case On:m={x:b.x+b.width,y:ge};break;case fn:m={x:b.x-P.width,y:ge};break;default:m={x:b.x,y:b.y}}var xe=G?Or(G):null;if(xe!=null){var Ie=xe==="y"?"height":"width";switch(re){case _i:m[xe]=m[xe]-(b[Ie]/2-P[Ie]/2);break;case as:m[xe]=m[xe]+(b[Ie]/2-P[Ie]/2)}}return m}function En(I,m){m===void 0&&(m={});var b=m,P=b.placement,q=P===void 0?I.placement:P,G=b.strategy,re=G===void 0?I.strategy:G,ce=b.boundary,ge=ce===void 0?Lu:ce,xe=b.rootBoundary,Ie=xe===void 0?Pt:xe,Te=b.elementContext,We=Te===void 0?ls:Te,Fe=b.altBoundary,De=Fe!==void 0&&Fe,$e=b.padding,Xe=$e===void 0?0:$e,xt=us(typeof Xe!="number"?Xe:Mr(Xe,yi)),Ot=We===ls?Ns:ls,rt=I.rects.popper,_t=I.elements[De?Ot:We],et=function(Bn,xn,Fr,qt){var Vr=xn==="clippingParents"?function(Dt){var In=cs(Ms(Dt)),Dn=["absolute","fixed"].indexOf(Yr(Dt).position)>=0&&mr(Dt)?en(Dt):Dt;return Pr(Dn)?In.filter(function(mn){return Pr(mn)&&xo(mn,Dn)&&Jn(mn)!=="body"}):[]}(Bn):[].concat(xn),rr=[].concat(Vr,[Fr]),Qs=rr[0],ln=rr.reduce(function(Dt,In){var Dn=Ao(Bn,In,qt);return Dt.top=gr(Dn.top,Dt.top),Dt.right=wi(Dn.right,Dt.right),Dt.bottom=wi(Dn.bottom,Dt.bottom),Dt.left=gr(Dn.left,Dt.left),Dt},Ao(Bn,Qs,qt));return ln.width=ln.right-ln.left,ln.height=ln.bottom-ln.top,ln.x=ln.left,ln.y=ln.top,ln}(Pr(_t)?_t:_t.contextElement||Ei(I.elements.popper),ge,Ie,re),at=Nr(I.elements.reference),ht=Ea({reference:at,element:rt,strategy:"absolute",placement:q}),St=ds(Object.assign({},rt,ht)),It=We===ls?St:at,zt={top:et.top-It.top+xt.top,bottom:It.bottom-et.bottom+xt.bottom,left:et.left-It.left+xt.left,right:It.right-et.right+xt.right},Un=I.modifiersData.offset;if(We===ls&&Un){var ei=Un[q];Object.keys(zt).forEach(function(Bn){var xn=[On,Kt].indexOf(Bn)>=0?1:-1,Fr=[Zt,Kt].indexOf(Bn)>=0?"y":"x";zt[Bn]+=ei[Fr]*xn})}return zt}function ba(I,m){m===void 0&&(m={});var b=m,P=b.placement,q=b.boundary,G=b.rootBoundary,re=b.padding,ce=b.flipVariations,ge=b.allowedAutoPlacements,xe=ge===void 0?hr:ge,Ie=Ls(P),Te=Ie?ce?Fi:Fi.filter(function(De){return Ls(De)===Ie}):yi,We=Te.filter(function(De){return xe.indexOf(De)>=0});We.length===0&&(We=Te);var Fe=We.reduce(function(De,$e){return De[$e]=En(I,{placement:$e,boundary:q,rootBoundary:G,padding:re})[Ln($e)],De},{});return Object.keys(Fe).sort(function(De,$e){return Fe[De]-Fe[$e]})}const nr={name:"flip",enabled:!0,phase:"main",fn:function(I){var m=I.state,b=I.options,P=I.name;if(!m.modifiersData[P]._skip){for(var q=b.mainAxis,G=q===void 0||q,re=b.altAxis,ce=re===void 0||re,ge=b.fallbackPlacements,xe=b.padding,Ie=b.boundary,Te=b.rootBoundary,We=b.altBoundary,Fe=b.flipVariations,De=Fe===void 0||Fe,$e=b.allowedAutoPlacements,Xe=m.options.placement,xt=Ln(Xe),Ot=ge||(xt!==Xe&&De?function(Dt){if(Ln(Dt)===os)return[];var In=Ro(Dt);return[Kr(Dt),In,Kr(In)]}(Xe):[Ro(Xe)]),rt=[Xe].concat(Ot).reduce(function(Dt,In){return Dt.concat(Ln(In)===os?ba(m,{placement:In,boundary:Ie,rootBoundary:Te,padding:xe,flipVariations:De,allowedAutoPlacements:$e}):In)},[]),_t=m.rects.reference,et=m.rects.popper,at=new Map,ht=!0,St=rt[0],It=0;It<rt.length;It++){var zt=rt[It],Un=Ln(zt),ei=Ls(zt)===_i,Bn=[Zt,Kt].indexOf(Un)>=0,xn=Bn?"width":"height",Fr=En(m,{placement:zt,boundary:Ie,rootBoundary:Te,altBoundary:We,padding:xe}),qt=Bn?ei?On:fn:ei?Kt:Zt;_t[xn]>et[xn]&&(qt=Ro(qt));var Vr=Ro(qt),rr=[];if(G&&rr.push(Fr[Un]<=0),ce&&rr.push(Fr[qt]<=0,Fr[Vr]<=0),rr.every(function(Dt){return Dt})){St=zt,ht=!1;break}at.set(zt,rr)}if(ht)for(var Qs=function(Dt){var In=rt.find(function(Dn){var mn=at.get(Dn);if(mn)return mn.slice(0,Dt).every(function(Qi){return Qi})});if(In)return St=In,"break"},ln=De?3:1;ln>0&&Qs(ln)!=="break";ln--);m.placement!==St&&(m.modifiersData[P]._skip=!0,m.placement=St,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ta(I,m,b){return b===void 0&&(b={x:0,y:0}),{top:I.top-m.height-b.y,right:I.right-m.width+b.x,bottom:I.bottom-m.height+b.y,left:I.left-m.width-b.x}}function Po(I){return[Zt,On,Kt,fn].some(function(m){return I[m]>=0})}const xi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(I){var m=I.state,b=I.name,P=m.rects.reference,q=m.rects.popper,G=m.modifiersData.preventOverflow,re=En(m,{elementContext:"reference"}),ce=En(m,{altBoundary:!0}),ge=Ta(re,P),xe=Ta(ce,q,G),Ie=Po(ge),Te=Po(xe);m.modifiersData[b]={referenceClippingOffsets:ge,popperEscapeOffsets:xe,isReferenceHidden:Ie,hasPopperEscaped:Te},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Ie,"data-popper-escaped":Te})}},Sa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(I){var m=I.state,b=I.options,P=I.name,q=b.offset,G=q===void 0?[0,0]:q,re=hr.reduce(function(Ie,Te){return Ie[Te]=function(We,Fe,De){var $e=Ln(We),Xe=[fn,Zt].indexOf($e)>=0?-1:1,xt=typeof De=="function"?De(Object.assign({},Fe,{placement:We})):De,Ot=xt[0],rt=xt[1];return Ot=Ot||0,rt=(rt||0)*Xe,[fn,On].indexOf($e)>=0?{x:rt,y:Ot}:{x:Ot,y:rt}}(Te,m.rects,G),Ie},{}),ce=re[m.placement],ge=ce.x,xe=ce.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=ge,m.modifiersData.popperOffsets.y+=xe),m.modifiersData[P]=re}},hn={name:"popperOffsets",enabled:!0,phase:"read",fn:function(I){var m=I.state,b=I.name;m.modifiersData[b]=Ea({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})},data:{}},Qr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(I){var m=I.state,b=I.options,P=I.name,q=b.mainAxis,G=q===void 0||q,re=b.altAxis,ce=re!==void 0&&re,ge=b.boundary,xe=b.rootBoundary,Ie=b.altBoundary,Te=b.padding,We=b.tether,Fe=We===void 0||We,De=b.tetherOffset,$e=De===void 0?0:De,Xe=En(m,{boundary:ge,rootBoundary:xe,padding:Te,altBoundary:Ie}),xt=Ln(m.placement),Ot=Ls(m.placement),rt=!Ot,_t=Or(xt),et=_t==="x"?"y":"x",at=m.modifiersData.popperOffsets,ht=m.rects.reference,St=m.rects.popper,It=typeof $e=="function"?$e(Object.assign({},m.rects,{placement:m.placement})):$e,zt=typeof It=="number"?{mainAxis:It,altAxis:It}:Object.assign({mainAxis:0,altAxis:0},It),Un=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,ei={x:0,y:0};if(at){if(G){var Bn,xn=_t==="y"?Zt:fn,Fr=_t==="y"?Kt:On,qt=_t==="y"?"height":"width",Vr=at[_t],rr=Vr+Xe[xn],Qs=Vr-Xe[Fr],ln=Fe?-St[qt]/2:0,Dt=Ot===_i?ht[qt]:St[qt],In=Ot===_i?-St[qt]:-ht[qt],Dn=m.elements.arrow,mn=Fe&&Dn?wa(Dn):{width:0,height:0},Qi=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oc=Qi[xn],Ed=Qi[Fr],ti=er(0,ht[qt],mn[qt]),Gs=rt?ht[qt]/2-ln-ti-oc-zt.mainAxis:Dt-ti-oc-zt.mainAxis,bd=rt?-ht[qt]/2+ln+ti+Ed+zt.mainAxis:In+ti+Ed+zt.mainAxis,ac=m.elements.arrow&&en(m.elements.arrow),gs=ac?_t==="y"?ac.clientTop||0:ac.clientLeft||0:0,ys=(Bn=Un==null?void 0:Un[_t])!=null?Bn:0,lc=Vr+bd-ys,Td=er(Fe?wi(rr,Vr+Gs-ys-gs):rr,Vr,Fe?gr(Qs,lc):Qs);at[_t]=Td,ei[_t]=Td-Vr}if(ce){var Yl,mh=_t==="x"?Zt:fn,Kl=_t==="x"?Kt:On,$n=at[et],Xs=et==="y"?"height":"width",La=$n+Xe[mh],Js=$n-Xe[Kl],Ql=[Zt,fn].indexOf(xt)!==-1,Ho=(Yl=Un==null?void 0:Un[et])!=null?Yl:0,Sd=Ql?La:$n-ht[Xs]-St[Xs]-Ho+zt.altAxis,uc=Ql?$n+ht[Xs]+St[Xs]-Ho-zt.altAxis:Js,Yt=Fe&&Ql?function(cc,kd,Gl){var Xl=er(cc,kd,Gl);return Xl>Gl?Gl:Xl}(Sd,$n,uc):er(Fe?Sd:La,$n,Fe?uc:Js);at[et]=Yt,ei[et]=Yt-$n}m.modifiersData[P]=ei}},requiresIfExists:["offset"]};function ka(I,m,b){b===void 0&&(b=!1);var P,q,G=mr(m),re=mr(m)&&function(Te){var We=Te.getBoundingClientRect(),Fe=yt(We.width)/Te.offsetWidth||1,De=yt(We.height)/Te.offsetHeight||1;return Fe!==1||De!==1}(m),ce=Ei(m),ge=Nr(I,re,b),xe={scrollLeft:0,scrollTop:0},Ie={x:0,y:0};return(G||!G&&!b)&&((Jn(m)!=="body"||Wt(ce))&&(xe=(P=m)!==on(P)&&mr(P)?{scrollLeft:(q=P).scrollLeft,scrollTop:q.scrollTop}:Ci(P)),mr(m)?((Ie=Nr(m,!0)).x+=m.clientLeft,Ie.y+=m.clientTop):ce&&(Ie.x=ji(ce))),{x:ge.left+xe.scrollLeft-Ie.x,y:ge.top+xe.scrollTop-Ie.y,width:ge.width,height:ge.height}}function Ui(I){var m=new Map,b=new Set,P=[];function q(G){b.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(re){if(!b.has(re)){var ce=m.get(re);ce&&q(ce)}}),P.push(G)}return I.forEach(function(G){m.set(G.name,G)}),I.forEach(function(G){b.has(G.name)||q(G)}),P}var Uu={placement:"bottom",modifiers:[],strategy:"absolute"};function No(){for(var I=arguments.length,m=new Array(I),b=0;b<I;b++)m[b]=arguments[b];return!m.some(function(P){return!(P&&typeof P.getBoundingClientRect=="function")})}function Gr(I){I===void 0&&(I={});var m=I,b=m.defaultModifiers,P=b===void 0?[]:b,q=m.defaultOptions,G=q===void 0?Uu:q;return function(re,ce,ge){ge===void 0&&(ge=G);var xe,Ie,Te={placement:"bottom",orderedModifiers:[],options:Object.assign({},Uu,G),modifiersData:{},elements:{reference:re,popper:ce},attributes:{},styles:{}},We=[],Fe=!1,De={state:Te,setOptions:function(Xe){var xt=typeof Xe=="function"?Xe(Te.options):Xe;$e(),Te.options=Object.assign({},G,Te.options,xt),Te.scrollParents={reference:Pr(re)?cs(re):re.contextElement?cs(re.contextElement):[],popper:cs(ce)};var Ot,rt,_t=function(et){var at=Ui(et);return Co.reduce(function(ht,St){return ht.concat(at.filter(function(It){return It.phase===St}))},[])}((Ot=[].concat(P,Te.options.modifiers),rt=Ot.reduce(function(et,at){var ht=et[at.name];return et[at.name]=ht?Object.assign({},ht,at,{options:Object.assign({},ht.options,at.options),data:Object.assign({},ht.data,at.data)}):at,et},{}),Object.keys(rt).map(function(et){return rt[et]})));return Te.orderedModifiers=_t.filter(function(et){return et.enabled}),Te.orderedModifiers.forEach(function(et){var at=et.name,ht=et.options,St=ht===void 0?{}:ht,It=et.effect;if(typeof It=="function"){var zt=It({state:Te,name:at,instance:De,options:St});We.push(zt||function(){})}}),De.update()},forceUpdate:function(){if(!Fe){var Xe=Te.elements,xt=Xe.reference,Ot=Xe.popper;if(No(xt,Ot)){Te.rects={reference:ka(xt,en(Ot),Te.options.strategy==="fixed"),popper:wa(Ot)},Te.reset=!1,Te.placement=Te.options.placement,Te.orderedModifiers.forEach(function(It){return Te.modifiersData[It.name]=Object.assign({},It.data)});for(var rt=0;rt<Te.orderedModifiers.length;rt++)if(Te.reset!==!0){var _t=Te.orderedModifiers[rt],et=_t.fn,at=_t.options,ht=at===void 0?{}:at,St=_t.name;typeof et=="function"&&(Te=et({state:Te,options:ht,name:St,instance:De})||Te)}else Te.reset=!1,rt=-1}}},update:(xe=function(){return new Promise(function(Xe){De.forceUpdate(),Xe(Te)})},function(){return Ie||(Ie=new Promise(function(Xe){Promise.resolve().then(function(){Ie=void 0,Xe(xe())})})),Ie}),destroy:function(){$e(),Fe=!0}};if(!No(re,ce))return De;function $e(){We.forEach(function(Xe){return Xe()}),We=[]}return De.setOptions(ge).then(function(Xe){!Fe&&ge.onFirstUpdate&&ge.onFirstUpdate(Xe)}),De}}var Fs=Gr(),Oo=Gr({defaultModifiers:[Si,hn,Ol,Zn]}),Vs=Gr({defaultModifiers:[Si,hn,Ol,Zn,Sa,nr,Qr,Ti,xi]});const Ca=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Mn,afterRead:Os,afterWrite:Nl,applyStyles:Zn,arrow:Ti,auto:os,basePlacements:yi,beforeMain:pr,beforeRead:_a,beforeWrite:va,bottom:Kt,clippingParents:Lu,computeStyles:Ol,createPopper:Vs,createPopperBase:Fs,createPopperLite:Oo,detectOverflow:En,end:as,eventListeners:Si,flip:nr,hide:xi,left:fn,main:Al,modifierPhases:Co,offset:Sa,placements:hr,popper:ls,popperGenerator:Gr,popperOffsets:hn,preventOverflow:Qr,read:Rl,reference:Ns,right:On,start:_i,top:Zt,variationPlacements:Fi,viewport:Pt,write:Pl},Symbol.toStringTag,{value:"Module"})),Ml="dropdown",Xr=".bs.dropdown",js=".data-api",Bu="ArrowUp",Bi="ArrowDown",$u=`hide${Xr}`,Wu=`hidden${Xr}`,Hu=`show${Xr}`,Ll=`shown${Xr}`,Mo=`click${Xr}${js}`,Fn=`keydown${Xr}${js}`,zu=`keyup${Xr}${js}`,fs="show",Vn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',f=`${Vn}.${fs}`,w=".dropdown-menu",T=D()?"top-end":"top-start",O=D()?"top-start":"top-end",X=D()?"bottom-end":"bottom-start",se=D()?"bottom-start":"bottom-end",ve=D()?"left-start":"right-start",Ct=D()?"right-start":"left-start",pn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ft={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Nt extends Qe{constructor(m,b){super(m,b),this._popper=null,this._parent=this._element.parentNode,this._menu=ye.next(this._element,w)[0]||ye.prev(this._element,w)[0]||ye.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pn}static get DefaultType(){return ft}static get NAME(){return Ml}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!Q.trigger(this._element,Hu,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))Q.on(b,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fs),this._element.classList.add(fs),Q.trigger(this._element,Ll,m)}}hide(){if(g(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!Q.trigger(this._element,$u,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))Q.off(b,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(fs),this._element.classList.remove(fs),this._element.setAttribute("aria-expanded","false"),Be.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,Wu,m)}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!u(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${Ml.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(Ca===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let m=this._element;this._config.reference==="parent"?m=this._parent:u(this._config.reference)?m=d(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const b=this._getPopperConfig();this._popper=Vs(m,this._menu,b)}_isShown(){return this._menu.classList.contains(fs)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return ve;if(m.classList.contains("dropstart"))return Ct;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?b?O:T:b?se:X}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(b=>Number.parseInt(b,10)):typeof m=="function"?b=>m(b,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Be.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...j(this._config.popperConfig,[m])}}_selectMenuItem({key:m,target:b}){const P=ye.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>h(q));P.length&&Z(P,b,m===Bi,!P.includes(b)).focus()}static jQueryInterface(m){return this.each(function(){const b=Nt.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const b=ye.find(f);for(const P of b){const q=Nt.getInstance(P);if(!q||q._config.autoClose===!1)continue;const G=m.composedPath(),re=G.includes(q._menu);if(G.includes(q._element)||q._config.autoClose==="inside"&&!re||q._config.autoClose==="outside"&&re||q._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const ce={relatedTarget:q._element};m.type==="click"&&(ce.clickEvent=m),q._completeHide(ce)}}static dataApiKeydownHandler(m){const b=/input|textarea/i.test(m.target.tagName),P=m.key==="Escape",q=[Bu,Bi].includes(m.key);if(!q&&!P||b&&!P)return;m.preventDefault();const G=this.matches(Vn)?this:ye.prev(this,Vn)[0]||ye.next(this,Vn)[0]||ye.findOne(Vn,m.delegateTarget.parentNode),re=Nt.getOrCreateInstance(G);if(q)return m.stopPropagation(),re.show(),void re._selectMenuItem(m);re._isShown()&&(m.stopPropagation(),re.hide(),G.focus())}}Q.on(document,Fn,Vn,Nt.dataApiKeydownHandler),Q.on(document,Fn,w,Nt.dataApiKeydownHandler),Q.on(document,Mo,Nt.clearMenus),Q.on(document,zu,Nt.clearMenus),Q.on(document,Mo,Vn,function(I){I.preventDefault(),Nt.getOrCreateInstance(this).toggle()}),M(Nt);const tn="backdrop",Lr="show",yr=`mousedown.bs.${tn}`,Lo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},xa={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ad extends Ke{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return Lo}static get DefaultType(){return xa}static get NAME(){return tn}show(m){if(!this._config.isVisible)return void j(m);this._append();const b=this._getElement();this._config.isAnimated&&S(b),b.classList.add(Lr),this._emulateAnimation(()=>{j(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(Lr),this._emulateAnimation(()=>{this.dispose(),j(m)})):j(m)}dispose(){this._isAppended&&(Q.off(this._element,yr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=d(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),Q.on(m,yr,()=>{j(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){W(m,this._getElement(),this._config.isAnimated)}}const Fl=".bs.focustrap",Hf=`focusin${Fl}`,Ia=`keydown.tab${Fl}`,zf="backward",og={autofocus:!0,trapElement:null},ag={autofocus:"boolean",trapElement:"element"};class ld extends Ke{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return og}static get DefaultType(){return ag}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,Fl),Q.on(document,Hf,m=>this._handleFocusin(m)),Q.on(document,Ia,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,Fl))}_handleFocusin(m){const{trapElement:b}=this._config;if(m.target===document||m.target===b||b.contains(m.target))return;const P=ye.focusableChildren(b);P.length===0?b.focus():this._lastTabNavDirection===zf?P[P.length-1].focus():P[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?zf:"forward")}}const ud=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Da=".sticky-top",Us="padding-right",qf="margin-right";class Ra{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Us,b=>b+m),this._setElementAttributes(ud,Us,b=>b+m),this._setElementAttributes(Da,qf,b=>b-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Us),this._resetElementAttributes(ud,Us),this._resetElementAttributes(Da,qf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,b,P){const q=this.getWidth();this._applyManipulationCallback(m,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+q)return;this._saveInitialAttribute(G,b);const re=window.getComputedStyle(G).getPropertyValue(b);G.style.setProperty(b,`${P(Number.parseFloat(re))}px`)})}_saveInitialAttribute(m,b){const P=m.style.getPropertyValue(b);P&&Be.setDataAttribute(m,b,P)}_resetElementAttributes(m,b){this._applyManipulationCallback(m,P=>{const q=Be.getDataAttribute(P,b);q!==null?(Be.removeDataAttribute(P,b),P.style.setProperty(b,q)):P.style.removeProperty(b)})}_applyManipulationCallback(m,b){if(u(m))b(m);else for(const P of ye.find(m,this._element))b(P)}}const Jr=".bs.modal",Yf=`hide${Jr}`,cd=`hidePrevented${Jr}`,qu=`hidden${Jr}`,dd=`show${Jr}`,Kf=`shown${Jr}`,Qf=`resize${Jr}`,lg=`click.dismiss${Jr}`,ug=`mousedown.dismiss${Jr}`,cg=`keydown.dismiss${Jr}`,dg=`click${Jr}.data-api`,Gf="modal-open",Zr="show",Fo="modal-static",Xf={backdrop:!0,focus:!0,keyboard:!0},Jf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Bs extends Qe{constructor(m,b){super(m,b),this._dialog=ye.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ra,this._addEventListeners()}static get Default(){return Xf}static get DefaultType(){return Jf}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||Q.trigger(this._element,dd,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Gf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,Yf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Zr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Q.off(window,Jr),Q.off(this._dialog,Jr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ad({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ld({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=ye.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),S(this._element),this._element.classList.add(Zr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,Kf,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,cg,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Q.on(window,Qf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,ug,m=>{Q.one(this._element,lg,b=>{this._element===m.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Gf),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,qu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,cd).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Fo)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(Fo),this._queueCallback(()=>{this._element.classList.remove(Fo),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),P=b>0;if(P&&!m){const q=D()?"paddingLeft":"paddingRight";this._element.style[q]=`${b}px`}if(!P&&m){const q=D()?"paddingRight":"paddingLeft";this._element.style[q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,b){return this.each(function(){const P=Bs.getOrCreateInstance(this,m);if(typeof m=="string"){if(P[m]===void 0)throw new TypeError(`No method named "${m}"`);P[m](b)}})}}Q.on(document,dg,'[data-bs-toggle="modal"]',function(I){const m=ye.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&I.preventDefault(),Q.one(m,dd,P=>{P.defaultPrevented||Q.one(m,qu,()=>{h(this)&&this.focus()})});const b=ye.findOne(".modal.show");b&&Bs.getInstance(b).hide(),Bs.getOrCreateInstance(m).toggle(this)}),ct(Bs),M(Bs);const $i=".bs.offcanvas",Yu=".data-api",fg=`load${$i}${Yu}`,Zf="show",Vo="showing",Ku="hiding",Aa=".offcanvas.show",fd=`show${$i}`,eh=`shown${$i}`,Qu=`hide${$i}`,jo=`hidePrevented${$i}`,Gu=`hidden${$i}`,th=`resize${$i}`,Xu=`click${$i}${Yu}`,nh=`keydown.dismiss${$i}`,rh={backdrop:!0,keyboard:!0,scroll:!1},ih={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wi extends Qe{constructor(m,b){super(m,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return rh}static get DefaultType(){return ih}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||Q.trigger(this._element,fd,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ra().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vo),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Zf),this._element.classList.remove(Vo),Q.trigger(this._element,eh,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,Qu).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ku),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Zf,Ku),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ra().reset(),Q.trigger(this._element,Gu)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new ad({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():Q.trigger(this._element,jo)}:null})}_initializeFocusTrap(){return new ld({trapElement:this._element})}_addEventListeners(){Q.on(this._element,nh,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():Q.trigger(this._element,jo))})}static jQueryInterface(m){return this.each(function(){const b=Wi.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m](this)}})}}Q.on(document,Xu,'[data-bs-toggle="offcanvas"]',function(I){const m=ye.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this))return;Q.one(m,Gu,()=>{h(this)&&this.focus()});const b=ye.findOne(Aa);b&&b!==m&&Wi.getInstance(b).hide(),Wi.getOrCreateInstance(m).toggle(this)}),Q.on(window,fg,()=>{for(const I of ye.find(Aa))Wi.getOrCreateInstance(I).show()}),Q.on(window,th,()=>{for(const I of ye.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(I).position!=="fixed"&&Wi.getOrCreateInstance(I).hide()}),ct(Wi),M(Wi);const hd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},sh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$s=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pd=(I,m)=>{const b=I.nodeName.toLowerCase();return m.includes(b)?!sh.has(b)||!!$s.test(I.nodeValue):m.filter(P=>P instanceof RegExp).some(P=>P.test(b))},md={allowList:hd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pg={entry:"(string|element|function|null)",selector:"(string|element)"};class Vl extends Ke{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return md}static get DefaultType(){return hg}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[q,G]of Object.entries(this._config.content))this._setContent(m,G,q);const b=m.children[0],P=this._resolvePossibleFunction(this._config.extraClass);return P&&b.classList.add(...P.split(" ")),b}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[b,P]of Object.entries(m))super._typeCheckConfig({selector:b,entry:P},pg)}_setContent(m,b,P){const q=ye.findOne(P,m);q&&((b=this._resolvePossibleFunction(b))?u(b)?this._putElementInTemplate(d(b),q):this._config.html?q.innerHTML=this._maybeSanitize(b):q.textContent=b:q.remove())}_maybeSanitize(m){return this._config.sanitize?function(b,P,q){if(!b.length)return b;if(q&&typeof q=="function")return q(b);const G=new window.DOMParser().parseFromString(b,"text/html"),re=[].concat(...G.body.querySelectorAll("*"));for(const ce of re){const ge=ce.nodeName.toLowerCase();if(!Object.keys(P).includes(ge)){ce.remove();continue}const xe=[].concat(...ce.attributes),Ie=[].concat(P["*"]||[],P[ge]||[]);for(const Te of xe)pd(Te,Ie)||ce.removeAttribute(Te.nodeName)}return G.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return j(m,[this])}_putElementInTemplate(m,b){if(this._config.html)return b.innerHTML="",void b.append(m);b.textContent=m.textContent}}const mg=new Set(["sanitize","allowList","sanitizeFn"]),Ju="fade",jl="show",Ht=".modal",Zu="hide.bs.modal",Ws="hover",Uo="focus",oh={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},gd={allowList:hd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ul={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Hi extends Qe{constructor(m,b){if(Ca===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(m,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return gd}static get DefaultType(){return Ul}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(Ht),Zu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=Q.trigger(this._element,this.constructor.eventName("show")),b=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!b)return;this._disposePopper();const P=this._getTipElement();this._element.setAttribute("aria-describedby",P.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(P),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(P),P.classList.add(jl),"ontouchstart"in document.documentElement)for(const G of[].concat(...document.body.children))Q.on(G,"mouseover",v);this._queueCallback(()=>{Q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(jl),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))Q.off(m,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[Uo]=!1,this._activeTrigger[Ws]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const b=this._getTemplateFactory(m).toHtml();if(!b)return null;b.classList.remove(Ju,jl),b.classList.add(`bs-${this.constructor.NAME}-auto`);const P=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return b.setAttribute("id",P),this._isAnimated()&&b.classList.add(Ju),b}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new Vl({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ju)}_isShown(){return this.tip&&this.tip.classList.contains(jl)}_createPopper(m){const b=j(this._config.placement,[this,m,this._element]),P=oh[b.toUpperCase()];return Vs(this._element,m,this._getPopperConfig(P))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(b=>Number.parseInt(b,10)):typeof m=="function"?b=>m(b,this._element):m}_resolvePossibleFunction(m){return j(m,[this._element])}_getPopperConfig(m){const b={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:P=>{this._getTipElement().setAttribute("data-popper-placement",P.state.placement)}}]};return{...b,...j(this._config.popperConfig,[b])}}_setListeners(){const m=this._config.trigger.split(" ");for(const b of m)if(b==="click")Q.on(this._element,this.constructor.eventName("click"),this._config.selector,P=>{this._initializeOnDelegatedTarget(P).toggle()});else if(b!=="manual"){const P=b===Ws?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=b===Ws?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,P,this._config.selector,G=>{const re=this._initializeOnDelegatedTarget(G);re._activeTrigger[G.type==="focusin"?Uo:Ws]=!0,re._enter()}),Q.on(this._element,q,this._config.selector,G=>{const re=this._initializeOnDelegatedTarget(G);re._activeTrigger[G.type==="focusout"?Uo:Ws]=re._element.contains(G.relatedTarget),re._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(Ht),Zu,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,b){clearTimeout(this._timeout),this._timeout=setTimeout(m,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const b=Be.getDataAttributes(this._element);for(const P of Object.keys(b))mg.has(P)&&delete b[P];return m={...b,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:d(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[b,P]of Object.entries(this._config))this.constructor.Default[b]!==P&&(m[b]=P);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const b=Hi.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}}M(Hi);const Pa={...Hi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ah={...Hi.DefaultType,content:"(null|string|element|function)"};class ec extends Hi{static get Default(){return Pa}static get DefaultType(){return ah}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const b=ec.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m]()}})}}M(ec);const yd=".bs.scrollspy",lh=`activate${yd}`,Bl=`click${yd}`,tc=`load${yd}.data-api`,Hs="active",$l="[href]",nc=".nav-link",_d=`${nc}, .nav-item > ${nc}, .list-group-item`,gg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Wl extends Qe{constructor(m,b){super(m,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gg}static get DefaultType(){return uh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=d(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(b=>Number.parseFloat(b))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Bl),Q.on(this._config.target,Bl,$l,m=>{const b=this._observableSections.get(m.target.hash);if(b){m.preventDefault();const P=this._rootElement||window,q=b.offsetTop-this._element.offsetTop;if(P.scrollTo)return void P.scrollTo({top:q,behavior:"smooth"});P.scrollTop=q}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),m)}_observerCallback(m){const b=re=>this._targetLinks.get(`#${re.target.id}`),P=re=>{this._previousScrollData.visibleEntryTop=re.target.offsetTop,this._process(b(re))},q=(this._rootElement||document.documentElement).scrollTop,G=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const re of m){if(!re.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(re));continue}const ce=re.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(G&&ce){if(P(re),!q)return}else G||ce||P(re)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=ye.find($l,this._config.target);for(const b of m){if(!b.hash||g(b))continue;const P=ye.findOne(decodeURI(b.hash),this._element);h(P)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,P))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(Hs),this._activateParents(m),Q.trigger(this._element,lh,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))ye.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(Hs);else for(const b of ye.parents(m,".nav, .list-group"))for(const P of ye.prev(b,_d))P.classList.add(Hs)}_clearActiveClass(m){m.classList.remove(Hs);const b=ye.find(`${$l}.${Hs}`,m);for(const P of b)P.classList.remove(Hs)}static jQueryInterface(m){return this.each(function(){const b=Wl.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}})}}Q.on(window,tc,()=>{for(const I of ye.find('[data-bs-spy="scroll"]'))Wl.getOrCreateInstance(I)}),M(Wl);const Bo=".bs.tab",vd=`hide${Bo}`,zs=`hidden${Bo}`,ch=`show${Bo}`,Na=`shown${Bo}`,zi=`click${Bo}`,Hl=`keydown${Bo}`,hs=`load${Bo}`,wd="ArrowLeft",dh="ArrowRight",yg="ArrowUp",qs="ArrowDown",$o="Home",Wo="End",qi="active",rc="fade",Ys="show",ps=".dropdown-toggle",Lt=`:not(${ps})`,Ft='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yi=`.nav-link${Lt}, .list-group-item${Lt}, [role="tab"]${Lt}, ${Ft}`,jn=`.${qi}[data-bs-toggle="tab"], .${qi}[data-bs-toggle="pill"], .${qi}[data-bs-toggle="list"]`;class an extends Qe{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,Hl,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const b=this._getActiveElem(),P=b?Q.trigger(b,vd,{relatedTarget:m}):null;Q.trigger(m,ch,{relatedTarget:b}).defaultPrevented||P&&P.defaultPrevented||(this._deactivate(b,m),this._activate(m,b))}_activate(m,b){m&&(m.classList.add(qi),this._activate(ye.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),Q.trigger(m,Na,{relatedTarget:b})):m.classList.add(Ys)},m,m.classList.contains(rc)))}_deactivate(m,b){m&&(m.classList.remove(qi),m.blur(),this._deactivate(ye.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),Q.trigger(m,zs,{relatedTarget:b})):m.classList.remove(Ys)},m,m.classList.contains(rc)))}_keydown(m){if(![wd,dh,yg,qs,$o,Wo].includes(m.key))return;m.stopPropagation(),m.preventDefault();const b=this._getChildren().filter(q=>!g(q));let P;if([$o,Wo].includes(m.key))P=b[m.key===$o?0:b.length-1];else{const q=[dh,qs].includes(m.key);P=Z(b,m.target,q,!0)}P&&(P.focus({preventScroll:!0}),an.getOrCreateInstance(P).show())}_getChildren(){return ye.find(Yi,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,b){this._setAttributeIfNotExists(m,"role","tablist");for(const P of b)this._setInitialAttributesOnChild(P)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const b=this._elemIsActive(m),P=this._getOuterElement(m);m.setAttribute("aria-selected",b),P!==m&&this._setAttributeIfNotExists(P,"role","presentation"),b||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const b=ye.getElementFromSelector(m);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,b){const P=this._getOuterElement(m);if(!P.classList.contains("dropdown"))return;const q=(G,re)=>{const ce=ye.findOne(G,P);ce&&ce.classList.toggle(re,b)};q(ps,qi),q(".dropdown-menu",Ys),P.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(m,b,P){m.hasAttribute(b)||m.setAttribute(b,P)}_elemIsActive(m){return m.classList.contains(qi)}_getInnerElement(m){return m.matches(Yi)?m:ye.findOne(Yi,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const b=an.getOrCreateInstance(this);if(typeof m=="string"){if(b[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);b[m]()}})}}Q.on(document,zi,Ft,function(I){["A","AREA"].includes(this.tagName)&&I.preventDefault(),g(this)||an.getOrCreateInstance(this).show()}),Q.on(window,hs,()=>{for(const I of ye.find(jn))an.getOrCreateInstance(I)}),M(an);const _r=".bs.toast",Oa=`mouseover${_r}`,vr=`mouseout${_r}`,ic=`focusin${_r}`,fh=`focusout${_r}`,hh=`hide${_r}`,sc=`hidden${_r}`,ph=`show${_r}`,ms=`shown${_r}`,zl="hide",Ma="show",ql="showing",_g={animation:"boolean",autohide:"boolean",delay:"number"},Ks={animation:!0,autohide:!0,delay:5e3};class Ki extends Qe{constructor(m,b){super(m,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ks}static get DefaultType(){return _g}static get NAME(){return"toast"}show(){Q.trigger(this._element,ph).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(zl),S(this._element),this._element.classList.add(Ma,ql),this._queueCallback(()=>{this._element.classList.remove(ql),Q.trigger(this._element,ms),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,hh).defaultPrevented||(this._element.classList.add(ql),this._queueCallback(()=>{this._element.classList.add(zl),this._element.classList.remove(ql,Ma),Q.trigger(this._element,sc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ma),super.dispose()}isShown(){return this._element.classList.contains(Ma)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,b){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const P=m.relatedTarget;this._element===P||this._element.contains(P)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,Oa,m=>this._onInteraction(m,!0)),Q.on(this._element,vr,m=>this._onInteraction(m,!1)),Q.on(this._element,ic,m=>this._onInteraction(m,!0)),Q.on(this._element,fh,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const b=Ki.getOrCreateInstance(this,m);if(typeof m=="string"){if(b[m]===void 0)throw new TypeError(`No method named "${m}"`);b[m](this)}})}}return ct(Ki),M(Ki),{Alert:wn,Button:dt,Carousel:Li,Collapse:Nn,Dropdown:Nt,Modal:Bs,Offcanvas:Wi,Popover:ec,ScrollSpy:Wl,Tab:an,Toast:Ki,Tooltip:Hi}})}(Cp)),Cp.exports}q$();zI.createRoot(document.getElementById("root")).render(k.jsx(x.StrictMode,{children:k.jsx(H$,{})}));
